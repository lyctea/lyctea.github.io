<!DOCTYPE html>
<html style="display: none;" lang="en">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.2 -->
    <script>
        window.materialVersion = "1.5.2"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">














    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            58脚手架分享讲义 | 
        
        孤丶晴 网络日志
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.ico">
    <link rel="icon" href="/img/favicon.ico">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="Hope is a good thing, maybe the best of things, and no good thing ever dies.">
    <meta name="keywords" content=",脚手架,分享,工具">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.en.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/bg.png);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="孤丶晴 网络日志">
    <meta name="msapplication-starturl" content="https://luoyec.cn/2017/11/10/cjiws27i20002e46p6mpnsyrm/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="孤丶晴 网络日志">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/favicon.ico">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="https://luoyec.cn/2017/11/10/cjiws27i20002e46p6mpnsyrm/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="58脚手架分享讲义 | 孤丶晴 网络日志">
    <meta property="og:image" content="/img/favicon.ico">
    <meta property="og:description" content="Hope is a good thing, maybe the best of things, and no good thing ever dies.">
    <meta property="og:article:tag" content="脚手架"> <meta property="og:article:tag" content="分享"> <meta property="og:article:tag" content="工具"> 

    
        <meta property="article:published_time" content="Fri Nov 10 2017 01:08:09 GMT+0800">
        <meta property="article:modified_time" content="Fri Nov 10 2017 01:08:14 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="https://luoyec.cn/2017/11/10/cjiws27i20002e46p6mpnsyrm/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "https://luoyec.cn/2017/11/10/cjiws27i20002e46p6mpnsyrm/index.html",
    "headline": "58脚手架分享讲义",
    "datePublished": "Fri Nov 10 2017 01:08:09 GMT+0800",
    "dateModified": "Fri Nov 10 2017 01:08:14 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "luoyecong",
        "image": {
            "@type": "ImageObject",
            "url": "/img/avatar.png"
        },
        "description": "Hi, nice to meet you"
    },
    "publisher": {
        "@type": "Organization",
        "name": "孤丶晴 网络日志",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/favicon.ico"
        }
    },
    "keywords": ",脚手架,分享,工具",
    "description": "Hope is a good thing, maybe the best of things, and no good thing ever dies.",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#目录大纲"><span class="post-toc-number">1.</span> <span class="post-toc-text">目录大纲</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#第一讲"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">第一讲</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#前言"><span class="post-toc-number">1.1.1.</span> <span class="post-toc-text">前言</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#为什么不用create-react-app"><span class="post-toc-number">1.1.2.</span> <span class="post-toc-text">为什么不用create-react-app</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#yeoman简单介绍"><span class="post-toc-number">1.1.3.</span> <span class="post-toc-text">yeoman简单介绍</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#简单的shell交互和文件操作"><span class="post-toc-number">1.1.4.</span> <span class="post-toc-text">简单的shell交互和文件操作</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#generator-flash的简单介绍"><span class="post-toc-number">1.1.5.</span> <span class="post-toc-text">generator-flash的简单介绍</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#yeoman-generator的使用"><span class="post-toc-number">1.1.6.</span> <span class="post-toc-text">yeoman generator的使用</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#第二讲"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">第二讲</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#整体架构分析"><span class="post-toc-number">1.2.1.</span> <span class="post-toc-text">整体架构分析</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#模板工程的分类"><span class="post-toc-number">1.2.2.</span> <span class="post-toc-text">模板工程的分类</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#generator-flash的执行流程"><span class="post-toc-number">1.2.3.</span> <span class="post-toc-text">generator-flash的执行流程</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#暴露尽可能少量的配置文件出来"><span class="post-toc-number">1.2.4.</span> <span class="post-toc-text">暴露尽可能少量的配置文件出来</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#扩展一般webpack配置的兼容性"><span class="post-toc-number">1.2.5.</span> <span class="post-toc-text">扩展一般webpack配置的兼容性</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#为模板工程添加语法糖"><span class="post-toc-number">1.2.6.</span> <span class="post-toc-text">为模板工程添加语法糖</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#数据mock功能的开发"><span class="post-toc-number">1.2.7.</span> <span class="post-toc-text">数据mock功能的开发</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#组件中关于readme的统一化"><span class="post-toc-number">1.2.8.</span> <span class="post-toc-text">组件中关于readme的统一化</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#黑科技"><span class="post-toc-number">1.2.9.</span> <span class="post-toc-text">黑科技</span></a></li></ol></li></ol></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                58脚手架分享讲义
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>luoyecong</strong>
        <span>Nov 10, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/分享/">分享</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/工具/">工具</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/脚手架/">脚手架</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=58脚手架分享讲义&url=https://luoyec.cn/2017/11/10/cjiws27i20002e46p6mpnsyrm/index.html&pic=https://luoyec.cn/img/favicon.ico&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                Share to Weibo
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=58脚手架分享讲义&url=https://luoyec.cn/2017/11/10/cjiws27i20002e46p6mpnsyrm/index.html&via=luoyecong" target="_blank">
            <li class="mdl-menu__item">
                Share to Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=https://luoyec.cn/2017/11/10/cjiws27i20002e46p6mpnsyrm/index.html" target="_blank">
            <li class="mdl-menu__item">
                Share to Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=https://luoyec.cn/2017/11/10/cjiws27i20002e46p6mpnsyrm/index.html" target="_blank">
            <li class="mdl-menu__item">
                Share to Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=孤丶晴 网络日志&title=58脚手架分享讲义&summary=Hope is a good thing, maybe the best of things, and no good thing ever dies.&pics=https://luoyec.cn/img/favicon.ico&url=https://luoyec.cn/2017/11/10/cjiws27i20002e46p6mpnsyrm/index.html" target="_blank">
            <li class="mdl-menu__item">
                Share to QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p><a href="https://github.com/lyctea/learning-step" target="_blank" rel="noopener">转自</a></p>
<h2 id="目录大纲"><a href="#目录大纲" class="headerlink" title="目录大纲"></a>目录大纲</h2><h3 id="第一讲"><a href="#第一讲" class="headerlink" title="第一讲"></a>第一讲</h3><h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><ul>
<li>假设，接到一个新的项目：演唱会售票系统，在做系统之前，要考虑很多问题<ul>
<li>项目目录如何组织</li>
<li>使用何种类库</li>
<li>dev和prod环境如何搞</li>
<li>团队内部其他系统都用了什么</li>
<li>多人合作开发，团队环境和代码规范问题怎么解决</li>
<li>是否需要出文档，教其他团队成员配置环境，安装依赖等</li>
<li>每一个项目皆是如此，效率何在</li>
</ul>
</li>
<li>我们这次脚手架是以react为例，主要是讲解开发思路，当然用vue的团队也可模仿，或者 后面我们的开源脚手架可以提供创建vue项目的功能</li>
</ul>
<h4 id="为什么不用create-react-app"><a href="#为什么不用create-react-app" class="headerlink" title="为什么不用create-react-app"></a>为什么不用create-react-app</h4><ul>
<li>不满足当前团队需求</li>
<li>不可以定制化，需要二次修改配置</li>
<li>没有开发组件的能力（后续有讲解组件开发的重要性）</li>
<li>为何不自己开发一个类似于 create-react-app 或者 vue-cli的工具呢</li>
</ul>
<h4 id="yeoman简单介绍"><a href="#yeoman简单介绍" class="headerlink" title="yeoman简单介绍"></a>yeoman简单介绍</h4><ul>
<li>yeoman 提供了一个我们开发脚手架的能力</li>
<li>按照yeoman的规范，我们开发一个npm包，yeoman就会帮我们执行这个npm的功能（其实就是拿node操作一些相关的文件）</li>
<li><p>yeoman的安装</p>
<ul>
<li><figure class="highlight plain"><figcaption><span>install yo -g``` 会生成一个yo的全局命令</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- 最最基础的脚手架功能</span><br><span class="line">	- 把全局环境node_modules包下面的模板工程 copy 到你的当前项目路径文件夹下</span><br><span class="line"></span><br><span class="line">&lt;img src=&quot;http://oyoee89se.bkt.clouddn.com/A4C21ECA-C440-4BF7-9E24-96C85A8FA4E6.png&quot; width=&quot;500&quot; /&gt;</span><br><span class="line"></span><br><span class="line">- 下面讲一下yo这个命令 是怎么生成到全局命令里面去的</span><br><span class="line"></span><br><span class="line">#### 启动命令原理示例</span><br><span class="line">- ```mkdir flash-cli &amp;&amp; cd ./flash-cli/</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><figure class="highlight plain"><figcaption><span>init``` 初始化package.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">- 添加 index.js 文件</span><br><span class="line">	- ```#!/usr/bin/env node``` </span><br><span class="line">	- linux的 \*shell* 脚本，需在开头一行指定脚本的解释程序，此地规定的解释程序为node</span><br><span class="line">	- env的作用：因为脚本解释器在linux中可能被安装于不同的目录，env可以在系统的PATH目录中查找。同时，env还规定一些系统环境变量</span><br><span class="line">		- Mac系统下执行 ```env``` 可以看到log</span><br><span class="line"></span><br><span class="line">	``` javascript</span><br><span class="line">	#!/usr/bin/env node</span><br><span class="line"></span><br><span class="line">	console.log(&quot;Hello Flash!&quot;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>package.json 修改</p>
  <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"flash-cli"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"0.0.1"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="attr">"bin"</span>: &#123;</span><br><span class="line">    <span class="attr">"flash"</span>: <span class="string">"index.js"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">"战楼"</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>目录结构</p>
<p>  <img src="http://oyoee89se.bkt.clouddn.com/D8047137-8A5F-4C2F-B1FB-A9CD1EAF3D7A.png" width="500"></p>
</li>
<li><figure class="highlight plain"><figcaption><span>link```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- 将此工程包 添加到 全局node-modules 下进行本地调试 （npm link 相当于 npm install flash-cli -g ，npm link 将当前包 以软链接的形式 放在全局node_modules环境下）</span><br><span class="line">- ```npm unlink``` 可以取消此软链接</span><br><span class="line"></span><br><span class="line">	&lt;img src=&quot;http://oyoee89se.bkt.clouddn.com/7DDD68E3-E8FF-4470-915F-67C1AA819D0C.png&quot; width=&quot;500&quot; /&gt;</span><br><span class="line"></span><br><span class="line">- ```/usr/local/bin/flash -&gt; /usr/local/lib/node_modules/flash-cli/index.js</span><br></pre></td></tr></table></figure>
<ul>
<li><figure class="highlight plain"><figcaption><span>-></span><a href="/Users/fengdewang/myApp/water-wheel/flash-cli```">link</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- 任意目录下执行 ```flash</span><br></pre></td></tr></table></figure>
<p><img src="http://oyoee89se.bkt.clouddn.com/EC230FF9-9749-4EF6-81FD-E62633BE6419.png" width="500"></p>
</li>
</ul>
</li>
<li><p>下面我们进一步的完善此工具        </p>
</li>
</ul>
<h4 id="简单的shell交互和文件操作"><a href="#简单的shell交互和文件操作" class="headerlink" title="简单的shell交互和文件操作"></a>简单的shell交互和文件操作</h4><ul>
<li>实现目标功能<ul>
<li>打印欢迎语</li>
<li>用户输入姓名、选择性别、选择爱好标签、输入创建文件的文件名</li>
<li>根据模板生成html文件</li>
<li>浏览器自动打开生成的文件</li>
<li>打印结束语</li>
</ul>
</li>
<li>实现效果预览</li>
</ul>
<p><img src="http://oyoee89se.bkt.clouddn.com/2017-10-31-16_48_31.gif" width="500"></p>
<ul>
<li>dependencies介绍<ul>
<li>colors: 可以在terminal打印自定义样式的字</li>
<li>ejs: 模板渲染工具</li>
<li>inquirer: 提供terminal和用户交互的能力</li>
<li>mkdirp: 生成文件夹 or 生成指定路径的文件夹(语法糖)</li>
<li>shelljs: 提供给node运行shell命令的能力</li>
</ul>
</li>
<li><p>其他node的知识点</p>
<ul>
<li><figure class="highlight plain"><figcaption><span>当前模块的完整绝对路径</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">	- ```fs.readFileSync(filename, [encoding])``` 同步读取文件</span><br><span class="line">	- ```fs.writeFileSync(filename, data, [options])``` 同步写入文件</span><br><span class="line">	- ```process``` node进程对象</span><br><span class="line">		- ```process.platform``` 获取当前操作系统识别符</span><br><span class="line">		- ```darwin、win32、linux``` 等系统</span><br><span class="line">	- ```path``` node路径解析模块</span><br><span class="line">	- ```open &lt;filePath&gt;``` mac下使用默认工具打开文件</span><br><span class="line">	- ```start &lt;filePath&gt;``` windows下使用默认工具打开文件</span><br><span class="line">- 安装依赖</span><br><span class="line">	- ```npm i colors ejs inquirer mkdirp shelljs --save</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>基于已有目录结构新建tpl.html模板文件</p>
</li>
<li>当前目录结构</li>
</ul>
<p><img src="http://oyoee89se.bkt.clouddn.com/923AC3E6-4048-41C4-B66E-343D068C8137.png" width="500"></p>
<ul>
<li><p>index.js修改如下</p>
<ul>
<li><p>引入node模块</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env node</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">require</span>(<span class="string">'colors'</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">const</span> inquirer = <span class="built_in">require</span>(<span class="string">'inquirer'</span>);</span><br><span class="line"><span class="keyword">const</span> ejs = <span class="built_in">require</span>(<span class="string">'ejs'</span>);</span><br><span class="line"><span class="keyword">const</span> mkdirp = <span class="built_in">require</span>(<span class="string">'mkdirp'</span>);</span><br><span class="line"><span class="keyword">const</span> shelljs = <span class="built_in">require</span>(<span class="string">'shelljs'</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>打印欢迎语</p>
<ul>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```javascript</span><br><span class="line">//欢迎语</span><br><span class="line">console.log(&quot;\n&quot; + &quot;Hello World, I&apos;m flash-cli&quot;.magenta + &quot;\n&quot;);</span><br><span class="line">console.log(&quot;It&apos;s just a test&quot;.red + &quot;\n&quot;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>常量声明</p>
<ul>
<li><p>同一个字符串 尽量不要出现两次</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//常量</span></span><br><span class="line"><span class="keyword">const</span> ENCODE = <span class="string">'utf-8'</span>;</span><br><span class="line"><span class="keyword">const</span> BUILD_PATH = <span class="string">'./build'</span>;</span><br><span class="line"><span class="keyword">const</span> BUILD_FILE_TYPE = <span class="string">'.html'</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>用户交互 inquirer</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//用户交互问题列表</span></span><br><span class="line"><span class="keyword">const</span> question = [</span><br><span class="line">	...</span><br><span class="line">	&#123;</span><br><span class="line">		type: <span class="string">'input'</span>,</span><br><span class="line">		name: <span class="string">'fileName'</span>,</span><br><span class="line">		<span class="keyword">default</span>: <span class="string">'index'</span>,</span><br><span class="line">		message: <span class="string">'请输入你要生成文件的名字'</span></span><br><span class="line">	&#125;</span><br><span class="line">	...</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">//交互</span></span><br><span class="line">inquirer.prompt(question).then(<span class="function"><span class="params">answer</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">const</span> fileName = <span class="string">`<span class="subst">$&#123;answer.fileName&#125;</span><span class="subst">$&#123;BUILD_FILE_TYPE&#125;</span>`</span>;<span class="comment">//文件名</span></span><br><span class="line">	createFile(answer, fileName);<span class="comment">//创建文件</span></span><br><span class="line">	openFile(<span class="string">`<span class="subst">$&#123;BUILD_PATH&#125;</span>/<span class="subst">$&#123;fileName&#125;</span>`</span>);<span class="comment">//打开创建的文件</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> createFile = <span class="function">(<span class="params">data, fileName</span>) =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">let</span> tpl = fs.readFileSync(__dirname + <span class="string">'/tpl.html'</span>, ENCODE);<span class="comment">//读取模板文件</span></span><br><span class="line">	mkdirp.sync(BUILD_PATH);<span class="comment">//生成build目录文件夹</span></span><br><span class="line">	fs.writeFileSync(<span class="string">`<span class="subst">$&#123;BUILD_PATH&#125;</span>/<span class="subst">$&#123;fileName&#125;</span>`</span>, ejs.render(tpl, data), ENCODE); <span class="comment">//写入index.html文件</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>打开所创建的文件    </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> openFile = <span class="function"><span class="params">buildFilePath</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="comment">//mac </span></span><br><span class="line">	<span class="keyword">if</span>(process.platform == <span class="string">'darwin'</span>)&#123;</span><br><span class="line">		shelljs.exec(<span class="string">`open <span class="subst">$&#123;buildFilePath&#125;</span>`</span>);</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span>(process.platform == <span class="string">'win32'</span>) &#123; <span class="comment">//windows</span></span><br><span class="line">		shelljs.exec(<span class="string">`start <span class="subst">$&#123;buildFilePath&#125;</span>`</span>);</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">'This platform is '</span> + process.platform);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	endTip(buildFilePath);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>打印结束语</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> endTip = <span class="function"><span class="params">buildFilePath</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"\n"</span> + <span class="string">"build file: "</span> + (path.resolve(buildFilePath)).magenta + <span class="string">"\n"</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ul>
<li>教程代码：<a href="https://github.com/water-wheel/flash-cli" target="_blank" rel="noopener">https://github.com/water-wheel/flash-cli</a></li>
<li>至此，我们已经从步行阶段到了骑自行车阶段了</li>
</ul>
<h4 id="generator-flash的简单介绍"><a href="#generator-flash的简单介绍" class="headerlink" title="generator-flash的简单介绍"></a>generator-flash的简单介绍</h4><ul>
<li><p>下面我们先看下用yo开发出来的flash框架的效果</p>
<p>  <img src="http://oyoee89se.bkt.clouddn.com/2017-11-06-15_11_57_ya.gif" width="800"></p>
<p>  <img src="http://oyoee89se.bkt.clouddn.com/2017-11-06-15_21_35_ya.gif" width="800"></p>
</li>
<li><p>flash github地址: <a href="https://github.com/water-wheel/generator-flash" target="_blank" rel="noopener">https://github.com/water-wheel/generator-flash</a></p>
</li>
</ul>
<h4 id="yeoman-generator的使用"><a href="#yeoman-generator的使用" class="headerlink" title="yeoman generator的使用"></a>yeoman generator的使用</h4><ul>
<li>yeoman: <a href="http://yeoman.io/" target="_blank" rel="noopener">http://yeoman.io/</a></li>
<li>yeoman是什么？    <ul>
<li>明河说 如果前端项目是工厂的产品的话，yeoman就像工厂的流水线，标准化、傻瓜化、批量化产品生产，生产过程乏味了，但效率提高了。</li>
<li>yeoman是定义了一套用于提高前端工程师效率规范的工作流工具</li>
</ul>
</li>
<li><p>yeoman的使用</p>
<ul>
<li><p>创建一个项目</p>
<ul>
<li><figure class="highlight plain"><figcaption><span>generator-generator``` 创建</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- ```mkdir generator-flash &amp;&amp; cd generator-flash &amp;&amp; npm init</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>dependencies</p>
<ul>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">- package.json</span><br><span class="line"></span><br><span class="line">	```json</span><br><span class="line">	&#123;</span><br><span class="line">	  &quot;name&quot;: &quot;generator-flash&quot;,</span><br><span class="line">	  &quot;version&quot;: &quot;0.0.1&quot;,</span><br><span class="line">	  &quot;description&quot;: &quot;&quot;,</span><br><span class="line">	  &quot;files&quot;: [</span><br><span class="line">	    &quot;generators&quot;</span><br><span class="line">	  ],</span><br><span class="line">	  &quot;keywords&quot;: [&quot;yeoman-generator&quot;],</span><br><span class="line">	  &quot;dependencies&quot;: &#123;</span><br><span class="line">	    &quot;yeoman-generator&quot;: &quot;^1.0.0&quot;</span><br><span class="line">	  &#125;</span><br><span class="line">	&#125;</span><br><span class="line">	...</span><br><span class="line">	&#123;</span><br><span class="line">	  &quot;name&quot;: &quot;generator-flash&quot;,</span><br><span class="line">	  &quot;version&quot;: &quot;0.0.1&quot;,</span><br><span class="line">	  &quot;description&quot;: &quot;&quot;,</span><br><span class="line">	  &quot;files&quot;: [</span><br><span class="line">	    &quot;app&quot;,</span><br><span class="line">	    &quot;project&quot;,</span><br><span class="line">	    &quot;component&quot;</span><br><span class="line">	  ],</span><br><span class="line">	  &quot;keywords&quot;: [&quot;yeoman-generator&quot;],</span><br><span class="line">	  &quot;dependencies&quot;: &#123;</span><br><span class="line">	    &quot;yeoman-generator&quot;: &quot;^1.0.0&quot;</span><br><span class="line">	  &#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>支持两种目录结构</p>
<figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">├───package.json</span><br><span class="line">└───generators/</span><br><span class="line"><span class="code">    ├───app/</span></span><br><span class="line"><span class="code">    │   └───index.js</span></span><br><span class="line"><span class="code">    └───router/</span></span><br><span class="line"><span class="code">        └───index.js</span></span><br><span class="line"><span class="code">        </span></span><br><span class="line"><span class="code">        </span></span><br><span class="line"><span class="code">        </span></span><br><span class="line">├───package.json</span><br><span class="line">├───app/</span><br><span class="line">│   └───index.js</span><br><span class="line">└───router/</span><br><span class="line"><span class="code">    └───index.js</span></span><br></pre></td></tr></table></figure>
</li>
<li><figure class="highlight plain"><figcaption><span>name```的使用 和 ```yo name:router```的使用 将直接唤起并运行 其下的index.js文件</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">	- 如果是第二种目录结构，则需要在package.json的files中添加多个app目录和router目录</span><br><span class="line">	- yeoman规定files必须是数组形式</span><br><span class="line">- app/index.js</span><br><span class="line">	</span><br><span class="line">	```javascript</span><br><span class="line">	const Generator = require(&apos;yeoman-generator&apos;);</span><br><span class="line">	module.exports = class extends Generator &#123;</span><br><span class="line">		</span><br><span class="line">		method1() &#123;</span><br><span class="line">		    this.log(&apos;method 1 just ran&apos;);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		method2() &#123;</span><br><span class="line">		    this.log(&apos;method 2 just ran&apos;);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;;</span><br><span class="line">	``` </span><br><span class="line">- method 按照顺序执行 </span><br><span class="line">	- Yeoman是按照优先级顺序依次执行所定义的方法。当你定义的函数名字是Yeoman定义的优先级函数名时，会自动将该函数列入到所在优先级队列中，否则就会列入到 default 优先层级队列中。</span><br><span class="line">	- ```initializing、prompting、configuring 、default 、writing 、conflicts 、install 、end</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Prefix method name by an underscore  (e.g. _private_method).</p>
</li>
<li><p>异步流程控制</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">	asyncTask() &#123;</span><br><span class="line">	  <span class="keyword">var</span> done = <span class="keyword">this</span>.async();</span><br><span class="line"></span><br><span class="line">	  getUserEmail(<span class="function"><span class="keyword">function</span> (<span class="params">err, name</span>) </span>&#123;</span><br><span class="line">	    done(err);</span><br><span class="line">	  &#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string">- The prompt module is provided by Inquirer.js</span></span><br><span class="line"><span class="string">	</span></span><br><span class="line"><span class="string">	`</span><span class="string">``</span>javascript</span><br><span class="line">		prompting() &#123;</span><br><span class="line">		    <span class="keyword">return</span> <span class="keyword">this</span>.prompt([&#123;</span><br><span class="line">		      type    : <span class="string">'input'</span>,</span><br><span class="line">		      name    : <span class="string">'name'</span>,</span><br><span class="line">		      message : <span class="string">'Your project name'</span>,</span><br><span class="line">		      <span class="keyword">default</span> : <span class="keyword">this</span>.appname <span class="comment">// Default to current folder name</span></span><br><span class="line">		    &#125;, &#123;</span><br><span class="line">		      type    : <span class="string">'confirm'</span>,</span><br><span class="line">		      name    : <span class="string">'cool'</span>,</span><br><span class="line">		      message : <span class="string">'Would you like to enable the Cool feature?'</span></span><br><span class="line">		    &#125;]).then(<span class="function">(<span class="params">answers</span>) =&gt;</span> &#123;</span><br><span class="line">		      <span class="keyword">this</span>.log(<span class="string">'app name'</span>, answers.name);</span><br><span class="line">		      <span class="keyword">this</span>.log(<span class="string">'cool feature'</span>, answers.cool);</span><br><span class="line">		    &#125;);</span><br><span class="line">		  &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>generator.composeWith()</p>
<ul>
<li><p>执行另一个generator</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.composeWith(<span class="string">'name:route'</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>自动安装依赖</p>
<ul>
<li>this.npmInstall</li>
<li>this.yarnInstall</li>
<li>this.bowerInstall</li>
<li>合并安装this.installDependencies({npm: false, bower: true, yarn: true})</li>
</ul>
</li>
<li>Template context<ul>
<li>this.sourceRoot() // returns ‘./templates’</li>
<li>this.templatePath(‘index.js’);// returns ‘./templates/index.js’</li>
</ul>
</li>
<li>copy template<ul>
<li>this.fs.copyTpl(src, output, data)</li>
<li>using ejs template syntax</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="第二讲"><a href="#第二讲" class="headerlink" title="第二讲"></a>第二讲</h3><ul>
<li>整体架构分析</li>
<li>模板工程的分类</li>
<li>generator-flash的执行流程</li>
<li>暴露尽可能少量的配置文件</li>
<li>扩展一般webpack配置的兼容性</li>
<li>为模板工程添加语法糖</li>
<li>数据mock功能的开发</li>
<li>组件中关于readme的统一化</li>
<li>黑科技</li>
</ul>
<h4 id="整体架构分析"><a href="#整体架构分析" class="headerlink" title="整体架构分析"></a>整体架构分析</h4><ul>
<li>团队目的<ul>
<li>解决复杂的且重复的问题，给团队带来效率提升</li>
<li>从团队leader的角度看：我们每个团队成员，应该尽快的去完成业务需求，而不是天天配置开发环境，如果有现成的代码可用，就不要重复造轮子，拿来即用就好。</li>
<li>我们的目的就是要那一堆零件过来，然后拼装成一辆汽车，而不需要了解零件的制作工艺</li>
</ul>
</li>
<li>剥离组件<ul>
<li>组件剥离项目是非常重要的一个事情，它使得项目依赖清晰，开发更快捷</li>
<li>代码解耦、可复用性强、维护方便单一</li>
<li>组件最好维护到公司的npm私服上，没有npm私服的建议组件名 加个前缀，发到npm上</li>
</ul>
</li>
<li>减少开发者的学习成本<ul>
<li>项目的配置项越少 对开发人员的上手成本就越低</li>
<li>把webpack的配置内敛至npm包中，仅留下几个路径配置项</li>
</ul>
</li>
<li><p>架构对比</p>
<ul>
<li><p>传统架构设计</p>
<p><img src="http://oyoee89se.bkt.clouddn.com/%E4%BC%A0%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.png" width="600"></p>
</li>
<li><p>新架构设计</p>
<p><img src="http://oyoee89se.bkt.clouddn.com/%E6%96%B0%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.png" width="600"></p>
</li>
</ul>
</li>
</ul>
<h4 id="模板工程的分类"><a href="#模板工程的分类" class="headerlink" title="模板工程的分类"></a>模板工程的分类</h4><ul>
<li>根据前端框架分类<ul>
<li>React</li>
<li>Vue</li>
<li>JQuery</li>
</ul>
</li>
<li>根据功能拆分<ul>
<li>project</li>
<li>component</li>
<li>common</li>
</ul>
</li>
<li><p>根据使用的主要功能插件分</p>
<ul>
<li>react + router</li>
<li>react + router + redux</li>
<li>react + mobx + typescript</li>
</ul>
</li>
<li><p>究其结果，都是要进行模板文件的copy，只不过 根据用户的选择不同，copy的内容不同罢了<br>  <img src="http://oyoee89se.bkt.clouddn.com/A4C21ECA-C440-4BF7-9E24-96C85A8FA4E6.png" width="500"></p>
</li>
</ul>
<ul>
<li>下面先带大家过一遍 generator-flash 的执行流程，然后再从平时遇到的比较多的问题上开始看，一系列的影响效率的问题，然后去解决他们</li>
</ul>
<h4 id="generator-flash的执行流程"><a href="#generator-flash的执行流程" class="headerlink" title="generator-flash的执行流程"></a>generator-flash的执行流程</h4><ul>
<li>流程 (/app/index.js)<ul>
<li>检测当前脚手架版本 (/_libs/logo.js)<ul>
<li>打印欢迎语 </li>
</ul>
</li>
<li>选择创建工程类型 (project、component)</li>
<li>选择技术栈</li>
<li>项目名、描述、作者名、作者邮箱、gitlab group、version</li>
<li>react的项目 是否使用redux</li>
<li>是否自动安装依赖</li>
<li>根据用户选择 copy 模板工程 至 项目目录</li>
<li>安装依赖</li>
<li>打印结束语</li>
</ul>
</li>
</ul>
<h4 id="暴露尽可能少量的配置文件出来"><a href="#暴露尽可能少量的配置文件出来" class="headerlink" title="暴露尽可能少量的配置文件出来"></a>暴露尽可能少量的配置文件出来</h4><ul>
<li><p>问题：项目的webpack配置复杂，通常是有从入门到放弃一说的，可见它的复杂度之高，而暴露出来的配置项越多，开发者自己改动的可能性就越大，而脚手架就越不可控</p>
<p>  <img src="http://oyoee89se.bkt.clouddn.com/FC73C83C-4C03-4927-B5E1-DFE8034E1EBC.png" width="500"></p>
</li>
<li><p>解决：</p>
<ul>
<li>webpack通用配置 和 个性化配置分离</li>
<li>版本锁定、依赖内敛至npm<ul>
<li>版本锁定：整个团队技术框架统一</li>
<li>依赖内敛：团队技术升级方便</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="扩展一般webpack配置的兼容性"><a href="#扩展一般webpack配置的兼容性" class="headerlink" title="扩展一般webpack配置的兼容性"></a>扩展一般webpack配置的兼容性</h4><ul>
<li>webpack 具体配置不细讲了哈，推荐给大家看一个webpack的视频课程：<a href="https://m.qlchat.com/live/channel/channelPage/2000000172777118.htm" target="_blank" rel="noopener">https://m.qlchat.com/live/channel/channelPage/2000000172777118.htm</a></li>
<li><p>问题：webpack在多页应用开发时候，会出现 entry 多入口路径的配置问题，相信很多前端同学，没有玩过webpack时候，或者对webpack一知半解时候，配置此多页面入口路径是相当麻烦的一件事儿</p>
<p>  <img src="http://oyoee89se.bkt.clouddn.com/8510E9A8-467B-4FBB-B519-1C81A3B4523D.png" width="400"></p>
</li>
<li><p>我们自己的脚手架完全可以解决这个问题</p>
</li>
<li><p>解决：</p>
<ul>
<li>原理：按照定义的规范去写目录结构，在运行代码之前，先用node解析一遍，当前的路径，自动计算出当前的 entry map，完美解决</li>
<li><p>代码：<a href="https://github.com/water-wheel/flash-scripts/blob/master/config/paths.js#L26" target="_blank" rel="noopener">https://github.com/water-wheel/flash-scripts/blob/master/config/paths.js#L26</a></p>
<p>  <img src="http://oyoee89se.bkt.clouddn.com/3CCF5438-5270-4FA3-AD10-8947724E5C0C.png" width="500"></p>
</li>
</ul>
</li>
</ul>
<h4 id="为模板工程添加语法糖"><a href="#为模板工程添加语法糖" class="headerlink" title="为模板工程添加语法糖"></a>为模板工程添加语法糖</h4><ul>
<li>问题：在团队中，有多个业务线，每个业务线也都有多个项目，每个项目都会用到的功能，都需要开发人员开发一遍，或者从其他项目中copy一份出来，导致了业务代码乱七八糟，而且代码质量参差不一</li>
<li><p>解决：我们通过脚手架，为每个项目都内置一些工具方法，</p>
<ul>
<li><p>例如一些工具函数：获取url的参数、判断当前容器类型、监听页面回退、获取cookie值等</p>
<p>  <img src="http://oyoee89se.bkt.clouddn.com/FEBD6976-6BAA-4FC8-B494-0EEE1B3769DA.png" width="500"></p>
</li>
<li><p>reset.css</p>
</li>
<li><p>scss mixin：兼容性flex方案、1像素线边框、单行（多行）文本截断、渐变、rem计算函数等</p>
<p>  <img src="http://oyoee89se.bkt.clouddn.com/BC456FB8-FCCA-4424-AB73-09AA6C293612.png" width="500"></p>
</li>
</ul>
</li>
<li><p>当然如果你们团队是hybrid开发时候，里面还可以内置一些 jsBridge 进去</p>
</li>
<li>flash脚手架的语法糖代码：<a href="https://github.com/water-wheel/generator-flash/tree/master/common" target="_blank" rel="noopener">https://github.com/water-wheel/generator-flash/tree/master/common</a></li>
</ul>
<h4 id="数据mock功能的开发"><a href="#数据mock功能的开发" class="headerlink" title="数据mock功能的开发"></a>数据mock功能的开发</h4><ul>
<li>问题：前后端分离的项目，后端接口开发缓慢，前端业务依赖后端接口数据，如若是写一个常量的数据来mock，则上线前 需要更换接口的url，需要前端开发重新进行自测，才能交付</li>
<li>解决：<ul>
<li>启一个本地服务来作为接口服务器</li>
<li>建一个mock文件夹 来放置 mock的接口数据，和mock的config配置(type: get | post | delay 等)</li>
<li>监听mock文件夹，如果有modify，则重启mock服务来更新接口数据</li>
</ul>
</li>
<li><p>具体解决方案：</p>
<ul>
<li><p>在npm start时候，我们fork一个进程，把mock server跑起来，然后监听mock文件夹，当mock文件夹发生修改时候，则重启这个进程</p>
<ul>
<li><p>代码地址：<a href="https://github.com/water-wheel/flash-scripts/blob/master/scripts/mock.js" target="_blank" rel="noopener">https://github.com/water-wheel/flash-scripts/blob/master/scripts/mock.js</a></p>
<p><img src="http://oyoee89se.bkt.clouddn.com/DE09069D-40E3-4444-A047-9C841F0B9BD6.png" width="500"></p>
</li>
</ul>
</li>
<li><p>mock接口服务 (读取本地mock文件的配置内容 和 配置列表，缓存起来，然后启动服务)</p>
<ul>
<li><p>代码展示：<a href="https://github.com/water-wheel/flash-scripts/blob/master/mock/worker.js" target="_blank" rel="noopener">https://github.com/water-wheel/flash-scripts/blob/master/mock/worker.js</a></p>
<p><img src="http://oyoee89se.bkt.clouddn.com/CA8B871C-A24C-43E5-B0E6-0F93117DF386.png" width="500"></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="组件中关于readme的统一化"><a href="#组件中关于readme的统一化" class="headerlink" title="组件中关于readme的统一化"></a>组件中关于readme的统一化</h4><ul>
<li>问题：即使有了脚手架 帮我们把组件的工程创建好，但我们还是经常遇到其他人开发的组件，我们无法快速使用的问题<ul>
<li>例如我们知道有loading这个组件，但是props的入参是什么，我们只能通过代码找到，有好一点儿的，作者在readme里面 写了loading的使用方式，但是可能下个dialog的组件 就在readme里面 以另一种风格去写dialog的组件使用了，这是一件很蛋疼的事儿</li>
</ul>
</li>
<li><p>解决方案：</p>
<ul>
<li>让readme风格 和 规范统一化</li>
<li>让使用者 在第一时间能找到 最简单的使用示例 和 配置参数，只需要copy过来就能用，不需要关心源码是怎么开发的，如果遇到问题，小窗下作者，立马能得到解决方法</li>
<li><p>我们readme的模板</p>
<p><img src="http://oyoee89se.bkt.clouddn.com/D4306A1C-0AF4-4FB2-BBE9-C4749C8AEC57.png" width="500"></p>
</li>
<li><p>示例：</p>
<ul>
<li><p>toast：<a href="https://github.com/water-wheel/toast" target="_blank" rel="noopener">https://github.com/water-wheel/toast</a></p>
<p>  <img src="http://oyoee89se.bkt.clouddn.com/417372B5-427E-4CDA-A1AD-7196FFC4FD9B.png" width="500"></p>
</li>
<li><p>loading：<a href="https://github.com/water-wheel/loading" target="_blank" rel="noopener">https://github.com/water-wheel/loading</a></p>
<p>  <img src="http://oyoee89se.bkt.clouddn.com/2DC84157-DA0E-46D8-8B56-06E9D4A91A6F.png" width="500"></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="黑科技"><a href="#黑科技" class="headerlink" title="黑科技"></a>黑科技</h4><ul>
<li><p>figlet 生成字符字 </p>
<ul>
<li><figure class="highlight plain"><figcaption><span>i figlet-cli -g```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- ```figlet OK FLASH</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>tree 生成目录结构</p>
<ul>
<li><figure class="highlight plain"><figcaption><span>i tree-cli -g```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- ```tree</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/11/11/cjiws27io000pe46phju8h8fr/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Newer
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/11/09/cjiws27jc0025e46prvgxoabv/" id="post_nav-older" class="next-content">
            Older
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.png" alt="luoyecong's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        luoyecong@aliyun.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                Home
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    Archives
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2018/06/">June 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/05/">May 2018<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/04/">April 2018<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/03/">March 2018<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/02/">February 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/01/">January 2018<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/12/">December 2017<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/11/">November 2017<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/10/">October 2017<span class="sidebar_archives-count">16</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/09/">September 2017<span class="sidebar_archives-count">11</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/08/">August 2017<span class="sidebar_archives-count">29</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                Categories
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/ES6/">ES6<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Egret/">Egret<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/Eslint/">Eslint<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Git/">Git<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/HTML5/">HTML5<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/JS数据结构与算法/">JS数据结构与算法<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/JavaScript/">JavaScript<span class="sidebar_archives-count">19</span></a></li><li><a class="sidebar_archives-link" href="/categories/Nodejs/">Nodejs<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/React/">React<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/mongodb/">mongodb<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/mysql/">mysql<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/node/">node<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/vue/">vue<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/代码大全/">代码大全<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/代码整洁之道/">代码整洁之道<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/你不知道的JavaScript/">你不知道的JavaScript<span class="sidebar_archives-count">15</span></a></li><li><a class="sidebar_archives-link" href="/categories/前端工程化/">前端工程化<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/前端性能优化/">前端性能优化<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/图解TCP-IP/">图解TCP/IP<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/categories/工程化/">工程化<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/开发实践分享/">开发实践分享<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/模块/">模块<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/算法导论/">算法导论<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/经验分享/">经验分享<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/脚手架/">脚手架<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/读书笔记/">读书笔记<span class="sidebar_archives-count">10</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="Tags">
                
                    <i class="material-icons sidebar-material-icons">card_membership</i>
                
                Tags
            </a>
        </li>
        
    
        <li>
            <a href="/about" title="About">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                About
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                Number of articles
                <span class="sidebar-badge">101</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/lyctea" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
    
    <!-- V2EX -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>孤丶晴 网络日志
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>













<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.2 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>

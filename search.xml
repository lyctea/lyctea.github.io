<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[ReactæŠ€æœ¯æ­ç§˜]]></title>
    <url>%2F2022%2F06%2F24%2Fcl4s3gtft004swn9eriziogwn%2F</url>
    <content type="text"><![CDATA[ReactæŠ€æœ¯è§£å¯†Tags: å‰ç«¯æºç åˆ›å»ºæ—¶é—´: April 18, 2022è¯„æ˜Ÿ: â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ ReactæŠ€æœ¯æ­ç§˜ é€šè¿‡æ‰‹å†™ä¸€ä¸ªç©å…·reactå¸¦ä½ äº†è§£æ•´ä¸ªreactæµç¨‹åŸç†_å“”å“©å“”å“©_bilibili React å“²å­¦ - React é—®é¢˜åˆ—è¡¨ï¼š è€çš„reactæ¶æ„ï¼Œæ–°çš„reactæ¶æ„ï¼Ÿ Fiberå®ç°åŸç†&amp;å·¥ä½œåŸç†ï¼Ÿ Hooksçš„ç†å¿µï¼Ÿ Hooksçš„ç®€å•å®ç°ï¼Ÿ Reactç†å¿µå®˜æ–¹å®šä¹‰ï¼šæˆ‘ä»¬è®¤ä¸ºï¼ŒReact æ˜¯ç”¨ JavaScript æ„å»ºå¿«é€Ÿå“åº”çš„å¤§å‹ Web åº”ç”¨ç¨‹åºçš„é¦–é€‰æ–¹å¼ã€‚å®ƒåœ¨ Facebook å’Œ Instagram ä¸Šè¡¨ç°ä¼˜ç§€ã€‚ åˆ¶çº¦å¿«é€Ÿå“åº”çš„å› ç´ ï¼Ÿ å¤§é‡è®¡ç®—å¼•èµ·çš„CPUç“¶é¢ˆï¼› å¤§é‡ç½‘ç»œè¯·æ±‚ï¼Œç­‰å¾…æ•°æ®è¿”å›è€Œé˜»å¡é¡µé¢å¼•èµ·çš„IOç“¶é¢ˆï¼› Reactå¦‚ä½•è§£å†³ä¸Šè¿°ä¸¤ä¸ªç“¶é¢ˆï¼Ÿ å®ç°äº†æ—¶é—´åˆ‡ç‰‡ï¼Œå°†åŒæ­¥çš„æ›´æ–°å˜ä¸ºå¯ä¸­æ–­çš„å¼‚æ­¥æ›´æ–°ã€‚GUIæ¸²æŸ“çº¿ç¨‹ä¸JSçº¿ç¨‹æ˜¯äº’æ–¥çš„ã€‚æ‰€ä»¥JSè„šæœ¬æ‰§è¡Œå’Œæµè§ˆå™¨å¸ƒå±€ã€ç»˜åˆ¶ä¸èƒ½åŒæ—¶æ‰§è¡Œã€‚å½“JSæ‰§è¡Œæ—¶é—´è¿‡é•¿ï¼Œå¤§äº16msæ—¶ï¼Œå°†å’©æœ‰æ—¶é—´æ‰§è¡Œé¡µé¢å¸ƒå±€å’Œæ ·å¼ç»˜åˆ¶äº†ï¼Œç»“æœå°±æ˜¯æ‰å¸§å¡é¡¿ã€‚ å°†äººæœºäº¤äº’ç ”ç©¶çš„ç»“æœæ•´åˆåˆ°çœŸå®çš„ UI ä¸­ (opens new window) React15æ¶æ„React15æ¶æ„å¯ä»¥åˆ†ä¸ºä¸¤å±‚ Reconcilerï¼ˆåè°ƒå™¨ï¼‰ï¼šè´Ÿè´£æ‰¾å‡ºå˜åŒ–çš„ç»„ä»¶ setStateã€forceUpdateã€renderç­‰APIè§¦å‘æ›´æ–° è°ƒç”¨å‡½æ•°ç»„ä»¶ã€æˆ–classç»„ä»¶çš„renderæ–¹æ³•ï¼Œå°†è¿”å›çš„JSXè½¬åŒ–ä¸ºè™šæ‹ŸDOM å°†è™šæ‹ŸDOMå’Œä¸Šæ¬¡æ›´æ–°æ—¶çš„è™šæ‹ŸDOMå¯¹æ¯” é€šè¿‡å¯¹æ¯”æ‰¾å‡ºæœ¬æ¬¡æ›´æ–°ä¸­å˜åŒ–çš„è™šæ‹ŸDOM é€šçŸ¥Rendererå°†å˜åŒ–çš„è™šæ‹ŸDOMæ¸²æŸ“åˆ°é¡µé¢ä¸Š Reanderï¼ˆæ¸²æŸ“å™¨ï¼‰ï¼šè´Ÿè´£å°†å˜åŒ–çš„ç»„ä»¶æ¸²æŸ“åˆ°é¡µé¢ä¸Š å°†å˜åŒ–çš„ç»„ä»¶æ¸²æŸ“åœ¨å½“å‰å®¿ä¸»ç¯å¢ƒ æ¶æ„ç¼ºç‚¹ï¼š ç”±äºé€’å½’æ‰§è¡Œï¼Œæ‰€ä»¥æ›´æ–°ä¸€æ—¦å¼€å§‹ï¼Œä¸­é€”å°±æ— æ³•ä¸­æ–­ã€‚å½“å±‚çº§å¾ˆæ·±æ—¶ï¼Œé€’å½’æ›´æ–°æ—¶é—´è¶…è¿‡äº†16msï¼Œç”¨æˆ·äº¤äº’å°±ä¼šå¡é¡¿ã€‚ React16æ¶æ„React16æ¶æ„å¯ä»¥åˆ†ä¸ºä¸‰å±‚ï¼š Schedulerï¼ˆè°ƒåº¦å™¨ï¼‰â€”â€” è°ƒåº¦ä»»åŠ¡çš„ä¼˜å…ˆçº§ï¼Œé«˜ä¼˜ä»»åŠ¡ä¼˜å…ˆè¿›å…¥Reconciler æµè§ˆå™¨æœ‰å‰©ä½™æ—¶é—´æ—¶ï¼Œè¿›è¡Œä»»åŠ¡è°ƒåº¦ Reconcilerï¼ˆåè°ƒå™¨ï¼‰â€”â€” è´Ÿè´£æ‰¾å‡ºå˜åŒ–çš„ç»„ä»¶ å½“Schedulerå°†ä»»åŠ¡äº¤ç»™Reconcileråï¼ŒReconcilerä¼šä¸ºå˜åŒ–çš„è™šæ‹ŸDOMæ‰“ä¸Šä»£è¡¨å¢/åˆ /æ›´æ–°çš„æ ‡ æ•´ä¸ªSchedulerä¸Reconcilerçš„å·¥ä½œéƒ½åœ¨å†…å­˜ä¸­è¿›è¡Œã€‚åªæœ‰å½“æ‰€æœ‰ç»„ä»¶éƒ½å®ŒæˆReconcilerçš„å·¥ä½œï¼Œæ‰ä¼šç»Ÿä¸€äº¤ç»™Rendererã€‚ Rendererï¼ˆæ¸²æŸ“å™¨ï¼‰â€”â€” è´Ÿè´£å°†å˜åŒ–çš„ç»„ä»¶æ¸²æŸ“åˆ°é¡µé¢ä¸Š æ ¹æ®åè°ƒå™¨ä¸Šè™šæ‹ŸDOMçš„æ ‡è®°ï¼ŒåŒæ­¥çš„æ‰§è¡Œå¯¹åº”DOMæ“ä½œ Fiberæ¶æ„ä»£æ•°æ•ˆåº”ï¼š å°†å‰¯ä½œç”¨ä»å‡½æ•°ä¸­åˆ†ç¦»ï¼Œä½¿å‡½æ•°å…³æ³¨ç‚¹ä¿æŒçº¯ç²¹ã€‚å¯¹äºç±»ä¼¼useStateã€useReducerã€useRefè¿™æ ·çš„Hookï¼Œæˆ‘ä»¬ä¸éœ€è¦å…³æ³¨FunctionComponentçš„stateåœ¨Hookä¸­æ˜¯å¦‚ä½•ä¿å­˜çš„ï¼ŒReactä¼šä¸ºæˆ‘ä»¬å¤„ç†ã€‚ Fiberçš„ä¸‰å±‚å«ä¹‰ï¼š ä¹‹å‰React15çš„åè°ƒå™¨(Reconciler)é‡‡ç”¨é€’å½’çš„æ–¹å¼æ‰§è¡Œï¼ŒReact16çš„åè°ƒå™¨åŸºäºFiberèŠ‚ç‚¹å®ç°ï¼Œè¢«ç§°ä¸ºFiber Reconciler ä½œä¸ºé™æ€æ•°æ®ç»“æ„ï¼Œæ¯ä¸ªFiberèŠ‚ç‚¹å¯¹åº”ä¸€ä¸ªReact element ä½œä¸ºåŠ¨æ€å·¥ä½œå•å…ƒï¼Œæ¯ä¸ªFiberè¡—ç”µä¿å­˜æœ¬æ¬¡æ›´æ–°ä¸­ç»„ä»¶æ”¹å˜çš„çŠ¶æ€ã€å¢åˆ æ”¹çš„ä¿¡æ¯ Fiberæ ‘ç»“æ„ å¦‚ä½•ç†è§£FiberåŒç¼“å­˜æ ‘ï¼Ÿ æ‰€è°“ç¼“å­˜ï¼Œè·³è¿‡ç»˜åˆ¶å¸§è¿‡ç¨‹ä¸­ï¼Œæ¸…é™¤å½“å‰å¸§çš„åŠ¨ä½œï¼Œè€Œæ˜¯ç”¨æ–°çš„å¸§ç›´æ¥æ›¿æ¢å½“å‰å¸§ã€‚é¿å…å‡ºç°ç™½å±çš„æƒ…å†µã€‚ è¿™ç§åœ¨å†…å­˜ä¸­æ„å»ºå¹¶ç›´æ¥æ›¿æ¢çš„æŠ€æœ¯å«â€œåŒç¼“å­˜â€ã€‚ Diffç®—æ³•ä¸ºäº†é™ä½ç®—æ³•å¤æ‚åº¦ï¼ŒReactçš„diffä¼šé¢„è®¾ä¸‰ä¸ªé™åˆ¶ï¼š åªå¯¹åŒçº§å…ƒç´ è¿›è¡ŒDiffã€‚å¦‚æœä¸€ä¸ªDOMèŠ‚ç‚¹åœ¨å‰åä¸¤æ¬¡æ›´æ–°ä¸­è·¨è¶Šäº†å±‚çº§ï¼Œé‚£ä¹ˆReactä¸ä¼šå°è¯•å¤ç”¨ä»–ã€‚ ä¸¤ä¸ªä¸åŒç±»å‹çš„å…ƒç´ ä¼šäº§ç”Ÿå‡ºä¸åŒçš„æ ‘ã€‚å¦‚æœå…ƒç´ ç”±divå˜ä¸ºpï¼ŒReactä¼šé”€æ¯divåŠå…¶å­å­™èŠ‚ç‚¹ï¼Œå¹¶æ–°å»ºpåŠå…¶å­å­™èŠ‚ç‚¹ã€‚ å¼€å‘è€…å¯ä»¥é€šè¿‡ key propæ¥æš—ç¤ºå“ªäº›å­å…ƒç´ åœ¨ä¸åŒçš„æ¸²æŸ“ä¸‹èƒ½ä¿æŒç¨³å®šã€‚]]></content>
      <categories>
        <category>å‰ç«¯æ¡†æ¶</category>
      </categories>
      <tags>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¾®å‰ç«¯(qiankun)è§£å†³æ–¹æ¡ˆ]]></title>
    <url>%2F2022%2F06%2F24%2Fcl4s3gtii009qwn9e833zkxkr%2F</url>
    <content type="text"><![CDATA[æ‰‹å†™ qiankun å¾®å‰ç«¯æ¡†æ¶æ‰‹å†™ qiankun å¾®å‰ç«¯æ¡†æ¶_å“”å“©å“”å“©_bilibili whyå¾®å‰ç«¯ï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¾®å‰ç«¯æ¶æ„ï¼Ÿå¤šäººååŒå¼€å‘ï¼Œè§£å†³å·¨çŸ³åº”ç”¨ã€‚ æŠŠåºå¤§åº”ç”¨åˆ†å—å¤„ç†ï¼Œåˆ’åˆ†ä¸ºå¤šä¸ªå­åº”ç”¨ï¼Œå­åº”ç”¨æŠ€æœ¯æ ˆæ— å…³ï¼Œç‹¬ç«‹éƒ¨ç½²ã€‚å¤šä¸ªå­åº”ç”¨èšåˆåœ¨ä¸€èµ·ï¼Œçœ‹èµ·æ¥å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„åº”ç”¨ï¼Œç”¨æˆ·æ— æ„ŸçŸ¥ã€‚ åœ¨å¼€å‘å±‚é¢æ¥è¯´ï¼Œä¸é™åˆ¶æŠ€æœ¯æ ˆï¼Œå¯ä»¥å¤šå›¢é˜Ÿé‡‡ç”¨ä¸åŒçš„æŠ€æœ¯æ ˆå¼€å‘ï¼Œä¹Ÿé€‚åˆè¿›è¡Œæ¸è¿›å¼é‡æ„å‡çº§ã€‚ å¾®å‰ç«¯åŸç†æ ¸å¿ƒé€»è¾‘è§„åˆ™åŒ¹é… â‡’ è·å–èµ„æº â‡’ æ¸²æŸ“åˆ°å®¹å™¨ 1234567891011// æ³¨å†Œå­åº”ç”¨ï¼Œå¾®å‰ç«¯è¿è¡ŒåŸç†å’Œ SPAå•é¡µåº”ç”¨éå¸¸ç›¸ä¼¼ï¼ŒSPAæ³¨å†Œè·¯ç”±ä¸æ³¨å†Œå­åº”ç”¨æ¦‚å¿µç±»ä¼¼ã€‚registerMicroApps([ // å½“åŒ¹é…åˆ° activeRule çš„æ—¶å€™ï¼Œè¯·æ±‚è·å– entry èµ„æºï¼Œæ¸²æŸ“åˆ° container ä¸­ &#123; name: 'app-react', entry: '//localhost:9001' // å­åº”ç”¨çš„ HTML å…¥å£ container: '#subapp-container', // æ¸²æŸ“åˆ°å“ªé‡Œ activeRule: '/subapp/app-react' // è·¯ç”±åŒ¹é…è§„åˆ™ &#125; ] ) ä¸»å­åº”ç”¨å‡ºå£ ä¸»å­åº”ç”¨æœ‰ä¸åŒçš„æ¥å…¥å£ å­åº”ç”¨å¦‚ä½•æ¥å…¥ä¸»åº”ç”¨ï¼Ÿ å¯¼å‡ºä¸‰ä¸ªå¿…è¦çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° bootstrap æ¸²æŸ“ä¹‹å‰ï¼Œåšä¸€äº›åˆå§‹åŒ– mount æ¸²æŸ“å‡½æ•°ï¼Œ ä¸€èˆ¬æŒ‚è½½åˆ° å­åº”ç”¨å…¥å£ =&gt; #app èŠ‚ç‚¹ä¸Š unmount å¸è½½å‡½æ•°ï¼Œæ¸…ç†å·¥ä½œï¼› æ³¨æ„ï¼šç”Ÿå‘½å‘¨æœŸå‡½æ•°å¿…é¡»è¿”å› Promise 1234567891011121314151617export async function bootstrap() &#123; console.log('[vue] vue app bootstraped');&#125;export async function mount(props) &#123; console.log('[vue] props from main framework', props); storeTest(props); render(props); // new vue å®ä¾‹ã€‚&#125;export async function unmount() &#123; instance.$destroy(); instance.$el.innerHTML = ''; instance = null; //æ¸…ç©ºå®ä¾‹ï¼Œåƒåœ¾å›æ”¶ router = null;&#125; å­åº”ç”¨ä¹Ÿå¯ä»¥ç‹¬ç«‹è¿è¡Œ é€šè¿‡qiankunæä¾›çš„å…¨å±€å˜é‡åˆ¤æ–­ï¼Œæ­¤æ—¶æŒ‚è½½åˆ°çš„èŠ‚ç‚¹æ˜¯ body â‡’ #app å­åº”ç”¨çš„é…ç½® å­åº”ç”¨åº”å…è®¸è·¨åŸŸï¼Œå…è®¸ CORS è·¨åŸŸ 123456// vue.config.jsdevServer: &#123; headers: &#123; 'Access-Control-Allow-Origin': '*', &#125;, &#125;, 2. å­åº”ç”¨å¿…é¡»æ‰“åŒ…å‡ºä¸€ä¸ªåº“æ–‡ä»¶ï¼Œæ–‡ä»¶æ ¼å¼å¿…é¡»æ˜¯umd ä¸»åº”ç”¨éœ€è¦åŠ è½½å­åº”ç”¨èµ„æºï¼Œå­åº”ç”¨jsè¦åœ¨ä¸»åº”ç”¨è¿è¡Œï¼Œå¿…é¡»è¦å¾—å…¼å®¹æ¨¡å—æ ¼å¼ä¸ºumd &lt;aside&gt; ğŸ’¡ [*UMD](https://link.zhihu.com/?target=https%3A//github.com/umdjs/umd) â€” å¦å¤–ä¸€ä¸ªæ¨¡å—åŒ–ç³»ç»Ÿï¼Œå»ºè®®ä½œä¸ºé€šç”¨çš„æ¨¡å—åŒ–ç³»ç»Ÿï¼Œå®ƒä¸ AMD å’Œ CommonJS éƒ½æ˜¯å…¼å®¹çš„ã€‚* &lt;/aside&gt; 12345678configureWebpack: &#123; output: &#123; // æŠŠå­åº”ç”¨æ‰“åŒ…æˆ umd åº“æ ¼å¼ library: `$&#123;name&#125;-[name]`, libraryTarget: 'umd', jsonpFunction: `webpackJsonp_$&#123;name&#125;`, // jsonpçš„æ–¹å¼åŠ è½½å­åº”ç”¨èµ„æº &#125;, &#125;, ![**umd.js å…¼å®¹CommonJsã€ADMæ¨¡å—è§„èŒƒï¼Œå¦‚æœéƒ½ä¸åŒ¹é…ï¼ŒæŒ‚è½½åˆ°windowå…¨å±€å¯¹è±¡ä¸Š**](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/9b75797a-173f-46c1-b247-dc678c488932/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&amp;X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220624%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20220624T064536Z&amp;X-Amz-Expires=86400&amp;X-Amz-Signature=8695db39a224f753eab5f1e657bc93851c9761d1c3532c8e0df909f0e826af76&amp;X-Amz-SignedHeaders=host&amp;response-content-disposition=filename%20%3D%22Untitled.png%22&amp;x-id=GetObject) **umd.js å…¼å®¹CommonJsã€ADMæ¨¡å—è§„èŒƒï¼Œå¦‚æœéƒ½ä¸åŒ¹é…ï¼ŒæŒ‚è½½åˆ°windowå…¨å±€å¯¹è±¡ä¸Š** ![**é€šè¿‡windowå¯¹è±¡å¯ä»¥è·å–åˆ°å­åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼›**](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/314da44f-fbe7-465f-8f99-2abff8ecb44a/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&amp;X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220624%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20220624T064517Z&amp;X-Amz-Expires=86400&amp;X-Amz-Signature=a577f36c99bde81f446626783cb713979af5710ae0357753f2a33401dd77e411&amp;X-Amz-SignedHeaders=host&amp;response-content-disposition=filename%20%3D%22Untitled.png%22&amp;x-id=GetObject) **é€šè¿‡windowå¯¹è±¡å¯ä»¥è·å–åˆ°å­åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼›** æ‰‹å†™qiankunæºç https://github.com/lyctea/qiankun-demo cssæ²™ç®± showdom æ ·å¼èŒƒå›´å‰ç¼€ javascript æ²™ç®± å¾®å‰ç«¯éƒ¨ç½² å¾®å‰ç«¯é€šä¿¡åŸç† äº†è§£å¾®å‰ç«¯åŸºæœ¬åŸºç¡€è¿ä½œæœºåˆ¶åŠå®ç°åŸç†1ã€æ³¨å†Œå­åº”ç”¨ 2ã€ç›‘å¬è·¯ç”±å˜åŒ– 3ã€åŒ¹é…å­åº”ç”¨ 4ã€åŠ è½½å­åº”ç”¨ 5ã€æ¸²æŸ“å­åº”ç”¨ å®ç°åŸºæœ¬çš„å­åº”ç”¨æ¸²æŸ“ å¾…å®Œæˆ cssæ²™ç®±ã€‚jsæ²™ç®±ï¼Œæ•°æ®ç›‘å¬ ä¸€ã€æ³¨å†Œå­è·¯ç”±1ã€æ³¨å†Œå­åº”ç”¨çš„å…¥å£è·¯ç”±ï¼Œå®¹å™¨ã€åŠåŒ¹é…è·¯ç”±æ¥è·å– 123456789101112131415161718interface app &#123; name:string, entry:string, container: string, activeRule:string&#125;export const getApp = ()=&gt;_app// æ³¨å†Œå­åº”ç”¨ ä¿å­˜åœ¨ç¼“å­˜é‡Œæ–¹ä¾¿è°ƒç”¨let _app: app[]=[]export const registerMicroApps = (app: app[]) =&gt; &#123; _app = app&#125;export const start = () =&gt; &#123;//é‡å†™ç›‘å¬è·¯ç”± rewriteRouter();// é€šè¿‡è·¯ç”±å˜åŒ– åŒ¹é…å­è·¯åŠ è½½åŠæ¸²æŸ“ handleRouter();&#125;; äºŒã€ç›‘å¬è·¯ç”±å˜åŒ–1ã€hashè·¯ç”±ï¼šwindow.onhashchage 2ã€historyè·¯ç”±ï¼š history.go history.back history.forward ä½¿ç”¨window.onpopstate, pushState, replaceState ä½¿ç”¨å‡½æ•°é‡å†™æ¥è¿›è¡Œï¼Œç›‘å¬åŠ«æŒ 1234567891011121314151617181920212223242526272829303132333435import &#123; handleRouter &#125; from './handle-router';//ä¸Šä¸€ä¸ªè·¯ç”±åœ°å€let prevRouter = '';//ä¸‹ä¸€ä¸ªè·¯ç”±åœ°å€let nextRouter = window.location.pathname;export const getPrevRouter = () =&gt; prevRouter;export const getNextRouter = () =&gt; nextRouter;export const rewriteRouter = () =&gt; &#123; //é€šè¿‡addEventListenerè¿½åŠ ç›‘å¬ï¼Œä¸èƒ½ç›´æ¥é‡å†™ï¼Œé˜²æ­¢å…¶ä»–åœ°æ–¹è°ƒç”¨ window.addEventListener?.('popstate', () =&gt; &#123; prevRouter = nextRouter; nextRouter = window.location.pathname; handleRouter(); //è·³è½¬å®Œæˆåæ‰§è¡Œ æ‰€ä»¥æ— æ³•é€šè¿‡window.location.pathnameæ‹¿åˆ°ä¸Šä¸€ä¸ªè·¯ç”± &#125;); // é€šè¿‡é‡å†™ç›‘å¬pushState, replaceState const rwaPushState = window.history.replaceState; window.history.pushState = (args) =&gt; &#123; //before prevRouter = window.location.pathname; rwaPushState.apply(window.history, args); nextRouter = window.location.pathname; //after handleRouter(); &#125;; const rwaReplaceState = window.history.replaceState; window.history.replaceState = (...args) =&gt; &#123; //before prevRouter = window.location.pathname; rwaReplaceState.apply(window.history, args); //after nextRouter = window.location.pathname; handleRouter(); &#125;;&#125;; ä¸‰ã€åŒ¹é…å­åº”ç”¨1ã€è·å–å½“å‰è·¯ç”±è·¯å¾„ window.location.pathnameï¼Œè·å–æ³¨å†Œåº”ç”¨ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051import &#123; getApp &#125; from '.';import &#123; getPrevRouter, getNextRouter &#125; from './rewrite-router';interface app &#123; name: string; entry: string; container: string; activeRule: string; bootstrap?: Function; mount?: Function; unmount?: Function;&#125;export const handleRouter = async () =&gt; &#123; const apps = getApp(); //å¸è½½ä¸Šä¸€ä¸ªåº”ç”¨ const prevApp = apps.find((item) =&gt; getPrevRouter().startsWith(item.activeRule)); if (prevApp) &#123; await unmount(prevApp); &#125; const app = apps.find((item) =&gt; getNextRouter().startsWith(item.activeRule)); if (!app) &#123; return; &#125; const container = document.querySelector(app.container); //æµè§ˆå™¨å¤„äºå®‰å…¨è€ƒè™‘ innerHtml ä¸­çš„scriptæ ‡ç­¾ä¸ä¼šåŠ è½½ //if (container) container.innerHTML = html; const &#123; template, execScript &#125; = await htmlEntry(app.entry); container?.append(template); //é…ç½®å…¨å±€å˜é‡ è®©åº”ç”¨æ­£ç¡®æ¸²æŸ“åˆ°æŒ‡å®šçš„å®¹å™¨ä¸­ (window as any).__POWERED_BY_QIANKUN__ = true; (window as any).__INJECTED_PUBLIC_PATH_BY_QIANKUN__ = app.entry + '/'; //æ‰§è¡Œå­åº”ç”¨ä¸­çš„jsè„šæœ¬ é€šè¿‡æ¨¡æ‹Ÿçš„commonJsç¯å¢ƒ è·å–å¯¹è±¡ const appExports: any = await execScript(); app.bootstrap = appExports.bootstrap; app.mount = appExports.mount; app.unmount = appExports.unmount; //æ‰§è¡Œå­åº”ç”¨ç”Ÿå‘½å‘¨æœŸ await bootstrap(app); await mount(app);&#125;;async function bootstrap(app: app) &#123; app.bootstrap &amp;&amp; (await app.bootstrap());&#125;async function mount(app: app) &#123; app.mount &amp;&amp; (await app.mount(&#123; container: document.querySelector(app.container), &#125;));&#125;async function unmount(app: app) &#123; app.unmount &amp;&amp; (await app.unmount());&#125; å›› ã€åŠ è½½å­åº”ç”¨èµ„æº123456789101112131415161718192021222324252627282930313233343536373839404142const htmlEntry = async (url) =&gt; &#123; //æ‰‹åŠ¨æ‰§è¡Œè·å–çš„scriptæ ‡ç­¾ //é€šè¿‡è¯·æ±‚è·å–åº”ç”¨çš„ html css js const html: string = await fetch(url).then((res) =&gt; res.text()); const template = document.createElement('div'); template.innerHTML = html; //è·å–æ‰€æœ‰çš„scriptæ ‡ç­¾ const scripts = template.querySelectorAll('script'); function getExternalScript() &#123; return Promise.all( Array.from(scripts).map((script) =&gt; &#123; let src = script.getAttribute('src'); if (!src) &#123; //æ˜¯å¦æ˜¯å†…è” return Promise.resolve(script.innerHTML); &#125; else &#123; //æ˜¯å¦æ˜¯æœ¬åœ°èµ„æº å¦‚æœæ˜¯æœ¬åº—åˆ™åŠ ä¸Šåº”ç”¨åŸŸå src = src.startsWith('http') ? src : `$&#123;url&#125;$&#123;src&#125;`; return fetch(src).then((res) =&gt; res.text()); &#125; &#125;), ); &#125; async function execScript() &#123; const scripts = await getExternalScript(); //æ‰‹åŠ¨æ„é€ commonjs ç¯å¢ƒ const module = &#123; exports: &#123;&#125; &#125;; const exports = module.exports; //evalæ‰§è¡Œä»£ç å¯ä»¥è®¿é—®ä¸Šä¸‹æ–‡ scripts.forEach((code) =&gt; &#123; eval(code); &#125;); //ä¸å¤Ÿçµæ´» //return window['vue'] return module.exports; &#125; return &#123; template, getExternalScript, execScript, &#125;;&#125;; äº” ã€æ¸²æŸ“å­åº”ç”¨1ã€å­åº”ç”¨æ‰“åŒ…æ¨¡å¼ä¸ºumd,åœ¨æ‰§è¡Œå®Œåå°†ç»“æœæŒ‚è½½åˆ°windowä¸Š 2ã€æ›´çµæ´»çš„è·å–å­åº”ç”¨å¯¹è±¡ æ‰‹åŠ¨æ„é€ ä¸€ä¸ªcommon jsç¯å¢ƒè®©å­åº”ç”¨æŒ‚è½½ 12345678910111213async function execScript() &#123; const scripts = await getExternalScript(); //æ‰‹åŠ¨æ„é€ commonjs ç¯å¢ƒ const module = &#123; exports: &#123;&#125; &#125;; const exports = module.exports; //evalæ‰§è¡Œä»£ç å¯ä»¥è®¿é—®ä¸Šä¸‹æ–‡ scripts.forEach((code) =&gt; &#123; eval(code); &#125;); //ä¸å¤Ÿçµæ´» //return window['vue'] return module.exports; &#125;]]></content>
      <categories>
        <category>å‰ç«¯æ¶æ„</category>
      </categories>
      <tags>
        <tag>å¾®å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¾®å‰ç«¯(qiankun)è§£å†³æ–¹æ¡ˆ]]></title>
    <url>%2F2022%2F06%2F24%2Fcl4s3gtig009lwn9ebjzpd3b3%2F</url>
    <content type="text"><![CDATA[å‰ç«¯å¾®å‰ç«¯å°é¢: %E5%89%8D%E7%AB%AF%E5%BE%AE%E5%89%8D%E7%AB%AF%20f04f5f55f68147ea928b27ea14443c0d/v2-2efaa89ac52b38913bdcc0f3603c8e58_1440w.jpegç®€ä»‹: å¾®å‰ç«¯æ–¹æ¡ˆï¼Œqiankunå¾®å‰ç«¯æ–¹æ¡ˆå®ç°åŸç† å¾®å‰ç«¯å…¥é—¨åˆ°å…¥é—¨.pdf æ‰‹å†™ qiankun å¾®å‰ç«¯æ¡†æ¶ å¾®å‰ç«¯å®ç°æ–¹æ¡ˆIframeä¼˜åŠ¿ æŠ€æœ¯æˆç†Ÿ æ”¯æŒé¡µé¢åµŒå…¥ï¼ŒurlåµŒå…¥å®¹å™¨ å¤©ç„¶æ”¯æŒè¿è¡Œæ²™ç®±éš”ç¦»ã€ç‹¬ç«‹è¿è¡Œ åŠ£åŠ¿ é¡µé¢ä¹‹é—´å¯ä»¥æ˜¯ä¸åŒçš„åŸŸåï¼Œä¸åŒåŸŸåçš„é‰´æƒï¼Œè·¨åŸŸå¤„ç† éœ€è¦å¯¹åº”çš„è®¾è®¡ä¸€å¥—åº”ç”¨é€šä¿¡æœºåˆ¶ï¼ŒpostMessageé€šä¿¡ åº”ç”¨åŠ è½½ã€æ¸²æŸ“ã€ç¼“å­˜ç­‰ä½“ç³»çš„å®ç°ï¼Œiframeæ§åˆ¶æ‰‹æ®µè¾ƒå°‘ web component Web Components æ˜¯ä¸€å¥—ä¸åŒçš„æŠ€æœ¯ï¼Œå…è®¸æ‚¨åˆ›å»ºå¯é‡ç”¨çš„å®šåˆ¶å…ƒç´ ï¼ˆå®ƒä»¬çš„åŠŸèƒ½å°è£…åœ¨æ‚¨çš„ä»£ç ä¹‹å¤–ï¼‰å¹¶ä¸”åœ¨æ‚¨çš„webåº”ç”¨ä¸­ä½¿ç”¨å®ƒä»¬ã€‚ ä¼˜åŠ¿ æ”¯æŒè‡ªå®šä¹‰å…ƒç´  æ”¯æŒshadow domï¼Œå¹¶å¯é€šè¿‡å…³è”è¿›è¡Œæ§åˆ¶ æ”¯æŒæ¨¡æ¿templateå’Œæ’æ§½slotï¼Œå¼•å…¥è‡ªå®šä¹‰ç»„ä»¶å†…å®¹ åŠ£åŠ¿ æ¥å…¥å¾®å‰ç«¯éœ€è¦é‡å†™å½“å‰é¡¹ç›® ç”Ÿæ€ä½“ç³»ä¸å®Œå–„ï¼ŒæŠ€æœ¯è¿‡æ–°å®¹æ˜“å‡ºè¡Œå…¼å®¹æ€§é—®é¢˜ æ•´ä½“è®¾è®¡æ¶æ„å¤æ‚ï¼Œç»„ä»¶ç›´æ¥æ‹†åˆ†è¿‡ç»†æ—¶ï¼Œå®¹æ˜“é€ æˆé€šè®¯å’Œæ§åˆ¶ç¹ç è‡ªç ”æ¡†æ¶ä¼˜åŠ¿ é«˜åº¦å®šåˆ¶åŒ– ï¼Œæ»¡è¶³ä¸šåŠ¡éœ€æ±‚ ç‹¬ç«‹çš„é€šä¿¡æœºåˆ¶å’Œæ²™ç®±ï¼Œå¯è§£å†³åº”ç”¨ä¹‹é—´ç›¸äº’å½±å“çš„é—®é¢˜ æ”¯æŒä¸åŒæŠ€æœ¯æ ˆåº”ç”¨ï¼Œå¯æ— ç¼å®ç°é¡µé¢çš„æ— åˆ·æ–°æ¸²æŸ“ åŠ£åŠ¿ æŠ€æœ¯å®ç°éš¾åº¦è¾ƒé«˜ éœ€è¦è®¾è®¡ä¸€å¥—å®šåˆ¶çš„é€šä¿¡æœºåˆ¶ é¦–æ¬¡åŠ è½½ä¼šå‡ºç°èµ„æºè¿‡å¤§çš„æƒ…å†µ ä½¿ç”¨è‡ªç ”æ¡†æ¶è®¾è®¡é‡ç‚¹ï¼š è·¯ç”±åˆ†å‘å¼ ä¸»åº”ç”¨æ§åˆ¶è·¯ç”±åŒ¹é…å’Œå­åº”ç”¨åŠ è½½ï¼Œå…±äº«ä¾èµ–åŠ è½½ å­åº”ç”¨åšåŠŸèƒ½ï¼Œå¹¶æ¥å…¥ä¸»åº”ç”¨å®ç°ä¸»å­æ§åˆ¶å’Œè”åŠ¨ å¾®å‰ç«¯æŠ€æœ¯æ ˆ1. ä¸»åº”ç”¨ æ³¨å†Œå­åº”ç”¨ åŠ è½½ã€æ¸²æŸ“å­åº”ç”¨ è·¯ç”±åŒ¹é…ï¼ˆactiveWhenï¼Œrules - ç”±æ¡†æ¶åˆ¤æ–­ï¼‰ è·å–æ•°æ®ï¼ˆå…¬å…±ä¾èµ–ï¼Œé€šè¿‡æ•°æ®åšé‰´æƒå¤„ç†ï¼‰ é€šä¿¡ï¼ˆçˆ¶å­é€šä¿¡ï¼Œå­—çˆ¶é€šä¿¡ï¼‰ 2. å­åº”ç”¨çš„åŠŸèƒ½ æ¸²æŸ“ ç›‘å¬é€šä¿¡ï¼ˆä¸»åº”ç”¨ä¼ è¿‡æ¥çš„æ•°æ®ï¼‰ 3. å¾®å‰ç«¯æ¡†æ¶ å­åº”ç”¨çš„æ³¨å†Œ æœ‰å¼€å§‹å†…å®¹ï¼ˆåº”ç”¨åŠ è½½å®Œæˆï¼‰ è·¯ç”±æ›´æ–°åˆ¤æ–­ åŒ¹é…å¯¹åº”å­åº”ç”¨ï¼ŒåŠ è½½å­åº”ç”¨å†…å®¹ å®Œæˆæ‰€æœ‰ä¾èµ–é¡¹åŠ è½½ å°†å­åº”ç”¨æ¸²æŸ“åœ¨å›ºå®šçš„å®¹å™¨å†… å…¬å…±äº‹ä»¶ç®¡ç† å¼‚å¸¸çš„æ•è·å’ŒæŠ¥é”™ å…¨å±€çŠ¶æ€ç®¡ç† æ²™ç®±éš”ç¦» 4. æœåŠ¡ç«¯çš„åŠŸèƒ½ æä¾›æ•°æ®æœåŠ¡ 5. å‘å¸ƒå¹³å° ä¸»å­åº”ç”¨æ‰“åŒ…å’Œå‘å¸ƒ å¾®å‰ç«¯æ¶æ„å›¾]]></content>
      <categories>
        <category>å‰ç«¯æ¶æ„</category>
      </categories>
      <tags>
        <tag>å¾®å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vueæ¨¡æ¿æ˜¯å¦‚ä½•ç¼–è¯‘çš„ï¼Ÿ]]></title>
    <url>%2F2022%2F06%2F14%2Fcl4s3gtg4005fwn9en0t8hpb4%2F</url>
    <content type="text"><![CDATA[Vueæ¨¡æ¿æ˜¯å¦‚ä½•ç¼–è¯‘çš„ï¼ŸTags: ç¼–è¯‘å…³é”®è¯: å¦‚ä½•å¾—åˆ° render functionåˆ›å»ºæ—¶é—´: May 31, 2022 123new Vue(&#123; render: h =&gt; h(App)&#125;) è°ƒç”¨renderæ–¹æ³•ä¼šå¾—åˆ°ä¼ å…¥çš„æ¨¡æ¿(.vueæ–‡ä»¶)å¯¹åº”çš„è™šæ‹Ÿ DOMï¼Œrender æ–¹æ³•æœ‰ä¸¤ç§æ¥æº ç¬¬ä¸€ç§ç»è¿‡æ¨¡æ¿ç¼–è¯‘åç”Ÿæˆ render å‡½æ•°; ç¬¬äºŒç§æ˜¯æˆ‘ä»¬è‡ªå·±åœ¨ç»„ä»¶å®šä¹‰äº† render å‡½æ•°ï¼Œè¿™ç§æ–¹å¼ä¼šè·³è¿‡æ¨¡æ¿ç¼–è¯‘è¿‡ç¨‹; æ¨¡æ¿ç¼–è¯‘ æ¨¡æ¿ç¼–è¯‘çš„ç»“æœå°±æ˜¯å¾—åˆ°renderå‡½æ•° å¦‚ä½•å°† vueæ–‡ä»¶çš„ template æ¨¡æ¿ç¼–è¯‘æˆæµè§ˆå™¨è®¤è¯†çš„ HTMLï¼Ÿ æå–å‡ºæ¨¡æ¿ä¸­åŸç”Ÿçš„ HTML å’ŒéåŸç”Ÿçš„ HTMLï¼Œæ¯”å¦‚ç»‘å®šçš„å±æ€§ã€äº‹ä»¶ã€æŒ‡ä»¤ï¼› ç»è¿‡ä¸€ç³»åˆ—å¤„ç†ç”Ÿæˆ render å‡½æ•°ï¼› render å‡½æ•°æ‰§è¡Œå°†æ¨¡æ¿å†…å®¹ç”Ÿæˆå¯¹åº”çš„ vnodeï¼› å†ç»è¿‡ patch è¿‡ç¨‹ï¼ˆdiffç®—æ³•ï¼‰å¾—åˆ°è¦æ¸²æŸ“åˆ°è§†å›¾ä¸­çš„ vnodeï¼› ç¼–è¯‘æµç¨‹ï¼Œä¸»è¦æœ‰ä¸‰æ­¥ï¼š æ¨¡æ¿è§£æï¼šé€šè¿‡æ­£åˆ™ç­‰æ–¹å¼å°† template æ¨¡æ¿é‡Œçš„æ ‡ç­¾å…ƒç´ ã€å±æ€§ã€å˜é‡ç­‰ä¿¡æ¯ï¼Œè§£ææˆæŠ½è±¡è¯­æ³•æ ‘ **ASTï¼ˆparseï¼‰**ï¼› ä¼˜åŒ–ï¼šéå† AST æ‰¾å‡ºå…¶ä¸­çš„é™æ€èŠ‚ç‚¹å’Œé™æ€æ ¹èŠ‚ç‚¹ï¼Œå¹¶æ·»åŠ æ ‡è®°ï¼›ï¼ˆ**optimize**ï¼‰ ä»£ç ç”Ÿæˆï¼šæ ¹æ® AST ç”Ÿæˆæ¸²æŸ“å‡½æ•° **render ï¼ˆgenerateï¼‰** **parse(ast) â‡’ optimize(ast) â‡’ generate(code) â‡’ render(code.render)** æ€»ç»“ğŸ”¥å¦‚æœæƒ³è¦å°† vue çš„æ¨¡æ¿æ–‡ä»¶æ¸²æŸ“åˆ°çœŸå®çš„ htmlä¸Šï¼Œéœ€è¦å°†æ¨¡æ¿æ–‡ä»¶è½¬ä¸ºvnodeï¼Œåœ¨ç»è¿‡ patchï¼ˆdiffç®—æ³•ï¼‰æŒ‚è½½åˆ°çœŸå®domï¼› å¦‚ä½•å¾—åˆ° vnode å‘¢ï¼Ÿéœ€è¦é€šè¿‡è°ƒç”¨ render æ–¹æ³•ã€‚ render æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ç»è¿‡ vue ç¼–è¯‘å™¨é€šè¿‡æ¨¡æ¿ç¼–è¯‘çš„æ–¹å¼å¾—åˆ°ï¼Œå¦ä¸€ç§æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„ render functionã€‚ é€šè¿‡ç¼–è¯‘å¾—åˆ° render function çš„æµç¨‹ï¼š parse è§£æ template æ–‡ä»¶ï¼Œé€šè¿‡æ­£åˆ™åŒ¹é…ç­‰æ–¹æ³•ï¼Œå¾—åˆ°astè¯­æ³•æ ‘ï¼› optimize ä¼˜åŒ– ast è¯­æ³•æ ‘ï¼Œåšé™æ€æ ‡è®°ï¼› generate ä»£ç ç”Ÿæˆï¼Œå°† ast è¯­æ³•æ ‘è½¬ä¸º codeï¼Œå…¶ä¸­ä¹Ÿå¾—åˆ°äº†render æ–¹æ³•ï¼›]]></content>
      <categories>
        <category>å‰ç«¯æ¡†æ¶</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Typescriptç±»å‹ä½“æ“]]></title>
    <url>%2F2022%2F06%2F14%2Fcl4s3gtg2005awn9evkooem4m%2F</url>
    <content type="text"><![CDATA[tsç±»å‹ä½“æ“Column: March 30, 2022 10:36 AMStatus: YesTags: ts Easy å®ç°Pick 12345678910111213141516171819202122/* **ä»ç±»å‹ T ä¸­é€‰æ‹©å‡ºå±æ€§ Kï¼Œæ„é€ æˆä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œ***///========= å®ç° =========type MyPick&lt;T, K extends keyof T&gt; = &#123; [key in K]: T[key]&#125;//========= ç”¨ä¾‹ =========interface Todo &#123; title: string description: string completed: boolean&#125;type TodoPreview = MyPick&lt;Todo, &apos;title&apos; | &apos;completed&apos;&gt;const todo: TodoPreview = &#123; title: &apos;Clean room&apos;, completed: false,&#125; å®ç° Readonly 12345678910111213141516171819202122/*è¯¥ Readonly ä¼šæ¥æ”¶ä¸€ä¸ª æ³›å‹å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå®Œå…¨ä¸€æ ·çš„ç±»å‹ï¼Œåªæ˜¯æ‰€æœ‰å±æ€§éƒ½ä¼šè¢« readonly æ‰€ä¿®é¥°ã€‚ä¹Ÿå°±æ˜¯ä¸å¯ä»¥å†å¯¹è¯¥å¯¹è±¡çš„å±æ€§èµ‹å€¼ã€‚*///========= å®ç° =========type MyReadonly&lt;T&gt; = &#123; readonly [key in keyof T]: T[key]&#125;//========= ç”¨ä¾‹ =========interface Todo &#123; title: string description: string&#125;const todo: MyReadonly&lt;Todo&gt; = &#123; title: &quot;Hey&quot;, description: &quot;foobar&quot;&#125;todo.title = &quot;Hello&quot; // Error: cannot reassign a readonly propertytodo.description = &quot;barFoo&quot; // Error: cannot reassign a readonly property å…ƒç»„è½¬æ¢ä¸ºå¯¹è±¡ 12345678910111213ä¼ å…¥ä¸€ä¸ªå…ƒç»„ç±»å‹ï¼Œå°†è¿™ä¸ªå…ƒç»„ç±»å‹è½¬æ¢ä¸ºå¯¹è±¡ç±»å‹ï¼Œè¿™ä¸ªå¯¹è±¡ç±»å‹çš„é”®/å€¼éƒ½æ˜¯ä»å…ƒç»„ä¸­éå†å‡ºæ¥ã€‚// T extends readonly string[], æ³›å‹çº¦æŸï¼ŒT ç±»å‹é™å®šåœ¨ å­—ç¬¦ä¸²ç±»å‹çš„æ•°ç»„// P in T[number], P æ˜¯ æ•°ç»„å€¼çš„é›†åˆï¼Œä½œä¸º Keyï¼ŒåŒæ—¶ä¹Ÿä½œä¸ºå€¼è¿”å›type TupleToObject&lt;T extends readonly string[]&gt; = &#123; [P in T[number]]: P&#125;//========= ç”¨ä¾‹ =========const tuple = [&apos;tesla&apos;, &apos;model 3&apos;, &apos;model X&apos;, &apos;model Y&apos;] as consttype result = TupleToObject&lt;typeof tuple&gt; // expected &#123; tesla: &apos;tesla&apos;, &apos;model 3&apos;: &apos;model 3&apos;, &apos;model X&apos;: &apos;model X&apos;, &apos;model Y&apos;: &apos;model Y&apos;&#125; ç¬¬ä¸€ä¸ªå…ƒç´  12345678910å®ç°ä¸€ä¸ªé€šç”¨First&lt;T&gt;ï¼Œå®ƒæ¥å—ä¸€ä¸ªæ•°ç»„Tå¹¶è¿”å›å®ƒçš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç±»å‹// infer ç±»å‹å ä½ï¼Œå®šä¸€ä¸ªå…ƒç´ çš„ç±»å‹ï¼Œå…·ä½“ç±»å‹éœ€è¦åœ¨è¿è¡Œæ—¶ç¡®å®štype First&lt;T extends any[]&gt; = T extends [infer R, ...unknown[]] ? R : nevertype arr1 = [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;]type arr2 = [3, 2, 1]type head1 = First&lt;arr1&gt; // expected to be &apos;a&apos;type head2 = First&lt;arr2&gt; // expected to be 3 è·å–å…ƒç»„é•¿åº¦ 123456789åˆ›å»ºä¸€ä¸ªé€šç”¨çš„Lengthï¼Œæ¥å—ä¸€ä¸ªreadonlyçš„æ•°ç»„ï¼Œè¿”å›è¿™ä¸ªæ•°ç»„çš„é•¿åº¦ã€‚type Length&lt;T extends readonly unknown[]&gt; = T[&apos;length&apos;]type tesla = [&apos;tesla&apos;, &apos;model 3&apos;, &apos;model X&apos;, &apos;model Y&apos;]type spaceX = [&apos;FALCON 9&apos;, &apos;FALCON HEAVY&apos;, &apos;DRAGON&apos;, &apos;STARSHIP&apos;, &apos;HUMAN SPACEFLIGHT&apos;]type teslaLength = Length&lt;tesla&gt; // expected 4type spaceXLength = Length&lt;spaceX&gt; // expected 5 å®ç° Excule ğŸ’¡ å¯¹äºè”åˆç±»å‹æ¥è¯´ä¼šè‡ªåŠ¨åˆ†å‘æ¡ä»¶ï¼Œä¾‹å¦‚ T extends U ? X : Y, T å¯èƒ½æ˜¯ A | B çš„è”åˆç±»å‹, é‚£å®é™…æƒ…å†µå°±å˜æˆ(A extends U ? X : Y) | (B extends U ? X : Y) 12345å®ç°å†…ç½®çš„Exclude &lt;Tï¼ŒU&gt;ç±»å‹ï¼Œä½†ä¸èƒ½ç›´æ¥ä½¿ç”¨å®ƒæœ¬èº«ã€‚ä»è”åˆç±»å‹Tä¸­æ’é™¤Uçš„ç±»å‹æˆå‘˜ï¼Œæ¥æ„é€ ä¸€ä¸ªæ–°çš„ç±»å‹ã€‚type MyExclude&lt;T, U&gt; = T extends U ? never : T;type demo1 = Exclude&lt;string | number | (() =&gt; void), string&gt; // number | () =&gt; void Awaited 123456å‡å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ª Promise å¯¹è±¡ï¼Œè¿™ä¸ª Promise å¯¹è±¡ä¼šè¿”å›ä¸€ä¸ªç±»å‹ã€‚åœ¨ TS ä¸­ï¼Œæˆ‘ä»¬ç”¨ Promise ä¸­çš„ T æ¥æè¿°è¿™ä¸ª Promise è¿”å›çš„ç±»å‹ã€‚è¯·ä½ å®ç°ä¸€ä¸ªç±»å‹ï¼Œå¯ä»¥è·å–è¿™ä¸ªç±»å‹ã€‚type MyAwaited&lt;T extends Promise&lt;unknown&gt;&gt; = T extends Promise&lt;infer Res&gt; ? Res extends Promise&lt;unknown&gt; ? MyAwaited&lt;Res&gt; : Res : T;// æˆ–è€…type MyAwaited&lt;T&gt; = T extends Promise&lt;infer U&gt; ? MyAwaited&lt;U&gt; : T; If 1234567å®ç°ä¸€ä¸ª IF ç±»å‹ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªæ¡ä»¶ç±»å‹ C ï¼Œä¸€ä¸ªåˆ¤æ–­ä¸ºçœŸæ—¶çš„è¿”å›ç±»å‹ T ï¼Œä»¥åŠä¸€ä¸ªåˆ¤æ–­ä¸ºå‡æ—¶çš„è¿”å›ç±»å‹ Fã€‚ C åªèƒ½æ˜¯ true æˆ–è€… falseï¼Œ T å’Œ F å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚type If&lt;C extends boolean, T, F&gt; = C extends true ? T : Ftype A = If&lt;true, &apos;a&apos;, &apos;b&apos;&gt; // expected to be &apos;a&apos;type B = If&lt;false, &apos;a&apos;, &apos;b&apos;&gt; // expected to be &apos;b&apos; Concat 12345åœ¨ç±»å‹ç³»ç»Ÿé‡Œå®ç° JavaScript å†…ç½®çš„ Array.concat æ–¹æ³•ï¼Œè¿™ä¸ªç±»å‹æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œè¿”å›çš„æ–°æ•°ç»„ç±»å‹åº”è¯¥æŒ‰ç…§è¾“å…¥å‚æ•°ä»å·¦åˆ°å³çš„é¡ºåºåˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚type Concat&lt;T extends unknown[], U extends unknown[]&gt; = [...T, ...U]type Result = Concat&lt;[1], [2]&gt; // expected to be [1, 2] Includes 1234567åœ¨ç±»å‹ç³»ç»Ÿé‡Œå®ç° JavaScript çš„ Array.includes æ–¹æ³•ï¼Œè¿™ä¸ªç±»å‹æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œè¿”å›çš„ç±»å‹è¦ä¹ˆæ˜¯ true è¦ä¹ˆæ˜¯ falseã€‚// Equal&lt;U, First&gt; extends true ? åˆ¤æ–­ U å’Œ Firstæ˜¯å¦æ˜¯ç›¸åŒç±»å‹ï¼Œ å¦‚æœä¸æ˜¯æ•°ç»„ç§»ä½ç»§ç»­åˆ¤æ–­// ç”¨åˆ°äº†é€’å½’ï¼Œéå†å®Œæ•°ç»„è¿˜æ˜¯æ²¡æ‰¾åˆ°åŒ¹é…ç±»å‹çš„è¯ï¼Œè¿”å›falsetype Includes&lt;T extends readonly any[], U&gt; = T extends [infer First, ...infer Rest] ? Equal&lt;U, First&gt; extends true ? true : Includes&lt;Rest, U&gt; : falsetype isPillarMen = Includes&lt;[&apos;Kars&apos;, &apos;Esidisi&apos;, &apos;Wamuu&apos;, &apos;Santana&apos;], &apos;Dio&apos;&gt; // expected to be `false` Push 12345åœ¨ç±»å‹ç³»ç»Ÿé‡Œå®ç°é€šç”¨çš„ Array.pushtype Push&lt;T extends unknown[], U&gt; = [...T, U]type Result = Push&lt;[1, 2], &apos;3&apos;&gt; // [1, 2, &apos;3&apos;] Unshit 12345å®ç°ç±»å‹ç‰ˆæœ¬çš„ Array.unshiftã€‚type Unshift&lt;T extends unknown[], U&gt; = [U, ...T]type Result = Unshift&lt;[1, 2], 0&gt; // [0, 1, 2,] Parameters 123å®ç°å†…ç½®çš„ Parameters ç±»å‹ï¼Œè·å–å‡½æ•°çš„å‚æ•°ç±»å‹type MyParameters&lt;T extends (...args: any[]) =&gt; any&gt; = T extends ((...args: infer R) =&gt; any) ? R : never Middle è·å–å‡½æ•°è¿”å›ç±»å‹ 123456789101112ä¸ä½¿ç”¨ ReturnType å®ç° TypeScript çš„ ReturnType&lt;T&gt; æ³›å‹ã€‚type MyReturnType&lt;T extends (...args: any[]) =&gt; any&gt; = T extends (...args: any[]) =&gt; infer R ? R : never;const fn = (v: boolean) =&gt; &#123; if (v) return 1 else return 2&#125;type a = MyReturnType&lt;typeof fn&gt; // åº”æ¨å¯¼å‡º &quot;1 | 2&quot; å®ç° Omit 1234567891011121314151617181920ä¸ä½¿ç”¨ Omit å®ç° TypeScript çš„ Omit&lt;T, K&gt; æ³›å‹, Omit ä¼šåˆ›å»ºä¸€ä¸ªçœç•¥ K ä¸­å­—æ®µçš„ T å¯¹è±¡ã€‚// K extends keyof T, ä»Tä¸­å–æ‰€æœ‰keyçš„åˆé›†// Exclude&lt;keyof T, K&gt;, ä»Tçš„keyçš„åˆé›†ä¸­ï¼Œå‰”é™¤Ktype MyOmit&lt;T, K extends keyof T&gt; = &#123; [p in Exclude&lt;keyof T, K&gt;]: T[p]&#125;interface Todo &#123; title: string description: string completed: boolean&#125;type TodoPreview = MyOmit&lt;Todo, &apos;description&apos; | &apos;title&apos;&gt;const todo: TodoPreview = &#123; completed: false,&#125; Readonly 2 1234567891011121314151617181920å®ç°ä¸€ä¸ªé€šç”¨MyReadonly2&lt;T, K&gt;ï¼Œå®ƒå¸¦æœ‰ä¸¤ç§ç±»å‹çš„å‚æ•°Tå’ŒKã€‚KæŒ‡å®šåº”è®¾ç½®ä¸ºReadonlyçš„Tçš„å±æ€§é›†ã€‚å¦‚æœæœªæä¾›Kï¼Œåˆ™åº”ä½¿æ‰€æœ‰å±æ€§éƒ½å˜ä¸ºåªè¯»ï¼Œå°±åƒæ™®é€šçš„Readonly&lt;T&gt;ä¸€æ ·ã€‚type MyReadonly2&lt;T, K extends keyof T = keyof T&gt; = Omit&lt;T, K&gt; &amp; Readonly&lt;Pick&lt;T, K&gt;&gt;interface Todo &#123; title: string description: string completed: boolean&#125;const todo: MyReadonly2&lt;Todo, &apos;title&apos; | &apos;description&apos;&gt; = &#123; title: &quot;Hey&quot;, description: &quot;foobar&quot;, completed: false,&#125;todo.title = &quot;Hello&quot; // Error: cannot reassign a readonly propertytodo.description = &quot;barFoo&quot; // Error: cannot reassign a readonly propertytodo.completed = true // OK æ·±åº¦ Readonly ğŸ’¡ Record&lt;Keys,Type&gt; æ„é€ ä¸€ä¸ªå¯¹è±¡ç±»å‹ï¼Œå…¶å±æ€§keyæ˜¯Keys,å±æ€§valueæ˜¯Typeã€‚è¢«ç”¨äºæ˜ å°„ä¸€ä¸ªç±»å‹çš„å±æ€§åˆ°å¦ä¸€ä¸ªç±»å‹ã€‚ ç®€å•æ¥è¯´ï¼ŒTypeScriptä¸­çš„Recordå¯ä»¥å®ç°å®šä¹‰ä¸€ä¸ªå¯¹è±¡çš„ key å’Œ value ç±»å‹ï¼ŒRecord åé¢çš„æ³›å‹å°±æ˜¯å¯¹è±¡é”®å’Œå€¼çš„ç±»å‹ã€‚ 123456789101112interface CatInfo &#123; age: number; breed: string;&#125; type CatName = &quot;mincat&quot; | &quot;licat&quot; | &quot;mordred&quot;; const cats: Record&lt;CatName, CatInfo&gt; = &#123; mincat: &#123; age: 10, breed: &quot;å°çŒ«er&quot; &#125;, licat: &#123; age: 5, breed: &quot;æçŒ«er&quot; &#125;, mordred: &#123; age: 16, breed: &quot;æ— åçŒ«er&quot; &#125;,&#125;; &lt;/aside&gt; 12345678910111213141516171819202122232425å®ç°ä¸€ä¸ªé€šç”¨çš„DeepReadonly&lt;T&gt;ï¼Œå®ƒå°†å¯¹è±¡çš„æ¯ä¸ªå‚æ•°åŠå…¶å­å¯¹è±¡é€’å½’åœ°è®¾ä¸ºåªè¯»ã€‚æ‚¨å¯ä»¥å‡è®¾åœ¨æ­¤æŒ‘æˆ˜ä¸­æˆ‘ä»¬ä»…å¤„ç†å¯¹è±¡ã€‚æ•°ç»„ï¼Œå‡½æ•°ï¼Œç±»ç­‰éƒ½æ— éœ€è€ƒè™‘ã€‚// åˆ©ç”¨ç±»å‹é€’å½’ï¼Œ Record&lt;string, unkonwn&gt; åˆ¤æ–­ä»ç„¶æ˜¯å¯¹è±¡ç±»å‹type DeepReadonly&lt;T&gt; = &#123; readonly [P in keyof T]: T[P] extends Record&lt;string, unknown&gt; ? DeepReadonly&lt;T[P]&gt; : T[P]&#125;type X = &#123; x: &#123; a: 1 b: &apos;hi&apos; &#125; y: &apos;hey&apos;&#125;type Expected = &#123; readonly x: &#123; readonly a: 1 readonly b: &apos;hi&apos; &#125; readonly y: &apos;hey&apos; &#125;type Todo = DeepReadonly&lt;X&gt; // should be same as `Expected` å…ƒç»„è½¬åˆé›† 12345678å®ç°æ³›å‹TupleToUnion&lt;T&gt;ï¼Œå®ƒè¿”å›å…ƒç»„æ‰€æœ‰å€¼çš„åˆé›†ã€‚// T[number] è·å–å…ƒç»„ç±»å‹çš„å€¼type TupleToUnion&lt;T extends readonly unknown[]&gt; = T[number]type Arr = [&apos;1&apos;, &apos;2&apos;, &apos;3&apos;]type Test = TupleToUnion&lt;Arr&gt; // expected to be &apos;1&apos; | &apos;2&apos; | &apos;3&apos; å¯ä¸²è”æ„é€ å™¨ 1234567891011121314151617181920212223242526åœ¨ JavaScript ä¸­æˆ‘ä»¬å¾ˆå¸¸ä¼šä½¿ç”¨å¯ä¸²è”ï¼ˆChainable/Pipelineï¼‰çš„å‡½æ•°æ„é€ ä¸€ä¸ªå¯¹è±¡ï¼Œä½†åœ¨ TypeScript ä¸­ï¼Œä½ èƒ½åˆç†çš„ç»™ä»–é™„ä¸Šç±»å‹å—ï¼Ÿåœ¨è¿™ä¸ªæŒ‘æˆ˜ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»»æ„ä½ å–œæ¬¢çš„æ–¹å¼å®ç°è¿™ä¸ªç±»å‹ - Interface, Type æˆ– Class éƒ½è¡Œã€‚ä½ éœ€è¦æä¾›ä¸¤ä¸ªå‡½æ•° option(key, value) å’Œ get()ã€‚åœ¨ option ä¸­ä½ éœ€è¦ä½¿ç”¨æä¾›çš„ key å’Œ value æ‰©å±•å½“å‰çš„å¯¹è±¡ç±»å‹ï¼Œé€šè¿‡ get è·å–æœ€ç»ˆç»“æœã€‚type Chainable&lt;T = &#123;&#125;&gt; = &#123; option&lt;K extends string, V = unknown&gt;(key: K, value: V): Chainable&lt;T &amp; Record&lt;K, V&gt;&gt; // option æ˜¯å‡½æ•°ç±»å‹ get(): T&#125;declare const config: Chainableconst result = config .option(&apos;foo&apos;, 123) .option(&apos;name&apos;, &apos;type-challenges&apos;) .option(&apos;bar&apos;, &#123; value: &apos;Hello World&apos; &#125;) .get()// æœŸæœ› result çš„ç±»å‹æ˜¯ï¼šinterface Result &#123; foo: number name: string bar: &#123; value: string &#125;&#125; æœ€åä¸€ä¸ªå…ƒç´  123456789å®ç°ä¸€ä¸ªé€šç”¨Last&lt;T&gt;ï¼Œå®ƒæ¥å—ä¸€ä¸ªæ•°ç»„Tå¹¶è¿”å›å…¶æœ€åä¸€ä¸ªå…ƒç´ çš„ç±»å‹ã€‚type Last&lt;T extends any[]&gt; = T extends [...any[], infer Last] ? Last : nevertype arr1 = [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;]type arr2 = [3, 2, 1]type tail1 = Last&lt;arr1&gt; // expected to be &apos;c&apos;type tail2 = Last&lt;arr2&gt; // expected to be 1 å‡ºå † 123456789å®ç°ä¸€ä¸ªé€šç”¨Pop&lt;T&gt;ï¼Œå®ƒæ¥å—ä¸€ä¸ªæ•°ç»„Tå¹¶è¿”å›ä¸€ä¸ªæ²¡æœ‰æœ€åä¸€ä¸ªå…ƒç´ çš„æ•°ç»„ã€‚type Pop&lt;T extends any[]&gt; = T extends [...infer First, any] ? First : nevertype arr1 = [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;]type arr2 = [3, 2, 1]type re1 = Pop&lt;arr1&gt; // expected to be [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;]type re2 = Pop&lt;arr2&gt; // expected to be [3, 2] Promise.all 1234567891011121314é”®å…¥å‡½æ•°PromiseAllï¼Œå®ƒæ¥å—PromiseLikeå¯¹è±¡æ•°ç»„ï¼Œè¿”å›å€¼åº”ä¸ºPromise&lt;T&gt;ï¼Œå…¶ä¸­Tæ˜¯è§£æçš„ç»“æœæ•°ç»„declare function PromiseAll&lt;T extends any[]&gt;(values: readonly [...T]) : Promise&lt;&#123; [R in keyof T]: T[R] extends Promise&lt;infer S&gt; ? S : T[R]&#125;&gt;const promise1 = Promise.resolve(3);const promise2 = 42;const promise3 = new Promise&lt;string&gt;((resolve, reject) =&gt; &#123; setTimeout(resolve, 100, &apos;foo&apos;);&#125;);// expected to be `Promise&lt;[number, 42, string]&gt;`const p = Promise.all([promise1, promise2, promise3] as const) Type Lookup 1234567891011121314151617åœ¨æ­¤æŒ‘æˆ˜ä¸­ï¼Œæˆ‘ä»¬æƒ³é€šè¿‡åœ¨è”åˆCat | Dogä¸­æœç´¢å…¬å…±typeå­—æ®µæ¥è·å–ç›¸åº”çš„ç±»å‹ã€‚æ¢å¥è¯è¯´ï¼Œåœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æœŸæœ›LookUp&lt;Dog | Cat, &apos;dog&apos;&gt;è·å¾—Dogï¼ŒLookUp&lt;Dog | Cat, &apos;cat&apos;&gt;è·å¾—Catã€‚type LookUp&lt;U, T&gt; = U extends &#123;type: T&#125; ? U : neverinterface Cat &#123; type: &apos;cat&apos; breeds: &apos;Abyssinian&apos; | &apos;Shorthair&apos; | &apos;Curl&apos; | &apos;Bengal&apos;&#125;interface Dog &#123; type: &apos;dog&apos; breeds: &apos;Hound&apos; | &apos;Brittany&apos; | &apos;Bulldog&apos; | &apos;Boxer&apos; color: &apos;brown&apos; | &apos;white&apos; | &apos;black&apos;&#125;type MyDog = LookUp&lt;Cat | Dog, &apos;dog&apos;&gt; // expected to be `Dog` Trim Left 12345å®ç° TrimLeft&lt;T&gt; ï¼Œå®ƒæ¥æ”¶ç¡®å®šçš„å­—ç¬¦ä¸²ç±»å‹å¹¶è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­æ–°è¿”å›çš„å­—ç¬¦ä¸²åˆ é™¤äº†åŸå­—ç¬¦ä¸²å¼€å¤´çš„ç©ºç™½å­—ç¬¦ä¸²ã€‚type TrimLeft&lt;S extends string&gt; = S extends `$&#123;&apos; &apos; | &apos;\n&apos; | &apos;\t&apos;&#125;$&#123;infer R&#125;` ? TrimLeft&lt;R&gt; : Stype trimed = TrimLeft&lt;&apos; Hello World &apos;&gt; // åº”æ¨å¯¼å‡º &apos;Hello World &apos; Trim 1234567Implement Trim&lt;T&gt; which takes an exact string type and returns a new string with the whitespace from both ends removed.åˆ é™¤ä¸¤ç«¯çš„ç©ºæ ¼type Trim&lt;S extends string&gt; = S extends `$&#123;&apos; &apos; | &apos;\n&apos; | &apos;\t&apos;&#125;$&#123;infer L&#125;` ? Trim&lt;L&gt; : S extends `$&#123;infer R&#125;$&#123;&apos; &apos; | &apos;\n&apos; | &apos;\t&apos;&#125;` ? Trim&lt;R&gt; : Stype trimed = Trim&lt;&apos; Hello World &apos;&gt; // expected to be &apos;Hello World&apos; Capitalize 12345é¦–å­—æ¯å¤§å†™ï¼Œå…¶ä»–éƒ¨åˆ†ä¿æŒåŸæ ·// Uppercaseï¼Œ å°†å­—ç¬¦ä¸²è½¬ä¸ºå¤§å†™type MyCapitalize&lt;S extends string&gt; = S extends `$&#123;infer R&#125;$&#123;infer Rest&#125;` ? `$&#123;Uppercase&lt;R&gt;&#125;$&#123;Rest&#125;` : &apos;&apos;type capitalized = Capitalize&lt;&apos;hello world&apos;&gt; // expected to be &apos;Hello world&apos; Replace 123456å®ç° Replace&lt;S, From, To&gt; å°†å­—ç¬¦ä¸² S ä¸­çš„ç¬¬ä¸€ä¸ªå­å­—ç¬¦ä¸² From æ›¿æ¢ä¸º To ã€‚type Replace&lt;S extends string, From extends string, To extends string&gt; = From extends &apos;&apos; ? S : S extends `$&#123;infer Pre&#125;$&#123;From&#125;$&#123;infer Last&#125;` ? `$&#123;Pre&#125;$&#123;To&#125;$&#123;Last&#125;` : Stype replaced = Replace&lt;&apos;types are fun!&apos;, &apos;fun&apos;, &apos;awesome&apos;&gt; // æœŸæœ›æ˜¯ &apos;types are awesome!&apos; ReplaceAll 12345å®ç° ReplaceAll&lt;S, From, To&gt; å°†ä¸€ä¸ªå­—ç¬¦ä¸² S ä¸­çš„æ‰€æœ‰å­å­—ç¬¦ä¸² From æ›¿æ¢ä¸º Toã€‚type ReplaceAll&lt;S extends string, From extends string, To extends string&gt; = From extends &apos;&apos; ? S : S extends `$&#123;infer Pre&#125;$&#123;From&#125;$&#123;infer Last&#125;` ? `$&#123;Pre&#125;$&#123;To&#125;$&#123;ReplaceAll&lt;Last, From, To&gt;&#125;` : Stype replaced = ReplaceAll&lt;&apos;t y p e s&apos;, &apos; &apos;, &apos;&apos;&gt; // æœŸæœ›æ˜¯ &apos;types&apos; è¿½åŠ å‚æ•° 123456789å®ç°ä¸€ä¸ªæ³›å‹ AppendArgument&lt;Fn, A&gt;ï¼Œå¯¹äºç»™å®šçš„å‡½æ•°ç±»å‹ Fnï¼Œä»¥åŠä¸€ä¸ªä»»æ„ç±»å‹ Aï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•° Gã€‚G æ‹¥æœ‰ Fn çš„æ‰€æœ‰å‚æ•°å¹¶åœ¨æœ«å°¾è¿½åŠ ç±»å‹ä¸º A çš„å‚æ•°ã€‚type AppendArgument&lt;Fn, A&gt; = Fn extends (...args: infer P) =&gt; infer Res ? (...args: [...P, A]) =&gt; Res : nevertype Fn = (a: number, b: string) =&gt; numbertype Result = AppendArgument&lt;Fn, boolean&gt; // æœŸæœ›æ˜¯ (a: number, b: string, x: boolean) =&gt; number Permutationï¼ˆpasï¼‰ 12345å®ç°å°†è”åˆç±»å‹è½¬æ¢ä¸ºåŒ…å«è”åˆæ’åˆ—çš„æ•°ç»„çš„æ’åˆ—ç±»å‹ã€‚type Permutation&lt;T, U = T&gt; = [T] extends [never] ? [] : (T extends U ? [T, ...Permutation&lt;Exclude&lt;U, T&gt;&gt;] : [])type perm = Permutation&lt;&apos;A&apos; | &apos;B&apos; | &apos;C&apos;&gt;; // [&apos;A&apos;, &apos;B&apos;, &apos;C&apos;] | [&apos;A&apos;, &apos;C&apos;, &apos;B&apos;] | [&apos;B&apos;, &apos;A&apos;, &apos;C&apos;] | [&apos;B&apos;, &apos;C&apos;, &apos;A&apos;] | [&apos;C&apos;, &apos;A&apos;, &apos;B&apos;] | [&apos;C&apos;, &apos;B&apos;, &apos;A&apos;] Length of String 12345è®¡ç®—å­—ç¬¦ä¸²æ–‡å­—çš„é•¿åº¦// å…ˆæŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•°ç»„ï¼Œå†å–lengthå±æ€§type StrToArr&lt;S extends string&gt; = S extends `$&#123;infer F&#125;$&#123;infer S&#125;` ? [F, ...StrToArr&lt;S&gt;] : [];type LengthOfString&lt;S extends string&gt; = S extends string ? StrToArr&lt;S&gt;[&quot;length&quot;] : 0 Flatten 123æ•°ç»„å±•å¹³type flatten = Flatten&lt;[1, 2, [3, 4], [[[5]]]]&gt; // [1, 2, 3, 4, 5]]]></content>
      <categories>
        <category>Typescript</category>
      </categories>
      <tags>
        <tag>Typescript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[React Hooks æ ¸å¿ƒåŸç†ä¸å®æˆ˜]]></title>
    <url>%2F2022%2F06%2F14%2Fcl4s3gtfk004cwn9ei1up5e5r%2F</url>
    <content type="text"><![CDATA[React Hooks æ ¸å¿ƒåŸç†ä¸å®æˆ˜Tags: å‰ç«¯æºç åˆ›å»ºæ—¶é—´: May 24, 2022è¯„æ˜Ÿ: â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ 03ï½œå†…ç½® Hooksï¼ˆ1ï¼‰ï¼šå¦‚ä½•ä¿å­˜ç»„ä»¶çŠ¶æ€å’Œä½¿ç”¨ç”Ÿå‘½å‘¨æœŸï¼ŸuseStateåŸåˆ™state ä¸­æ°¸è¿œä¸è¦ä¿å­˜å¯ä»¥é€šè¿‡è®¡ç®—å¾—åˆ°çš„å€¼ã€‚ React Hooks å››ç§æ‰§è¡Œæ—¶æœºuseEffect è®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¸‹é¢å››ç§æ—¶æœºå»æ‰§è¡Œä¸€ä¸ªå›è°ƒå‡½æ•°äº§ç”Ÿå‰¯ä½œç”¨ï¼š æ¯æ¬¡ render åæ‰§è¡Œï¼šä¸æä¾›ç¬¬äºŒä¸ªä¾èµ–é¡¹å‚æ•°ã€‚æ¯”å¦‚useEffect(() =&gt; {}) ä»…ç¬¬ä¸€æ¬¡ render åæ‰§è¡Œï¼šæä¾›ä¸€ä¸ªç©ºæ•°ç»„ä½œä¸ºä¾èµ–é¡¹ã€‚æ¯”å¦‚useEffect(() =&gt; {}, []) ç¬¬ä¸€æ¬¡ä»¥åŠä¾èµ–é¡¹å‘ç”Ÿå˜åŒ–åæ‰§è¡Œï¼šæä¾›ä¾èµ–é¡¹æ•°ç»„ã€‚æ¯”å¦‚useEffect(() =&gt; {}, [deps]) ç»„ä»¶ unmount åæ‰§è¡Œï¼šè¿”å›ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚æ¯”å¦‚useEffect() =&gt; { return () =&gt; {} }, []) Hooks çš„ä½¿ç”¨è§„åˆ™ Hooks åªèƒ½åœ¨å‡½æ•°ç»„ä»¶çš„é¡¶çº§ä½œç”¨åŸŸä½¿ç”¨ æ‰€è°“é¡¶å±‚ä½œç”¨åŸŸï¼Œå°±æ˜¯ Hooks ä¸èƒ½åœ¨å¾ªç¯ã€æ¡ä»¶åˆ¤æ–­æˆ–è€…åµŒå¥—å‡½æ•°å†…æ‰§è¡Œï¼Œè€Œå¿…é¡»æ˜¯åœ¨é¡¶å±‚ã€‚åŒæ—¶ Hooks åœ¨ç»„ä»¶çš„å¤šæ¬¡æ¸²æŸ“ä¹‹é—´ï¼Œå¿…é¡»æŒ‰é¡ºåºè¢«æ‰§è¡Œã€‚ Hooks åªèƒ½åœ¨å‡½æ•°ç»„ä»¶æˆ–è€…å…¶å®ƒ Hooks ä¸­ä½¿ç”¨ 04ï½œå†…ç½® Hooksï¼ˆ2ï¼‰ï¼šä¸ºä»€ä¹ˆè¦é¿å…é‡å¤å®šä¹‰å›è°ƒå‡½æ•°ï¼ŸuseCallbackï¼šç¼“å­˜å›è°ƒå‡½æ•°123456789function Counter() &#123; const [count, setCount] = useState(0); **// handleIncrementæ˜¯å®šä¹‰åœ¨å‡½æ•°å†…éƒ¨çš„ï¼Œå› æ­¤åœ¨å¤šæ¬¡æ¸²æŸ“ä¹‹é—´æ— æ³•é‡ç”¨ï¼Œæ¯æ¬¡éƒ½éœ€è¦é‡æ–°åˆ›å»º** const handleIncrement = () =&gt; setCount(count + 1); **// æ¯æ¬¡åˆ›å»ºæ–°å‡½æ•°çš„æ–¹å¼ä¼šè®©æ¥æ”¶äº‹ä»¶å¤„ç†å‡½æ•°çš„ç»„ä»¶ï¼Œéœ€è¦é‡æ–°æ¸²æŸ“ã€‚** return &lt;button onClick=&#123;handleIncrement&#125;&gt;+&lt;/button&gt;&#125; æ¥æ”¶äº† handleIncrement ï¼Œå¹¶ä½œä¸ºä¸€ä¸ªå±æ€§ã€‚å¦‚æœæ¯æ¬¡éƒ½æ˜¯ä¸€ä¸ªæ–°çš„ï¼Œé‚£ä¹ˆè¿™ä¸ª React å°±ä¼šè®¤ä¸ºè¿™ä¸ªç»„ä»¶çš„ props å‘ç”Ÿäº†å˜åŒ–ï¼Œä»è€Œå¿…é¡»é‡æ–°æ¸²æŸ“ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åšåˆ°çš„æ˜¯ï¼šåªæœ‰å½“ count å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæˆ‘ä»¬æ‰éœ€è¦é‡æ–°å®šä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚è€Œè¿™æ­£æ˜¯ useCallback è¿™ä¸ª Hook çš„ä½œç”¨ã€‚ 1234567891011import React, &#123; useState, useCallback &#125; from 'react';function Counter() &#123; const [count, setCount] = useState(0); const handleIncrement = useCallback( () =&gt; setCount(count + 1), [count], // åªæœ‰å½“ count å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°åˆ›å»ºå›è°ƒå‡½æ•° ); // ... return &lt;button onClick=&#123;handleIncrement&#125;&gt;+&lt;/button&gt;&#125; useMemoï¼šç¼“å­˜è®¡ç®—çš„ç»“æœ1234let usersToShow = null; if (users) &#123; // æ— è®ºç»„ä»¶ä¸ºä½•åˆ·æ–°ï¼Œè¿™é‡Œä¸€å®šä¼šå¯¹æ•°ç»„åšä¸€æ¬¡è¿‡æ»¤çš„æ“ä½œ usersToShow = users.data.filter((user) =&gt; user.first_name.includes(searchKey), ); &#125; è¿™ä¸ªåœºæ™¯åº”è¯¥å¾ˆå®¹æ˜“ç†è§£ï¼šå¦‚æœæŸä¸ªæ•°æ®æ˜¯é€šè¿‡å…¶å®ƒæ•°æ®è®¡ç®—å¾—åˆ°çš„ï¼Œé‚£ä¹ˆåªæœ‰å½“ç”¨åˆ°çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ä¾èµ–çš„æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæ‰åº”è¯¥éœ€è¦é‡æ–°è®¡ç®—ã€‚ 123456789//...// ä½¿ç”¨ userMemo ç¼“å­˜è®¡ç®—çš„ç»“æœconst usersToShow = useMemo(() =&gt; &#123; if (!users) return null; return users.data.filter((user) =&gt; &#123; return user.first_name.includes(searchKey)); &#125; &#125;, [users, searchKey]);//... ç¼“å­˜ä¸Šä¸€æ¬¡çš„è®¡ç®—ç»“æœï¼ŒuseMemo å¯ä»¥é¿å…å­ç»„ä»¶é‡å¤æ¸²æŸ“ã€‚ useRefï¼šåœ¨å¤šæ¬¡æ¸²æŸ“ä¹‹é—´å…±äº«æ•°æ®useRef çœ‹ä½œæ˜¯åœ¨å‡½æ•°ç»„ä»¶ä¹‹å¤–åˆ›å»ºçš„ä¸€ä¸ªå®¹å™¨ç©ºé—´ï¼Œç”¨äºå…±äº«å˜é‡ã€‚ 1234567891011// å®šä¹‰ timer è¿™æ ·ä¸€ä¸ªå®¹å™¨ç”¨äºåœ¨è·¨ç»„ä»¶æ¸²æŸ“ä¹‹é—´ä¿å­˜ä¸€ä¸ªå˜é‡const timer = useRef(null);// å¼€å§‹è®¡æ—¶çš„äº‹ä»¶å¤„ç†å‡½æ•°const handleStart = useCallback(() =&gt; &#123; // ä½¿ç”¨ current å±æ€§è®¾ç½® ref çš„å€¼ timer.current = window.setInterval(() =&gt; &#123; setTime((time) =&gt; time + 1); &#125;, 100);&#125;, []); ä¿å­˜æŸä¸ª DOM èŠ‚ç‚¹çš„å¼•ç”¨ 12345678910111213function TextInputWithFocusButton() &#123; const inputEl = useRef(null); const onButtonClick = () =&gt; &#123; // current å±æ€§æŒ‡å‘äº†çœŸå®çš„ input è¿™ä¸ª DOM èŠ‚ç‚¹ï¼Œä»è€Œå¯ä»¥è°ƒç”¨ focus æ–¹æ³• inputEl.current.focus(); &#125;; return ( &lt;&gt; &lt;input ref=&#123;inputEl&#125; type="text" /&gt; &lt;button onClick=&#123;onButtonClick&#125;&gt;Focus the input&lt;/button&gt; &lt;/&gt; );&#125; useContextï¼šå®šä¹‰å…¨å±€çŠ¶æ€è¦è·¨å±‚æ¬¡ï¼Œæˆ–è€…åŒå±‚çš„ç»„ä»¶ä¹‹é—´è¦è¿›è¡Œæ•°æ®çš„å…±äº«ï¼ŒReact æä¾›äº† Context è¿™æ ·ä¸€ä¸ªæœºåˆ¶ï¼Œèƒ½å¤Ÿè®©æ‰€æœ‰åœ¨æŸä¸ªç»„ä»¶å¼€å§‹çš„ç»„ä»¶æ ‘ä¸Šåˆ›å»ºä¸€ä¸ª Contextã€‚è¿™æ ·è¿™ä¸ªç»„ä»¶æ ‘ä¸Šçš„æ‰€æœ‰ç»„ä»¶ï¼Œå°±éƒ½èƒ½è®¿é—®å’Œä¿®æ”¹è¿™ä¸ª Context äº†ã€‚é‚£ä¹ˆåœ¨å‡½æ•°ç»„ä»¶é‡Œï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ useContext è¿™æ ·ä¸€ä¸ª Hook æ¥ç®¡ç† Contextã€‚ 08ï½œå¤æ‚çŠ¶æ€å¤„ç†ï¼šå¦‚ä½•ä¿è¯çŠ¶æ€ä¸€è‡´æ€§ï¼ŸåŸåˆ™ä¸€ï¼šä¿è¯çŠ¶æ€æœ€å°åŒ–123456789101112const [searchKey, setSearchKey] = useState("");**// æ¯å½“ searchKey æˆ–è€… data å˜åŒ–çš„æ—¶å€™ï¼Œé‡æ–°è®¡ç®—æœ€ç»ˆç»“æœ****// åˆ©ç”¨useMemoç¼“å­˜è®¡ç®—çš„å€¼**const filtered = useMemo(() =&gt; &#123; return data.filter((item) =&gt; item.title.toLowerCase().includes(searchKey.toLowerCase()) );&#125;, [searchKey, data]);// &#123;filtered.map((item) =&gt; &#123;&#125;) ... ğŸ”¥ æ ¸å¿ƒåŸåˆ™ï¼Œå¦‚æœèƒ½é€šè¿‡è®¡ç®—å¾—åˆ°ç»“æœï¼Œå°±ä¸è¦ä¿å­˜åœ¨stateä¸­ã€‚è¿™æ ·éœ€è¦æ‰‹åŠ¨ç»´æŠ¤æ•°æ®ä¸€è‡´æ€§ï¼Œå¢åŠ å¤æ‚åº¦ã€‚ åŸåˆ™äºŒï¼š é¿å…ä¸­é—´çŠ¶æ€ï¼Œç¡®ä¿å”¯ä¸€æ•°æ®æº10ï½œå‡½æ•°ç»„ä»¶è®¾è®¡æ¨¡å¼ï¼šå¦‚ä½•åº”å¯¹å¤æ‚æ¡ä»¶æ¸²æŸ“åœºæ™¯ï¼Ÿå®¹å™¨æ¨¡å¼ï¼šå®ç°æŒ‰æ¡ä»¶æ‰§è¡Œ Hooksæ‰€è°“å®¹å™¨æ¨¡å¼ï¼Œæ˜¯å°†åˆ¤æ–­é€»è¾‘æ”¾åœ¨å®¹å™¨å†…éƒ¨ï¼Œä»è€Œé¿å…åœ¨åˆ¤æ–­é€»è¾‘ä¸­å†™ hooks 12345678910// å®šä¹‰ä¸€ä¸ªå®¹å™¨ç»„ä»¶ç”¨äºå°è£…çœŸæ­£çš„ UserInfoModalexport default function UserInfoModalWrapper(&#123; visible, ...rest, // ä½¿ç”¨ rest è·å–é™¤äº† visible ä¹‹å¤–çš„å±æ€§&#125;) &#123; // å¦‚æœå¯¹è¯æ¡†ä¸æ˜¾ç¤ºï¼Œåˆ™ä¸ render ä»»ä½•å†…å®¹ if (!visible) return null; // å¦åˆ™çœŸæ­£æ‰§è¡Œå¯¹è¯æ¡†çš„ç»„ä»¶é€»è¾‘ return &lt;UserInfoModal visible &#123;...rest&#125; /&gt;;&#125; åŒç†ï¼Œåœ¨è‡ªå®šä¹‰hookså†…éƒ¨ï¼Œåˆ¤æ–­æ˜¯å¦å¤„ç† 12345678910function useUser(id) &#123; const [data, setData] = useState(null); const [loading, setLoading] = useState(false); const [error, setError] = useState(null); useEffect(() =&gt; &#123; // å½“ id ä¸å­˜åœ¨ï¼Œç›´æ¥è¿”å›ï¼Œä¸å‘é€è¯·æ±‚ if (!id) return // è·å–ç”¨æˆ·ä¿¡æ¯çš„é€»è¾‘ &#125;);&#125; ä½¿ç”¨ render props æ¨¡å¼é‡ç”¨ UI é€»è¾‘render props å°±æ˜¯æŠŠä¸€ä¸ª render å‡½æ•°ä½œä¸ºå±æ€§ä¼ é€’ç»™æŸä¸ªç»„ä»¶ï¼Œç”±è¿™ä¸ªç»„ä»¶å»æ‰§è¡Œè¿™ä¸ªå‡½æ•°ä»è€Œ render å®é™…çš„å†…å®¹ã€‚ 1234567891011121314151617181920212223242526272829import &#123; useState, useCallback &#125; from "react";function CounterRenderProps(&#123; children &#125;) &#123; const [count, setCount] = useState(0); const increment = useCallback(() =&gt; &#123; setCount(count + 1); &#125;, [count]); const decrement = useCallback(() =&gt; &#123; setCount(count - 1); &#125;, [count]); return children(&#123; count, increment, decrement &#125;);&#125;function CounterRenderPropsExample() &#123; return ( &lt;CounterRenderProps&gt; &#123;(&#123; count, increment, decrement &#125;) =&gt; &#123; return ( &lt;div&gt; &lt;button onClick=&#123;decrement&#125;&gt;-&lt;/button&gt; &lt;span&gt;&#123;count&#125;&lt;/span&gt; &lt;button onClick=&#123;increment&#125;&gt;+&lt;/button&gt; &lt;/div&gt; ); &#125;&#125; &lt;/CounterRenderProps&gt; );&#125; ä¸€ä¸ªshowMoreçš„ä¾‹å­ï¼Œå®ç°UIçš„é‡ç”¨ 123456789101112131415161718192021// ListWithMore.jsximport &#123; Popover &#125; from "antd";function ListWithMore(&#123; renderItem, data = [], max &#125;) &#123; const elements = data.map((item, index) =&gt; renderItem(item, index, data)); const show = elements.slice(0, max); const hide = elements.slice(max); return ( &lt;span className="exp-10-list-with-more"&gt; &#123;show&#125; &#123;hide.length &gt; 0 &amp;&amp; ( &lt;Popover content=&#123;&lt;div style=&#123;&#123; maxWidth: 500 &#125;&#125;&gt;&#123;hide&#125;&lt;/div&gt;&#125;&gt; &lt;span className="more-items-wrapper"&gt; and&#123;" "&#125; &lt;span className="more-items-trigger"&gt; &#123;hide.length&#125; more...&lt;/span&gt; &lt;/span&gt; &lt;/Popover&gt; )&#125; &lt;/span&gt; );&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243// ListWithMoreExample.jsx è¿™é‡Œç”¨ä¸€ä¸ªç¤ºä¾‹æ•°æ®import data from './data';function ListWithMoreExample () =&gt; &#123; return ( &lt;div className="exp-10-list-with-more"&gt; &lt;h1&gt;User Names&lt;/h1&gt; &lt;div className="user-names"&gt; Liked by:&#123;" "&#125; **&lt;ListWithMore** renderItem=&#123;(user) =&gt; &#123; return &lt;span className="user-name"&gt;&#123;user.name&#125;&lt;/span&gt;; &#125;&#125; data=&#123;data&#125; max=&#123;3&#125; /&gt; &lt;/div&gt; &lt;br /&gt; &lt;br /&gt; &lt;h1&gt;User List&lt;/h1&gt; &lt;div className="user-list"&gt; &lt;div className="user-list-row user-list-row-head"&gt; &lt;span className="user-name-cell"&gt;Name&lt;/span&gt; &lt;span&gt;City&lt;/span&gt; &lt;span&gt;Job Title&lt;/span&gt; &lt;/div&gt; **&lt;ListWithMore** renderItem=&#123;(user) =&gt; &#123; return ( &lt;div className="user-list-row"&gt; &lt;span className="user-name-cell"&gt;&#123;user.name&#125;&lt;/span&gt; &lt;span&gt;&#123;user.city&#125;&lt;/span&gt; &lt;span&gt;&#123;user.job&#125;&lt;/span&gt; &lt;/div&gt; ); &#125;&#125; data=&#123;data&#125; max=&#123;5&#125; /&gt; &lt;/div&gt; &lt;/div&gt; );&#125;;]]></content>
      <categories>
        <category>å‰ç«¯æ¡†æ¶</category>
      </categories>
      <tags>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[esbuild-loaderåŠ å¿«æ‰“åŒ…é€Ÿåº¦]]></title>
    <url>%2F2022%2F06%2F14%2Fcl4s3gtgn0063wn9eci2jttc9%2F</url>
    <content type="text"><![CDATA[æ·»åŠ esbuild-loaderåŠ å¿«æ‰“åŒ…é€Ÿåº¦Tags: å·¥ç¨‹åŒ–, æ„å»ºä¼˜åŒ–åˆ›å»ºæ—¶é—´: January 14, 2022è¯„æ˜Ÿ: â­ï¸â­ï¸â­ï¸â­ï¸ https://github.com/privatenumber/esbuild-loader unused-webpack-plugin å¦‚ä½•ä½¿ç”¨ splitChunks ç²¾ç»†æ§åˆ¶ä»£ç åˆ†å‰² - æ˜é‡‘ ä¼˜åŒ–æ–¹æ¡ˆå¼•å…¥esbuild-loader+splitChunksåˆ†åŒ… æ€§èƒ½æµ‹è¯• webpack4 webpack4+esbuild-loader yarn run serve 45 44 47 38 38 38 yarn run build 351 81 80 115 73 60 ç™»å½•é¡µè€—æ—¶ï¼ˆæµ‹è¯•ç¯å¢ƒï¼‰ 5.54 2.84 2.76 è®¾å¤‡åˆ—è¡¨é¡µè€—æ—¶ï¼ˆæµ‹è¯•ç¯å¢ƒï¼‰ 6.15 2.28 2.13 å½“å‰ä¸‰ä¸ªç¯å¢ƒæ‰“åŒ…ä½“ç§¯ï¼ˆä¼˜åŒ–å‰ï¼‰]]></content>
      <categories>
        <category>å‰ç«¯å·¥ç¨‹åŒ–</category>
      </categories>
      <tags>
        <tag>æ„å»ºä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºBrowserlistæµè§ˆå™¨æ”¯æŒèŒƒå›´]]></title>
    <url>%2F2022%2F06%2F14%2Fcl4s3gths008cwn9eqo5zasl6%2F</url>
    <content type="text"><![CDATA[å…³äºBrowserlistæµè§ˆå™¨æ”¯æŒèŒƒå›´Tags: å·¥ç¨‹åŒ–åˆ›å»ºæ—¶é—´: January 11, 2022è¯„æ˜Ÿ: â­ï¸â­ï¸â­ï¸â­ï¸ æŸ¥çœ‹æµè§ˆå™¨å†…æ ¸ç‰ˆæœ¬ï¼šhttps://liulanmi.com/labs/core.html ä»€éº¼æ˜¯ Browserlistï¼Ÿè¨­å®š Autoprefixerã€Stylelint ä¾†æ”¯æ´ä½ æƒ³è¦çš„ä»»ä½•ç€è¦½å™¨ï¼https://ithelp.ithome.com.tw/articles/10192300 https://github.com/browserslist/browserslist https://aaronflower.github.io/essay/Browserslist.html https://github.com/vitejs/vite/tree/main/packages/plugin-legacy é—®é¢˜æè¿°å®¢æˆ·æ‰‹æœºæ‰“ä¸å¼€h5é‡æ„é¡µé¢ï¼Œæ”¹ç”¨æˆ·é…ç½®å¦‚ä¸‹ï¼š çœŸæœºæ¨¡æ‹Ÿç¼ºå¤±æ— æ³•æ‰“å¼€ï¼Œç»æ’æŸ¥ï¼Œä¿®æ”¹äº† plugin-legacy æ’ä»¶é…ç½®åé—®é¢˜ä¿®å¤ã€‚ è§£å†³æ–¹æ¡ˆä»£ç ä¿®æ”¹å¦‚ä¸‹ï¼š é…ç½®è¯´æ˜12345678import legacy from '@vitejs/plugin-legacy';export default&#123; legacy(&#123; // targets: ['defaults', 'not IE 11'], target: ['last 2 version', '&gt;1%', 'ios 7'], &#125;),&#125; targets: [â€˜defaultsâ€™, â€˜not IE 11â€™] defaults: &gt; 0.5%, last 2 versions, Firefox ESR, not dead. 0.5: ä½¿ç”¨ç‡å¤§äº0.5% last 2 version : å³æ”¯æŒå„ç±»æµè§ˆå™¨æœ€è¿‘çš„2ä¸ªç‰ˆæœ¬; Firefox ESR: æ”¯æŒç«ç‹æµè§ˆå™¨å»¶é•¿æ”¯æŒç‰ˆï¼› not dead: è¿™ä¸ª query ä¸­ not æ˜¯é€»è¾‘éæ“ä½œç¬¦ï¼Œå³å¯¹ deadå–åã€‚dead æ¡ä»¶æ˜¯ï¼šæœ€æ–°çš„ä¸¤ä¸ªç‰ˆæœ¬ä¸­å‘ç°å…¶å¸‚åœºä»½é¢å·²ç»ä½äº 0.5% å¹¶ä¸” 24 ä¸ªæœˆå†…æ²¡æœ‰ä»»åŠ¡å®˜æ–¹æ”¯æŒå’Œæ›´æ–°äº†ï¼› not IE 11ï¼šä¸æ”¯æŒIE 11ï¼› target: [â€˜last 2 versionâ€™, â€˜&gt;1%â€™, â€˜ios 7â€™] 0.5: ä½¿ç”¨ç‡å¤§äº1%ï¼› last 2 version : å³æ”¯æŒå„ç±»æµè§ˆå™¨æœ€è¿‘çš„2ä¸ªç‰ˆæœ¬; ios 7ï¼šæ”¯æŒ ios 7ï¼›]]></content>
      <categories>
        <category>æµè§ˆå™¨</category>
      </categories>
      <tags>
        <tag>æµè§ˆå™¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰ç«¯æ€§èƒ½ç›‘æ§]]></title>
    <url>%2F2022%2F06%2F14%2Fcl4s3gti3008uwn9e7e6sift6%2F</url>
    <content type="text"><![CDATA[å‰ç«¯æ€§èƒ½ç›‘æ§å°é¢: %E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%2085db83fd863b462d9386a935991bd7d5/Untitled%207.pngç®€ä»‹: å‰ç«¯æ€§èƒ½ç›‘æ§åŸç†ã€è½åœ°æ–¹æ¡ˆ æ€§èƒ½ç›‘æ§é˜¿é‡Œå‰ç«¯ä¸“å®¶starè€å¸ˆåˆ†äº«https://www.bilibili.com/video/BV1rT4y1a7YS?spm_id_from=333.999.0.0 1. æ€§èƒ½ç›‘æ§å¹³å°æ¶æ„è®¾è®¡ **æ€§èƒ½é‡‡é›†SDK â‡’ å¤§æ•°æ®å¤„ç† â‡’ æ•°æ®å¯è§†åŒ– â‡’ æ€§èƒ½æ•°æ®é¢„è­¦** 2. å‰ç«¯æ€§èƒ½ç›‘æ§åŸç†æ ¸å¿ƒAPI https://developer.mozilla.org/zh-CN/docs/Web/API/Navigation_timing_API æ ¸å¿ƒAPI navigation_timingï¼ŒNavigation Timing API æä¾›äº†å¯ç”¨äºè¡¡é‡ä¸€ä¸ªç½‘ç«™æ€§èƒ½çš„æ•°æ®ã€‚ä¸ç”¨äºç›¸åŒç›®çš„çš„å…¶ä»–åŸºäºJavaScriptçš„æœºåˆ¶ä¸åŒï¼Œè¯¥APIå¯ä»¥æä¾›å¯ä»¥æ›´æœ‰ç”¨å’Œæ›´å‡†ç¡®çš„ç«¯åˆ°ç«¯å»¶è¿Ÿæ•°æ®ã€‚ **æ ¸å¿ƒåŸç†ï¼šæ ¹æ®Navigation Timing APIï¼Œå¯ä»¥è·å–åˆ°ä»»æ„è¿‡ç¨‹çš„è€—æ—¶** ä»£ç å®ä¾‹ **åŸŸåè§£æè€—æ—¶** ç²¾åº¦æ›´é«˜çš„API Navigation Timing APIåªèƒ½ç²¾ç¡®åˆ°æ¯«ç§’çº§ï¼Œé€šè¿‡ **window.performance.getEntries()**ğŸ”¥ è·å–çº³ç§’çº§çš„ç»“æœã€‚ 3. æ€§èƒ½ç›‘æ§å¸¸è§æŒ‡æ ‡https://songyazhao.github.io/2020/11/02/Web Performanceå¸¸è§æ€§èƒ½æŒ‡æ ‡/ FPï¼ˆFirst Paintï¼‰ é¦–æ¬¡ç»˜åˆ¶ æ ‡è®°æµè§ˆå™¨æ¸²æŸ“ä»»ä½•åœ¨è§†è§‰ä¸Šä¸åŒäºå¯¼èˆªå‰å±å¹•å†…å®¹ä¹‹å†…å®¹çš„æ—¶é—´ç‚¹ã€‚ FCPï¼ˆFirst Contentful Paintï¼‰é¦–æ¬¡å†…å®¹ç»˜åˆ¶ æ ‡è®°æµè§ˆå™¨æ¸²æŸ“æ¥è‡ª DOM ç¬¬ä¸€ä½å†…å®¹çš„æ—¶é—´ç‚¹ï¼Œè¯¥å†…å®¹å¯èƒ½æ˜¯æ–‡æœ¬ã€å›¾åƒã€SVG ç”šè‡³ å…ƒç´ ã€‚ LCPï¼ˆLargest Contentful Paintï¼‰æœ€å¤§å†…å®¹æ¸²æŸ“ è¡¡é‡viewportå†…å¯è§çš„æœ€å¤§å†…å®¹å…ƒç´ çš„æ¸²æŸ“æ—¶é—´ã€‚å…ƒç´ åŒ…æ‹¬imgã€videoã€divåŠå…¶ä»–å—çº§å…ƒç´ ã€‚ LCPçš„æ•°æ®ä¼šé€šè¿‡PerformanceEntryå¯¹è±¡è®°å½•, æ¯æ¬¡å‡ºç°æ›´å¤§çš„å†…å®¹æ¸²æŸ“, åˆ™ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„PerformanceEntryå¯¹è±¡.(2019å¹´11æœˆæ–°å¢)ã€‚ DCLï¼ˆDomContentloadedï¼‰ å½“ HTML æ–‡æ¡£è¢«å®Œå…¨åŠ è½½å’Œè§£æå®Œæˆä¹‹åï¼ŒDOMContentLoaded äº‹ä»¶è¢«è§¦å‘ï¼Œæ— éœ€ç­‰å¾…æ ·å¼è¡¨ã€å›¾åƒå’Œå­æ¡†æ¶çš„å®ŒæˆåŠ è½½ã€‚ Lï¼ˆonLoadï¼‰ é¡µé¢çš„onLoadæ—¶çš„æ—¶é—´ç‚¹ã€‚å½“ä¾èµ–çš„èµ„æº, å…¨éƒ¨åŠ è½½å®Œæ¯•ä¹‹åæ‰ä¼šè§¦å‘ã€‚ 4. æ›´å¤šçš„æ€§èƒ½æŒ‡æ ‡ä»¥ä¸Šçš„APIåªèƒ½åœ¨ onload ä¸­ä½¿ç”¨ï¼Œonloadä¹‹åæ— æ³•ç›‘æ§ï¼Œå¯ä»¥é€šè¿‡ PerformanceObserver ç›‘æ§æ€§èƒ½å˜åŒ–æŒ‡æ ‡]]></content>
      <categories>
        <category>å‰ç«¯å·¥ç¨‹åŒ–</category>
      </categories>
      <tags>
        <tag>å‰ç«¯å·¥ç¨‹åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰ç«¯æ€§èƒ½ä¼˜åŒ–æ€»ç»“]]></title>
    <url>%2F2022%2F06%2F14%2Fcl4s3gti2008rwn9eatmd4ulb%2F</url>
    <content type="text"><![CDATA[å‰ç«¯æ€§èƒ½ä¼˜åŒ–æ€»ç»“ æ€§èƒ½ä¼˜åŒ–çš„æŒ‡æ ‡å’Œå·¥å…· æ¸²æŸ“ä¼˜åŒ– èµ„æºå‹ç¼©ä¸åˆå¹¶ æ„å»ºä¼˜åŒ– ä¼ è¾“åŠ è½½ä¼˜åŒ– æ€§èƒ½ä¼˜åŒ–çš„æŒ‡æ ‡å’Œå·¥å…·Created: April 24, 2022 6:07 PM æ€§èƒ½æŒ‡æ ‡ï¼Œå¤šå—æ‰ç®—å¿«æ€§èƒ½æŒ‡æ ‡å’Œä¼˜åŒ–ç›®æ ‡ ã€åŠ è½½ç€‘å¸ƒå›¾ã€‘è°·æ­Œè°ƒè¯•å·¥å…· NetWordï¼ŒWaterfallï¼›TTFBï¼Œhttpè¯·æ±‚ä»å‘èµ·åˆ°è¿”å›çš„æ—¶é—´ï¼› ã€é€Ÿåº¦æŒ‡æ•°ã€‘Lighthouseæµ‹è¯•ç½‘ç«™è¯„åˆ†ï¼Œ100æ»¡åˆ†ï¼› ã€å¸§ç‡FPSã€‘æŸ¥è¯¢ç½‘ç«™å¸§ç‡ï¼› ã€é¡µé¢åŠ è½½æ—¶é—´ã€‘å¼‚æ­¥è¯·æ±‚å®Œæˆæ—¶é—´åœ¨ä¸€ç§’é’Ÿå†…ï¼Œæ— æ³•å®ŒæˆåŠ loadingåŠ¨ç”»ï¼› ã€é¦–æ¬¡æ¸²æŸ“ã€‘æ‡’åŠ è½½ã€é¢„åŠ è½½ä¼˜åŒ–ï¼› ã€äº¤äº’ã€‘äº¤äº’åŠ¨ä½œåé¦ˆæ—¶é—´è¶³å¤ŸçŸ­ï¼› RAILæµ‹é‡æ¨¡å‹ä»€ä¹ˆæ˜¯RAILRespose(å“åº”)ï¼šç½‘ç«™ç»™ç”¨æˆ·çš„å“åº”ä½“éªŒAnimation(åŠ¨ç”»): ç½‘ç«™åŠ çš„åŠ¨æ•ˆç»™ç”¨æˆ·çš„ä½“éªŒIdle(ç©ºé—²): ç½‘ç«™å“åº”æ—¶ï¼Œé¡µé¢å¡é¡¿ï¼Œä¸»çº¿ç¨‹ç¹å¿™çš„æƒ…å†µä¸‹ï¼Œè¦è€ƒè™‘å¦‚ä½•åŠ å¤§ä¸»çº¿ç¨‹ç©ºé—²çš„æ—¶é—´Load(åŠ è½½): èµ„æºåŠ è½½æ—¶ï¼Œç™½å±ç­‰å¾…æ—¶é—´ RAILè¯„ä¼°æ ‡å‡†Respose(å“åº”)ï¼šå¤„ç†äº‹ä»¶åº”åœ¨50mså†…å®ŒæˆAnimation(åŠ¨ç”»)ï¼šæ¯10msäº§ç”Ÿä¸€å¸§Idle(ç©ºé—²)ï¼šå°½å¯èƒ½å¢åŠ ç©ºé—²æ—¶é—´Load(åŠ è½½)ï¼šåœ¨5så†…å®Œæˆå†…å®¹åŠ è½½å¹¶å¯ä»¥äº¤äº’ åˆ©ç”¨æµ‹é‡å·¥å…·å’ŒAPIs Chrome DevTools å¼€å‘è°ƒè¯•ã€æ€§èƒ½è¯„æµ‹ Audit(Lighthouse) Throttlingè°ƒæ•´ç½‘ç»œåå Performanceæ€§èƒ½åˆ†æ Networkç½‘ç»œåŠ è½½åˆ†æ Lighthouse ç½‘ç«™æ•´ä½“è´¨é‡è¯„ä¼° **npm install -g lighthouse lighthouse [https://www.baidu.com](https://www.baidu.com/)** Chrome DevTools ä¸­ä½¿ç”¨ lighthouse WebPageTestå¤šæµ‹è¯•åœ°ç‚¹ã€å…¨é¢æ€§èƒ½æŠ¥å‘Š WebPageTest - Website Performance and Optimization Test waterfall chart è¯·æ±‚ç€‘å¸ƒå›¾ first view é¦–æ¬¡è®¿é—®ï¼ŒFirst Byteã€Start Render repeat view è®¿é—® å¦‚ä½•æœ¬åœ°éƒ¨ç½²WebpageTestï¼Œdockeré•œåƒéƒ¨ç½² ä¼˜åŒ–é—®é¢˜ï¼Œé‡æ–°æµ‹é‡ï¼ˆè¿­ä»£ ï¼‰æ¸²æŸ“ä¼˜åŒ–Created: April 24, 2022 6:07 PM é—®æˆ‘Chromeæµè§ˆå™¨çš„æ¸²æŸ“åŸç†ï¼ˆ6000å­—é•¿æ–‡ï¼‰ æµè§ˆå™¨æ¸²æŸ“åŸç†ï¼Œå…³é”®æ¸²æŸ“è·¯å¾„æµè§ˆå™¨çš„æ¸²æŸ“æµç¨‹ jså¼•èµ·é¡µé¢å˜åŒ– æ ·å¼ä¿®æ”¹ å¸ƒå±€ï¼Œç»˜åˆ¶åˆ°é¡µé¢ä¸Š ç»˜åˆ¶ åˆæˆï¼Œå¤šä¸ªå›¾å±‚ç»„åˆ èµ„æºå‹ç¼©ä¸åˆå¹¶ å‡å°‘httpè¯·æ±‚æ•°é‡ å‡å°‘è¯·æ±‚èµ„æºçš„å¤§å° htmlå‹ç¼©ï¼Œhtml-minifier npmå·¥å…· csså‹ç¼© jsæ–‡ä»¶åˆå¹¶ å›¾ç‰‡å‹ç¼© å­—ä½“ä¼˜åŒ– æ„å»ºä¼˜åŒ–Created: April 26, 2022 5:59 PM webpack4ä¼˜åŒ–webpack4çš„æ¨¡å¼1234// ç”¨äºå¼€å‘çš„é…ç½®æ–‡ä»¶ï¼Œé…ç½®çƒ­æ›´æ–°ã€è·¨åŸŸé…ç½®ã€ç«¯å£è®¾ç½®ç­‰"dev": "webpack --mode development",// ç”¨äºç”Ÿäº§çš„é…ç½®æ–‡ä»¶ï¼Œé…ç½® js å‹ç¼©ã€ä»£ç æ‹†åˆ†ç­‰"build": "webpack --mode production" Tree-shaking ä¸Šä¸‹æ–‡æœªç”¨åˆ°çš„ä»£ç ï¼› åŸºäºESMï¼Œes6çš„æ¨¡å—åŒ–ï¼› å¯èƒ½ä¼šæœ‰å‰¯ä½œç”¨ï¼Œä¸å¸Œæœ›è¢«shakingçš„æ–‡ä»¶ 1234// package.json"slideEffects": [ "*.css"] æ³¨æ„babelé…ç½®çš„å½±å“ 1234// babelé¢„è®¾"@babel/preset-env", &#123; "modules": false, JSå‹ç¼© webpack4åå¼•å…¥ uglifyjs-webpack-plugin æ”¯æŒES6æ›¿æ¢ä¸º terser-webpack-glugin ï¼ˆæ•ˆç‡æ›´å¥½ï¼Œç”Ÿäº§é»˜è®¤ï¼Œæ”¯æŒes6ï¼‰ å‡å°jsæ–‡ä»¶ä½“ç§¯ ä½œç”¨åŸŸæå‡ ç”Ÿäº§æ¨¡å¼è‡ªåŠ¨å¯ç”¨ï¼Œä»£ç ä½“ç§¯å‡å° æé«˜æ‰§è¡Œæ•ˆç‡ æ³¨æ„babelé…ç½®çš„å½±å“ï¼Œä»…æ”¯æŒesm babel7ä¼˜åŒ–é…ç½® åœ¨éœ€è¦çš„åœ°æ–¹å¼•å…¥polyfill 123456789"presets": [ [ "@babel/preset-env", &#123; "targets": &#123; "chrome": "67" &#125;, "useBuiltIns": "usage", // éœ€è¦çš„åœ°æ–¹å¼•å…¥polyfill &#125; è¾…åŠ©å‡½æ•°çš„æŒ‰éœ€å¼•å…¥, @babel/plugin-transform-runtime 12"plugins": [ "@babel/plugin-transform-runtime", è®¾ç½®ç›®æ ‡æµè§ˆå™¨ï¼Œ 12345678"presets": [ [ "@babel/preset-env", &#123; "targets": &#123; "chrome": ["&gt;0.25%"] // å¤§äºä½¿ç”¨ç‡0.25çš„æµè§ˆå™¨ &#125;, &#125; æé«˜æ„å»ºé€Ÿåº¦ noParseï¼Œå‘Šè¯‰webpackå“ªäº›åº“ä¸è¿›è¡Œè§£æ 123// webpack.commonmodule: &#123; noParse: /jqueryï½œlodash/, //å¿½ç•¥å¯¹éƒ¨åˆ†æ²¡é‡‡ç”¨æ¨¡å—åŒ–çš„æ–‡ä»¶çš„é€’å½’è§£æå¤„ç† DLLPlugin(åŠ¨æ€é“¾æ¥åº“) é¿å…æ‰“åŒ…æ—¶å¯¹ä¸å˜çš„åº“é‡å¤æ„å»º æé«˜æ„å»ºé€Ÿåº¦ èµ„æºå‹ç¼© Terserå‹ç¼©JS mini-css-extract-pluginå‹ç¼©css HtmlWebpackPlugin-minify å‹ç¼©HTML åŸºäºwebpackçš„èµ„æºæŒä¹…åŒ–ç¼“å­˜ç¼“å­˜èµ„æºæ²¡æœ‰æ›´æ–°ï¼Œæˆ–è€…æ›´æ–°ä¸åŠæ—¶ã€‚è®¿é—®æ—§ç¼“å­˜å®¹æ˜“å¯¼è‡´é—®é¢˜ï¼Œè§£å†³æ–¹æ¡ˆæ˜¯æ¯ä¸ªæ‰“åŒ…èµ„æºæ–‡ä»¶æœ‰å”¯ä¸€çš„hashå€¼ï¼Œåšå¢é‡å¼çš„æ›´æ–°ã€‚ å¢é‡å¼æ›´æ–° åªæœ‰å˜åŒ–çš„æ–‡ä»¶hashæ‰ä¼šæ”¹å˜ å……åˆ†åˆ©ç”¨æµè§ˆå™¨ç¼“å­˜ æ£€æµ‹ä¸åˆ†æ Statsåˆ†æä¸å¯è§†åŒ– Webpack Chart 12// Generate stats.json for your project with this command:$ webpack --profile --json &gt; stats.json webpack-bundle-analyzer è¿›è¡Œä½“ç§¯åˆ†æ speed-measure-webpack-pluginé€Ÿåº¦åˆ†æ React æŒ‰éœ€åŠ è½½ React routeråŸºäºwebpackåŠ¨æ€å¼•å…¥ ä½¿ç”¨Reloadableé«˜çº§ç»„ä»¶ fallbackï¼šåœ¨æœªåŠ è½½å™¨ä»£æ›¿çš„ç»„ä»¶ # ä¼ è¾“åŠ è½½ä¼˜åŒ– Created: April 27, 2022 10:21 AM Gzipå‹ç¼© å¯¹ä¼ è¾“èµ„æºè¿›è¡Œä½“ç§¯å‹ç¼©ï¼Œé«˜è¾¾90% åˆ©ç”¨nginxå¯ç”¨ Gzip å¯ç”¨http keep-alivehttp åè®®é»˜è®¤å¼€å¯çš„ keep-alive HTTPç¼“å­˜Nginxé…ç½®ï¼š å›¾ç‰‡ç­‰é™æ€èµ„æºï¼Œå¯ä»¥æ›´é•¿æ—¶é—´ Cache-Control/Expires Last-Modified + If-Modified-Since Etag + If-None-Match Service Workersä½œç”¨ åŠ é€Ÿé‡å¤è®¿é—® ç¦»çº¿æ”¯æŒ service workers é…ç½® create-react-appè‡ªå¸¦ï¼› webpackå¼•å…¥ä¸¤ä¸ªæ’ä»¶å®ç° æ³¨æ„ç‚¹ å»¶é•¿äº†é¦–å±æ—¶é—´ï¼Œä½†é¡µé¢æ€»åŠ è½½æ—¶é—´å‡å°‘ï¼› å…¼å®¹æ€§é—®é¢˜ï¼› åªèƒ½åœ¨localhostæˆ–httpsä¸‹ä½¿ç”¨ï¼› åŸç† http/2 æ€§èƒ½æå‡ äºŒè¿›åˆ¶ä¼ è¾“ï¼Œ1.1åŸºäºæ–‡æœ¬ï¼Œh2æ˜¯åŸºäºäºŒè¿›åˆ¶ç¼–ç ï¼Œæé«˜å®‰å…¨æ€§ï¼Œå¤´éƒ¨å‹ç¼© è¯·æ±‚å“åº”å¤šè·¯å¤ç”¨ï¼› Server pushï¼Œæå‰å°†èµ„æºæ¨é€åˆ°æµè§ˆå™¨ nginxé…ç½® å…ˆå¼€å¯https å¼€å¯h2 h2çš„å¤šè·¯å¤ç”¨ SSRçš„å¥½å¤„ åŠ é€Ÿé¦–å±åŠ è½½é€Ÿåº¦ æ›´å¥½çš„SEO åŸºäºNext.jså®ç°æœåŠ¡ç«¯æ¸²æŸ“]]></content>
      <categories>
        <category>å‰ç«¯å·¥ç¨‹åŒ–</category>
      </categories>
      <tags>
        <tag>å‰ç«¯å·¥ç¨‹åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è„šæ‰‹æ¶çš„å®ç°åŸç†]]></title>
    <url>%2F2022%2F06%2F14%2Fcl4s3gtj300bewn9etfyz0m4a%2F</url>
    <content type="text"><![CDATA[å‰ç«¯è„šæ‰‹æ¶å°é¢: %E5%89%8D%E7%AB%AF%E8%84%9A%E6%89%8B%E6%9E%B6%203120586a0b114ce68032adcdd43c8f7b/450136-20211216163813527-887451633.jpegç®€ä»‹: å‰ç«¯ç»Ÿä¸€cliå·¥å…·æ­å»º https://www.bilibili.com/video/BV1KL4y1j7hj?spm_id_from=333.999.0.0 https://homework.imooc-lego.com/ https://github.com/omni-door/cli/blob/master/docs/README.zh-CN.md å¤§çº²part 1 è„šæ‰‹æ¶çš„å®ç°åŸç† Lerraçš„å¸¸è§ç”¨æ³• å¤špackageé¡¹ç›®ç®¡ç†ç—›ç‚¹å’Œè§£å†³æ–¹æ¡ˆï¼ŒåŸºäºLernaè„šæ‰‹æ¶æ¡†æ¶æ­å»ºï¼› yargsçš„ä½¿ç”¨æ–¹æ³• æ¶æ„è®¾è®¡æŠ€å·§å’Œæ¶æ„å›¾ç»˜åˆ¶æ–¹æ³• part 2 æ¶æ„è®¾è®¡å’ŒæŠ€æœ¯æ–¹æ¡ˆè®¾è®¡å…¨è¿‡ç¨‹ï¼› è„šæ‰‹æ¶æ‰§è¡Œæ ¸å¿ƒæµç¨‹ï¼› è„šæ‰‹æ¶æ¨¡å—æ‹†åˆ†ç­–ç•¥ï¼› coreæ¨¡å—æŠ€æœ¯æ–¹æ¡ˆï¼› commanderæ¡†æ¶ï¼› è„šæ‰‹æ¶å‘½ä»¤æ³¨å†Œï¼› å¦‚ä½•è®© Nodeé¡¹ç›®æ”¯æŒES Module ï¼› part 3 å¦‚ä½•è®¾è®¡é«˜æ€§èƒ½è„šæ‰‹æ¶ï¼› å›¾è§£é«˜æ€§èƒ½è„šæ‰‹æ¶æ¶æ„å’Œè®¾è®¡æ–¹æ³•ï¼› JavaScripté¢å‘å¯¹è±¡å®æˆ˜ï¼› å°è£…é€šç”¨packageå’ŒCommandç±» nodeå¤šè¿›ç¨‹å¼€å‘ï¼› åŸºäºç¼“å­˜+nodeå¤šè¿›ç¨‹å®ç°åŠ¨æ€å‘½ä»¤è¡ŒåŠ è½½å’Œæ‰§è¡Œï¼› ä¸šåŠ¡é€»è¾‘å’Œè„šæ‰‹æ¶æ¡†æ¶è§£è€¦ï¼› nodeå¤šè¿›ç¨‹ï¼Œchild_processæºç åˆ†æï¼› part 4 å‘½ä»¤è¡Œäº¤äº’æ–¹æ³• æœåŠ¡ç«¯æ¡†æ¶egg.jsçš„åº”ç”¨å’ŒAPIå¼€å‘ï¼› egg.jsé›†æˆäº‘mongodb part 5 ejsæ¨¡æ¿æ¸²æŸ“ï¼› é¡¹ç›®æ¨¡æ¿å®‰è£…å’ŒåŠŸèƒ½å¼€å‘ï¼› globæ–‡ä»¶ç­›é€‰ï¼› é¡¹ç›®æ ‡å‡†å®‰è£…å’Œè‡ªå®šä¹‰å®‰è£…ï¼› ç»„ä»¶åº“åˆå§‹åŒ–å’Œå®‰è£…ï¼› è„šæ‰‹æ¶çš„å®ç°åŸç† ä¸ºä»€ä¹ˆå…¨å±€å®‰è£… @vue/cli åæ·»åŠ çš„å‘½ä»¤ä¸º vue ï¼Ÿ é€šè¿‡ which vue å¯ä»¥æŸ¥çœ‹å‘½ä»¤çš„ä½ç½®ï¼Œå®é™…ä½ç½®ï¼š/usr/local/bin/vue ï¼Œæ˜¯ä¸€ä¸ªè½¯è¿æ¥ï¼Œ è¿æ¥çš„ä½ç½®ï¼šlrwxr-xr-x 1 luoyec wheel 39 3 1 2021 vue -&gt; ../lib/node_modules/@vue/cli/bin/vue.js 1234// package.json æ–‡ä»¶ä¸­ bin å†³å®šäº†å‘½ä»¤åä¸º vue"bin": &#123; "vue": "bin/vue.js" &#125; å…¨å±€å®‰è£…@vue/cli æ—¶å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ æŠŠä¾èµ–ä¸‹è½½åˆ°æŒ‡å®šçš„ç›®å½•ä¸‹ï¼Œ/usr/local/lib/node_modules/@vue/cli è¯»å– package.json ä¸­ bin çš„é…ç½®ï¼Œè®¾ç½®è½¯è¿æ¥ æ‰§è¡Œvueå‘½ä»¤æ—¶å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆvueæ‰§è¡Œä¸€ä¸ªjsæ–‡ä»¶ï¼Œæˆ‘ä»¬å´å¯ä»¥é€šè¿‡vueå‘½ä»¤æ‰§è¡Œå®ƒï¼Ÿ æ‰§è¡Œvueå‘½ä»¤æ—¶ï¼Œå…¶å®æ˜¯æ‰§è¡Œè½¯è¿æ¥ï¼› jsæ–‡ä»¶æ— æ³•ç›´æ¥æ‰§è¡Œï¼Œéœ€è¦é€šè¿‡è§£é‡Šå™¨(node)æ‰§è¡Œï¼› 1234#!/usr/bin/env node ç¯å¢ƒå˜é‡ä¸­æŸ¥è¯¢nodeconsole.log("hello world");// ç­‰ä»·äº node helloHorld.js 3. é€šè¿‡ `ln -s [path] [name]` åˆ›å»ºè½¯è¿æ¥ï¼› vueå‘½ä»¤æ‰§è¡Œæµç¨‹ å›¾4.1 vue å‘½ä»¤æ‰§è¡Œæµç¨‹ è„šæ‰‹æ¶å¼€å‘è°ƒè¯•å‘å¸ƒä¸€ä¸ªç®€å•çš„npmåŒ… npm init -y æ–°å»º bin/index.js 12345678// package.json"bin": &#123; "kit-test": "bin/index.js" &#125;// index.js#!/usr/bin / env nodeconsole.log('hello fe architecture!'); npm loginã€npm publish kit-test â‡’ hello fe architecture! è°ƒè¯•æ–¹æ³• è°ƒè¯•å•ä¸ªåŒ…ï¼ˆæ³¨æ„æ–‡ä»¶å¤¹å‘½åï¼‰ lyctea-test åŒ…æ–‡ä»¶å¤¹ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š 1234â”œâ”€â”€ binâ”‚ â””â”€â”€ index.jsâ”œâ”€â”€ package-lock.jsonâ””â”€â”€ package.json åœ¨`lyctea-test` åˆ›å»ºè½¯è¿æ¥ `npm link` ï¼Œæ­¤æ—¶ä¼šåˆ›å»ºè½¯é“¾æ¥ä¼šæºæ–‡ä»¶æ‰€åœ¨ç›®å½• 1234/usr/local/bin/lyctea-test -&gt; ../lib/node_modules/lyctea-test/bin/index.js$ll -a ../lib/node_modules/lyctea-test ../lib/node_modules/lyctea-test -&gt; /Users/luoyec/Documents/Code/Github/fe-architecture/lyctea-test è°ƒè¯•å¤šä¸ªåŒ… æ–°å»º lyctea-test-lib ç›®å½• åˆ›å»º lib/index.jsæ–‡ä»¶ï¼Œå¯¼å‡ºsumæ–¹æ³• 12345module.exports = &#123; sum(a, b) &#123; return (a + b); &#125;&#125; 3. åˆ›å»º`lyctea-test-lib` çš„è½¯è¿æ¥ï¼Œ`npm link` 4. åˆ‡æ¢åˆ°`lyctea-test` ç›®å½•ï¼Œåˆ›å»ºè½¯é“¾æ¥ï¼Œ`npm link lyctea-test-lib` ï¼Œæ­¤æ—¶ `lyctea-test` å¯ä»¥æ–¹ä½åˆ° `lib`åº“äº† 12const lib = require("lyctea-test-lib")console.log(lib.sum(1, 3)); 5. å‘å¸ƒä¾èµ–åŒ…ï¼Œç§»é™¤è½¯é“¾æ¥ LernaåŸç”Ÿè„šæ‰‹æ¶å¼€å‘ç—›ç‚¹ é‡å¤æ“ä½œ å¤špackageæœ¬åœ°link å¤špackageæœ¬åœ°ä¾èµ–å®‰å“ å¤špackageæœ¬åœ°å•å…ƒæµ‹è¯• å¤špackageæœ¬åœ°ä»£ç æäº¤ å¤špackageæœ¬åœ°ä»£ç å‘å¸ƒ ç‰ˆæœ¬ä¸€è‡´æ€§ å‘å¸ƒæ—¶ç‰ˆæœ¬ä¸€è‡´æ€§ï¼Œæ‰‹å·¥æ“ä½œæ˜“å‡ºé”™ å‘å¸ƒåç›¸äº’ä¾èµ–ç‰ˆæœ¬å‡çº§ packageè¶Šå¤šï¼Œå¤æ‚æ€§è¶Šé«˜ Lernaç®€ä»‹ğŸ’¡ æ¶æ„ä¼˜åŒ–çš„ä¸»è¦ç›®æ ‡å¾€å¾€éƒ½æ˜¯ä»¥æ•ˆèƒ½ä¸ºæ ¸å¿ƒã€‚ Lerna æ˜¯ä¸€ä¸ªä¼˜ç§€çš„åŸºäºgit+npmçš„å¤špackageé¡¹ç›®çš„ç®¡ç†å·¥å…·ï¼› ä¼˜åŠ¿ å¤§å¹…å‡å°‘é‡å¤æ“ä½œ æå‡æ“ä½œçš„æ ‡å‡†åŒ– Lernaå¼€å‘è„šæ‰‹æ¶æµç¨‹]]></content>
      <categories>
        <category>å‰ç«¯å·¥ç¨‹åŒ–</category>
      </categories>
      <tags>
        <tag>å‰ç«¯å·¥ç¨‹åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript åŸå‹ã€åŸå‹é“¾]]></title>
    <url>%2F2019%2F03%2F07%2Fcl4s3gte4001hwn9eeqfj8uw7%2F</url>
    <content type="text"><![CDATA[JavaScript åŸå‹ã€åŸå‹é“¾[JavaScriptæ·±å…¥ä¹‹ä»åŸå‹åˆ°åŸå‹é“¾ åŸå‹ 123456789101112const Person = function() &#123;&#125;; // æ‰€æœ‰çš„å‡½æ•°éƒ½èƒ½æˆä¸ºæ„é€ å‡½æ•°Person.prototype.say = function() &#123; console.log("say hello");&#125;;const person = new Person();console.log(person.__proto__ === Person.prototype);console.log(person.constructor === Person);console.log(Person.prototype.__proto__ === Object.prototype);console.log(Person.__proto__ === Function.prototype);console.log(Person.prototype.constructor === Person); åŸå‹é“¾åŸå‹é“¾æ˜¯æœ‰åŸå‹å¯¹è±¡ç»„æˆçš„ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ protoå±æ€§ï¼ŒæŒ‡å‘äº†åˆ›å»ºè¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„åŸå‹ï¼Œproto å°†å¯¹è±¡è¿æ¥èµ·æ¥ç»„æˆäº†åŸå‹é“¾ã€‚æ˜¯ä¸€ä¸ªç”¨æ¥å®ç°ç»§æ‰¿å’Œå…±äº«å±æ€§çš„æœ‰é™å¯¹è±¡é“¾ã€‚ å±æ€§æŸ¥æ‰¾æœºåˆ¶ï¼šå½“æŸ¥æ‰¾å¯¹è±¡å±æ€§æ—¶ï¼Œå¦‚æœå®ä¾‹å¯¹è±¡è‡ªèº«ä¸å­˜åœ¨è¯¥å±æ€§ï¼Œåˆ™æ²¿ç€åŸå‹é“¾å¾€ä¸Šä¸€çº§æŸ¥æ‰¾ï¼Œæ‰¾åˆ°æ—¶åˆ™è¾“å‡ºï¼Œä¸å­˜åœ¨æ—¶ï¼Œåˆ™æ²¿ç€åŸå‹é“¾å¾€ä¸Šä¸€çº§æŸ¥æ‰¾ï¼Œç›´è‡³æœ€é¡¶çº§çš„åŸå‹å¯¹è±¡ Object.prototypeï¼Œå¦‚æœè¿˜æ˜¯æ²¡æœ‰æ‰¾åˆ°åˆ™è¾“å‡º undefined å±æ€§ä¿®æ”¹æœºåˆ¶ï¼šåªä¼šä¿®æ”¹å®ä¾‹æœ¬èº«çš„å±æ€§ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™æ·»åŠ è¯¥å±æ€§ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹åŸå‹çš„å±æ€§æ—¶ï¼Œåˆ™å¯ä»¥ç”¨ b.prototype.x = 2ï¼› ä½†è¿™æ ·ä¼šé€ æˆæ‰€æœ‰ç»§æ‰¿äºè¯¥å¯¹è±¡çš„å®ä¾‹çš„å±æ€§å‘ç”Ÿæ”¹å˜.]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>é¢è¯•é¢˜</tag>
        <tag>åŸå‹</tag>
        <tag>åŸå‹é“¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[BFC åŸç†ç®€ä»‹åŠåº”ç”¨]]></title>
    <url>%2F2019%2F03%2F05%2Fcl4s3gtda0008wn9e6fy9j2i2%2F</url>
    <content type="text"><![CDATA[BFC åŸç†ç®€ä»‹åŠåº”ç”¨BFCå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¸²æŸ“åŒºåŸŸï¼Œè®©å¤„äº BFC å†…éƒ¨çš„å…ƒç´ ä¸å¤–éƒ¨çš„å…ƒç´ ç›¸äº’éš”ç¦»ï¼Œä½¿å†…å¤–å…ƒç´ çš„å®šä½ä¸ä¼šç›¸äº’å½±å“ã€‚ è§¦å‘æ¡ä»¶ æ ¹å…ƒç´  position: absolute/fixed display: inline-block/table float å…ƒç´  overflow !== visible è§„åˆ™ å±äºåŒä¸€ä¸ª BFC çš„ä¸¤ä¸ªç›¸é‚» Box å‚ç›´æ’åˆ— å±äºåŒä¸€ä¸ª BFC çš„ä¸¤ä¸ªç›¸é‚» Box çš„ margin ä¼šå‘ç”Ÿé‡å  BFC ä¸­çš„å­å…ƒç´ çš„ margin box çš„å·¦è¾¹ï¼Œä¸åŒ…å«å—ï¼ˆBFCï¼‰ border box çš„å·¦è¾¹æ¥è§¦ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿä¸€æ ·ï¼ˆå­å…ƒç´  absolute é™¤å¤–ï¼‰ BFC çš„åŒºåŸŸä¸ä¼šä¸ float çš„å…ƒç´ åŒºåŸŸé‡å  è®¡ç®— BFC é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å­å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®— æ–‡å­—å±‚ä¸ä¼šè¢«æµ®åŠ¨å±‚è¦†ç›–ï¼Œç¯ç»•äºå‘¨å›´ åº”ç”¨è‡ªé€‚åº”ä¸¤æ å¸ƒå±€&gt; è§„åˆ™ï¼šæ¯ä¸ªå…ƒç´ çš„ margin box çš„å·¦è¾¹ï¼Œ ä¸åŒ…å«å— border box çš„å·¦è¾¹ç›¸æ¥è§¦(å¯¹äºä»å·¦å¾€å³çš„æ ¼å¼åŒ–ï¼Œå¦åˆ™ç›¸å)ã€‚å³ä½¿å­˜åœ¨æµ®åŠ¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ï¼ˆå…ƒç´ çš„ margin çš„å·¦è¾¹ä¸çˆ¶å®¹å™¨çš„ border å·¦è¾¹æ¥è§¦ï¼‰å› æ­¤ï¼Œè™½ç„¶ aside å…ƒç´ æ˜¯æµ®åŠ¨çš„ï¼Œä½†æ˜¯ main çš„å·¦è¾¹ä¾ç„¶ä¼šä¸åŒ…å«å—çš„å·¦è¾¹æ¥è§¦ã€‚&gt; è§„åˆ™ï¼šBFC çš„åŒºåŸŸä¸ä¼šä¸ float box é‡å é€šè¿‡è§¦å‘ main æ¥ç”Ÿæˆ BFCï¼Œ å®ç°ä¸¤æ å¸ƒå±€ã€‚å½“è§¦å‘mainç”ŸæˆBFCåï¼Œè¿™ä¸ªæ–°çš„BFCä¸ä¼šä¸æµ®åŠ¨çš„ aside é‡å ã€‚å› æ­¤ä¼šæ ¹æ®åŒ…å«å—çš„å®½åº¦ï¼Œå’Œ aside çš„å®½åº¦ï¼Œè‡ªåŠ¨å˜çª„ã€‚### æ¸…é™¤å†…éƒ¨æµ®åŠ¨ See the Pen BbLrXG by lyctea (@lyctea) on CodePen. è§„åˆ™ï¼šè®¡ç®— BFC é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—ã€‚ é˜²æ­¢å‚ç›´ margin é‡å  See the Pen BbLrXG by lyctea (@lyctea) on CodePen. BFCå°±æ˜¯é¡µé¢ä¸Šçš„ä¸€ä¸ªéš”ç¦»çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ã€‚åä¹‹ä¹Ÿå¦‚æ­¤]]></content>
      <categories>
        <category>HTML5</category>
      </categories>
      <tags>
        <tag>BFC</tag>
        <tag>é¢è¯•é¢˜</tag>
        <tag>Css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨ Express ä¸­ä½¿ç”¨ log4js]]></title>
    <url>%2F2019%2F02%2F28%2Fcl4s3gtia0098wn9e9e6hmqah%2F</url>
    <content type="text"><![CDATA[åœ¨ Express ä¸­ä½¿ç”¨ log4jsåœ¨ config ä¸­å¯¼å‡º log é…ç½® 123456789101112131415161718192021222324252627282930313233343536import log4js from &quot;log4js&quot;;log4js.configure(&#123; appenders: &#123; file: &#123; type: &quot;file&quot;, filename: &quot;log/main.log&quot;, maxLogSize: 200480, backups: 10 &#125;, console: &#123; type: &quot;stdout&quot; &#125; &#125;, categories: &#123; development: &#123; appenders: [&quot;file&quot;, &quot;console&quot;], level: &quot;all&quot; &#125;, production: &#123; appenders: [&quot;file&quot;], level: &quot;info&quot; &#125;, default: &#123; appenders: [&quot;file&quot;], level: &quot;info&quot; &#125; &#125;&#125;);const logger = process.env.NODE_ENV === &quot;development&quot; ? log4js.getLogger(&quot;development&quot;) : log4js.getLogger(&quot;production&quot;);export default logger; express ä¸­é—´ä»¶å¯¼å…¥ 123456import log4js from &quot;log4js&quot;;import logger from &quot;../config/log&quot;;export const loggerMiddleware = app =&gt; &#123; app.use(log4js.connectLogger(logger));&#125;; log4js ä½œä¸ºæ™®é€šæ¨¡å—ä½¿ç”¨ 12import logger from &quot;./server/config/log&quot;;logger.info(&quot;24234234234&quot;);]]></content>
      <categories>
        <category>Nodejs</category>
      </categories>
      <tags>
        <tag>Express</tag>
        <tag>log4js</tag>
        <tag>æ—¥å¿—å¤„ç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nodejs è°ƒè¯• (Inspector)]]></title>
    <url>%2F2019%2F02%2F28%2Fcl4s3gtgt006dwn9eurmhy4e6%2F</url>
    <content type="text"><![CDATA[nodejs è°ƒè¯• (Inspector)##Inspector Inspector è°ƒè¯•ï¼ˆæœ¬è´¨æ˜¯æ–­ç‚¹è°ƒè¯•ï¼‰ä¼˜åŠ¿ï¼š æŸ¥çœ‹å½“å‰ä¸Šä¸‹æ–‡çš„å˜é‡ å¯è§‚å¯Ÿå½“å‰å‡½æ•°è°ƒç”¨å †æ ˆ ä¸ä¾µå…¥ä»£ç  å¯åœ¨æš‚åœçŠ¶æ€ä¸‹æ‰§è¡ŒæŒ‡å®šä»£ç  Inspector çš„æ„æˆä»¥åŠåŸç† WebSockets æœåŠ¡(ç›‘å¬å‘½ä»¤) Inspector åè®® HTTPæœåŠ¡(è·å–å…ƒä¿¡æ¯) WebSockets å…¶ä¸­ ws://127.0.0.1:56374/680debbb-3009-4e86-8878-7992296e5cbf æ˜¯ WebSockets æœåŠ¡çš„åœ°å€å’Œ uuid æºä¿¡æ¯ 127.0.0.1:56374/json æ¿€æ´»è°ƒå¼å¦‚ä½•æ¿€æ´»è°ƒè¯• 1$node --inpect app.js æ¿€æ´»è°ƒå¼åä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ WebSockets æœåŠ¡(ç›‘å¬å‘½ä»¤) HTTPæœåŠ¡(è·å–å…ƒä¿¡æ¯) å¦‚ä½•è°ƒè¯•æ²¡æœ‰æ¿€æ´»çš„Node.jsç¨‹åº åœ¨ Linux å’Œ OSX ä¸Šï¼Œå¯ä»¥ç›‘å¬åˆ° SIGUSR1 å‘é€çš„è°ƒè¯•ä¿¡æ¯ è°ƒè¯•å®¢æˆ·ç«¯æ˜¯ä»€ä¹ˆï¼Ÿ è¿æ¥åˆ° Node.js Inspector çš„å·¥å…· Chrome DevTools 55+ VS Code å…¶ä»– Chrome åœ¨å…ƒ ä¿¡æ¯ä¸­çš„ devtoolsFrontendUrl å­—æ®µï¼Œå¯ä»¥æ‰“å¼€è°ƒè¯•é¢æ¿]]></content>
      <categories>
        <category>Nodejs</category>
      </categories>
      <tags>
        <tag>Inspector</tag>
        <tag>debug</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Knex åœ¨ Koa2 ä¸­çš„åº”ç”¨]]></title>
    <url>%2F2019%2F01%2F16%2Fcl4s3gtfc003uwn9et0y6p84s%2F</url>
    <content type="text"><![CDATA[Knex åœ¨ Koa2 ä¸­çš„åº”ç”¨Knexjs æ–‡æ¡£ é¡¹ç›®demoï¼š koa-vue-notes-api Knex.jsæ˜¯ä¸ºPostgresï¼ŒMSSQLï¼ŒMySQLï¼ŒMariaDBï¼ŒSQLite3ï¼ŒOracleå’ŒAmazon Redshiftè®¾è®¡çš„â€œåŒ…å«ç”µæ± â€SQLæŸ¥è¯¢æ„å»ºå™¨ï¼Œå…¶è®¾è®¡çµæ´»ï¼Œä¾¿äºæºå¸¦å¹¶ä¸”ä½¿ç”¨èµ·æ¥éå¸¸æœ‰è¶£ã€‚å®ƒå…·æœ‰ä¼ ç»Ÿçš„èŠ‚ç‚¹æ ·å¼å›è°ƒä»¥åŠç”¨äºæ¸…æ´å¼‚æ­¥æµæ§åˆ¶çš„æ‰¿è¯ºæ¥å£ï¼Œæµæ¥å£ï¼Œå…¨åŠŸèƒ½æŸ¥è¯¢å’Œæ¨¡å¼æ„å»ºå™¨ï¼Œäº‹åŠ¡æ”¯æŒï¼ˆå¸¦ä¿å­˜ç‚¹ï¼‰ï¼Œè¿æ¥æ±  ä»¥åŠä¸åŒæŸ¥è¯¢å®¢æˆ·å’Œæ–¹è¨€ä¹‹é—´çš„æ ‡å‡†åŒ–å“åº”ã€‚ å‡†å¤‡å·¥ä½œï¼Œç¯å¢ƒå˜é‡é…ç½®åˆ©ç”¨ dotenv æ¨¡å—å°†æ ¹ç›®å½•ä¸‹çš„ .env æ–‡ä»¶é…ç½®æ³¨å…¥åˆ° process.env ä¸­ï¼Œ 123456789// .envDB_HOST = your_database_addressDB_PORT = 3306DB_USER = rootDB_PASSWORD = your_passwordDB_DATABASE = database_nameNODE_ENV = developmentPORT = 4000 åœ¨æ ¹ç›®å½•åˆ›å»º knexfile.js ä½œä¸ºknex çš„é…ç½®æ–‡ä»¶ï¼ŒåŒºåˆ†ä¸åŒçš„å¼€å‘ç¯å¢ƒï¼Œå¯¹é…ç½®è¿›è¡Œå·®å¼‚åŒ–å¤„ç†ã€‚ 1knex init 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465//knexfile.js//I only want migrations, rollbacks, and seeds to run when the NODE_ENV is specified//in the knex seed/migrate command. Knex will error out if it is not specified.if (!process.env.NODE_ENV) &#123; throw new Error(&apos;NODE_ENV not set&apos;); &#125;require(&apos;dotenv&apos;).config();module.exports = &#123; testing: &#123; client: &apos;mysql&apos;, debug: false, connection: &#123; host: process.env.DB_HOST, port: process.env.DB_PORT, user: process.env.DB_USER, password: process.env.DB_PASSWORD, database: process.env.DB_DATABASE + &apos;_testing&apos;, charset: &apos;utf8mb4&apos;, collate: &apos;utf8mb4_unicode_ci&apos; &#125;, migrations: &#123; directory: &apos;./src/db/migrations&apos;, &#125;, seeds: &#123; directory: &apos;./src/db/seeds/dev&apos;, &#125;, &#125;, development: &#123; client: &apos;mysql&apos;, debug: false, connection: &#123; host: process.env.DB_HOST, port: process.env.DB_PORT, user: process.env.DB_USER, password: process.env.DB_PASSWORD, database: process.env.DB_DATABASE + &apos;_development&apos;, charset: &apos;utf8mb4&apos;, collate: &apos;utf8mb4_unicode_ci&apos; &#125;, migrations: &#123; directory: &apos;./src/db/migrations&apos;, &#125;, seeds: &#123; directory: &apos;./src/db/seeds/dev&apos;, &#125;, &#125;, production: &#123; client: &apos;mysql&apos;, debug: false, connection: &#123; host: process.env.DB_HOST, port: process.env.DB_PORT, user: process.env.DB_USER, password: process.env.DB_PASSWORD, database: process.env.DB_DATABASE + &apos;_production&apos;, charset: &apos;utf8mb4&apos;, collate: &apos;utf8mb4_unicode_ci&apos; &#125;, migrations: &#123; directory: &apos;./src/db/migrations&apos;, &#125;, &#125;&#125;; å¼•å…¥é…ç½®ï¼Œåˆå§‹åŒ– knexåˆ›å»º /db/db.js ä½œä¸ºå…¨å±€çš„ db å¯¹è±¡ï¼Œæ•°æ®çš„å¢åˆ æ”¹æŸ¥éƒ½é€šè¿‡ db å¯¹è±¡è¿›è¡Œ 1234var environment = process.env.NODE_ENV || &apos;development&apos;; // åˆ¤æ–­å½“å‰çš„å¼€å‘ç¯å¢ƒvar config = require(&apos;../../knexfile.js&apos;)[environment]; // æ ¹æ®å¼€å‘ç¯å¢ƒè¯»å–ç›¸åº”çš„é…ç½®module.exports = require(&apos;knex&apos;)(config); // åˆå§‹åŒ– knex å¹¶ä¸”å¯¼å‡ºæ”¹æ¨¡å— migrations å’Œ seedsmigrationsmigrations å…è®¸ä½ å®šä¹‰æ•°æ®åº“çš„æ¨¡å—ï¼Œæ‰€ä»¥ä½¿å¾—æ•°æ®åº“å‡çº§å˜å¾—ç®€å•ã€‚migrations CLI è¢«åŒ…å«åœ¨ kenx ä¸­ï¼Œè¯·å…¨å±€å®‰è£… $ npm install knex -g migrations ä¾èµ–äº knexfile,è¯·æå‰é…ç½®å¥½ï¼Œ åˆ›å»º /db/migrations ç›®å½•ã€‚ åˆ›å»º migrate knex migrate:make migration_name ä¿®æ”¹ /db/migrations/migration_name.js å…¶ä¸­ up æ–¹æ³•åœ¨ migrate run çš„æ—¶å€™è¢«æ‰§è¡Œï¼Œç”¨æˆ·åˆ›å»ºè¡¨ï¼Œdown æ–¹æ³•åœ¨ migrate rallback è¢«æ‰§è¡Œï¼Œæ‰§è¡Œè¡¨é”€æ¯ã€‚ 12345678910111213141516171819202122232425262728//I only want migrations, rollbacks, and seeds to run when the NODE_ENV is specified//in the knex seed/migrate command. Knex will error out if it is not specified.if (!process.env.NODE_ENV) &#123; throw new Error(&apos;NODE_ENV not set&apos;);&#125;exports.up = function (knex, Promise) &#123; return knex.schema.createTable(&apos;notes&apos;, function (table) &#123; table.charset(&apos;utf8mb4&apos;); table.collate(&apos;utf8mb4_unicode_ci&apos;); table.increments(&apos;id&apos;).primary(); table.integer(&apos;userId&apos;); table.string(&apos;title&apos;); table.text(&apos;content&apos;); table.string(&apos;ipAddress&apos;); table.dateTime(&apos;updatedAt&apos;).defaultTo(knex.raw(&apos;NULL ON UPDATE CURRENT_TIMESTAMP&apos;)); table.dateTime(&apos;createdAt&apos;).notNullable().defaultTo(knex.raw(&apos;CURRENT_TIMESTAMP&apos;)); &#125;);&#125;;exports.down = function (knex, Promise) &#123; //We never want to drop tables in production if (process.env.NODE_ENV !== &apos;production&apos;) &#123; return knex.schema.dropTableIfExists(&apos;notes&apos;); &#125;&#125;; åˆå§‹åŒ–æ•°æ®åº“è¡¨ å®Œæˆäº† migrateï¼Œå°±å¯ä»¥è¿›è¡Œåˆ›å»ºè¡¨å·¥ä½œï¼Œæ‰§è¡Œ migrate çš„ up æ–¹æ³•ã€‚ 1knex migrate:latest æ›´æ–° 1knex migrate:make update migration_name å›æ»š 1knex migrate:rollback âš ï¸ ä»¥ä¸Šçš„å‘½ä»¤éƒ½å¯ä»¥å¢åŠ ç¯å¢ƒå˜é‡ ä¾‹å¦‚ NODE_ENV=development knex migrate:latest seedsseeds ä¸ºç§å­ï¼Œå³æ•°æ®çš„åˆå§‹åŒ–ï¼Œå¯ä»¥ mock æ•°æ®ï¼Œæ’å…¥åˆ°è¡¨ä¸­ï¼Œ åˆ›å»º /db/seeds/dev (å¯¹åº”ä¸åŒç¯å¢ƒseeds) åˆ›å»º seed 1knex seed:make seed_users ç¼–è¾‘ seed 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455//I only want migrations, rollbacks, and seeds to run when the NODE_ENV is specified//in the knex seed/migrate command. Knex will error out if it is not specified.if (!process.env.NODE_ENV) &#123; throw new Error(&apos;NODE_ENV not set&apos;);&#125;//We don&apos;t want seeds to run in productionif (process.env.NODE_ENV === &apos;production&apos;) &#123; throw new Error(&apos;Can\&apos;t run seeds in production&apos;);&#125;const faker = require(&apos;faker&apos;);const bcrypt = require(&apos;bcrypt&apos;);exports.seed = async function (knex, Promise) &#123; // åˆ›å»º10æ¡ç”¨æˆ·æ•°æ® let seedData = []; for (let i = 0; i &lt; 5; i++) &#123; let password = &apos;demopassword&apos;; try &#123; password = await bcrypt.hash(password, 12); &#125; catch (error) &#123; throw new Error(&apos;PASSWORD_ENCRIPTION_ERROR&apos;); &#125; if (i === 0) &#123; let testUser = &#123; token: &apos;qwertyuiop&apos;, firstName: &apos;DemoFirstName&apos;, lastName: &apos;DemoLastName&apos;, username: &apos;demousername&apos;, email: &apos;demoemail@example.com&apos;, password: password, &#125;; seedData.push(testUser); continue; &#125; let testUser = &#123; token: faker.internet.password(), firstName: faker.name.firstName(), lastName: faker.name.lastName(), username: faker.internet.userName(), email: faker.internet.email(), password: password, &#125;; seedData.push(testUser); &#125; // Deletes ALL existing entries await knex(&apos;users&apos;).truncate(); //Insert users await knex(&apos;users&apos;).insert(seedData);&#125;; è¿è¡Œ seed å°†æ•°æ®æ’å…¥åˆ°è¡¨ä¸­ 1knex seed:run âš ï¸ æ³¨æ„ä»¥ä¸Šå‘½ä»¤å¯ä»¥å¢åŠ ç¯å¢ƒå˜é‡ ï¼Œä¾‹å¦‚ NODE_ENV=development knex seed:run æ“ä½œæ•°æ®åº“ä»¥ä¸Šå·²ç»å®Œæˆæ•°æ®åº“çš„å‡†å¤‡å·¥ä½œï¼Œä¸€åˆ‡æ­£å¸¸åˆ™å¯ä½¿ç”¨ knex æ“ä½œæ•°æ®åº“ å¼•å…¥ db 1import db from &apos;../db/db.js&apos;; æŸ¥è¯¢ 123456// æ£€æŸ¥æ•°æ®åº“ç”¨æˆ·æ˜¯å¦å­˜åœ¨var [result] = await db(&apos;users&apos;).where(&#123;username: request.username&#125;).count(&apos;id as id&apos;);// æ£€æŸ¥é‡å¤çš„emailvar [result] = await db(&apos;users&apos;).where(&#123;email: request.email&#125;).count(&apos;id as id&apos;); å¢åŠ  1var [result] = await db(&apos;users&apos;).insert(request).returning(&apos;id&apos;); ä¿®æ”¹ 1234await db(&apos;refresh_token&apos;).update(&#123; isValid: false, updateAt: dateFormat(new Date(), &apos;YYYY-MM-DD HH:mm:ss&apos;)&#125;).where(&#123;username: request.username&#125;); åˆ é™¤ 1await db(&apos;notes&apos;).delete().where(&#123;id: this.id&#125;);]]></content>
      <categories>
        <category>nodejs</category>
      </categories>
      <tags>
        <tag>knex</tag>
        <tag>node</tag>
        <tag>æ•°æ®åº“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŠ ç›å¯†ç å“ˆå¸Œï¼šå¦‚ä½•æ­£ç¡®ä½¿ç”¨]]></title>
    <url>%2F2019%2F01%2F14%2Fcl4s3gti70092wn9ew72ksvoo%2F</url>
    <content type="text"><![CDATA[åŠ ç›å¯†ç å“ˆå¸Œï¼šå¦‚ä½•æ­£ç¡®ä½¿ç”¨å‚è€ƒï¼šåŠ ç›å¯†ç å“ˆå¸Œï¼šå¦‚ä½•æ­£ç¡®ä½¿ç”¨ âš ï¸ ä¸è¦è‡ªå·±å†™åŠ å¯†å‡½æ•° ä¸ºä»€ä¹ˆå¯†ç éœ€è¦è¿›è¡Œå“ˆå¸Œï¼Ÿhash(&quot;hello&quot;) = 2cf24dba5fb0a30e26e83b2ac5b9e29e1b161e5c1fa7425e73043362938b9824 å“ˆå¸Œç®—æ³•æ˜¯ä¸€ä¸ªå•é¡¹å‡½æ•°ï¼Œå®ƒå¯ä»¥å°†ä»»æ„å¤§å°çš„æ•°æ®è½¬ä¸ºå®šé•¿çš„â€œæŒ‡çº¹â€ï¼Œå¹¶ä¸”æ— æ³•åå‘è®¡ç®—ã€‚æ•°æ®æºä¿®æ”¹ä¸€ç‚¹ï¼Œå“ˆå¸Œçš„ç»“æœä¹Ÿå®Œå…¨ä¸åŒã€‚ åŸºäºå“ˆå¸ŒåŠ å¯†çš„è´¦æˆ·ç³»ç»Ÿï¼Œé€šå¸¸çš„è®¤è¯æµç¨‹ ç”¨æˆ·æ³¨å†Œè´¦å· å¯†ç ç»è¿‡å“ˆå¸ŒåŠ å¯†å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œåªè¦å¯†ç è¢«å†™å…¥ç£ç›˜ï¼Œä»»ä½•æ—¶å€™éƒ½ä¸å…è®¸æ˜¯æ˜æ–‡ å½“ç”¨æˆ·ç™»å½•æ—¶ï¼Œä»æ•°æ®åº“å»é™¤å·²ç»åŠ å¯†çš„å¯†ç ï¼Œå’Œç»è¿‡å“ˆå¸Œçš„ç”¨æˆ·è¾“å…¥è¿›è¡Œå¯¹æ¯” å¦‚æœå“ˆå¸Œå€¼ç›¸åŒæˆ–ï¼Œç”¨æˆ·è·å¾—ç™»å½•æƒé™ï¼Œå¦åˆ™å‘ŠçŸ¥ç”¨æˆ·è¾“å…¥æ— æ•ˆçš„ç™»å½•ä¿¡æ¯ æ¯å½“ç”¨æœ‰ç”¨æˆ·å°è¯•ç™»å½•ï¼Œé‡å¤ä»¥ä¸Šä¸¤æ­¥ âœ… ä¿æŠ¤å¯†ç çš„å“ˆå¸Œå‡½æ•°å’Œæ•°æ®ç»“æ„ä¸­çš„å“ˆå¸Œå‡½æ•°æ˜¯ä¸åŒçš„ï¼Œå“ˆå¸Œè¡¨ä¹‹ç±»çš„å“ˆå¸Œå‡½æ•°ï¼Œç›®çš„æ˜¯ä¸ºäº†å¿«é€ŸæŸ¥æ‰¾ï¼Œè€Œä¸æ˜¯é«˜å®‰å…¨æ€§ã€‚åªæœ‰åŠ å¯†çš„å“ˆå¸Œå‡½æ•°æ‰èƒ½ä¿æŠ¤å¯†ç å®‰å…¨ï¼Œä¾‹å¦‚ SHA256 SHA512 RipeMD WHIRLPOOL å¦‚ä½•ç ´è§£å“ˆå¸ŒåŠ å¯† å­—å…¸æ”»å‡» å­—å…¸æ”»å‡»éœ€è¦ä½¿ç”¨ä¸€ä¸ªå­—å…¸æ–‡ä»¶ï¼Œå®ƒåŒ…å«å•è¯ã€çŸ­è¯­ã€å¸¸ç”¨å¯†ç ä»¥åŠå…¶ä»–å¯èƒ½ç”¨ä½œå¯†ç çš„å­—ç¬¦ä¸²ã€‚å…¶ä¸­æ¯ä¸ªè¯éƒ½æ˜¯è¿›è¿‡å“ˆå¸Œåå‚¨å­˜çš„ï¼Œç”¨å®ƒä»¬å’Œå¯†ç å“ˆå¸Œæ¯”å¯¹ï¼Œå¦‚æœç›¸åŒï¼Œè¿™ä¸ªè¯å°±æ˜¯å¯†ç ã€‚ æš´åŠ›æ”»å‡» æš´åŠ›æ”»å‡»ä¼šå°è¯•æ¯ä¸€ä¸ªåœ¨ç»™å®šé•¿åº¦ä¸‹å„ç§å­—ç¬¦çš„ç»„åˆã€‚è¿™ç§æ”»å‡»ä¼šæ¶ˆè€—å¤§é‡çš„è®¡ç®—ï¼Œä¹Ÿé€šå¸¸æ˜¯ç ´è§£å“ˆå¸ŒåŠ å¯†ä¸­æ•ˆç‡æœ€ä½çš„åŠæ³•ï¼Œä½†æ˜¯å®ƒæœ€ç»ˆä¼šæ‰¾åˆ°æ­£ç¡®çš„å¯†ç ã€‚ æˆ‘ä»¬æ²¡æœ‰åŠæ³•é˜»æ­¢å­—å…¸æ”»å‡»å’Œæš´å‡»æ”»å‡»ï¼Œå°½ç®¡å¯ä»¥é™ä½å®ƒä»¬çš„æ•ˆç‡ï¼Œä½†é‚£ä¹Ÿä¸æ˜¯å®Œå…¨é˜»æ­¢ã€‚ åŠ ç›æŸ¥è¡¨æ³•å’Œå½©è™¹è¡¨åªæœ‰åœ¨æ‰€æœ‰å¯†ç éƒ½ä»¥ç›¸åŒæ–¹å¼è¿›è¡Œå“ˆå¸ŒåŠ å¯†æ—¶æ‰æœ‰æ•ˆã€‚å¦‚æœä¸¤ä¸ªç”¨æˆ·å¯†ç ç›¸åŒï¼Œé‚£ä¹ˆä»–ä»¬å¯†ç çš„å“ˆå¸Œå€¼ä¹Ÿæ˜¯ç›¸åŒçš„ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡â€œéšæœºåŒ–â€å“ˆå¸Œæ¥é˜»æ­¢è¿™ç±»æ”»å‡»ï¼Œäºæ˜¯å½“ç›¸åŒçš„å¯†ç è¢«å“ˆå¸Œä¸¤æ¬¡ä¹‹åï¼Œå¾—åˆ°çš„å€¼å°±ä¸ç›¸åŒäº†ã€‚ æ¯”å¦‚å¯ä»¥åœ¨å¯†ç ä¸­æ··å…¥ä¸€æ®µâ€œéšæœºâ€çš„å­—ç¬¦ä¸²å†è¿›è¡Œå“ˆå¸ŒåŠ å¯†ï¼Œè¿™ä¸ªè¢«å­—ç¬¦ä¸²è¢«ç§°ä½œç›å€¼ã€‚ä¸ºäº†æ ¡éªŒå¯†ç æ˜¯å¦æ­£ç¡®ï¼Œæˆ‘ä»¬éœ€è¦å‚¨å­˜ç›å€¼ã€‚é€šå¸¸å’Œå¯†ç å“ˆå¸Œå€¼ä¸€èµ·å­˜æ”¾åœ¨è´¦æˆ·æ•°æ®åº“ä¸­ï¼Œæˆ–è€…ç›´æ¥å­˜ä¸ºå“ˆå¸Œå­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ã€‚ ç›å€¼å¹¶ä¸éœ€è¦ä¿å¯†ï¼Œç”±äºéšæœºåŒ–äº†å“ˆå¸Œå€¼ï¼ŒæŸ¥è¡¨æ³•ã€åå‘æŸ¥è¡¨æ³•å’Œå½©è™¹è¡¨éƒ½ä¸å†æœ‰æ•ˆã€‚æ”»å‡»è€…æ— æ³•ç¡®çŸ¥ç›å€¼ï¼Œäºæ˜¯å°±ä¸èƒ½é¢„å…ˆè®¡ç®—å‡ºä¸€ä¸ªæŸ¥è¯¢è¡¨æˆ–è€…å½©è™¹è¡¨ã€‚è¿™æ ·æ¯ä¸ªç”¨æˆ·çš„å¯†ç éƒ½æ··å…¥ä¸åŒçš„ç›å€¼åå†è¿›è¡Œå“ˆå¸Œï¼Œå› æ­¤åå‘æŸ¥è¡¨æ³•ä¹Ÿå˜å¾—éš¾ä»¥å®æ–½ã€‚ âš ï¸å®ç°åŠ ç›å“ˆå¸Œçš„è¿‡ç¨‹ä¸­é€šå¸¸ä¼šçŠ¯å“ªäº›é”™è¯¯ ç›å€¼é‡å¤é‡å¤çš„ç›å€¼æ˜¯æ— ç”¨åŠŸï¼Œå› ä¸ºä¸å˜çš„ç›å€¼æ¯æ¬¡hashçš„å¯†ç è¿˜æ˜¯ä¸€æ ·çš„ï¼Œå› æ­¤ç”¨æˆ·åˆ›å»ºè´¦æˆ·æˆ–æ¯æ¬¡ä¿®æ”¹å¯†ç æ—¶ï¼Œéƒ½åº”è¯¥é‡æ–°ç”Ÿæˆæ–°çš„ç›å€¼è¿›è¡ŒåŠ å¯†ã€‚ çŸ­ç›å€¼å¦‚æœç›å€¼å¤ªçŸ­ï¼Œæ”»å‡»è€…å¯ä»¥æ„é€ ä¸€ä¸ªæŸ¥è¯¢è¡¨åŒ…å«æ‰€æœ‰å¯èƒ½çš„ç›å€¼ã€‚åŒæ ·åœ°ï¼Œç”¨æˆ·åä¹Ÿä¸åº”è¯¥è¢«ç”¨ä½œç›å€¼ã€‚å°½ç®¡åœ¨ä¸€ä¸ªç½‘ç«™ä¸­ç”¨æˆ·åæ˜¯å”¯ä¸€çš„ï¼Œä½†æ˜¯å®ƒä»¬æ˜¯å¯é¢„æµ‹çš„ï¼Œå¹¶ä¸”ç»å¸¸é‡å¤ç”¨äºå…¶ä»–æœåŠ¡ä¸­ã€‚ä¸€ä¸ªå¥½çš„åšæ³•æ˜¯ä½¿ç”¨å’Œå“ˆå¸Œå‡½æ•°è¾“å‡ºçš„å­—ç¬¦ä¸²ç­‰é•¿çš„ç›å€¼ã€‚ ä¸¤æ¬¡å“ˆå¸Œå’Œç»„åˆå“ˆå¸Œ äººä»¬ç»å¸¸ä¸ç”±è‡ªä¸»åœ°è®¤ä¸ºå°†ä¸åŒçš„å“ˆå¸Œå‡½æ•°ç»„åˆèµ·æ¥ï¼Œç»“æœä¼šæ›´åŠ å®‰å…¨ã€‚å®é™…ä¸Šè¿™æ ·åšå‡ ä¹æ²¡æœ‰å¥½å¤„ï¼Œä»…ä»…é€ æˆäº†å‡½æ•°ä¹‹é—´äº’ç›¸å½±å“çš„é—®é¢˜ï¼Œç”šè‡³æœ‰æ—¶å€™ä¼šå˜å¾—æ›´åŠ ä¸å®‰å…¨ã€‚ å“ˆå¸Œç¢°æ’ å³ä½¿åœ¨MD5è¿™æ ·è„†å¼±çš„å“ˆå¸Œå‡½æ•°ä¸­æ‰¾åˆ°ç¢°æ’ä¹Ÿéœ€è¦è€—è´¹å¤§é‡çš„è®¡ç®—ï¼Œå› æ­¤è¿™æ ·çš„ç¢°æ’â€œæ„å¤–åœ°â€åœ¨å®é™…ä¸­å‡ºç°çš„å¯èƒ½æ€§æ˜¯å¾ˆä½çš„ã€‚ æ­£ç¡®çš„ä½¿ç”¨å“ˆå¸ŒåŠ å¯†åŸºæœ¬è¦ç´ ï¼šåŠ ç›å“ˆå¸Œ ç›å€¼åº”è¯¥ä½¿ç”¨åŸºäºåŠ å¯†çš„ä¼ªéšæœºæ•°ç”Ÿæˆå™¨ï¼ˆCryptographically Secure Pseudo-Random Number Generator â€“ CSPRNGï¼‰æ¥ç”Ÿæˆã€‚ CSPRNG ä¸“é—¨è¢«è®¾è®¡æˆç”¨äºåŠ å¯†ï¼Œå®ƒèƒ½æä¾›é«˜åº¦éšæœºå’Œæ— æ³•é¢„æµ‹çš„éšæœºæ•°ã€‚ ä¸€ä¸ªå¥½çš„æ ‡å‡†çš„æ˜¯ï¼šç›å€¼è‡³å°‘å’Œå“ˆå¸Œå‡½æ•°çš„è¾“å‡ºä¸€æ ·é•¿ï¼›ç›å€¼åº”è¯¥è¢«å‚¨å­˜å’Œå¯†ç å“ˆå¸Œä¸€èµ·å‚¨å­˜åœ¨è´¦æˆ·æ•°æ®è¡¨ä¸­ã€‚ å­˜å‚¨å¯†ç çš„æ­¥éª¤ ä½¿ç”¨ CSPRNG ç”Ÿæˆä¸€ä¸ªé•¿åº¦è¶³å¤Ÿçš„ç›å€¼ å°†ç›å€¼æ··å…¥å¯†ç ï¼Œå¹¶ä½¿ç”¨æ ‡å‡†çš„åŠ å¯†å“ˆå¸Œå‡½æ•°è¿›è¡ŒåŠ å¯†ï¼Œå¦‚SHA25 æŠŠå“ˆå¸Œå€¼å’Œç›å€¼ä¸€èµ·å­˜å…¥æ•°æ®åº“ä¸­å¯¹åº”æ­¤ç”¨æˆ·çš„é‚£æ¡è®°å½• æ ¡éªŒå¯†ç çš„æ­¥éª¤ ä»æ•°æ®åº“ä¸­å–å‡ºç”¨æˆ·çš„å¯†ç å“ˆå¸Œå€¼å’Œç›å€¼ å°†ç›å€¼æ··å…¥ç”¨æˆ·è¾“å…¥çš„å¯†ç ï¼Œå¹¶ä¸”ä½¿ç”¨ç›¸åŒçš„å“ˆå¸Œå‡½æ•°è¿›è¡ŒåŠ å¯† æ¯”è¾ƒä¸Šä¸€æ­¥ä¸­çš„ç»“æœå’Œæ•°æ®åº“ä¸­å“ˆå¸Œå€¼æ˜¯å¦ç›¸åŒ åœ¨Webç¨‹åºä¸­ï¼Œæ°¸è¿œåœ¨æœåŠ¡å™¨ç«¯è¿›è¡Œå“ˆå¸ŒåŠ å¯† å³ä½¿åœ¨webç«¯è¿›è¡Œäº†åŠ å¯†ï¼Œä¹Ÿéœ€è¦åœ¨æœåŠ¡ç«¯å†æ¬¡åŠ å¯†ã€‚ åœ¨webç«¯åŠ å¯†éœ€è¦æ³¨æ„ï¼š å®¢æˆ·ç«¯åŠ å¯†ä¸èƒ½ä»£æ›¿HTTPSï¼Œå¦‚æœæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥ä¸æ˜¯å®‰å…¨çš„ã€‚é‚£ä¹ˆä¸­é—´äººå¯ä»¥ä¿®æ”¹jsä»£ç ï¼Œåˆ é™¤åŠ å¯†å‡½æ•°ï¼Œä»è€Œè·å–ç”¨æˆ·å¯†ç ã€‚ æµè§ˆå™¨å¯ä»¥ç¦ç”¨jsï¼Œä½ çš„ç¨‹åºåº”è¯¥æ£€æµ‹JavaScriptæ˜¯å¦å¯ç”¨ï¼Œå¦‚æœç­”æ¡ˆä¸ºå¦ï¼Œéœ€è¦åœ¨æœåŠ¡ç«¯æ¨¡æ‹Ÿå®¢æˆ·ç«¯çš„åŠ å¯†ã€‚ å®¢æˆ·ç«¯å“ˆå¸ŒåŒæ ·éœ€è¦åŠ ç›ï¼Œå¾ˆæ˜¾ç„¶çš„åŠæ³•å°±æ˜¯å‘æœåŠ¡å™¨è¯·æ±‚ç”¨æˆ·çš„ç›å€¼ï¼Œä½†æ˜¯ä¸è¦è¿™ä¹ˆåšã€‚å› ä¸ºè¿™ç»™äº†åè›‹ä¸€ä¸ªæœºä¼šï¼Œèƒ½å¤Ÿåœ¨ä¸çŸ¥é“å¯†ç çš„æƒ…å†µä¸‹æ£€æµ‹ç”¨æˆ·åæ˜¯å¦æœ‰æ•ˆã€‚æ—¢ç„¶ä½ å·²ç»åœ¨æœåŠ¡ç«¯å¯¹å¯†ç è¿›è¡Œäº†åŠ ç›å“ˆå¸Œï¼Œé‚£ä¹ˆåœ¨å®¢æˆ·ç«¯æŠŠç”¨æˆ·åï¼ˆæˆ–é‚®ç®±ï¼‰åŠ ä¸Šç½‘ç«™ç‰¹æœ‰çš„å­—ç¬¦ä¸²ï¼ˆå¦‚åŸŸåï¼‰ä½œä¸ºç›å€¼æ˜¯å¯è¡Œçš„ã€‚ è®©å¯†ç æ›´éš¾ç ´è§£æ…¢å“ˆå¸Œå‡½æ•° ä¸ºäº†é™ä½æ”»å‡»è€…çš„æ•ˆç‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ç§å«åšå¯†é’¥æ‰©å±•çš„æŠ€æœ¯ã€‚è¿™ç§æŠ€æœ¯çš„æ€æƒ³å°±æ˜¯æŠŠå“ˆå¸Œå‡½æ•°å˜å¾—å¾ˆæ…¢ï¼Œäºæ˜¯å³ä½¿æœ‰ç€è¶…é«˜æ€§èƒ½çš„GPUæˆ–å®šåˆ¶ç¡¬ä»¶ï¼Œå­—å…¸æ”»å‡»å’Œæš´åŠ›æ”»å‡»ä¹Ÿä¼šæ…¢å¾—è®©æ”»å‡»è€…æ— æ³•æ¥å—ã€‚æœ€ç»ˆçš„ç›®æ ‡æ˜¯æŠŠå“ˆå¸Œå‡½æ•°çš„é€Ÿåº¦é™åˆ°è¶³ä»¥è®©æ”»å‡»è€…æœ›è€Œå´æ­¥ï¼Œä½†é€ æˆçš„å»¶è¿Ÿåˆä¸è‡³äºå¼•èµ·ç”¨æˆ·çš„æ³¨æ„ã€‚ æ— æ³•ç ´è§£çš„å“ˆå¸ŒåŠ å¯†ï¼šå¯†é’¥å“ˆå¸Œå’Œå¯†ç å“ˆå¸Œè®¾å¤‡ åªè¦æ”»å‡»è€…å¯ä»¥æ£€æµ‹å¯¹ä¸€ä¸ªå¯†ç çš„çŒœæµ‹æ˜¯å¦æ­£ç¡®ï¼Œé‚£ä¹ˆä»–ä»¬å°±å¯ä»¥è¿›è¡Œå­—å…¸æ”»å‡»æˆ–æš´åŠ›æ”»å‡»ã€‚å› æ­¤ä¸‹ä¸€æ­¥å°±æ˜¯å‘å“ˆå¸Œè®¡ç®—ä¸­å¢åŠ ä¸€ä¸ªå¯†é’¥ï¼Œåªæœ‰çŸ¥é“è¿™ä¸ªå¯†é’¥çš„äººæ‰èƒ½æ ¡éªŒå¯†ç ã€‚æœ‰ä¸¤ç§åŠæ³•å¯ä»¥å®ç°ï¼šå°†å“ˆå¸Œå€¼åŠ å¯†ï¼Œæ¯”å¦‚ä½¿ç”¨AESç®—æ³•ï¼›å°†å¯†é’¥åŒ…å«åˆ°å“ˆå¸Œå­—ç¬¦ä¸²ä¸­ï¼Œæ¯”å¦‚ä½¿ç”¨å¯†é’¥å“ˆå¸Œç®—æ³•HMACã€‚ å½“ç”¨æˆ·å¿˜è®°å¯†ç çš„æ—¶å€™ï¼Œæ€æ ·è¿›è¡Œé‡ç½®ï¼Ÿ å¤§å¤šæ•°ç½‘ç«™ä¸ºé‚£äº›å¿˜è®°å¯†ç çš„ç”¨æˆ·å‘é€ç”µå­é‚®ä»¶è¿›è¡Œèº«ä»½è®¤è¯ã€‚é¦–å…ˆï¼Œéœ€è¦éšæœºç”Ÿæˆä¸€ä¸ªä¸€æ¬¡æ€§çš„ä»¤ç‰Œï¼Œå®ƒç›´æ¥å…³è”åˆ°ç”¨æˆ·è´¦æˆ·ï¼Œç„¶åå°†è¿™ä¸ªä»¤ç‰Œæ··å…¥åˆ°ä¸€ä¸ªé‡ç½®å¯†ç çš„è¿æ¥ä¸­ï¼Œå‘é€åˆ°ç”¨æˆ·çš„ç”µå­é‚®ç®±ã€‚æœ€åå½“ç”¨æˆ·ç‚¹å‡»è¿™ä¸ªåŒ…å«æœ‰æ•ˆä»¤ç‰Œçš„é“¾æ¥æ—¶ã€‚æç¤ºä»–ä»¬å¯ä»¥é‡ç½®æ–°çš„å¯†ç ã€‚éœ€è¦ç¡®ä¿è¿™ä¸ªä»¤ç‰Œåªå¯¹ä¸€ä¸ªè´¦å·æœ‰æ•ˆï¼Œä»¥é˜²æ­¢æ”»å‡»è€…è·å–åˆ°é‚®ç®±ä»¤ç‰Œåï¼Œç”¨æ¥é‡ç½®å…¶ä»–ç”¨æˆ·çš„å¯†ç ã€‚ ä»¤ç‰Œå¿…é¡»åœ¨15åˆ†é’Ÿå†…ä½¿ç”¨ï¼Œå¹¶ä¸”ä¸€æ—¦è¢«ä½¿ç”¨å°±ç«‹å³å¤±æ•ˆã€‚å½“ç”¨æˆ·é‡æ–°è¯·æ±‚ä»¤ç‰Œæ—¶ï¼Œæˆ–ç”¨æˆ·ç™»å½•æˆåŠŸæ—¶ï¼ˆè¯´æ˜ä»–è¿˜è®°å¾—å¯†ç ï¼‰ï¼Œä½¿åŸä»¤ç‰Œå¤±æ•ˆä¹Ÿæ˜¯ä¸€ä¸ªå¥½åšæ³•ã€‚å¦‚æœä¸€ä¸ªä»¤ç‰Œå§‹ç»ˆä¸è¿‡æœŸï¼Œé‚£ä¹ˆå®ƒä¸€ç›´å¯ä»¥ç”¨äºå…¥ä¾µç”¨æˆ·çš„å¸å·ã€‚]]></content>
      <categories>
        <category>å®‰å…¨</category>
      </categories>
      <tags>
        <tag>å“ˆå¸Œ</tag>
        <tag>åŠ ç›</tag>
        <tag>å®‰å…¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æŠŠä¸€ä¸ª Node.js web åº”ç”¨ç¨‹åºç»™ Docker åŒ–]]></title>
    <url>%2F2019%2F01%2F09%2Fcl4s3gtil009zwn9ekzxpa87t%2F</url>
    <content type="text"><![CDATA[åŸæ–‡ï¼šæŠŠä¸€ä¸ª Node.js web åº”ç”¨ç¨‹åºç»™ Docker åŒ– æŠŠä¸€ä¸ª Node.js web åº”ç”¨ç¨‹åºç»™ Docker åŒ–æœ¬ç¤ºä¾‹çš„ç›®æ ‡æ˜¯ç»™ä½ æ¼”ç¤ºå¦‚ä½•å°†ä¸€ä¸ª Node.js çš„åº”ç”¨è£…å…¥åˆ° Docker å®¹å™¨ä¸­ã€‚æœ¬æ•™ç¨‹æ—¨åœ¨é’ˆå¯¹äºå¼€å‘äººå‘˜ï¼Œè€Œ é äº§å“å‘å¸ƒäººå‘˜ã€‚æ­¤æ•™ç¨‹åŒæ ·å‡å®šä½ æœ‰ä¸€ä¸ªå¯ä»¥æ­£å¸¸å·¥ä½œçš„ Docker å®‰è£…ï¼Œå¹¶ä¸”å¯¹äº Node.js çš„åº”ç”¨ç¨‹åºæ˜¯å¦‚ä½•ç»„ç»‡çš„æœ‰ä¸€ä¸ªå¤§è‡´çš„åŸºæœ¬äº†è§£ã€‚ åœ¨æœ¬æ•™ç¨‹çš„ç¬¬ä¸€éƒ¨åˆ†æˆ‘ä»¬åœ¨ Node.js ä¸­åˆ›å»ºä¸€ä¸ª Web çš„åº”ç”¨ç¨‹åºï¼Œç„¶åæˆ‘ä»¬ä¸ºé‚£ä¸ªåº”ç”¨æ„å»ºä¸€ä¸ª Docker é•œåƒï¼›æœ€åæˆ‘ä»¬å°†æŠŠé‚£ä¸ªé•œåƒä½œä¸ºå®¹å™¨è¿è¡Œä¹‹ã€‚ Docker å…è®¸ä½ ä»¥åº”ç”¨ç¨‹åºæ‰€æœ‰çš„ä¾èµ–å…¨éƒ¨æ‰“åŒ…æˆä¸€ä¸ªæ ‡å‡†åŒ–çš„å•å…ƒï¼Œè¿™è¢«æˆä¸ºä¸€ä¸ªå®¹å™¨ã€‚å¯¹äºåº”ç”¨å¼€å‘è€Œè¨€ï¼Œä¸€ä¸ªå®¹å™¨å°±æ˜¯ä¸€ä¸ªèœ•åŒ–åˆ°æœ€åŸºç¡€çš„ Linux æ“ä½œç³»ç»Ÿã€‚ä¸€ä¸ªé•œåƒæ˜¯ä½ åŠ è½½åˆ°å®¹å™¨ä¸­çš„è½¯ä»¶ã€‚ åˆ›å»º Node.js åº”ç”¨é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ä»¥ä¾¿äºå®¹çº³éœ€è¦çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨æ­¤å…¶ä¸­åˆ›å»ºä¸€ä¸ª package.json æ–‡ä»¶ï¼Œæè¿°ä½ åº”ç”¨ç¨‹åºä»¥åŠéœ€è¦çš„ä¾èµ–ï¼š 12345678910111213&#123; "name": "docker_web_app", "version": "1.0.0", "description": "Node.js on Docker", "author": "First Last &lt;first.last@example.com&gt;", "main": "server.js", "scripts": &#123; "start": "node server.js" &#125;, "dependencies": &#123; "express": "^4.16.1" &#125;&#125; é…åˆç€ä½ çš„ package.json è¯·è¿è¡Œ npm installã€‚å¦‚æœä½ ä½¿ç”¨çš„ npm æ˜¯ç‰ˆæœ¬ 5 æˆ–è€…ä¹‹åçš„ç‰ˆæœ¬ï¼Œè¿™ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª package-lock.json æ–‡ä»¶ï¼Œå®ƒå°†ä¸€èµ·è¢«æ‹·è´è¿›å…¥ä½ çš„ Docker é•œåƒä¸­ã€‚ ç„¶åï¼Œåˆ›å»ºä¸€ä¸ª server.js æ–‡ä»¶ï¼Œä½¿ç”¨ Express.js æ¡†æ¶å®šä¹‰ä¸€ä¸ª Web åº”ç”¨ï¼š 12345678910111213141516'use strict';const express = require('express');// Constantsconst PORT = 8080;const HOST = '0.0.0.0';// Appconst app = express();app.get('/', (req, res) =&gt; &#123; res.send('Hello world\n');&#125;);app.listen(PORT, HOST);console.log(`Running on http://$&#123;HOST&#125;:$&#123;PORT&#125;`); åœ¨ç¨åçš„æ­¥éª¤ä¸­æˆ‘ä»¬å°†çœ‹ä¸€ä¸‹å€ŸåŠ©ä½¿ç”¨å®˜æ–¹çš„ Docker é•œåƒï¼Œä½ å¦‚ä½•åœ¨ Docker é•œåƒä¸­è¿è¡Œè¿™ä¸ªåº”ç”¨ã€‚é¦–å…ˆï¼Œä½ éœ€è¦ä¸€ä¸ªæ„å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºçš„ Docker åº”ç”¨ã€‚ åˆ›å»ºä¸€ä¸ªåç§°ä¸º Dockerfile çš„æ–‡ä»¶åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶ï¼Œå‘½åä¸º Dockerfileï¼š 1touch Dockerfile ç”¨ä½ æœ€å–œæ¬¢çš„æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€è¿™ä¸ª Dockerfileã€‚ æˆ‘ä»¬è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯å®šä¹‰æˆ‘ä»¬éœ€è¦ä»å“ªä¸ªé•œåƒè¿›è¡Œæ„å»ºã€‚è¿™é‡Œæˆ‘ä»¬å°†ä½¿ç”¨æœ€æ–°çš„ LTSï¼ˆé•¿æœŸæœåŠ¡å™¨æ”¯æŒç‰ˆï¼‰ï¼ŒNode çš„ç‰ˆæœ¬å·ä¸º 8ã€‚ä½ å¯ä»¥ä» Docker ç«™ç‚¹ è·å–ç›¸å…³é•œåƒï¼š 1FROM node:8 ä¸‹ä¸€æ­¥åœ¨é•œåƒä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å­˜æ”¾åº”ç”¨ç¨‹åºä»£ç ï¼Œè¿™å°†æ˜¯ä½ çš„åº”ç”¨ç¨‹åºå·¥ä½œç›®å½•ï¼š 12# Create app directoryWORKDIR /usr/src/app æ­¤é•œåƒä¸­ Node.js å’Œ NPM éƒ½å·²ç»å®‰è£…ï¼Œæ‰€ä»¥ä¸‹ä¸€ä»¶äº‹å¯¹äºæˆ‘ä»¬è€Œè¨€æ˜¯ä½¿ç”¨ npm å®‰è£…ä½ çš„åº”ç”¨ç¨‹åºçš„æ‰€æœ‰ä¾èµ–ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœä½ çš„ npm çš„ç‰ˆæœ¬æ˜¯ 4 æˆ–è€…æ›´æ—©çš„ç‰ˆæœ¬ï¼Œpackage-lock.json æ–‡ä»¶å°†ä¸ä¼šè‡ªåŠ¨ç”Ÿæˆã€‚ 12345678# Install app dependencies# A wildcard is used to ensure both package.json AND package-lock.json are copied# where available (npm@5+)COPY package*.json ./RUN npm install# If you are building your code for production# RUN npm install --only=production è¯·æ³¨æ„ï¼Œæˆ‘ä»¬åªæ˜¯æ‹·è´äº† package.json æ–‡ä»¶è€Œéæ•´ä¸ªå·¥ä½œç›®å½•ã€‚è¿™å…è®¸æˆ‘ä»¬åˆ©ç”¨ç¼“å­˜ Docker å±‚çš„ä¼˜åŠ¿ã€‚bitJudo å¯¹æ­¤æœ‰ä¸€ä¸ªå¾ˆå¥½çš„è§£é‡Šï¼Œè¯· è§æ­¤ã€‚ åœ¨ Docker é•œåƒä¸­ä½¿ç”¨ COPY å‘½ä»¤ç»‘å®šä½ çš„åº”ç”¨ç¨‹åºï¼š 12# Bundle app sourceCOPY . . ä½ çš„åº”ç”¨ç¨‹åºç»‘å®šçš„ç«¯å£ä¸º 8080ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä½¿ç”¨ EXPOSE å‘½ä»¤ä½¿å®ƒä¸ docker çš„é•œåƒåšæ˜ å°„ï¼š 1EXPOSE 8080 æœ€åä½†åŒæ ·é‡è¦çš„äº‹æ˜¯ï¼Œä½¿ç”¨å®šä¹‰è¿è¡Œæ—¶çš„ CMD å®šä¹‰å‘½ä»¤æ¥è¿è¡Œåº”ç”¨ç¨‹åºã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æœ€ç®€å•çš„ npm start å‘½ä»¤ï¼Œå®ƒå°†è¿è¡Œ node server.js å¯åŠ¨ä½ çš„æœåŠ¡å™¨ï¼š 1CMD [ "npm", "start" ] ä½ çš„ Dockerfile ç°åœ¨çœ‹ä¸Šå»æ˜¯è¿™ä¸ªæ ·å­ï¼š 12345678910111213141516171819FROM node:8# Create app directoryWORKDIR /usr/src/app# Install app dependencies# A wildcard is used to ensure both package.json AND package-lock.json are copied# where available (npm@5+)COPY package*.json ./RUN npm install# If you are building your code for production# RUN npm install --only=production# Bundle app sourceCOPY . .EXPOSE 8080CMD [ "npm", "start" ] .dockerignore æ–‡ä»¶åœ¨ Dockerfile çš„åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª .dockerignore æ–‡ä»¶ï¼Œå¸¦æœ‰ä»¥ä¸‹å†…å®¹ï¼š 12node_modulesnpm-debug.log è¿™å°†é¿å…ä½ çš„æœ¬åœ°æ¨¡å—ä»¥åŠè°ƒè¯•æ—¥å¿—è¢«æ‹·è´è¿›å…¥åˆ°ä½ çš„ Docker é•œåƒä¸­ï¼Œä»¥è‡³äºæŠŠä½ é•œåƒåŸæœ‰å®‰è£…çš„æ¨¡å—ç»™è¦†ç›–äº†ã€‚ æ„å»ºä½ çš„é•œåƒè¿›å…¥åˆ° Dockerfile æ‰€åœ¨çš„é‚£ä¸ªç›®å½•ä¸­ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ„å»º Docker é•œåƒã€‚å¼€å…³ç¬¦ -t è®©ä½ æ ‡è®°ä½ çš„é•œåƒï¼Œä»¥è‡³äºè®©ä½ ä»¥åå¾ˆå®¹æ˜“åœ°ç”¨ docker images æ‰¾åˆ°å®ƒã€‚ 1$ docker build -t &lt;your username&gt;/node-web-app . Docker ç°åœ¨å°†ç»™å‡ºä½ çš„é•œåƒåˆ—è¡¨ï¼š 123456$ docker images# ExampleREPOSITORY TAG ID CREATEDnode 8 1934b0b038d1 5 days ago&lt;your username&gt;/node-web-app latest d64d3505b0d2 1 minute ago è¿è¡Œé•œåƒä½¿ç”¨ -d æ¨¡å¼è¿è¡Œé•œåƒå°†ä»¥åˆ†ç¦»æ¨¡å¼è¿è¡Œ Docker å®¹å™¨ï¼Œä½¿å¾—å®¹å™¨åœ¨åå°è‡ªåŠ©è¿è¡Œã€‚å¼€å…³ç¬¦ -p åœ¨å®¹å™¨ä¸­æŠŠä¸€ä¸ªå…¬å…±ç«¯å£å¯¼å‘åˆ°ç§æœ‰çš„ç«¯å£ï¼Œè¯·ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œä½ ä¹‹å‰æ„å»ºçš„é•œåƒï¼š 1$ docker run -p 49160:8080 -d &lt;your username&gt;/node-web-app æŠŠä½ åº”ç”¨ç¨‹åºçš„è¾“å‡ºæ‰“å°å‡ºæ¥ï¼š 12345678# Get container ID$ docker ps# Print app output$ docker logs &lt;container id&gt;# ExampleRunning on http://localhost:8080 å¦‚æœä½ éœ€è¦è¿›å…¥å®¹å™¨ä¸­ï¼Œè¯·è¿è¡Œ exec å‘½ä»¤ï¼š 12# Enter the container$ docker exec -it &lt;container id&gt; /bin/bash æµ‹è¯•ä¸ºæµ‹è¯•ä½ çš„åº”ç”¨ç¨‹åºï¼Œç»™å‡ºä¸ Docker æ˜ å°„è¿‡çš„ç«¯å£å·ï¼š 12345$ docker ps# ExampleID IMAGE COMMAND ... PORTSecce33b30ebf &lt;your username&gt;/node-web-app:latest npm start ... 49160-&gt;8080 åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œåœ¨å®¹å™¨ä¸­ Docker æŠŠç«¯å£å· 8080 æ˜ å°„åˆ°ä½ æœºå™¨ä¸Šçš„ 49160 ã€‚ ç°åœ¨ä½ å¯ä»¥ä½¿ç”¨ curlï¼ˆå¦‚æœéœ€è¦çš„è¯è¯·é€šè¿‡ sudo apt-get install curl å®‰è£…ï¼‰è°ƒç”¨ä½ çš„ç¨‹åºäº†ï¼š 1234567891011$ curl -i localhost:49160HTTP/1.1 200 OKX-Powered-By: ExpressContent-Type: text/html; charset=utf-8Content-Length: 12ETag: W/"c-M6tWOb/Y57lesdjQuHeB1P/qTV0"Date: Mon, 13 Nov 2017 20:53:59 GMTConnection: keep-aliveHello world æˆ‘ä»¬å¸Œæœ›æœ¬æ•™ç¨‹èƒ½å¤Ÿå¸®åŠ©ä½ èµ·æ­¥ï¼Œåœ¨ Docker ä¸­è¿è¡Œä¸€ä¸ªç®€å•çš„ Node.js åº”ç”¨ç¨‹åºã€‚ ä½ ä¹Ÿå¯ä»¥åœ¨ä»¥ä¸‹ä¸€äº›åœ°æ–¹å¯»è§…åˆ°æ›´å¤šæœ‰å…³äº Docker å’ŒåŸºäº Docker çš„ Node.js ç›¸å…³å†…å®¹ï¼š å®˜æ–¹ Node.js çš„ Docker é•œåƒ Node.js åŸºäº Docker ä½¿ç”¨çš„æœ€ä½³ç»éªŒ å®˜æ–¹ Docker æ–‡æ¡£ åœ¨ StackOverFlow ä¸Šæœ‰å…³ Docker æ ‡è®°å†…å®¹ Docker Subreddit]]></content>
      <categories>
        <category>å‰ç«¯å·¥ç¨‹åŒ–</category>
      </categories>
      <tags>
        <tag>node</tag>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨ StoryBook æ­å»º UI ç»„ä»¶åº“]]></title>
    <url>%2F2018%2F10%2F26%2Fcl4s3gthp0086wn9eeygywps2%2F</url>
    <content type="text"><![CDATA[storybookæ–‡æ¡£Storybook 3.2 å¼•å…¥ Vue.js æ”¯æŒä¸€ä¸ªå®Œæ•´çš„Vueä¾‹å­ ä½¿ç”¨ StoryBook æ­å»º UI ç»„ä»¶åº“StoryBook ä¸ºUIç»„ä»¶å¼€å‘æä¾›å¼€å‘ç¯å¢ƒï¼Œä½ å¯æœ‰å®ç°ä¸åŒçŠ¶æ€ä¸‹çš„UIå¯è§†åŒ–ï¼Œå¹¶ä¸”å¯ä»¥å®ç°äº¤äº’ã€‚ å®ç° Vue UI ç»„ä»¶åº“åˆå§‹åŒ–é¡¹ç›®vue init webpack my-vue-project. // é€šè¿‡ vue cli åˆå§‹åŒ–é¡¹ç›® cd my-vue-project npm i -g @storybook/cli // å…¨å±€å®‰è£… storybook getstorybook // ç”Ÿæˆ npm run storybook //è¿è¡Œ Writing Storiesæˆ‘ä»¬åœ¨ src/component æ–‡ä»¶å¤¹ä¸‹æ·»åŠ ç®€å•çš„æŒ‰é’®ç»„ä»¶ï¼š 12345678910111213141516171819202122232425262728&lt;template&gt; &lt;button class="button-styles" @click="onClick"&gt; &lt;slot&gt;Fallback Content&lt;/slot&gt; &lt;/button&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: 'my-button', methods: &#123; onClick () &#123; &#125; &#125; &#125;&lt;/script&gt;&lt;style&gt; .button-styles &#123; border: 1px solid #eee; border-radiuas: 3px; background-color: #FFFFFF; cursor: pointer; font-size: 15pt; padding: 3px 10px; margin: 10px; &#125;&lt;/style&gt; ç„¶ååœ¨ src/stories ç›®å½•ä¸‹ï¼Œå¯ä»¥åˆ©ç”¨ Storybook æä¾›çš„æ¥å£æ³¨å†Œ Story: 12345678910111213141516171819/* eslint-disable import/no-extraneous-dependencies, import/no-unresolved, import/extensions */import &#123; storiesOf &#125; from '@storybook/vue';import &#123; action &#125; from '@storybook/addon-actions';import &#123; linkTo &#125; from '@storybook/addon-links';import MyButton from '../component/MyButton.vue';storiesOf('Button', module) .add('with text', () =&gt; (&#123; components: &#123; MyButton &#125;, template: '&lt;my-button @click="action"&gt;Hello Button&lt;/my-button&gt;', methods: &#123; action: action('clicked') &#125;, &#125;)) .add('with some emoji', () =&gt; (&#123; components: &#123; MyButton &#125;, template: '&lt;my-button @click="action"&gt;ğŸ˜€ ğŸ˜ ğŸ‘ ğŸ’¯&lt;/my-button&gt;', methods: &#123; action: action('clicked') &#125;, &#125;)); æ•ˆæœå›¾ æ€»ç»“StoryBook å¯ä»¥åœ¨åŸæœ‰çš„é¡¹ç›®ä¸Šè¿›è¡Œæ„å»ºï¼Œæ˜¯ç‹¬ç«‹çš„ï¼Œå¹¶ä¸å½±å“åŸæœ‰é¡¹ç›®ï¼› æ›´å¤šçš„æ˜¯ä½œä¸ºå•ç‹¬çš„UIç»„ä»¶åº“ä½¿ç”¨ï¼Œå®ç°UIå¯è§†åŒ–ï¼Œäº¤äº’ï¼Œæ—¥å¿—è¾“å‡ºï¼Œæ–‡æ¡£è¾“å‡ºç­‰åŠŸèƒ½ã€‚]]></content>
      <categories>
        <category>å·¥ç¨‹åŒ–</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>storybook</tag>
        <tag>UIç»„ä»¶åº“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ·±å…¥äº†è§£åˆå¹¶æ“ä½œ(è½¬)]]></title>
    <url>%2F2018%2F10%2F23%2Fcl4s3gtir00ahwn9e3qklda7k%2F</url>
    <content type="text"><![CDATA[åŸæ–‡ è¦ç‚¹ï¼š åˆå¹¶çš„å‘ç”Ÿäº†ä»€ä¹ˆ rebase åˆå¹¶ rebase åˆå¹¶çš„ç¼ºç‚¹ï¼ˆä¿®æ”¹äº†å†å²ï¼‰ æ·±å…¥äº†è§£åˆå¹¶æ“ä½œ(è½¬)åœ¨ä½ è¿›å…¥ rebase è¿™ä¸ªä¸»é¢˜å‰ï¼Œæˆ‘ä»¬æœ‰å¿…è¦æ¥å†æ¬¡æ¢è®¨ä¸€ä¸‹æ›´å¤šå…³äºåˆå¹¶æ“ä½œçš„ç»†èŠ‚ã€‚å½“ Git æ‰§è¡Œä¸€ä¸ªåˆå¹¶æ—¶ï¼Œå®ƒå®é™…ä¸Šä¼šæŸ¥æ‰¾ä¸‰ä¸ªæäº¤ï¼š (1)å…±åŒçš„åŸå§‹æäº¤å¦‚æœä½ åœ¨é¡¹ç›®ä¸­æŸ¥çœ‹ä¸¤ä¸ªåˆ†æ”¯çš„å†å²ï¼Œå®ƒä»¬æ€»æ˜¯ä¼šå‡ºè‡ªäºä¸€æ¬¡å…±åŒçš„æäº¤ï¼Œé‚£ä¹ˆåœ¨å½“æ—¶çš„æ—¶é—´ç‚¹ä¸Šï¼Œè¿™ä¸¤ä¸ªåˆ†æ”¯è¿˜æ˜¯æ‹¥æœ‰ç›¸åŒçš„å†…å®¹ã€‚ä¹‹åå®ƒä»¬å°±å¼€å§‹æœ‰äº†å·®åˆ«ã€‚ (2) + (3) ä¸¤ä¸ªåˆ†æ”¯çš„æœ€ç»ˆç‚¹åˆå¹¶æ“ä½œçš„ç›®çš„å°±æ˜¯æŠŠä¸¤ä¸ªåˆ†æ”¯çš„æœ€æ–°çŠ¶æ€ç»“åˆèµ·æ¥ã€‚å› æ­¤ä»–ä»¬å„è‡ªçš„æœ€æ–°ç‰ˆæœ¬æ˜¯æœ‰ç‰¹æ®Šå«ä¹‰çš„ã€‚ ç»“åˆè¿™ä¸‰ä¸ªæäº¤åå¾—åˆ°çš„ç»“æœå°±æ˜¯æˆ‘ä»¬æ•´åˆçš„ç›®æ ‡ã€‚ å¿«è¿›æˆ–åˆå¹¶æäº¤ä¸€ç§æœ€ç®€å•çš„æƒ…å†µæ˜¯ï¼Œåœ¨å…¶ä¸­çš„ä¸€ä¸ªåˆ†æ”¯ä¸Šæ²¡æœ‰ä»»ä½•ä¸€ä¸ªæ–°çš„æ”¹åŠ¨æäº¤å‘ç”Ÿã€‚é‚£ä¹ˆåœ¨å®ƒä¹‹å‰çš„æœ€åä¸€æ¬¡æäº¤å°±ä»ç„¶è¿˜æ˜¯é‚£ä¸ªå…±åŒçš„åŸå§‹æäº¤ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‰§è¡Œæ•´åˆæ“ä½œå°±éå¸¸ç®€å•äº†ã€‚ Git ä»…ä»…éœ€è¦æ·»åŠ æ‰€æœ‰é‚£äº›åœ¨å¦å¤–ä¸€ä¸ªåˆ†æ”¯ä¸Šçš„æ–°æäº¤å°±å¯ä»¥äº†ã€‚åœ¨ Git ä¸­ï¼Œè¿™ç§æœ€ç®€å•çš„æ•´åˆæ“ä½œæˆ‘ä»¬ç§°ä¹‹ä¸º â€œå¿«è¿›ï¼ˆfast-forwardï¼‰â€åˆå¹¶ã€‚ä¹‹åä¸¤ä¸ªåˆ†æ”¯å°±æ‹¥æœ‰äº†å®Œå…¨ç›¸åŒçš„å†å²ã€‚ ä½†æ˜¯åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä¸¤ä¸ªåˆ†æ”¯éƒ½ä¼šæœ‰è‡ªå·±ä¸åŒçš„å‘å±•è½¨è¿¹ã€‚ ä¸ºäº†å®Œæˆæ•´åˆï¼ŒGit ä¼šéœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„æäº¤æ¥å«æ‹¬å®ƒä»¬ä¹‹é—´çš„å·®å¼‚ï¼Œè¿™å°±æ˜¯æ•´åˆæäº¤ï¼ˆmerge commitï¼‰ã€‚ æ‰‹å·¥æäº¤ä¸åˆå¹¶æäº¤é€šå¸¸æƒ…å†µä¸‹ï¼Œæäº¤éƒ½æ˜¯ç”±æ‰‹å·¥ç²¾å¿ƒåˆ›å»ºçš„ã€‚è¿™æ ·ä¹Ÿå°±èƒ½æ›´å¥½åœ°ä¿è¯ä¸€æ¬¡æäº¤åªæ¶‰åŠä¸€ä¸ªå…³è”æ”¹åŠ¨ï¼Œå¹¶ä¸”èƒ½æ›´å¥½åœ°æ³¨é‡Šè¿™ä¸ªæäº¤ã€‚ ä¸€ä¸ªåˆå¹¶æäº¤å°±ä¸åŒäº†ï¼Œå®ƒä¸æ˜¯ç”±å¼€å‘äººå‘˜æ‰‹åŠ¨åˆ›å»ºçš„ï¼Œè€Œæ˜¯ç”± Git è‡ªåŠ¨ç”Ÿæˆçš„ã€‚å®ƒä¹Ÿä¸æ¶‰åŠä¸€ä¸ªå…³è”æ”¹åŠ¨ï¼Œå…¶ç›®çš„åªæ˜¯è¿æ¥ä¸¤ä¸ªåˆ†æ”¯ï¼Œå°±åƒèŠ‚ç‚¹ä¸€æ ·ã€‚å¦‚æœä¹‹åæƒ³è¦äº†è§£æŸä¸ªåˆå¹¶æ“ä½œï¼Œä½ åªéœ€è¦æŸ¥çœ‹è¿™ä¸¤ä¸ªåˆ†æ”¯çš„å†å²è®°å½•å’Œå®ƒä»¬ç›¸åº”çš„æäº¤æ ‘ï¼ˆversion treeï¼‰ã€‚ Rebase æ•´åˆæœ‰äº›äººå¹¶ä¸å–œæ¬¢ä½¿ç”¨è¿™ç§è‡ªåŠ¨åˆå¹¶æäº¤ã€‚ç›¸åï¼Œä»–ä»¬å¸Œæœ›é¡¹ç›®æ‹¥æœ‰ä¸€ä¸ªå•ä¸€çš„å†å²å‘å±•è½¨è¿¹ã€‚æ¯”å¦‚ä¸€æ¡ç›´çº¿ã€‚åœ¨å†å²çºªå½•ä¸Šæ²¡æœ‰è¿¹è±¡è¡¨æ˜åœ¨æŸäº›æ—¶é—´å®ƒè¢«åˆ†æˆè¿‡å¤šä¸ªåˆ†æ”¯ã€‚ ç°åœ¨å°±è®©æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥åœ°äº†è§£ä¸€ä¸‹ rebase æ“ä½œå§ï¼ä»ç„¶æ¥ä½¿ç”¨å‰é¢çš„ä¾‹å­ï¼šæˆ‘ä»¬æƒ³åˆå¹¶åˆ†æ”¯ B åˆ° åˆ†æ”¯ A ä¸­ï¼Œä½†æ˜¯è¿™æ¬¡ä½¿ç”¨ rebase æ“ä½œã€‚ ä½¿ç”¨ä¸‹é¢è¿™ä¸ªéå¸¸çš„ç®€å•çš„å‘½ä»¤ï¼š 1$ git rebase branch-B é¦–å…ˆï¼ŒGit ä¼š â€œæ’¤é”€â€ æ‰€æœ‰åœ¨åˆ†æ”¯ A ä¸Šçš„é‚£äº›åœ¨ä¸åˆ†æ”¯ B çš„å…±åŒæäº¤ä¹‹åå‘ç”Ÿçš„æäº¤ã€‚å½“ç„¶ï¼ŒGit ä¸ä¼šçœŸçš„æ”¾å¼ƒè¿™äº›æäº¤ï¼Œå…¶å®ä½ å¯ä»¥æŠŠè¿™äº›æ’¤é”€çš„æäº¤æƒ³åƒæˆ â€œè¢«æš‚æ—¶åœ°å­˜å‚¨â€ åˆ°å¦å¤–çš„ä¸€ä¸ªåœ°æ–¹å»äº†ã€‚ æ¥ä¸‹æ¥å®ƒä¼šæ•´åˆé‚£äº›åœ¨åˆ†æ”¯ Bï¼ˆè¿™ä¸ªæˆ‘ä»¬æƒ³è¦æ•´åˆçš„åˆ†æ”¯ï¼‰ä¸Šçš„è¿˜æœªæ•´åˆçš„æäº¤åˆ°åˆ†æ”¯ A ä¸­ã€‚åœ¨è¿™ä¸ªæ—¶é—´ç‚¹ï¼Œè¿™ä¸¤ä¸ªåˆ†æ”¯çœ‹èµ·æ¥ä¼šæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚ æœ€åï¼Œé‚£äº›åœ¨åˆ†æ”¯ A çš„æ–°çš„æäº¤ï¼ˆä¹Ÿå°±æ˜¯ç¬¬ä¸€æ­¥ä¸­è‡ªåŠ¨æ’¤é”€æ‰çš„é‚£äº›æäº¤ï¼‰ä¼šè¢«é‡æ–°åº”ç”¨åˆ°è¿™ä¸ªåˆ†æ”¯ä¸Šï¼Œä½†æ˜¯åœ¨ä¸åŒçš„ä½ç½®ä¸Šï¼Œåœ¨é‚£äº›ä»åˆ†æ”¯ B è¢«æ•´åˆè¿‡æ¥çš„æäº¤ä¹‹åï¼Œå®ƒä»¬å°±è¢« re-based äº†ã€‚æ•´ä¸ªé¡¹ç›®å¼€å‘è½¨è¿¹çœ‹èµ·æ¥å°±åƒå‘ç”Ÿåœ¨ä¸€æ¡ç›´çº¿ä¸Šã€‚ç›¸å¯¹äºä¸€ä¸ªåˆå¹¶æäº¤ï¼Œrebase åŒ…æ‹¬äº†æ‰€æœ‰çš„ç»„åˆå˜åŒ–ï¼Œæœ€åŸå§‹çš„æäº¤ç»“æ„ä¼šè¢«ä¿ç•™ä¸‹æ¥ã€‚ Rebase å­˜åœ¨çš„é™·é˜±å½“ç„¶ï¼Œä½¿ç”¨ rebase æ“ä½œä¸ä¼šæ˜¯æ°¸è¿œä¸€å¸†é£é¡ºçš„ã€‚å¾ˆæœ‰å¯èƒ½ä¼šæ¬èµ·çŸ³å¤´ç ¸è‡ªå·±çš„è„šï¼Œå› æ­¤ä½ ä¸èƒ½å¿½è§†ä¸€ä¸ªé‡è¦çš„äº‹å®ï¼šrebase ä¼šæ”¹å†™å†å²è®°å½•ã€‚ ä½ æœ‰å¯èƒ½å·²ç»æ³¨æ„åˆ°äº†ï¼Œåœ¨è¢« rebase æ“ä½œä¹‹åçš„ç‰ˆæœ¬ä¸­ï¼Œæäº¤ â€œC3*â€ å­˜åœ¨ä¸€ä¸ªæ–°æ·»åŠ çš„æ˜Ÿå·ã€‚è¿™æ˜¯å› ä¸ºï¼Œå°½ç®¡è¿™ä¸ªæäº¤çš„å†…å®¹å’Œ â€œC3â€ å®Œå…¨ä¸€æ ·ï¼Œä½†æ˜¯å®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªä¸åŒçš„æäº¤ã€‚è¿™æ ·åšçš„åŸå› æ˜¯ï¼Œå®ƒç°åœ¨æœ‰ä¸€ä¸ªæ–°çš„æºæäº¤ C4ï¼ˆåœ¨æœ€åˆåˆ›å»º C3 æ—¶çš„æºæäº¤æ˜¯ C1ï¼‰ã€‚ ä¸€ä¸ªæäº¤ä»…ä»…åŒ…æ‹¬å¾ˆå°‘çš„å±æ€§ï¼Œæ¯”å¦‚ä½œè€…ï¼Œæ—¥æœŸï¼Œå˜åŠ¨å’Œè°æ˜¯å®ƒçš„çˆ¶æäº¤ã€‚å¦‚æœæ”¹å˜å…¶ä¸­ä»»ä½•ä¸€ä¸ªä¿¡æ¯ï¼Œå°±å¿…é¡»åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„æäº¤ã€‚å½“ç„¶ï¼Œæ–°çš„æäº¤ä¹Ÿä¼šæ‹¥æœ‰ä¸€ä¸ªæ–°çš„ hash ID ã€‚ å¦‚æœè¿˜ä»…ä»…åªæ˜¯æ“ä½œé‚£äº›å°šæœªå‘å¸ƒçš„æäº¤ï¼Œé‡å†™å†å²è®°å½•æœ¬èº«ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¾ˆå¤§çš„é—®é¢˜ã€‚ä½†æ˜¯å¦‚æœä½ é‡å†™äº†å·²ç»å‘å¸ƒåˆ°å…¬å…±æœåŠ¡å™¨ä¸Šçš„æäº¤å†å²ï¼Œè¿™æ ·åšå°±éå¸¸å±é™©äº†ã€‚å…¶ä»–çš„å¼€å‘äººå‘˜å¯èƒ½è¿™æ—¶å·²ç»åœ¨æœ€åŸå§‹çš„æäº¤ C3 ä¸Šå¼€å§‹å·¥ä½œï¼Œå¹¶ä½¿å®ƒæˆä¸ºäº†ä¸€äº›æ–°æäº¤ä¸­ä¸å¯æˆ–ç¼ºçš„éƒ¨åˆ†ï¼Œè€Œç°åœ¨ä½ å´æŠŠ C3 çš„æ”¹åŠ¨è®¾ç½®åˆ°äº†å¦ä¸€ä¸ªæ—¶é—´ç‚¹ï¼ˆå°±æ˜¯é‚£ä¸ªæ–°çš„ C3*ï¼‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œé€šè¿‡rebase æ“ä½œï¼Œè¿™ä¸ªåŸå§‹çš„ C3 è¿˜è¢«åˆ é™¤æ‰äº†ï¼Œè¿™å°†æ˜¯éå¸¸å¯æ€•çš„â€¦â€¦ å› æ­¤ä½ åº”è¯¥åªä½¿ç”¨ rebase æ¥æ¸…ç†ä½ çš„æœ¬åœ°å·¥ä½œï¼Œåƒä¸‡ä¸è¦å°è¯•ç€å¯¹é‚£äº›å·²ç»è¢«å‘å¸ƒçš„æäº¤è¿›è¡Œè¿™ä¸ªæ“ä½œã€‚]]></content>
      <categories>
        <category>Vuegit</category>
      </categories>
      <tags>
        <tag>git</tag>
        <tag>rebase</tag>
        <tag>merge</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[XMLHttpRequest]]></title>
    <url>%2F2018%2F10%2F17%2Fcl4s3gtgh005wwn9en843lpoi%2F</url>
    <content type="text"><![CDATA[å‚è€ƒèµ„æ–™ï¼š é˜®ä¸€å³° XMLHttpRequest Level 2 ä½¿ç”¨æŒ‡å— ä½ çœŸçš„ä¼šä½¿ç”¨XMLHttpRequestå—ï¼Ÿ XMLHttpRequestXMLHttpRequestçš„å‘å±•å†ç¨‹XMLHttpRequestä¸€å¼€å§‹åªæ˜¯å¾®è½¯æµè§ˆå™¨æä¾›çš„ä¸€ä¸ªæ¥å£ï¼Œåæ¥å„å¤§æµè§ˆå™¨çº·çº·æ•ˆä»¿ä¹Ÿæä¾›äº†è¿™ä¸ªæ¥å£ï¼Œå†åæ¥W3Cå¯¹å®ƒè¿›è¡Œäº†æ ‡å‡†åŒ–ï¼Œæå‡ºäº†XMLHttpRequestæ ‡å‡†ã€‚XMLHttpRequestæ ‡å‡†åˆåˆ†ä¸ºLevel 1å’ŒLevel 2ã€‚XMLHttpRequest Level 1ä¸»è¦å­˜åœ¨ä»¥ä¸‹ç¼ºç‚¹ï¼š å—åŒæºç­–ç•¥çš„é™åˆ¶ï¼Œä¸èƒ½å‘é€è·¨åŸŸè¯·æ±‚ï¼› ä¸èƒ½å‘é€äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ç­‰ï¼‰ï¼Œåªèƒ½å‘é€çº¯æ–‡æœ¬æ•°æ®ï¼› åœ¨å‘é€å’Œè·å–æ•°æ®çš„è¿‡ç¨‹ä¸­ï¼Œæ— æ³•å®æ—¶è·å–è¿›åº¦ä¿¡æ¯ï¼Œåªèƒ½åˆ¤æ–­æ˜¯å¦å®Œæˆï¼› é‚£ä¹ˆLevel 2å¯¹Level 1 è¿›è¡Œäº†æ”¹è¿›ï¼ŒXMLHttpRequest Level 2ä¸­æ–°å¢äº†ä»¥ä¸‹åŠŸèƒ½ï¼š å¯ä»¥å‘é€è·¨åŸŸè¯·æ±‚ï¼Œåœ¨æœåŠ¡ç«¯å…è®¸çš„æƒ…å†µä¸‹ï¼› æ”¯æŒå‘é€å’Œæ¥æ”¶äºŒè¿›åˆ¶æ•°æ®ï¼› æ–°å¢formDataå¯¹è±¡ï¼Œæ”¯æŒå‘é€è¡¨å•æ•°æ®ï¼› å‘é€å’Œè·å–æ•°æ®æ—¶ï¼Œå¯ä»¥è·å–è¿›åº¦ä¿¡æ¯ï¼› å¯ä»¥è®¾ç½®è¯·æ±‚çš„è¶…æ—¶æ—¶é—´ï¼›]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>XMLHttpRequest</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vueæºç è§£æ-å“åº”å¼åŸç†ï¼ˆè®¡ç®—å±æ€§ã€ç›‘å¬å±æ€§ã€ç»„ä»¶æ›´æ–°ï¼‰]]></title>
    <url>%2F2018%2F08%2F24%2Fcl4s3gtge005own9exu5ffcoi%2F</url>
    <content type="text"><![CDATA[Vueæºç è§£æ-å“åº”å¼åŸç†ï¼ˆè®¡ç®—å±æ€§ã€ç›‘å¬å±æ€§ã€ç»„ä»¶æ›´æ–°ï¼‰è®¡ç®—å±æ€§&amp;&amp;ç›‘å¬å±æ€§ äº†è§£è®¡ç®—å±æ€§å®ç°åŸç† äº†è§£ç›‘å¬å±æ€§å®ç°åŸç†å’Œå‡ ç§é…ç½® äº†è§£å„è‡ªçš„é€‚ç”¨åœºæ™¯ è®¡ç®—å±æ€§å®ç°åŸç† ç±»å‹ï¼š{ [key: string]: Function | { get: Function, set: Function } } åœ¨ computed ä¸­å¯ä»¥ä½¿ç”¨å‡½æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨å¯¹è±¡ï¼Œå¦‚æœä½¿ç”¨å¯¹è±¡å¿…é¡»æœ‰ getter å±æ€§ã€‚åœ¨ computed ä¸­å®šä¹‰çš„é”®å€¼ä¸èƒ½å– dataã€props ä¸­çš„é‡å¤ï¼Œå¦åˆ™æŠ¥é”™ã€‚ ä½•æ—¶å¼€å§‹è®¡ç®—ï¼Ÿåœ¨ç»„ä»¶å®šä¹‰çš„ä¹‹å‰å®Œæˆ computed çš„åˆ›å»ºï¼Œæ­¤æ—¶ä¸ä¼šå¼€å§‹è®¡ç®—ï¼Œè€Œæ˜¯åœ¨ render ä¸­è§¦å‘äº† getter æ—¶è§¦å‘è®¡ç®—ã€‚ ğŸ“Œ å¦‚æœè®¡ç®—å±æ€§çš„å€¼æ²¡æœ‰æ”¹å˜ï¼Œä¸ä¼šè§¦å‘ dep.notify é€šçŸ¥æ•°æ®æ›´æ–°ï¼Œä¸ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ã€‚ ç›‘å¬å±æ€§å®ç°åŸç†new watcher ä¸­æ”¶é›†ä¾èµ–ï¼Œä¸åŒçš„é€‰é¡¹ï¼Œæ”¶é›†ä¾èµ–çš„æ–¹å¼ä¸ä¸€æ ·ã€‚ ç±»å‹ï¼š{ [key: string]: string | Function | Object | Array }ä¸€ä¸ªå¯¹è±¡ï¼Œé”®æ˜¯éœ€è¦è§‚å¯Ÿçš„è¡¨è¾¾å¼ï¼Œå€¼æ˜¯å¯¹åº”å›è°ƒå‡½æ•°ã€‚å€¼ä¹Ÿå¯ä»¥æ˜¯æ–¹æ³•åï¼Œæˆ–è€…åŒ…å«é€‰é¡¹çš„å¯¹è±¡ã€‚Vue å®ä¾‹å°†ä¼šåœ¨å®ä¾‹åŒ–æ—¶è°ƒç”¨ $watch()ï¼Œéå† watch å¯¹è±¡çš„æ¯ä¸€ä¸ªå±æ€§ã€‚ é€‰é¡¹ï¼šimmediate åœ¨é€‰é¡¹å‚æ•°ä¸­æŒ‡å®š immediate: true å°†ç«‹å³ä»¥è¡¨è¾¾å¼çš„å½“å‰å€¼è§¦å‘å›è°ƒï¼š 1234vm.$watch('a', callback, &#123; immediate: true&#125;)// ç«‹å³ä»¥ `a` çš„å½“å‰å€¼è§¦å‘å›è°ƒ é€‰é¡¹ï¼šdeep ä¸ºäº†å‘ç°å¯¹è±¡å†…éƒ¨å€¼çš„å˜åŒ–ï¼Œå¯ä»¥åœ¨é€‰é¡¹å‚æ•°ä¸­æŒ‡å®š deep: true ã€‚æ³¨æ„ç›‘å¬æ•°ç»„çš„å˜åŠ¨ä¸éœ€è¦è¿™ä¹ˆåšã€‚ é€’å½’å¯¹è±¡ï¼Œæ”¶é›†æ¯ä¸€ä¸ªå±æ€§çš„ä¾èµ–ï¼Œå®ç°æ•°æ®ç›‘å¬ã€‚ 12345vm.$watch('someObject', callback, &#123; deep: true&#125;)vm.someObject.nestedValue = 123// callback is fired é€‰é¡¹ï¼š sync syncï¼štrue æ•°æ®æ”¹å˜æ—¶ï¼ŒåŒæ­¥æ‰§è¡Œå›è°ƒï¼Œä¼šä¼˜å…ˆæ‰§è¡Œè¯¥ watch é€‚ç”¨åœºæ™¯è®¡ç®—å±æ€§é€‚åˆåœ¨æ¨¡æ¿æ¸²æŸ“ä¸­ï¼Œé€‚åˆç®€å•çš„é€»è¾‘ï¼ŒæŸä¸ªå€¼æ˜¯ä¾èµ–äº†å…¶ä»–å“åº”å¼å¯¹è±¡ç”šè€…æ˜¯è®¡ç®—å±æ€§è€Œæ¥çš„ï¼› ç›‘å¬å±æ€§é€‚ç”¨äºè§‚æµ‹æŸä¸ªå€¼çš„å˜åŒ–å»å®Œæˆä¸€æ®µå¤æ‚çš„ä¸šåŠ¡é€»è¾‘ã€‚ ç»„ä»¶æ›´æ–°æ¸²æŸ“ watcherï¼š åœ¨æ•°æ®æ›´æ–°çš„æ—¶å€™å‡ºå‘æ›´æ–°æ›´æ˜¯ï¼Œè§¦å‘ renderï¼Œ ç”Ÿæˆ VNode ï¼Œupdate æ›´æ–°åˆ° DOMã€‚ ç»„ä»¶æ›´æ–°çš„è¿‡ç¨‹æ ¸å¿ƒå°±æ˜¯æ–°æ—§ vnode diffï¼Œå¯¹æ–°æ—§èŠ‚ç‚¹ç›¸åŒä»¥åŠä¸åŒçš„æƒ…å†µåˆ†åˆ«åšä¸åŒçš„å¤„ç†ã€‚æ–°æ—§èŠ‚ç‚¹ä¸åŒçš„æ›´æ–°æµç¨‹æ˜¯åˆ›å»ºæ–°èŠ‚ç‚¹-&gt;æ›´æ–°çˆ¶å ä½ç¬¦èŠ‚ç‚¹-&gt;åˆ é™¤æ—§èŠ‚ç‚¹ï¼›è€Œæ–°æ—§èŠ‚ç‚¹ç›¸åŒçš„æ›´æ–°æµç¨‹æ˜¯å»è·å–å®ƒä»¬çš„ childrenï¼Œæ ¹æ®ä¸åŒæƒ…å†µåšä¸åŒçš„æ›´æ–°é€»è¾‘ã€‚æœ€å¤æ‚çš„æƒ…å†µæ˜¯æ–°æ—§èŠ‚ç‚¹ç›¸åŒä¸”å®ƒä»¬éƒ½å­˜åœ¨å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆä¼šæ‰§è¡Œ updateChildren é€»è¾‘ åŸç†å›¾]]></content>
      <categories>
        <category>Vueæºç è§£æ</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>å“åº”å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vueæºç è§£æ-å“åº”å¼åŸç†]]></title>
    <url>%2F2018%2F08%2F24%2Fcl4s3gtg7005lwn9etfjhuvkd%2F</url>
    <content type="text"><![CDATA[Vueæºç è§£æ-å“åº”å¼åŸç†åŸç†å›¾ï¼š æ•°æ®å˜åŒ–åˆ° DOM å˜åŒ–ï¼Œå‰ç«¯å¼€å‘å·¥ä½œ æ•°æ®æ¸²æŸ“åˆ°ç•Œé¢ å¤„ç†ç”¨æˆ·äº¤äº’ å“åº”å¼å¯¹è±¡Vue.js å®ç°å“åº”å¼çš„æ ¸å¿ƒæ˜¯åˆ©ç”¨äº† ES5 çš„ Object.definePropertyï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ Vue.js ä¸èƒ½å…¼å®¹ IE8 åŠä»¥ä¸‹æµè§ˆå™¨çš„åŸå› ï¼ŒObject.defineProperty åœ¨å¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„ç°æœ‰å±æ€§ï¼Œå¹¶è¿”å›è¿™ä¸ªå¯¹è±¡ã€‚ å…¶ä¸­æœ€å…³é”®çš„æ˜¯å®ç°äº† getterï¼Œå½“è®¿é—®å±æ€§çš„æ—¶å€™è§¦å‘ï¼Œä¾èµ–æ”¶é›† setterï¼Œå½“ä¿®æ”¹å±æ€§çš„æ—¶å€™è§¦å‘ï¼Œé€šçŸ¥æ›´æ–° âš ï¸ å¯¹è±¡ä»¥åŠå¯¹è±¡åµŒå¥—çš„å¯¹è±¡éƒ½ä¼šè¢«æ·»åŠ ä¸ºå“åº”å¼å¯¹è±¡ã€‚ initStateinitState æ–¹æ³•ä¸»è¦æ˜¯å¯¹ propsã€methodsã€dataã€computed å’Œ wathcer ç­‰å±æ€§åšäº†åˆå§‹åŒ–æ“ä½œã€‚ proxyä»£ç†çš„ä½œç”¨æ˜¯æŠŠ props å’Œ data ä¸Šçš„å±æ€§ä»£ç†åˆ° vm å®ä¾‹ä¸Šï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæ¯”å¦‚æˆ‘ä»¬å®šä¹‰äº†å¦‚ä¸‹ propsï¼Œå´å¯ä»¥é€šè¿‡ vm å®ä¾‹è®¿é—®åˆ°å®ƒã€‚ observeobserve æ–¹æ³•çš„ä½œç”¨å°±æ˜¯ç»™é VNode çš„å¯¹è±¡ç±»å‹æ•°æ®æ·»åŠ ä¸€ä¸ª Observerï¼Œå¦‚æœå·²ç»æ·»åŠ è¿‡åˆ™ç›´æ¥è¿”å›ï¼Œå¦åˆ™åœ¨æ»¡è¶³ä¸€å®šæ¡ä»¶ä¸‹å»å®ä¾‹åŒ–ä¸€ä¸ª Observer å¯¹è±¡å®ä¾‹ã€‚ ObserverObserver æ˜¯ä¸€ä¸ªç±»ï¼Œå®ƒçš„ä½œç”¨æ˜¯ç»™å¯¹è±¡çš„å±æ€§æ·»åŠ  getter å’Œ setterï¼Œç”¨äºä¾èµ–æ”¶é›†å’Œæ´¾å‘æ›´æ–°ã€‚ åœ¨å®ƒçš„æ„é€ å‡½æ•°ä¸­ä¼šæ‰§è¡Œ this.walk(value)ï¼Œ 123456walk (obj: Object) &#123; const keys = Object.keys(obj) for (let i = 0; i &lt; keys.length; i++) &#123; defineReactive(obj, keys[i]) &#125;&#125; è¿™é‡Œçš„ defineReactive æ–¹æ³•æ˜¯ç»™å¯¹è±¡åŠ¨æ€æ·»åŠ  getterã€setterï¼Œ å‡½æ•°æœ€å¼€å§‹åˆå§‹åŒ– Dep å¯¹è±¡çš„å®ä¾‹ï¼Œæ¥ç€æ‹¿åˆ° obj çš„å±æ€§æè¿°ç¬¦ï¼Œç„¶åå¯¹å­å¯¹è±¡é€’å½’è°ƒç”¨ observe æ–¹æ³•ï¼Œè¿™æ ·å°±ä¿è¯äº†æ— è®º obj çš„ç»“æ„å¤šå¤æ‚ï¼Œå®ƒçš„æ‰€æœ‰å­å±æ€§ä¹Ÿèƒ½å˜æˆå“åº”å¼çš„å¯¹è±¡ï¼Œè¿™æ ·æˆ‘ä»¬è®¿é—®æˆ–ä¿®æ”¹ obj ä¸­ä¸€ä¸ªåµŒå¥—è¾ƒæ·±çš„å±æ€§ï¼Œä¹Ÿèƒ½è§¦å‘ getter å’Œ setterã€‚ ä¾èµ–æ”¶é›†å“åº”å¼å¯¹è±¡ getter ç›¸å…³çš„é€»è¾‘å°±æ˜¯åšä¾èµ–æ”¶é›†ï¼Œconst dep = new Dep() å®ä¾‹åŒ–ä¸€ä¸ª Dep çš„å®ä¾‹ï¼Œåœ¨ get å‡½æ•°ä¸­é€šè¿‡ dep.depend åšä¾èµ–æ”¶é›†ã€‚ DepDep æ˜¯ depend çš„ç¼©å†™ï¼Œæ˜¯æ•´ä¸ª getter ä¾èµ–æ”¶é›†çš„æ ¸å¿ƒï¼Œåœ¨ getter æ–¹æ³•ä¸­ï¼Œé€šè¿‡ const dep = new Dep() å®ä¾‹åŒ–ä¸€ä¸ª Dep çš„å®ä¾‹ï¼Œç„¶åé€šè¿‡ dep.depend åšä¾èµ–æ”¶é›†ã€‚ Dep æœ‰ä¸€ä¸ªé™æ€å±æ€§ targetï¼Œè¿™æ˜¯å½“å‰å”¯ä¸€çš„å…¨å±€ Watcherï¼Œå› ä¸ºåŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªå…¨å±€çš„ Watcher è¢«è®¡ç®—ï¼Œå¦å¤–å®ƒçš„è‡ªèº«å±æ€§ subs ä¹Ÿæ˜¯ Watcher æ•°ç»„ã€‚ Watcher12345678910111213/** * A watcher parses an expression, collects dependencies, * and fires callback when the expression value changes. * This is used for both the $watch() api and directives. * * watcher è§‚å¯Ÿä¸€ä¸ªæ•°æ®ï¼Œå½“æ•°æ®çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶æ‰§è¡Œå›è°ƒæ–¹æ³•ï¼Œwatcherä¹Ÿè¢«ç”¨äº $watch() * api å’Œ directives */ // æ„é€ å‡½æ•°this.deps = [] // è¡¨ç¤º Watcher å®ä¾‹æŒæœ‰çš„ Dep å®ä¾‹æ•°ç»„this.newDeps = [] // è¡¨ç¤º Watcher å®ä¾‹æŒæœ‰çš„ Dep å®ä¾‹æ•°ç»„this.depIds = new Set()this.newDepIds = new Set() æ¸…ç©ºä¾èµ–Vue è®¾è®¡äº†åœ¨æ¯æ¬¡æ·»åŠ å®Œæ–°çš„è®¢é˜…ï¼Œä¼šç§»é™¤æ‰æ—§çš„è®¢é˜…ï¼Œè¿™æ ·å°±ä¿è¯äº†åœ¨æˆ‘ä»¬åˆšæ‰çš„åœºæ™¯ä¸­ï¼Œå¦‚æœæ¸²æŸ“ b æ¨¡æ¿çš„æ—¶å€™å»ä¿®æ”¹ a æ¨¡æ¿çš„æ•°æ®ï¼Œa æ•°æ®è®¢é˜…å›è°ƒå·²ç»è¢«ç§»é™¤ï¼Œæ¯æ¬¡æ‰§è¡Œ dependï¼Œ render ä¸ä¼šè®¢é˜… v-if ä¸º false çš„æ•°æ®ã€‚ æ€»ç»“ ä¾èµ–æ”¶é›†å°±æ˜¯è®¢é˜…æ•°æ®å˜åŒ–çš„ watcher çš„æ”¶é›† ä¾èµ–æ”¶é›†çš„ç›®çš„æ˜¯ä¸ºäº†å½“è¿™äº›å“åº”å¼æ•°æ®å‘é€å˜åŒ–ï¼Œè§¦å‘å®ƒä»¬çš„ setter çš„æ—¶å€™ï¼Œèƒ½çŸ¥é“åº”è¯¥é€šçŸ¥å“ªé‡Œè®¢é˜…è€…å»åšç›¸åº”çš„é€»è¾‘å¤„ç† æ´¾å‘æ›´æ–°setter çš„é€»è¾‘æœ‰ 2 ä¸ªå…³é”®çš„ç‚¹ ä¸€ä¸ªæ˜¯ childOb = !shallow &amp;&amp; observe(newVal)ï¼Œå¦‚æœ shallow ä¸º false çš„æƒ…å†µï¼Œä¼šå¯¹æ–°è®¾ç½®çš„å€¼å˜æˆä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼› å¦ä¸€ä¸ªæ˜¯ dep.notify()ï¼Œé€šçŸ¥æ‰€æœ‰çš„è®¢é˜…è€… dep.notify()è¯¥æ–¹æ³•æ˜¯ Dep å®ä¾‹çš„ä¸€ä¸ªæ–¹æ³•ã€‚12345678910class Dep &#123; // ... notify () &#123; // stabilize the subscriber list first const subs = this.subs.slice() for (let i = 0, l = subs.length; i &lt; l; i++) &#123; subs[i].update() &#125; &#125;&#125; é€»è¾‘éå¸¸ç®€å•ï¼Œéå†æ‰€æœ‰çš„ subsï¼Œä¹Ÿå°±æ˜¯ Watcher çš„å®ä¾‹æ•°ç»„ï¼Œç„¶åè°ƒç”¨æ¯ä¸€ä¸ª watcher çš„ update æ–¹æ³•ã€‚ ğŸ“Œ æ¯ä¸€ä¸ª Vue çš„å®ä¾‹éƒ½æœ‰ Watcher åœ¨ update æ–¹æ³•ä¸­ï¼Œå¼•å…¥äº†ä¸€ä¸ªé˜Ÿåˆ—ï¼Œupdate ä¸ä¼šæ¯æ¬¡æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶éƒ½ä¼šè§¦å‘ watcher å›è°ƒï¼Œè€Œæ˜¯å°†è¿™äº› watcher å…ˆæ·»åŠ åˆ°ä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œç„¶åå† nextTick åå†æ‰§è¡Œã€‚ ğŸ˜œ nextTick å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªäº‹ä»¶å¾ªç¯å‘¨æœŸ å¼‚å¸¸åœ¨æ•°æ®æ›´æ–°çš„åŒæ—¶åˆè§¦å‘äº†æ•°æ®æ›´æ–°ï¼Œæ¯”å¦‚åœ¨ ä¸€ä¸ª computed ä¸­æ‰§è¡Œäº† data æ•°æ®çš„ä¿®æ”¹ï¼Œè€Œ data åˆä¾èµ–äº computedï¼Œè¿™æ˜¯ Vue æœ‰æœºåˆ¶é™å®šæœ€å¤§æ›´æ–°æ•°ä¸º 100ï¼Œè¶…è¿‡åˆ™æŠ¥å¼‚å¸¸ã€‚ nextTickJS è¿è¡Œæœºåˆ¶ï¼ˆ1ï¼‰æ‰€æœ‰åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆï¼ˆexecution context stackï¼‰ã€‚ ï¼ˆ2ï¼‰ä¸»çº¿ç¨‹ä¹‹å¤–ï¼Œè¿˜å­˜åœ¨ä¸€ä¸ªâ€ä»»åŠ¡é˜Ÿåˆ—â€ï¼ˆtask queueï¼‰ã€‚åªè¦å¼‚æ­¥ä»»åŠ¡æœ‰äº†è¿è¡Œç»“æœï¼Œå°±åœ¨â€ä»»åŠ¡é˜Ÿåˆ—â€ä¹‹ä¸­æ”¾ç½®ä¸€ä¸ªäº‹ä»¶ã€‚ ï¼ˆ3ï¼‰ä¸€æ—¦â€æ‰§è¡Œæ ˆâ€ä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç³»ç»Ÿå°±ä¼šè¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼Œçœ‹çœ‹é‡Œé¢æœ‰å“ªäº›äº‹ä»¶ã€‚é‚£äº›å¯¹åº”çš„å¼‚æ­¥ä»»åŠ¡ï¼Œäºæ˜¯ç»“æŸç­‰å¾…çŠ¶æ€ï¼Œè¿›å…¥æ‰§è¡Œæ ˆï¼Œå¼€å§‹æ‰§è¡Œã€‚ ï¼ˆ4ï¼‰ä¸»çº¿ç¨‹ä¸æ–­é‡å¤ä¸Šé¢çš„ç¬¬ä¸‰æ­¥ã€‚ æ€»ç»“æ¯”å¦‚ä»æœåŠ¡ç«¯æ¥å£å»è·å–æ•°æ®çš„æ—¶å€™ï¼Œæ•°æ®åšäº†ä¿®æ”¹ï¼Œå¦‚æœæˆ‘ä»¬çš„æŸäº›æ–¹æ³•å»ä¾èµ–äº†æ•°æ®ä¿®æ”¹åçš„ DOM å˜åŒ–ï¼Œæˆ‘ä»¬å°±å¿…é¡»åœ¨ nextTick åæ‰§è¡Œ Vue.js æä¾›äº† 2 ç§è°ƒç”¨ nextTick çš„æ–¹å¼ ä¸€ç§æ˜¯å…¨å±€ API Vue.nextTickï¼Œ ä¸€ç§æ˜¯å®ä¾‹ä¸Šçš„æ–¹æ³• vm.$nextTick æ£€æµ‹å˜åŒ–çš„æ³¨æ„äº‹é¡¹ äº†è§£å“ªäº›æ•°æ®å˜åŒ–ä¸èƒ½è¢«æ£€æµ‹åˆ° äº†è§£å¦‚ä½•è§£å†³æ•°æ®å˜åŒ–æ£€æµ‹çš„é—®é¢˜ä»¥åŠå…¶ä¸­çš„åŸç† å½“æˆ‘ä»¬å»ç»™è¿™ä¸ªå¯¹è±¡æ·»åŠ ä¸€ä¸ªæ–°çš„å±æ€§çš„æ—¶å€™ï¼Œæ˜¯ä¸èƒ½å¤Ÿè§¦å‘å®ƒçš„ setter çš„ï¼Œæ¯”å¦‚ï¼š123456789var vm = new Vue(&#123; data:&#123; a:1ï¼Œ aArray: [] &#125;&#125;)// vm.b æ˜¯éå“åº”çš„vm.b = 2aArray[1] = 1 // ç›´æ¥ä¿®æ”¹æ•°ç»„ä¹Ÿæ˜¯éå“åº”çš„ Vue.set å‚æ•°ï¼š {Object | Array} target {string | number} key {any} value è¿”å›å€¼ï¼šè®¾ç½®çš„å€¼ã€‚ ç”¨æ³•ï¼š å‘å“åº”å¼å¯¹è±¡ä¸­æ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œå¹¶ç¡®ä¿è¿™ä¸ªæ–°å±æ€§åŒæ ·æ˜¯å“åº”å¼çš„ï¼Œä¸”è§¦å‘è§†å›¾æ›´æ–°ã€‚å®ƒå¿…é¡»ç”¨äºå‘å“åº”å¼å¯¹è±¡ä¸Šæ·»åŠ æ–°å±æ€§ï¼Œå› ä¸º Vue æ— æ³•æ¢æµ‹æ™®é€šçš„æ–°å¢å±æ€§ (æ¯”å¦‚ this.myObject.newProperty = &#39;hiâ€˜) âš ï¸ æ³¨æ„å¯¹è±¡ä¸èƒ½æ˜¯ Vue å®ä¾‹ï¼Œæˆ–è€… Vue å®ä¾‹çš„æ ¹æ•°æ®å¯¹è±¡ã€‚ æ•°ç»„çš„æƒ…å†µæ“ä½œæ•°ç»„æ—¶ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•æ˜¯å¯ä»¥æ£€æµ‹åˆ°æ•°ç»„å˜åŒ–çš„ã€‚123456789const methodsToPatch = [ 'push', 'pop', 'shift', 'unshift', 'splice', 'sort', 'reverse'] Vue é‡å†™äº† è¿™äº›æ–¹æ³•ï¼Œå¦‚æœæœ‰æ–°å€¼æ’å…¥åˆ°æ•°ç»„ä¸­ï¼Œå°±å°†è¿™äº›æ–°å€¼å˜æˆå“åº”å¼å¯¹è±¡ï¼Œå¹¶ä¸”å†æ¬¡è°ƒç”¨ ob.dep.notify() æ‰‹åŠ¨è§¦å‘ä¾èµ–é€šçŸ¥ï¼ˆè§¦å‘ä¾èµ–æ”¶é›†ï¼‰ã€‚ Vue.deleteVue.delete( target, key ) ç±»ä¼¼äº Vue.set æ–¹æ³•, åˆ é™¤å¯¹è±¡çš„å±æ€§ã€‚å¦‚æœå¯¹è±¡æ˜¯å“åº”å¼çš„ï¼Œç¡®ä¿åˆ é™¤èƒ½è§¦å‘æ›´æ–°è§†å›¾ã€‚è¿™ä¸ªæ–¹æ³•ä¸»è¦ç”¨äºé¿å¼€ Vue ä¸èƒ½æ£€æµ‹åˆ°å±æ€§è¢«åˆ é™¤çš„é™åˆ¶ã€‚]]></content>
      <categories>
        <category>Vueæºç è§£æ</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>å“åº”å¼</tag>
        <tag>è§‚å¯Ÿè€…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vueæºç è§£æ-ç»„ä»¶åŒ–]]></title>
    <url>%2F2018%2F08%2F22%2Fcl4s3gtgl005ywn9e5mhzvxy7%2F</url>
    <content type="text"><![CDATA[Vue æºç è§£æ-ç»„ä»¶åŒ–Vue å…¶ä¸­ä¸€ä¸ªæ ¸å¿ƒæ€æƒ³æ˜¯ç»„ä»¶åŒ–ï¼ŒæŠŠé¡µé¢æ‹†åˆ†æˆå¤šä¸ªç»„ä»¶ï¼Œç»„ä»¶æ˜¯å¯å¤ç”¨çš„ Vue å®ä¾‹ï¼Œæ‰€ä»¥å®ƒä»¬ä¸ new Vue æ¥æ”¶ç›¸åŒçš„é€‰é¡¹ï¼Œä¾‹å¦‚ dataã€computedã€watchã€methods ä»¥åŠç”Ÿå‘½å‘¨æœŸé’©å­ç­‰ã€‚ä»…æœ‰çš„ä¾‹å¤–æ˜¯åƒ el è¿™æ ·æ ¹å®ä¾‹ç‰¹æœ‰çš„é€‰é¡¹ã€‚ createComponent12345var app = new Vue(&#123; el: '#app', // è¿™é‡Œçš„ h æ˜¯ createElement æ–¹æ³• render: h =&gt; h(App)&#125;); createComponentæœ€ç»ˆä¼šè°ƒç”¨ _createElement æ–¹æ³•ï¼Œ é€šè¿‡åˆ¤æ–­ä¼ å…¥çš„å‚æ•°æ˜¯å¦æ˜¯ç»„ä»¶ï¼Œè€Œé€‰æ‹©ä½¿ç”¨ createComponent æ–¹æ³•åˆ›å»ºä¸€ä¸ª VNodeã€‚ æºç ï¼š src/core/vdom/create-component.js è¯¥æ–¹æ³•é’ˆå¯¹ç»„ä»¶æ¸²æŸ“æœ‰ä¸‰ä¸ªå…³é”®æ­¥éª¤ï¼š æ„é€ å­ç±»æ„é€ å‡½æ•°mergeOptions æ–¹æ³•å°† Vue æ„é€ å‡½æ•°çš„ options å’Œç”¨æˆ·ä¼ å…¥çš„ options åˆå¹¶åˆ°åŒä¸€å±‚ï¼Œåˆ° vm.$options ä¸Š Vue.extend çš„ä½œç”¨å°±æ˜¯å°†ä¸€ä¸ªçº¯å¯¹è±¡è½¬æ¢æˆä¸€ä¸ªç»§æ‰¿äº Vue çš„æ„é€ å™¨ Sub å¹¶è¿”å›ã€‚å¹¶ä¸”å¯¹ Sub è¿™ä¸ªå¯¹è±¡åšäº†ä¸€äº›æ‰©å±•ï¼Œå¦‚æ‰©å±• optionsã€å…¨å±€ API ç­‰ï¼›å¯¹é…ç½®ä¸­çš„ propsã€ computed è¿›è¡Œåˆå§‹åŒ–å·¥ä½œï¼›æœ€åå¯¹ Sub çš„æ„é€ å‡½æ•°ç¼“å­˜ï¼Œé¿å…å¤šæ¬¡ extend åŒä¸€ä¸ªå­ç»„ä»¶çš„æ—¶å€™é‡å¤æ‰§è¡Œã€‚ å®‰è£…ç»„ä»¶çš„é’©å­å‡½æ•° 1234567891011121314// install component management hooks onto the placeholder node/ instalinstallComponentHooks(data);function installComponentHooks(data: VNodeData) &#123; const hooks = data.hook || (data.hook = &#123;&#125;); for (let i = 0; i &lt; hooksToMerge.length; i++) &#123; const key = hooksToMerge[i]; const existing = hooks[key]; const toMerge = componentVNodeHooks[key]; if (existing !== toMerge &amp;&amp; !(existing &amp;&amp; existing._merged)) &#123; hooks[key] = existing ? mergeHook(toMerge, existing) : toMerge; &#125; &#125;&#125; å°† componentVNodeHooks çš„é’©å­å‡½æ•°åˆå¹¶åˆ° data.hook ä¸­ï¼Œåœ¨ VNode æ‰§è¡Œ patch çš„è¿‡ç¨‹ä¸­æ‰§è¡Œç›¸å…³çš„é’©å­å‡½æ•°ã€‚ å®ä¾‹åŒ– VNode 123456789101112const name = Ctor.options.name || tag;const vnode = new VNode( `vue-component-$&#123;Ctor.cid&#125;$&#123;name ? `-$&#123;name&#125;` : ''&#125;`, data, undefined, undefined, undefined, context, &#123; Ctor, propsData, listeners, tag, children &#125;, asyncFactory);return vnode; æœ€åé€šè¿‡ new VNode å®ä¾‹åŒ–ä¸€ä¸ª VNode å¹¶è¿”å›ï¼Œä¸æ™®é€šå…ƒç´ èŠ‚ç‚¹ä¸åŒçš„æ˜¯ï¼Œç»„ä»¶çš„å‚æ•°ä¸­æ˜¯æ²¡æœ‰ children çš„ï¼Œåœ¨ä¹‹åçš„ patch è¿‡ç¨‹ä¸­æœ‰å…³é”®æ€§ä½œç”¨ã€‚ patchä¸Šä¸€èŠ‚ä¸­ createComponent åˆ›å»ºçš„ç»„ä»¶çš„ VNodeï¼Œä¹‹åä¼šæ‰§è¡Œ vm._update, æ‰§è¡Œ vm.__patch__ ï¼ˆåŒ…å«diffç®—æ³•ï¼‰æŠŠ VNode è½¬æ¢æˆçœŸæ­£çš„ DOM èŠ‚ç‚¹ã€‚ patch çš„è¿‡ç¨‹ä¼šè°ƒç”¨ createElm åˆ›å»ºå…ƒç´ èŠ‚ç‚¹ 123if (createComponent(vnode, insertedVnodeQueue, parentElm, refElm)) &#123; return;&#125; ç»„ä»¶çš„åˆå§‹åŒ–æ—¶ä¸ä¼  el çš„ï¼Œå› ä¸ºè‡ªå·±æ¥ç®¡äº† vm$mount. åœ¨å®Œæˆç»„ä»¶çš„æ•´ä¸ª patch è¿‡ç¨‹åï¼Œæœ€åæ‰§è¡Œ insert(parentElm, vnode.elm, refElm) å®Œæˆç»„ä»¶çš„ DOM æ’å…¥ï¼Œå¦‚æœç»„ä»¶ patch è¿‡ç¨‹ä¸­åˆåˆ›å»ºäº†å­ç»„ä»¶ï¼Œé‚£ä¹ˆ DOM çš„æ’å…¥é¡ºåºæ˜¯å…ˆå­åçˆ¶ã€‚ é…ç½®åˆå¹¶new Vue é€šå¸¸æœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯å¤–éƒ¨ä»£ç ä¸­ä¸»åŠ¨è°ƒç”¨ new Vue(opitons) å»å®ä¾‹åŒ–ä¸€ä¸ª Vue å¯¹è±¡ï¼Œå¦ä¸€ç§æ˜¯åœ¨ç»„ä»¶è¿‡ç¨‹ä¸­å†…éƒ¨é€šè¿‡è°ƒç”¨ new Vue(opitons) å®ä¾‹åŒ–å­ç»„ä»¶ã€‚ æ— è®ºå“ªç§åœºæ™¯ï¼Œéƒ½ä¼šé¦–å…ˆæ‰§è¡Œ merge options çš„é€»è¾‘ã€‚ å¤–éƒ¨è°ƒç”¨åœºæ™¯ åˆå¹¶å‰ 12345678910Vue.mixin(&#123; created() &#123; console.log('parent created'); &#125;&#125;);let app = new Vue(&#123; el: '#app', render: h =&gt; h(childComp)&#125;); åˆå¹¶å 1234567891011121314151617vm.$options = &#123; components: &#123;&#125;, created: [ function created() &#123; console.log('parent created'); &#125; ], directives: &#123;&#125;, filters: &#123;&#125;, _base: function Vue(options) &#123; // ... &#125;, el: '#app', render: function(h) &#123; //... &#125;&#125;; ç»„ä»¶åœºæ™¯ç»„ä»¶çš„æ„é€ å‡½æ•°æ˜¯é€šè¿‡ Vue.extend ç»§æ‰¿è‡ª Vueã€‚å…¶ä¸­æœ€å…³é”®çš„é€»è¾‘æ˜¯ï¼Œå°† Vue.options å’Œç»„ä»¶å®šä¹‰çš„å¯¹è±¡åˆå¹¶åˆ° Sub.options ä¸­ã€‚ å­ç»„ä»¶åˆå§‹åŒ–è¿‡ç¨‹é€šè¿‡ initInternalComponent æ–¹å¼è¦æ¯”å¤–éƒ¨åˆå§‹åŒ– Vue é€šè¿‡ mergeOptions çš„è¿‡ç¨‹è¦å¿«ï¼Œåˆå¹¶å®Œçš„ç»“æœä¿ç•™åœ¨ vm.$options ä¸­ã€‚ options å°±æ˜¯ new vue å¤§æ‹¬å·é‡Œçš„å†…å®¹ä½¿ç”¨ mergeOptions åˆå¹¶é…ç½®ï¼Œåœ¨ Vue options æ‰©å±•é…ç½®ï¼Œä¹‹åæ‰§è¡Œnew Vue() ç”Ÿå‘½å‘¨æœŸæ¯ä¸ª Vue å®ä¾‹ï¼ˆnew Vueã€å­ç»„ä»¶å†…éƒ¨è°ƒç”¨çš„ new Vueï¼‰è¢«åˆ›å»ºéƒ½éœ€è¦ç»è¿‡ä¸€ç³»åˆ—åˆå§‹åŒ–è¿‡ç¨‹ã€‚å…¶ä¸­éœ€è¦è®¾ç½®æ•°æ®ç›‘å¬ã€ç¼–è¯‘æ¨¡æ¿ã€æŒ‚è½½å®ä¾‹åˆ° DOMã€åœ¨æ•°æ®æ›´æ–°æ—¶æ›´æ–° DOMã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šè°ƒç”¨ç›¸å…³çš„é’©å­æ–¹æ³•ã€‚ callHookæœ€ç»ˆæ‰§è¡Œç”Ÿå‘½å‘¨æœŸæ˜¯é€šè¿‡è°ƒç”¨ callHook æ–¹æ³•ï¼Œæ ¹æ®ä¼ å…¥çš„å­—ç¬¦ä¸² hookï¼Œå»æ‹¿åˆ° vm.$options[hook] å¯¹åº”çš„å›è°ƒå‡½æ•°æ•°ç»„ï¼Œç„¶åéå†æ‰§è¡Œï¼Œæ‰§è¡Œçš„æ—¶å€™æŠŠ vm ä½œä¸ºå‡½æ•°æ‰§è¡Œçš„ä¸Šä¸‹æ–‡ã€‚ åœ¨ä¹‹å‰çš„é…ç½®åˆå¹¶ä¸­ï¼Œè¿™äº›é’©å­å‡½æ•°éƒ½è¢«åˆå¹¶åˆ°äº† vm.$options ä¸­å¹¶ä¸”æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚ è°ƒç”¨æ—¶æœºbeforeCreate &amp; created 123456789101112Vue.prototype._init = function(options?: Object) &#123; // ... initLifecycle(vm); initEvents(vm); initRender(vm); callHook(vm, 'beforeCreate'); initInjections(vm); // resolve injections before data/props initState(vm); initProvide(vm); // resolve provide after data/props callHook(vm, 'created'); // ...&#125;; beforeCreate å’Œ created çš„é’©å­è°ƒç”¨æ˜¯åœ¨ initState çš„å‰åï¼ŒinitState çš„ä½œç”¨æ˜¯åˆå§‹åŒ– propsã€dataã€methodsã€watchã€computed ç­‰å±æ€§ï¼Œä¹‹åæˆ‘ä»¬ä¼šè¯¦ç»†åˆ†æã€‚é‚£ä¹ˆæ˜¾ç„¶ beforeCreate çš„é’©å­å‡½æ•°ä¸­å°±ä¸èƒ½è·å–åˆ° propsã€data ä¸­å®šä¹‰çš„å€¼ï¼Œä¹Ÿä¸èƒ½è°ƒç”¨ methods ä¸­å®šä¹‰çš„å‡½æ•°ã€‚ è¿™ä¸¤ä¸ªæ–¹æ³•æ‰§è¡Œå®Œåï¼Œå¹¶æ²¡æœ‰æ¸²æŸ“ DOMï¼Œæ­¤æ—¶æ˜¯ä¸èƒ½è®¿é—® DOMã€‚ ä¸€æŠŠæ¥è¯´åç«¯çš„æ¥å£è¯·æ±‚ï¼Œæ”¾åœ¨è¿™é‡Œä¸¤ä¸ªé’©å­å‡½æ•°ä¸­éƒ½å¯ä»¥ï¼Œå¦‚æœéœ€è¦è®¿é—® propsã€data ç­‰æ•°æ®ï¼Œå°±éœ€è¦åœ¨ created ä¸­æ‰§è¡Œäº†ã€‚ vue-router ã€ vuex éƒ½æ··åˆäº† beforeCreatd é’©å­å‡½æ•°ã€‚ beforeMount &amp; mountedè¿™ä¸€å¯¹æ–¹æ³•æ˜¯ä»¥ DOM æŒ‚è½½å‰åä¸ºåˆ†ç•Œçº¿ã€‚ åœ¨æ‰§è¡Œ vm._render æ–¹æ³•å‰ï¼Œæ‰§è¡Œäº† beforeMountï¼Œ å½“åœ¨æ‰§è¡Œå®Œ vm.update æ–¹æ³•åï¼ŒæŠŠ VNode patch åˆ°çœŸæ˜¯ DOM åï¼Œæ‰§è¡Œäº† mouted é’©å­ã€‚ mounted é’©å­å‡½æ•°çš„æ‰§è¡Œé¡ºåºä¹Ÿæ˜¯å…ˆå­åçˆ¶ã€‚ beforeUpdate &amp; updatedbeforeUpdate çš„æ‰§è¡Œæ—¶æœºæ˜¯åœ¨æ¸²æŸ“ Watcher çš„ before å‡½æ•°ä¸­ï¼Œç»„ä»¶å·²ç» mounted ä¹‹åï¼Œæ‰ä¼šå»è°ƒç”¨è¿™ä¸ªé’©å­å‡½æ•°ã€‚ update çš„æ‰§è¡Œæ—¶æœºæ˜¯åœ¨ flushSchedulerQueue å‡½æ•°è°ƒç”¨çš„æ—¶å€™ã€‚ ç»„ä»¶ mount çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå®ä¾‹åŒ–ä¸€ä¸ªæ¸²æŸ“çš„ Watcher å»ç›‘å¬ vm ä¸Šçš„æ•°æ®å˜åŒ–é‡æ–°æ¸²æŸ“ã€‚ beforeDestroy &amp; destroyedbeforeDestroy å’Œ destroyed é’©å­å‡½æ•°çš„æ‰§è¡Œæ—¶æœºåœ¨ç»„ä»¶é”€æ¯çš„é˜¶æ®µ beforeDestroy é’©å­å‡½æ•°çš„æ‰§è¡Œæ—¶æœºæ˜¯åœ¨ $destroy å‡½æ•°æ‰§è¡Œæœ€å¼€å§‹çš„åœ°æ–¹ï¼Œæ¥ç€æ‰§è¡Œäº†ä¸€ç³»åˆ—çš„é”€æ¯åŠ¨ä½œï¼ŒåŒ…æ‹¬ä» parent çš„ $children ä¸­åˆ æ‰è‡ªèº«ï¼Œåˆ é™¤ watcherï¼Œå½“å‰æ¸²æŸ“çš„ VNode æ‰§è¡Œé”€æ¯é’©å­å‡½æ•°ç­‰ï¼Œæ‰§è¡Œå®Œæ¯•åå†è°ƒç”¨ destroy é’©å­å‡½æ•°ã€‚ åœ¨ $destroy çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå®ƒåˆä¼šæ‰§è¡Œ vm.__patch__(vm._vnode, null) è§¦å‘å®ƒå­ç»„ä»¶çš„é”€æ¯é’©å­å‡½æ•°ï¼Œè¿™æ ·ä¸€å±‚å±‚çš„é€’å½’è°ƒç”¨ï¼Œæ‰€ä»¥ destroy é’©å­å‡½æ•°æ‰§è¡Œé¡ºåºæ˜¯å…ˆå­åçˆ¶ï¼Œå’Œ mounted è¿‡ç¨‹ä¸€æ ·ã€‚ activated &amp; deactivatedactivated å’Œ deactivated é’©å­å‡½æ•°æ˜¯ä¸“é—¨ä¸º keep-alive ç»„ä»¶å®šåˆ¶çš„é’©å­ã€‚ æ€»ç»“åœ¨ created ä¸­å¯ä»¥è®¿é—®åˆ°æ•°æ®ï¼Œåœ¨ mounted é’©å­å‡½æ•°ä¸­å¯ä»¥è®¿é—®åˆ° DOMï¼Œåœ¨destroyed é’©å­å‡½æ•°ä¸­åšå®šæ—¶å™¨é”€æ¯ ç»„ä»¶æ³¨å†Œåœ¨ Vue.js ä¸­ï¼Œé™¤äº†å®ƒå†…ç½®çš„ç»„ä»¶å¦‚ keep-aliveã€componentã€transitionã€transition-group ç­‰ï¼Œå…¶å®ƒç”¨æˆ·è‡ªå®šä¹‰ç»„ä»¶åœ¨ä½¿ç”¨å‰å¿…é¡»æ³¨å†Œã€‚ å…¨å±€æ³¨å†Œå¯ä»¥åœ¨ä»»æ„åœ°æ–¹ä½¿ç”¨ï¼Œæ‰©å±•åœ¨Vue options 123Vue.component('my-component', &#123; // é€‰é¡¹&#125;); å±€éƒ¨æ³¨å†Œåœ¨å½“å‰ç»„ä»¶å†…ï¼Œæ‰©å±•åœ¨ Sub options 1234567import HelloWorld from './components/HelloWorld';export default &#123; components: &#123; HelloWorld &#125;&#125;; æ€»ç»“å±€éƒ¨æ³¨å†Œå’Œå…¨å±€æ³¨å†Œä¸åŒçš„æ˜¯ï¼Œåªæœ‰è¯¥ç±»å‹çš„ç»„ä»¶æ‰å¯ä»¥è®¿é—®å±€éƒ¨æ³¨å†Œçš„å­ç»„ä»¶ï¼Œè€Œå…¨å±€æ³¨å†Œæ˜¯æ‰©å±•åˆ° Vue.options ä¸‹ï¼Œæ‰€ä»¥åœ¨æ‰€æœ‰ç»„ä»¶åˆ›å»ºçš„è¿‡ç¨‹ä¸­ï¼Œéƒ½ä¼šä»å…¨å±€çš„ Vue.options.components æ‰©å±•åˆ°å½“å‰ç»„ä»¶çš„ vm.$options.components ä¸‹ï¼Œè¿™å°±æ˜¯å…¨å±€æ³¨å†Œçš„ç»„ä»¶èƒ½è¢«ä»»æ„ä½¿ç”¨çš„åŸå› ã€‚ å¼‚æ­¥ç»„ä»¶å¼€å‘ä¸­ï¼Œä¸ºäº†å‡å°‘é¦–å±ä»£ç ä½“ç§¯ï¼Œå¾€å¾€æŠŠä¸€äº›éé¦–å±çš„ç»„ä»¶è®¾è®¡æˆå¼‚æ­¥ç»„ä»¶ï¼ŒæŒ‰éœ€åŠ è½½ã€‚æœ¬è´¨æ˜¯ä¸¤æ¬¡æ¸²æŸ“ï¼Œå…ˆæ¸²æŸ“æˆæ³¨é‡ŠèŠ‚ç‚¹ï¼Œåœ¨ç»„ä»¶åŠ è½½æˆåŠŸäº†ï¼Œåœ¨é€šè¿‡ foreceRender é‡æ–°æ¸²æŸ“ã€‚ æ™®é€šå‡½æ•°å¼‚æ­¥ç»„ä»¶ 123456Vue.component('async-example', function(resolve, reject) &#123; // è¿™ä¸ªç‰¹æ®Šçš„ require è¯­æ³•å‘Šè¯‰ webpack // è‡ªåŠ¨å°†ç¼–è¯‘åçš„ä»£ç åˆ†å‰²æˆä¸åŒçš„å—ï¼Œ // è¿™äº›å—å°†é€šè¿‡ Ajax è¯·æ±‚è‡ªåŠ¨ä¸‹è½½ã€‚ require(['./my-async-component'], resolve);&#125;); component çš„ç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥çš„æ˜¯å‡½æ•°ï¼Œ æ™®é€šç»„ä»¶ä¼ å…¥çš„æ˜¯å¯¹è±¡ã€‚ âš ï¸ åœ¨æ•´ä¸ªå¼‚æ­¥ç»„ä»¶åŠ è½½è¿‡ç¨‹ä¸­æ˜¯æ²¡æœ‰æ•°æ®å‘ç”Ÿå˜åŒ–çš„ï¼Œæ‰€ä»¥é€šè¿‡æ‰§è¡Œ $forceUpdate å¯ä»¥å¼ºåˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“ä¸€æ¬¡ã€‚ Promise å¼‚æ­¥ç»„ä»¶ 12345Vue.component( 'async-webpack-example', // è¿™ä¸ª `import` å‡½æ•°ä¼šè¿”å›ä¸€ä¸ª `Promise` å¯¹è±¡ã€‚ () =&gt; import('./my-async-component')); åˆ¤æ–­æ˜¯å¦æ˜¯ Promise çš„æ–¹æ³•ï¼štypeof res.then === &#39;function&#39; é«˜çº§å¼‚æ­¥ç»„ä»¶ç”±äºå¼‚æ­¥åŠ è½½ç»„ä»¶éœ€è¦åŠ¨æ€åŠ è½½ JSï¼Œæœ‰ä¸€å®šç½‘ç»œå»¶æ—¶ï¼Œè€Œä¸”æœ‰åŠ è½½å¤±è´¥çš„æƒ…å†µï¼Œæ‰€ä»¥é€šå¸¸æˆ‘ä»¬åœ¨å¼€å‘å¼‚æ­¥ç»„ä»¶ç›¸å…³é€»è¾‘çš„æ—¶å€™éœ€è¦è®¾è®¡ loading ç»„ä»¶å’Œ error ç»„ä»¶ï¼Œå¹¶åœ¨é€‚å½“çš„æ—¶æœºæ¸²æŸ“å®ƒä»¬ã€‚ 12345678910111213const AsyncComponent = () =&gt; (&#123; // éœ€è¦åŠ è½½çš„ç»„ä»¶ (åº”è¯¥æ˜¯ä¸€ä¸ª `Promise` å¯¹è±¡) component: import('./MyComponent.vue'), // å¼‚æ­¥ç»„ä»¶åŠ è½½æ—¶ä½¿ç”¨çš„ç»„ä»¶ loading: LoadingComponent, // åŠ è½½å¤±è´¥æ—¶ä½¿ç”¨çš„ç»„ä»¶ error: ErrorComponent, // å±•ç¤ºåŠ è½½æ—¶ç»„ä»¶çš„å»¶æ—¶æ—¶é—´ã€‚é»˜è®¤å€¼æ˜¯ 200 (æ¯«ç§’) delay: 200, // å¦‚æœæä¾›äº†è¶…æ—¶æ—¶é—´ä¸”ç»„ä»¶åŠ è½½ä¹Ÿè¶…æ—¶äº†ï¼Œ // åˆ™ä½¿ç”¨åŠ è½½å¤±è´¥æ—¶ä½¿ç”¨çš„ç»„ä»¶ã€‚é»˜è®¤å€¼æ˜¯ï¼š`Infinity` timeout: 3000&#125;);]]></content>
      <categories>
        <category>Vueæºç è§£æ</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>ç»„ä»¶åŒ–</tag>
        <tag>patch</tag>
        <tag>å¼‚æ­¥ç»„ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vueæºç è§£æ-æ•°æ®é©±åŠ¨]]></title>
    <url>%2F2018%2F08%2F21%2Fcl4s3gtgf005twn9ex7k3hwvz%2F</url>
    <content type="text"><![CDATA[èµ„æºåˆ—è¡¨ï¼šæ…•è¯¾ç½‘ï¼šVue.js æºç å…¨æ–¹ä½æ·±å…¥è§£æVue.js æŠ€æœ¯æ­ç§˜çŸ¥ä¹ï¼šæŸ“é™ŒåŒå­¦ VirtualDOMä¸diff(Vueå®ç°) Vueæºç è§£æ-æ•°æ®é©±åŠ¨Introductionç°ä»£å‰ç«¯æ¡†æ¶æŠ›å¼ƒé‡Œå¦‚ä½¿ç”¨ JQuery ç­‰å‰ç«¯åº“ç›´æ¥ä¿®æ”¹ DOMï¼Œè€Œæ˜¯ç”±æ•°æ®é©±åŠ¨è§†å›¾ã€‚æœ¬ç« èŠ‚ä¸»è¦ç ”ç©¶ Vue ä¸­æ¨¡æ¿å’Œæ•°æ®å¦‚æœæ¸²æŸ“æˆæœ€çº¢çš„ DOMã€‚ 12345678910&lt;div id="app"&gt; &#123;&#123; message &#125;&#125;&lt;/div&gt;var app = new Vue(&#123; el: '#app', data: &#123; message: 'Hello Vue!' &#125;&#125;) new Vue å‘ç”Ÿäº†ä»€ä¹ˆnew å…³é”®å­—åœ¨ JavaScript ä¸­å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œ Vue æœ¬è´¨æ˜¯ä¸€ä¸ª Function æ¨¡æ‹Ÿçš„ç±»ï¼Œåœ¨å…¶ä¸Šæ‰©å±•é™æ€æ–¹æ³•å’ŒåŸå‹æ–¹æ³•ã€‚ æºç ï¼Œåœ¨src/core/instance/index.js 12345678function Vue (options) &#123; if (process.env.NODE_ENV !== 'production' &amp;&amp; !(this instanceof Vue) ) &#123; warn('Vue is a constructor and should be called with the `new` keyword') &#125; this._init(options)&#125; æœ€å new Vue() è°ƒç”¨çš„æ˜¯ this._init æ–¹æ³•ã€‚ æºç ï¼šsrc/core/instance/init.jsã€‚ Vue åˆå§‹åŒ–ä¸»è¦åšäº†å‡ ä»¶äº‹ åˆå¹¶é…ç½® åˆå§‹åŒ–ç”Ÿå‘½å‘¨æœŸ åˆå§‹åŒ–äº‹ä»¶ä¸­å¿ƒ åˆå§‹åŒ–æ¸²æŸ“ åˆå§‹åŒ– dataã€propsã€computedã€watcher ç­‰ æœ€ååˆ¤æ–­æ˜¯å¦æœ‰ el å±æ€§ï¼Œå¦‚æœæœ‰åˆ™è°ƒç”¨ vm.$mount æ–¹æ³•æŒ‚è½½ vmï¼ŒæŒ‚è½½çš„ç›®æ ‡å°±æ˜¯æŠŠæ¨¡æ¿æ¸²æŸ“æˆæœ€ç»ˆçš„ DOM 1234// 68 if (vm.$options.el) &#123; vm.$mount(vm.$options.el) &#125; elã€templateVue æ–‡æ¡£ el template 12345678910111213141516&lt;body&gt; &lt;div id=&quot;app&quot;&gt; &lt;hello-world&gt;&lt;/hello-world&gt; &lt;/div&gt; &lt;script&gt; Vue.component(&apos;hello-world&apos;, &#123; template: &quot;&lt;h1&gt;hello world&lt;/h1&gt;&quot; &#125;) var app = new Vue(&#123; el: &apos;#app&apos;, data: &#123; &#125; &#125;) &lt;/script&gt;&lt;/body&gt; Vue å®ä¾‹æŒ‚è½½çš„å®ç°$mount æ–¹æ³•çš„å®ç°æ˜¯å’Œå¹³å°ã€æ„å»ºæ–¹å¼ç›¸å…³ï¼Œä¸åŒå¹³å°å¦‚ weex æœ‰ä¸åŒçš„ $mount å®ç°ï¼Œåº•å±‚ä½¿ç”¨çš„ API ä¹Ÿä¸å°½ç›¸åŒï¼Œè¿™é‡Œç ”ç©¶ compiler çš„å®ç°ã€‚ æºç ï¼š src/platform/web/entry-runtime-with-compiler.js å¯¹ el åšäº†é™åˆ¶ï¼Œä¸èƒ½æŒ‚è½½åˆ° bodyã€html æ ¹èŠ‚ç‚¹ä¸Š å¦‚æœæ²¡æœ‰render æ–¹æ³•ï¼Œåˆ™ä¼šæŠŠ el æˆ–è€… template å­—ç¬¦ä¸²è½¬æˆ render æ–¹æ³•ï¼Œåœ¨ Vue 2.0 ç‰ˆæœ¬ä¸­ï¼Œæ‰€æœ‰ Vue çš„ç»„ä»¶çš„æ¸²æŸ“æœ€ç»ˆéƒ½éœ€è¦ render æ–¹æ³• $mount æ–¹æ³•å®é™…ä¸Šä¼šå»è°ƒç”¨ mountComponent æ–¹æ³•ï¼Œ æºç ï¼šsrc/core/instance/lifecycle.js å…ˆè°ƒç”¨ vm._render æ–¹æ³•ç”Ÿæˆè™šæ‹Ÿ Node å†å®ä¾‹åŒ–ä¸€ä¸ªæ¸²æŸ“ Watcherï¼Œåœ¨å®ƒçš„å›è°ƒå‡½æ•°ä¸­è°ƒç”¨äº† updateComponent æœ€åè°ƒç”¨ vm._update æ›´æ–° DOM æœ€åçš„åˆ¤æ–­ï¼Œvm._isMounted ä¸º trueï¼Œ è¡¨ç¤ºå·²ç»æŒ‚è½½ï¼ŒåŒæ—¶æ‰§è¡Œ mounted é’©å­å‡½æ•°ã€‚ âš ï¸ è¿™é‡Œæ³¨æ„ vm.$vnode è¡¨ç¤º Vue å®ä¾‹çš„çˆ¶è™šæ‹Ÿ Nodeï¼Œæ‰€ä»¥å®ƒä¸º Null åˆ™è¡¨ç¤ºå½“å‰æ˜¯æ ¹ Vue çš„å®ä¾‹ã€‚ renderå®ƒç”¨æ¥æŠŠå®ä¾‹æ¸²æŸ“æˆä¸€ä¸ªè™šæ‹Ÿ Nodeï¼Œ æºç ï¼š src/core/instance/render.js Vue æ–‡æ¡£ä¸­çš„ render æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•° createElementï¼Œç”¨æ¥åˆ›å»º Vnodeï¼Œæ¨¡æ¿ä¸­çš„å†™æ³•ï¼š 123&lt;div id="app"&gt; &#123;&#123; message &#125;&#125;&lt;/div&gt; ç­‰åŒäº render å‡½æ•°çš„å†™æ³• 1234567render: function (createElement) &#123; return createElement('div', &#123; attrs: &#123; id: 'app' &#125;, &#125;, this.message)&#125; ğŸ“Œ Vue 2.0 ç›¸æ¯” Vue 1.0 æœ€å¤§çš„å‡çº§å°±æ˜¯åˆ©ç”¨äº† Virtual DOM Virtual DOMä¸ºä»€ä¹ˆè¦ä½¿ç”¨è™šæ‹Ÿ DOM ï¼Ÿåœ¨æ–‡æ¡£ä¸­ï¼Œä¸€ä¸ªçœŸå®çš„ DOM å…ƒç´ æ˜¯å¾ˆåºå¤§çš„ï¼Œç›´æ¥ä¿®æ”¹è¯¥å…ƒç´ æˆæœ¬å¾ˆé«˜ï¼Œä½¿ç”¨ è™šæ‹Ÿ DOMï¼Œåªéœ€è¦ç»´æŠ¤ä¸€ä¸ªçœŸå® DOM æ˜ å°„çš„å¯¹è±¡ï¼Œè¿™è¦æ¯”ç»´æŠ¤çœŸå® DOM æˆæœ¬å°å¾—å¤šã€‚ Virtual DOM æ˜¯ç”¨ VNode è¿™ä¹ˆä¸€ä¸ª Class å»æè¿° å®šä¹‰åœ¨ src/core/vdom/vnode.js VNode æ˜¯å¯¹çœŸå® DOM çš„ä¸€ç§æŠ½è±¡æè¿°ï¼Œæ ¸å¿ƒæ— éå°±æ˜¯å‡ ä¸ªå…³é”®å±æ€§ï¼Œæ ‡ç­¾åã€æ•°æ®ã€å­èŠ‚ç‚¹ã€é”®å€¼ç­‰ã€‚ æ˜ å°„åˆ°çœŸå®çš„ DOM å®é™…ä¸Šè¦ç»å† VNode çš„ createã€diffã€patch ç­‰è¿‡ç¨‹ã€‚ createElementVue.js åˆ©ç”¨ createElement æ–¹æ³•åˆ›å»º VNodeï¼Œ å®ƒå®šä¹‰åœ¨ src/core/vdom/create-elemenet.js ä¸­ï¼š æ¯ä¸ª VNode éƒ½æœ‰ childrenï¼Œæ¯ä¸ª children ä¹Ÿæ˜¯ä¸€ä¸ª VNodeï¼Œè¿™æ ·å°±å½¢æˆäº† VNode treeã€‚ æœ€åé€šè¿‡ vm._updateï¼Œ å°† VNode æ¸²æŸ“æˆçœŸå®çš„ DOM å¹¶æ¸²æŸ“å‡ºæ¥ã€‚ updateè¯¥æ–¹æ³•è¢«è°ƒç”¨çš„æ—¶æœºæœ‰ä¸¤æ¬¡ï¼Œä¸€æ¬¡æ˜¯é¦–æ¬¡æ¸²æŸ“ï¼Œä¸€æ¬¡æ˜¯åœ¨æ•°æ®æ›´æ–°çš„æ—¶å€™ã€‚ æºç ï¼š src/core/instance/lifecycle.js æ ¸å¿ƒæ˜¯è°ƒç”¨äº† vm.__patch__ï¼Œè¯¥æ–¹æ³•æ ¹æ®å¹³å°çš„ä¸åŒæœ‰åŒºåˆ«ã€‚ åœ¨è¯¥æ–¹æ³•ä¸­å®ç°äº† diff ç®—æ³•ï¼Œå…·ä½“å‚è€ƒï¼š Vue.js æŠ€æœ¯æ­ç§˜ diffç®—æ³•diff ç®—æ³•æ˜¯é€šè¿‡åŒå±‚çš„æ ‘èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒè€Œéå¯¹æ ‘è¿›è¡Œé€å±‚æœç´¢éå†ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦åªæœ‰ O(n)ï¼Œæ˜¯ä¸€ç§é«˜æ•ˆçš„ç®—æ³•ã€‚ åˆ¤æ–­ä¸ºåŒä¸€ä¸ª VNodeçš„ä¾æ® 12345678910111213/*åˆ¤æ–­ä¸¤ä¸ªVNodeèŠ‚ç‚¹æ˜¯å¦æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶keyç›¸åŒtagï¼ˆå½“å‰èŠ‚ç‚¹çš„æ ‡ç­¾åï¼‰ç›¸åŒisCommentï¼ˆæ˜¯å¦ä¸ºæ³¨é‡ŠèŠ‚ç‚¹ï¼‰ç›¸åŒæ˜¯å¦dataï¼ˆå½“å‰èŠ‚ç‚¹å¯¹åº”çš„å¯¹è±¡ï¼ŒåŒ…å«äº†å…·ä½“çš„ä¸€äº›æ•°æ®ä¿¡æ¯ï¼Œæ˜¯ä¸€ä¸ªVNodeDataç±»å‹ï¼Œå¯ä»¥å‚è€ƒVNodeDataç±»å‹ä¸­çš„æ•°æ®ä¿¡æ¯ï¼‰éƒ½æœ‰å®šä¹‰å½“æ ‡ç­¾æ˜¯&lt;input&gt;çš„æ—¶å€™ï¼Œtypeå¿…é¡»ç›¸åŒ*//*åˆ¤æ–­å½“æ ‡ç­¾æ˜¯&lt;input&gt;çš„æ—¶å€™ï¼Œtypeæ˜¯å¦ç›¸åŒæŸäº›æµè§ˆå™¨ä¸æ”¯æŒåŠ¨æ€ä¿®æ”¹&lt;input&gt;ç±»å‹ï¼Œæ‰€ä»¥ä»–ä»¬è¢«è§†ä¸ºä¸åŒç±»å‹*/ å¦‚ä½•è¿›è¡Œå¯¹æ¯”ï¼Ÿ 1.å¦‚æœæ–°æ—§ VNode éƒ½æ˜¯é™æ€çš„ï¼ŒåŒæ—¶å®ƒä»¬çš„ key ç›¸åŒï¼ˆä»£è¡¨åŒä¸€èŠ‚ç‚¹ï¼‰ï¼Œå¹¶ä¸”æ–°çš„ VNode æ˜¯ clone æˆ–è€…æ˜¯æ ‡è®°äº†onceï¼ˆæ ‡è®° v-once å±æ€§ï¼Œåªæ¸²æŸ“ä¸€æ¬¡ï¼‰ï¼Œé‚£ä¹ˆåªéœ€è¦æ›¿æ¢ elm ä»¥åŠ componentInstance å³å¯ã€‚ 2.æ–°è€èŠ‚ç‚¹å‡æœ‰ children å­èŠ‚ç‚¹ï¼Œåˆ™å¯¹å­èŠ‚ç‚¹è¿›è¡Œdiff æ“ä½œï¼Œè°ƒç”¨ updateChildrenï¼Œè¿™ä¸ªupdateChildren ä¹Ÿæ˜¯ diff çš„æ ¸å¿ƒã€‚ 3.å¦‚æœè€èŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹è€Œæ–°èŠ‚ç‚¹å­˜åœ¨å­èŠ‚ç‚¹ï¼Œå…ˆæ¸…ç©ºè€èŠ‚ç‚¹ DOM çš„æ–‡æœ¬å†…å®¹ï¼Œç„¶åä¸ºå½“å‰ DOM èŠ‚ç‚¹åŠ å…¥å­èŠ‚ç‚¹ã€‚ 4.å½“æ–°èŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹è€Œè€èŠ‚ç‚¹æœ‰å­èŠ‚ç‚¹çš„æ—¶å€™ï¼Œåˆ™ç§»é™¤è¯¥ DOM èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ã€‚ 5.å½“æ–°è€èŠ‚ç‚¹éƒ½æ— å­èŠ‚ç‚¹çš„æ—¶å€™ï¼Œåªæ˜¯æ–‡æœ¬çš„æ›¿æ¢ã€‚ å…¶ä»–å¯¹æ¯”ç»†èŠ‚å‚è€ƒåšå®¢æ–‡ç« ã€‚ DOMæ“ä½œæˆ‘ä»¬åªæ˜¯å°†è™šæ‹Ÿ DOM æ˜ å°„æˆäº†çœŸå®çš„ DOMã€‚é‚£å¦‚ä½•ç»™è¿™äº› DOM åŠ å…¥ attrã€classã€style ç­‰ DOM å±æ€§å‘¢ï¼Ÿ éœ€è¦åœ¨ create ä»¥åŠ update é’©å­è¢«è°ƒç”¨æ—¶æ›´æ–° DOM çš„ attr å±æ€§å³å¯ æ€»ç»“æ¨¡æ¿å’Œæ•°æ®å¦‚ä½•æ¸²æŸ“æˆæœ€ç»ˆçš„ DOM çš„è¿‡ç¨‹åˆ†æå®Œæ¯•äº†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹å›¾æ›´ç›´è§‚åœ°çœ‹åˆ°ä»åˆå§‹åŒ– Vue åˆ°æœ€ç»ˆæ¸²æŸ“çš„æ•´ä¸ªè¿‡ç¨‹ã€‚]]></content>
      <categories>
        <category>Vueæºç è§£æ</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>æ•°æ®é©±åŠ¨</tag>
        <tag>è™šæ‹ŸDOM</tag>
        <tag>diffç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Object.defineProperty()]]></title>
    <url>%2F2018%2F08%2F17%2Fcl4s3gtfp004lwn9e3tpmjw7i%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šObject.defineProperty() Object.defineProperty()æ–¹æ³•ä¼šç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„ç°æœ‰å±æ€§ï¼Œ å¹¶è¿”å›è¿™ä¸ªå¯¹è±¡ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738var o = &#123;&#125;; // åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡// åœ¨å¯¹è±¡ä¸­æ·»åŠ ä¸€ä¸ªå±æ€§ä¸æ•°æ®æè¿°ç¬¦çš„ç¤ºä¾‹Object.defineProperty(o, "a", &#123; value : 37, writable : true, enumerable : true, configurable : true&#125;);// å¯¹è±¡oæ‹¥æœ‰äº†å±æ€§aï¼Œå€¼ä¸º37// åœ¨å¯¹è±¡ä¸­æ·»åŠ ä¸€ä¸ªå±æ€§ä¸å­˜å–æè¿°ç¬¦çš„ç¤ºä¾‹var bValue;Object.defineProperty(o, "b", &#123; get : function()&#123; return bValue; &#125;, set : function(newValue)&#123; bValue = newValue; &#125;, enumerable : true, configurable : true&#125;);o.b = 38;// å¯¹è±¡oæ‹¥æœ‰äº†å±æ€§bï¼Œå€¼ä¸º38// o.bçš„å€¼ç°åœ¨æ€»æ˜¯ä¸bValueç›¸åŒï¼Œé™¤éé‡æ–°å®šä¹‰o.b// æ•°æ®æè¿°ç¬¦å’Œå­˜å–æè¿°ç¬¦ä¸èƒ½æ··åˆä½¿ç”¨Object.defineProperty(o, "conflict", &#123; value: 0x9f91102, get: function() &#123; return 0xdeadbeef; &#125; &#125;);// throws a TypeError: value appears only in data descriptors, get appears only in accessor descriptors âš ï¸ æ•°æ®æè¿°ç¬¦å’Œå­˜å–æè¿°ç¬¦ä¸èƒ½æ··ç”¨ Writable å±æ€§å½“ writable å±æ€§è®¾ç½®ä¸º false æ—¶ï¼Œè¯¥å±æ€§è¢«ç§°ä¸ºâ€œä¸å¯å†™â€ã€‚å®ƒä¸èƒ½è¢«é‡æ–°åˆ†é…ã€‚ âš ï¸æ™®é€šæ¨¡å¼ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œä¸¥æ ¼æ¨¡å¼æŠ›å‡ºå¼‚å¸¸â€œread-onlyâ€ Enumerable ç‰¹æ€§ enumerable å®šä¹‰äº†å¯¹è±¡çš„å±æ€§æ˜¯å¦å¯ä»¥åœ¨ for...in å¾ªç¯å’Œ Object.keys() ä¸­è¢«æšä¸¾ã€‚ Configurable ç‰¹æ€§configurable ç‰¹æ€§è¡¨ç¤ºå¯¹è±¡çš„å±æ€§æ˜¯å¦å¯ä»¥è¢«åˆ é™¤ï¼Œä»¥åŠé™¤writable ç‰¹æ€§å¤–çš„å…¶ä»–ç‰¹æ€§æ˜¯å¦å¯ä»¥è¢«ä¿®æ”¹ã€‚ ä¸€èˆ¬çš„ Setters å’Œ Getters12345678910111213141516171819202122var pattern = &#123; get: function () &#123; return 'I alway return this string,whatever you have assigned'; &#125;, set: function () &#123; this.myname = 'this is my name string'; &#125;&#125;;function TestDefineSetAndGet() &#123; Object.defineProperty(this, 'myproperty', pattern);&#125;var instance = new TestDefineSetAndGet();instance.myproperty = 'test';// 'I alway return this string,whatever you have assigned'console.log(instance.myproperty);// 'this is my name string'console.log(instance.myname);]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTML5 è¯­ä¹‰åŒ–æœ€ä½³å®è·µ]]></title>
    <url>%2F2018%2F06%2F26%2Fcl4s3gtdy0018wn9ebadclc2t%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šAre you Writing Accessible HTML?HTML5 è¯­ä¹‰åŒ– w3cplus HTML5 è¯­ä¹‰åŒ–æœ€ä½³å®è·µæœ€ä½³å®è·µ ä½¿ç”¨ a æ ‡ç­¾ä»£æ›¿ç‚¹å‡»è¡Œä¸ºçš„ span æ ‡ç­¾ ä½¿ç”¨ button æ ‡ç­¾ä½œä¸ºæŒ‰é’® åœ¨è¡¨å•å…ƒç´ ä¸­ä½¿ç”¨ label æ‰€æœ‰çš„ img æ ‡ç­¾éƒ½åº”æœ‰æœ‰ alt å±æ€§æè¿°å›¾æ ‡æœ¬èº« ä¿®é¥°ä½œç”¨çš„ img å¦‚ loading.gif åº”æœ‰ç”¨ç©ºçš„ alt=&quot;&quot; å±æ€§ ç„¦ç‚¹ç®¡ç† - ä½¿ç”¨ tabindex æ§åˆ¶ tab é”®åˆ‡æ¢ç„¦ç‚¹çš„é¡ºåº - å°† tabindex ç½®ä¸º -1 å¯ä»¥é¿å… tab é”®è·å–ç„¦ç‚¹ æ–°å…ƒç´ markmark å…ƒç´ å¯¹å…¶å†…å®¹èµ‹äºˆä»»ä½•é‡è¦æ€§ï¼Œä»…ä»…æ˜¯çªå‡ºæ˜¾ç¤ºã€‚ç”¨äºæ›¿ä»£ em æˆ– strong time meterå…ƒç´ å¯ç”¨äºæµ‹é‡çš„æ ‡è®°ï¼Œæä¾›æµ‹é‡çš„æœ€å¤§å€¼å’Œæœ€å°å€¼è¿›è¡Œæµ‹é‡å€¼çš„ç¼©æ”¾ã€‚ progress figure ä¸ figcaptionfigure å…ƒç´ æ ‡è®°æ–‡æ¡£ä¸­çš„ä¸€ä¸ªå›¾åƒfigcaption å…ƒç´ è¢«ç”¨æ¥ä¸º figure å…ƒç´ å®šä¹‰æ ‡é¢˜ã€‚]]></content>
      <categories>
        <category>HTML5</category>
      </categories>
      <tags>
        <tag>è¯­ä¹‰åŒ–</tag>
        <tag>å›¾è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Nginx éƒ¨ç½²é™æ€é¡µé¢]]></title>
    <url>%2F2018%2F06%2F11%2Fcl4s3gtfh0045wn9e7dgxcr14%2F</url>
    <content type="text"><![CDATA[Nginx éƒ¨ç½²é™æ€é¡µé¢åœ¨å‰åç«¯åˆ†ç¦»çš„é¡¹ç›®ä¸­ï¼Œå‰ç«¯ç»è¿‡ç¼–è¯‘ç”Ÿæˆçš„æ–‡ä»¶ä¸­ï¼Œå¾€å¾€åªåŒ…å«ä¸€ä¸ª index.html å…¥å£æ–‡ä»¶ã€‚å¯ä»¥åˆ©ç”¨ Nginx è¿›è¡Œç®€å•é…ç½®å°±å¯ä»¥å®ç°åœ¨éƒ¨ç½²åˆ°æœåŠ¡å™¨ç«¯ã€‚ ğŸ¸ å¦‚æœæ˜¯ nodejs çš„é¡¹ç›®å¯ä»¥åˆ©ç”¨ pm2 è¿›è¡Œéƒ¨ç½²ï¼Œå¦‚æœæ˜¯ egg çš„é¡¹ç›®å¯ä»¥åˆ©ç”¨ egg çš„å·¥å…· egg-scripts è¿›è¡Œéƒ¨ç½² Nginx çš„å…¨å±€é…ç½®é€šè¿‡ yum å®‰è£… Nginx çš„é…ç½®æ–‡ä»¶åœ¨ /etc/nginx/nginx.conf ä¸‹ã€‚ å…¶ä¸­ include /etc/nginx/default.d/*.conf; å¼•å…¥åœ¨ç›®å½•ä¸‹çš„æ‰€æœ‰é…ç½®æ–‡ä»¶ï¼ŒåŸåˆ™ä¸Šæ¯ä¸ªé…ç½®æ–‡ä»¶å¯¹åº”ä¸€ä¸ªé™æ€é¡µé¢æ–‡ä»¶ã€‚ âš ï¸ include çš„å‘ï¼šinclude çš„ä½ç½®åº”è¯¥åœ¨ç¬¬ä¸€ä¸ª server å—åé¢âš ï¸ æƒé™é—®é¢˜å¯¼è‡´çš„ 403ï¼š ä¿®æ”¹ conf é…ç½® user å­—æ®µä¸º rootï¼ˆé»˜è®¤æ˜¯ nginx ï¼‰ å®Œæ•´çš„ nginx.conf é…ç½®ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192# For more information on configuration, see:# * Official English Documentation: http://nginx.org/en/docs/# * Official Russian Documentation: http://nginx.org/ru/docs/user root;worker_processes auto;error_log /var/log/nginx/error.log;pid /run/nginx.pid;# Load dynamic modules. See /usr/share/nginx/README.dynamic.include /usr/share/nginx/modules/*.conf;events &#123; worker_connections 1024;&#125;http &#123; log_format main '$remote_addr - $remote_user [$time_local] "$request" ' '$status $body_bytes_sent "$http_referer" ' '"$http_user_agent" "$http_x_forwarded_for"'; access_log /var/log/nginx/access.log main; sendfile on; tcp_nopush on; tcp_nodelay on; keepalive_timeout 65; types_hash_max_size 2048; include /etc/nginx/mime.types; default_type application/octet-stream; # Load modular configuration files from the /etc/nginx/conf.d directory. # See http://nginx.org/en/docs/ngx_core_module.html#include # for more information. #include /etc/nginx/conf.d/*.conf; server &#123; listen 80 default_server; listen [::]:80 default_server; server_name _; root /usr/share/nginx/html; # Load configuration files for the default server block. # include /etc/nginx/default.d/*.conf; location / &#123; &#125; error_page 404 /404.html; location = /40x.html &#123; &#125; error_page 500 502 503 504 /50x.html; location = /50x.html &#123; &#125; &#125; include /etc/nginx/default.d/*.conf;# Settings for a TLS enabled server.## server &#123;# listen 443 ssl http2 default_server;# listen [::]:443 ssl http2 default_server;# server_name _;# root /usr/share/nginx/html;## ssl_certificate "/etc/pki/nginx/server.crt";# ssl_certificate_key "/etc/pki/nginx/private/server.key";# ssl_session_cache shared:SSL:1m;# ssl_session_timeout 10m;# ssl_ciphers HIGH:!aNULL:!MD5;# ssl_prefer_server_ciphers on;## # Load configuration files for the default server block.# include /etc/nginx/default.d/*.conf;## location / &#123;# &#125;## error_page 404 /404.html;# location = /40x.html &#123;# &#125;## error_page 500 502 503 504 /50x.html;# location = /50x.html &#123;# &#125;# &#125;&#125; default.conf çš„é…ç½®åœ¨ /etc/nginx/default.d ç›®å½•ä¸‹é…ç½®ï¼Œæ–°å»ºæ–‡ä»¶ï¼Œä¸€ä¸ªç®€å•çš„æ–‡ä»¶æ¨¡æ¿å¦‚ä¸‹ï¼š 12345678server &#123; listen 9001; server_name localhost; location / &#123; root /root/node-project/pm2test; #index index.html index.htm; &#125;&#125; âš ï¸ æ³¨æ„è¿™é‡ŒåªåŒ…å« server å— ç›¸å…³å‘½ä»¤è¡Œæ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦é…ç½®æ­£ç¡® 1sudo nginx -t -c /etc/nginx/nginx.conf ä¿®æ”¹é…ç½®åï¼Œåˆ·æ–°é…ç½® 1nginx -s reload æ€æ­» nginx è¿›ç¨‹ï¼Œé‡å¯ 12pkill -9 nginxsystemctl restart nginx å¯åŠ¨ nginx 1nginx åå‘ä»£ç†åˆ©ç”¨ nginx åå‘ä»£ç†å¯ä»¥è§£å†³å‰ç«¯å¼€ä¸­çš„è·¨åŸŸé—®é¢˜ï¼Œè€Œä¸éœ€è¦æœåŠ¡ç«¯é…åˆã€‚å…·ä½“è¯·å‚è€ƒï¼šNginx åå‘ä»£ç†]]></content>
      <categories>
        <category>å·¥ç¨‹åŒ–</category>
      </categories>
      <tags>
        <tag>nginx</tag>
        <tag>éƒ¨ç½²</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vue.js å¿«é€Ÿå…¥é—¨ä¸ä¸“ä¸šåº”ç”¨]]></title>
    <url>%2F2018%2F05%2F14%2Fcl4s3gtg5005hwn9em0aaqxyz%2F</url>
    <content type="text"><![CDATA[æ‘˜æŠ„è‡ªï¼š ã€Š Vue.js å‰ç«¯å¼€å‘- å¿«é€Ÿå…¥é—¨ä¸ä¸“ä¸šåº”ç”¨ã€‹ Vue.js å¿«é€Ÿå…¥é—¨ä¸ä¸“ä¸šåº”ç”¨Vue.js ç®€ä»‹Vue.js çš„ç»„ä»¶åŒ–ç†å¿µå’Œ ReactJS å¼‚æ›²åŒå·¥â€”â€”â€œä¸€åˆ‡éƒ½æ˜¯ç»„ä»¶â€ï¼Œå¯ä»¥å°†ä»»æ„å°è£…å¥½çš„ä»£ç æ³¨å†Œæˆæ ‡ç­¾ï¼Œä¾‹å¦‚:Vue.component(&#39;example&#39;, Example)ï¼Œå¯ä»¥åœ¨æ¨¡æ¿ä¸­ä»¥ &lt;example&gt;&lt;/ example&gt; çš„å½¢å¼è°ƒç”¨ã€‚ Vue.js çš„ä½¿ç”¨éƒ½æ˜¯é€šè¿‡æ„é€ å‡½æ•° Vue({option}) åˆ›å»ºä¸€ä¸ª Vue çš„å®ä¾‹: var vm = new Vue({})ã€‚ä¸€ä¸ª Vue å®ä¾‹ç›¸å½“äºä¸€ä¸ª MVVM æ¨¡å¼ä¸­çš„ ViewModelã€‚ åœ¨å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä¼ å…¥ä¸€ä¸ªé€‰é¡¹å¯¹è±¡ï¼ŒåŒ…å«æ•°æ®ã€æ¨¡æ¿ã€æŒ‚è½½å…ƒç´ ã€æ–¹æ³•ã€ç”Ÿ å‘½å‘¨æœŸé’©å­ç­‰é€‰é¡¹ã€‚ åŸºç¡€ç‰¹æ€§æ¨¡æ¿ el :ç±»å‹ä¸ºå­—ç¬¦ä¸²ï¼ŒDOM å…ƒç´ æˆ–å‡½æ•°ã€‚å…¶ä½œç”¨æ˜¯ä¸ºå®ä¾‹æä¾›æŒ‚è½½å…ƒç´ ã€‚ template :ç±»å‹ä¸ºå­—ç¬¦ä¸²ã€‚é»˜è®¤ä¼šå°† template å€¼æ›¿æ¢æŒ‚è½½å…ƒç´ (å³ el å€¼å¯¹åº”çš„å…ƒç´ )ï¼Œ å¹¶åˆå¹¶æŒ‚è½½å…ƒç´ å’Œæ¨¡æ¿æ ¹èŠ‚ç‚¹çš„å±æ€§(å¦‚æœå±æ€§å…·æœ‰å”¯ä¸€æ€§ï¼Œç±»ä¼¼ idï¼Œåˆ™ä»¥æ¨¡æ¿æ ¹èŠ‚ç‚¹ä¸ºå‡†)ã€‚ 123456789101112&lt;div id="app"&gt; &lt;p&gt;123&lt;/p&gt;&lt;/div&gt;&lt;script id="tpl" type="x-template"&gt; &lt;div class='tpl'&gt; &lt;p&gt;This is a tpl from script tag&lt;/p&gt; &lt;/div&gt;&lt;/script&gt;&lt;script type="text/javascript"&gt; var vm = new Vue(&#123; el : '#app', template : '#tpl' &#125;);&lt;/script&gt; Vue å®ä¾‹ä¸­éœ€è¦æœ‰ä¸€ä¸ªæ ¹å…ƒç´ ï¼Œæ¨¡æ¿çš„å®šä¹‰åªèƒ½æœ‰ä¸€ä¸ªæ ¹å…ƒç´ ï¼Œå»ºè®®æ¨¡æ¿å®šä¹‰å¦‚ä¸‹ï¼š 1234567&lt;script id="tpl" type="x-template"&gt; &#123;' '&#125; &lt;div class="wrapper"&gt; &lt;div class="tpl"&gt;...&lt;/div&gt; &lt;div class="tpl"&gt; ...&lt;/div&gt; &lt;/div&gt;&lt;/script&gt; Vue å®ä¾‹é€šè¿‡ data å±æ€§å®šä¹‰æ•°æ®ï¼Œè¿™äº›æ•°æ®å¯ä»¥åœ¨å®ä¾‹å¯¹åº”çš„æ¨¡æ¿ä¸­è¿›è¡Œç»‘å®šå¹¶ä½¿ç”¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ä¼ å…¥ data æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆ Vue å®ä¾‹ä¼šä»£ç†èµ·æ‰€æœ‰ data å¯¹è±¡ä¸­çš„æ‰€æœ‰å±æ€§ï¼Œè€Œä¸ä¼šå¯¹ä¼ å…¥çš„å¯¹è±¡è¿›è¡Œæ·±æ‹·è´ã€‚ å¯ä»¥é€šè¿‡ Vue å®ä¾‹ vm ä¸­çš„ $data æ¥è·å–å£°æ˜æ•°æ®ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰åˆå§‹åŒ–ä¼ å…¥çš„å¯¹è±¡æ‰æ˜¯å“åº”å¼çš„ï¼Œåœ¨å£°æ˜å®Œå®ä¾‹åå†å¢åŠ çš„å±æ€§ï¼Œå°†ä¸ä¼šæ˜¯å“åº”å¼çš„ Vue æ¨èåœ¨åˆå§‹åŒ–çš„æ—¶å€™å°†æ‰€æœ‰çš„å˜é‡éƒ½è®¾å®šå¥½ï¼Œå¦‚æœæ²¡æœ‰å€¼ï¼Œé¢å¯ä»¥ç”¨ undefined æˆ–null å ä½ã€‚ å¦å¤–ï¼Œç»„ä»¶çš„å®ä¾‹å¯ä»¥é€šè¿‡ props è·å–æ•°æ®ï¼ŒåŒ data ï¼Œä¹Ÿéœ€è¦åœ¨åˆå§‹åŒ–æ—¶é¢„è®¾å¥½ã€‚é€šè¿‡ methods å¯¹è±¡æ¥å®šä¹‰æ–¹æ³•ï¼Œå¹¶ä½¿ç”¨ v-on æŒ‡ä»¤æ¥ç›‘å¬ DOM äº‹ä»¶ Vue å®ä¾‹ä¹Ÿæ”¯æŒè‡ªå®šä¹‰äº‹ä»¶ï¼Œå¯ä»¥åœ¨åˆå§‹åŒ–æ—¶ä¼ å…¥ event å¯¹è±¡ï¼Œé€šè¿‡å®ä¾‹çš„ $emit æ–¹æ³•è¿›è¡Œè§¦å‘ã€‚è¿™å¥—æœºåˆ¶å¸¸åœ¨ç»„ä»¶é—´ç›¸äº’é€šä¿¡çš„æƒ…å†µä¸­ï¼Œä¾‹å¦‚å­ç»„ä»¶å†’æ³¡è§¦å‘çˆ¶ç»„ä»¶äº‹ä»¶æ–¹æ³•ï¼Œæˆ–è€…çˆ¶ç»„ä»¶å¹¿æ’­æŸä¸ªäº‹ä»¶ï¼Œå­ç»„ä»¶å¯¹å…¶è¿›è¡Œç›‘å¬ç­‰ã€‚ï¼ˆâš ï¸ Vue 2.x ä¸­å·²ç»åºŸå¼ƒ events å±æ€§ï¼Œä¸å†æ”¯æŒäº‹ä»¶å¹¿æ’­ï¼Œæ¨èç›´æ¥ä½¿ç”¨ Vue å®ä¾‹çš„å…¨å±€æ–¹æ³• $on()/$emit()ï¼Œ æˆ–è€…ä½¿ç”¨æ’ä»¶ vuex æ¥å¤„ç†ï¼‰ ç”Ÿå‘½å‘¨æœŸ Vue å®ä¾‹åœ¨åˆ›å»ºæ—¶æœ‰ä¸€ç³»åˆ—åˆå§‹åŒ–æ­¥éª¤ï¼Œä¾‹å¦‚å»ºç«‹æ•°æ®è§‚å¯Ÿï¼Œç¼–è¯‘æ¨¡æ¿ï¼Œåˆ›å»ºæ•°æ®ç»‘å®šç­‰ï¼Œè¿™äº›è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥é€šè¿‡ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° beforeCreate() : åœ¨å®ä¾‹å¼€å§‹åˆå§‹åŒ–æ—¶åŒæ­¥è°ƒç”¨ï¼Œæ­¤æ—¶æ•°æ®è§‚æµ‹ã€äº‹ä»¶éƒ½å°šæœªåˆå§‹åŒ– created()ï¼šåœ¨å®ä¾‹åˆ›å»ºä¹‹åè°ƒç”¨ï¼Œæ­¤æ—¶å·²ç»å®Œæˆæ•°æ®ç»‘å®šã€äº‹ä»¶æ–¹æ³•ï¼Œä½†å°šæœªå¼€å§‹ DOM ç¼–è¯‘ï¼Œå³æœªæŒ‚åœ¨åˆ° document beforeMount(): mounted(): åœ¨ç¼–è¯‘ç»“æŸæ—¶è°ƒç”¨ï¼Œæ­¤æ—¶æŒ‡ä»¤å·²ç»ç”Ÿæ•ˆï¼Œæ•°æ®å˜åŒ–å·²ç»èƒ½è§¦å‘ DOM æ›´æ–°ï¼Œä½†ä¸ä¿è¯ $el å·²æ’å…¥æ–‡æ¡£ beforeDestroy(): åœ¨å¼€å§‹é”€æ¯å®ä¾‹æ—¶è°ƒç”¨ï¼Œæ­¤æ—¶å®ä¾‹ä»ç„¶æœ‰æ•ˆ destroyed(): åœ¨å®ä¾‹è¢«é”€æ¯ä¹‹åè°ƒç”¨ï¼Œæ­¤æ—¶æ‰€æœ‰çš„ç»‘å®šå’Œå®ä¾‹æŒ‡ä»¤éƒ½å·²ç»è§£ç»‘ï¼Œå­å®ä¾‹ä¹Ÿè¢«é”€æ¯ã€‚ beforeUpdate(): åœ¨å®ä¾‹æŒ‚è½½ä¹‹åï¼Œå†æ¬¡æ›´æ–°å®ä¾‹ï¼ˆä¾‹å¦‚æ›´æ–° dataï¼‰æ—¶ä¼šè°ƒç”¨è¯¥æ–¹æ³•ï¼Œæ­¤æ—¶å°šæœªæ›´æ–° DOM ç»“æ„ updated(): åœ¨å®ä¾‹æŒ‚è½½ä¹‹åï¼Œå†æ¬¡æ›´æ–°å®ä¾‹å¹¶åœ¨å®ä¾‹æ›´æ–°å®Œ DOM ä¹‹åè¢«è°ƒç”¨ activated():2.0 æ–°å¢çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œéœ€è¦é…åˆåŠ¨æ€ç»„ä»¶ keep-live å±æ€§ä½¿ç”¨ã€‚åœ¨åŠ¨æ€ç»„ä»¶åˆå§‹åŒ–æ¸²æŸ“çš„è¿‡ç¨‹ä¸­è°ƒç”¨è¯¥æ–¹æ³•ã€‚ deactivated() :2.0 æ–°å¢çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œéœ€è¦é…åˆåŠ¨æ€ç»„ä»¶ keep-live å±æ€§ä½¿ç”¨ã€‚åœ¨åŠ¨ æ€ç»„ä»¶ç§»å‡ºçš„è¿‡ç¨‹ä¸­è°ƒç”¨è¯¥æ–¹æ³•ã€‚ æ•°æ®ç»‘å®šï¼ŒVue çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªå“åº”å¼çš„æ•°æ®ç»‘å®šç³»ç»Ÿï¼Œç®€å†ç»‘å®šåï¼Œ DOM å°†å’Œæ•°æ®ä¿æŒåŒæ­¥ï¼Œè¿™æ ·å°±æ— éœ€æ‰‹åŠ¨ç»´æŠ¤ DOMï¼Œä½¿ä»£ç èƒ½å¤Ÿæ›´åŠ ç®€æ´æ˜“æ‡‚ã€æå‡æ•ˆç‡ã€‚ æŒ‡ä»¤ï¼Œå¯ä»¥ç†è§£ä¸ºå½“è¡¨è¾¾å¼çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¼šæœ‰äº›ç‰¹æ®Šè¡Œä¸ºä½œç”¨åˆ°ç»‘å®šçš„ DOM ä¸Šï¼ŒæŒ‡å®šé€šå¸¸ç›´æ¥ä¹¦å†™åœ¨æ¨¡æ¿çš„ HTML å…ƒç´ ä¸­ï¼Œè€Œä¸ºäº†æœ‰åˆ«äºæ™®é€šçš„å±æ€§ï¼Œ Vue æ˜¯å¸¦æœ‰å‰ç¼€çš„ v- å±æ€§ è¡¨å•æ§ä»¶ï¼ŒVue ä¸­æä¾› v-model çš„æŒ‡ä»¤å¯¹è¡¨å•å…ƒç´ è¿›è¡ŒåŒå‘ç»‘å®šï¼Œåœ¨ä¿®æ”¹è¡¨å•å…ƒç´ å€¼çš„åŒæ—¶ï¼Œå®ä¾‹ vm ä¸­å¯¹åº”æ˜¯å±æ€§å€¼ä¹Ÿä¼šåŒæ—¶æ›´æ–°ï¼Œåä¹‹äº¦ç„¶ã€‚ 12345678&lt;input type="text" v-model="message" /&gt;&lt;span&gt;Your input is : &#123;&#123; message &#125;&#125;&lt;/span&gt;&lt;label&gt;&lt;input type="radio" value="male" v-model="gender "&gt; ç”· &lt;/lable&gt;&lt;label&gt;&lt;input type="radio" value="female" v-model="gender "&gt; å¥³ &lt;/lable&gt;&lt;p&gt;&#123;&#123; gender &#125;&#125;&lt;/p&gt;// gender å€¼å³ä¸ºé€‰ä¸­çš„ radio å…ƒç´ çš„ value å€¼ã€‚ âš ï¸ å£°æ˜å‘¨æœŸæµç¨‹å›¾ä¸­åŒ…å«äº†æ¨¡æ¿çš„æ¸²æŸ“é¡ºåº Class ä¸ Style ç»‘å®šclass å±æ€§ï¼Œæˆ‘ä»¬ç»‘å®šçš„æ•°æ®å¯ä»¥æ˜¯å¯¹è±¡å’Œæ•°ç»„ï¼Œç»‘å®šä¿®æ”¹çš„æ˜¯å…ƒç´ çš„ class å±æ€§ï¼Œå†…è”æ ·å¼ç»‘å®šï¼Œstyle å±æ€§ç»‘å®šæ•°æ®çš„å†…è”æ ·å¼ã€‚ 12345&lt;div v-bind:style="alertStyle"&gt;&lt;/div&gt; data : &#123; alertStyle : &#123; color : 'red', fontSize : '20px' &#125;&#125; æ•°ç»„è¯­æ³•ï¼Œå…è®¸å°†å¤šä¸ªæ ·å¼ç»‘å®šåˆ°åŒä¸€ä¸ªå…ƒç´ ä¸Š 1&lt;div v-bind:style="[ styleObjectA, styleObjectB]" .&gt;&lt;/div&gt; è‡ªåŠ¨æ·»åŠ å‰ç¼€ï¼Œåœ¨ä½¿ç”¨ transform è¿™ç±»å±æ€§æ—¶ï¼Œv-bind:style ä¼šæ ¹æ®éœ€è¦è‡ªåŠ¨æ·»åŠ å‚å•†å‰ç¼€ æ¡ä»¶æ¸²æŸ“ï¼ŒVue.js æä¾› v-ifï¼Œv-showï¼Œv-elseï¼Œv-for è¿™å‡ ä¸ªæŒ‡ä»¤æ¥è¯´æ˜æ¨¡æ¿å’Œæ•°æ®é—´çš„é€»è¾‘å…³ç³»ï¼Œè¿™åŸºæœ¬å°±æ„æˆäº†æ¨¡æ¿å¼•æ“çš„ä¸»è¦éƒ¨åˆ†ã€‚ template æ ‡ç­¾ç”¨æ³•ï¼ŒVue.js æä¾›äº† template æ ‡ç­¾ï¼Œæˆ‘ä»¬å¯ä»¥å°†æŒ‡ä»¤ä½œç”¨åˆ°è¿™ä¸ªæ ‡ ç­¾ä¸Šï¼Œä½†æœ€åçš„æ¸²æŸ“ç»“æœé‡Œä¸ä¼šæœ‰å®ƒã€‚ äº‹ä»¶ç»‘å®šä¸ç›‘å¬é€šè¿‡ v-on å¯ä»¥ç»‘å®šå®ä¾‹é€‰é¡¹å±æ€§ methods ä¸­çš„æ–¹æ³•ä½œä¸ºäº‹ä»¶çš„å¤„ç†å™¨ï¼Œv-onï¼šåå‚æ•°æ¥å—æ‰€æœ‰çš„åŸç”Ÿäº‹ä»¶åç§°ã€‚ åŒä¸€å…ƒç´ ä¸Šä¹Ÿå¯ä»¥é€šè¿‡ v-on ç»‘å®šå¤šä¸ªç›¸åŒäº‹ä»¶å‡½æ•°ï¼Œæ‰§è¡Œé¡ºåºä¸ºé¡ºåºæ‰§è¡Œ&lt;div v-on:click=&quot;sayFrom(&#39;first&#39;)&quot; v-on:click =&quot;sayFrom(&#39;second)&quot;&gt; ä¿®é¥°ç¬¦Vue ä¸ºæŒ‡ä»¤ v-on æä¾›äº†å¤šä¸ªä¿®é¥°ç¬¦ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¤„ç†ä¸€äº› DOM äº‹ä»¶çš„ç»†èŠ‚ï¼Œå¹¶ä¸”ä¿®é¥°ç¬¦å¯ä»¥ä¸²è”ä½¿ç”¨ .stop: event.stopPropagation() .prevent: event.preventDefault() .capture: ä½¿ç”¨ capture æ¨¡å¼æ·»åŠ äº‹ä»¶ç›‘å¬å™¨ .self: åªå½“äº‹ä»¶æ˜¯ä»ç›‘å¬å…ƒç´ æœ¬èº«è§¦å‘æ—¶æ‰è§¦å‘å›è°ƒ æŒ‡ä»¤æŒ‡ä»¤æ˜¯ Vue ä¸­ä¸€ä¸ªé‡è¦çš„ç‰¹æ€§ï¼Œé‡è¦æä¾›ä¸€ç§æœºåˆ¶å°†æ•°æ®çš„å˜åŒ–æ˜ å°„ä¸º DOM è¡Œä¸ºã€‚åœ¨ Vue ä¸­é€šè¿‡æ•°æ®é©±åŠ¨ï¼Œä¸€èˆ¬æƒ…å†µä¸ä¼šç›´æ¥ä¿®æ”¹ DOMï¼Œé€šè¿‡å¤§é‡å†…ç½®çš„æŒ‡ä»¤è¿›è¡Œ DOM æ“ä½œï¼Œä¹Ÿå¯ä»¥å¼€å‘è‡ªå®šä¹‰æŒ‡ä»¤ã€‚ v-bind: ä¸»è¦ç”¨äºåŠ¨æ€ç»‘å®š DOM å…ƒç´ å±æ€§ï¼Œå³å±æ€§å®é™…çš„å€¼æ˜¯ç”± vm å®ä¾‹ä¸­ data å±æ€§æä¾›çš„ v-model: ç”¨äºè¡¨å•æ§ä»¶ v-if / v-else/ v-show: å±•ç¤ºå¯¹åº”æ¨¡æ¿å†…å®¹ v-for: æ¨¡æ¿æ¸²æŸ“ v-on: äº‹ä»¶ç»‘å®š v-text: ä½œç”¨æ˜¯æ›´æ–°å…ƒç´ çš„ textContentï¼Œé—ªç°é—®é¢˜ï¼Ÿâš ï¸ v-HTMLï¼šä½œç”¨æ˜¯æ›´æ–°å…ƒç´ çš„ innerHTML v-elï¼šä¸º DOM å…ƒç´ æ³¨å†Œä¸€ä¸ªç´¢å¼•ï¼Œä½¿å¾—å¯ä»¥ç›´æ¥è®¿é—® DOM å…ƒç´  v-refï¼š ç±»ä¼¼äº v-elï¼Œåªä¸è¿‡è¿™æ˜¯ä½œç”¨åŸŸå­ç»„ä»¶ä¸Šï¼Œå®ä¾‹å¯ä»¥é€šè¿‡ $refs è®¿é—®å­ç»„ä»¶ v-preï¼šè·³è¿‡ç¼–è¯‘è¿™ä¸ªå…ƒç´ å’Œå­å…ƒç´ ï¼Œç°å®åŸå§‹åŒèŠ±æ‹¬å· v-cloakï¼šå®˜æ–¹æ¨èå¯ä»¥å’Œ css è§„åˆ™ [v-cloak]{ display :none } ä¸€èµ·ä½¿ç”¨ï¼Œå¯ä»¥éšè—æœªç¼–è¯‘çš„ Mustache æ ‡ç­¾ç›´åˆ°å®ä¾‹å‡†å¤‡å®Œæ¯•ã€‚&lt;div v-cloak&gt;&lt;/div&gt; v-once: ç”¨äºæ ‡æ˜å…ƒç´ æˆ–ç»„ä»¶åªæ¸²æŸ“ä¸€æ¬¡ è¿‡æ»¤å™¨è¿‡æ»¤å™¨æœ¬è´¨æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—ç®¡é“ç¬¦å‰é¢çš„å€¼ä½œä¸ºåˆå§‹å€¼ï¼ŒåŒæ—¶ä¹Ÿèƒ½æ¥å—é¢å¤–çš„å‚æ•°ï¼Œè¿”å›å€¼ä¸ºç»è¿‡å¤„ç†åçš„è¾“å‡ºå€¼ã€‚å¤šä¸ªè¿‡æ»¤å™¨å¯ä»¥ä¸²è”ã€‚ 1&#123;&#123; message | filterA 'arg1' 'arg2' &#125;&#125; &#123;&#123; message | filterA | filterB&#125;&#125; åŒå‘è¿‡æ»¤å™¨ï¼Œåœ¨å†™å› data ç»‘å®šå±æ€§ä¸­çš„è¿‡æ»¤å™¨ï¼Œæˆä¸ºåŒå‘è¿‡æ»¤å™¨ã€‚ 12345678910111213&lt;input type="text" v-model="price | cents" &gt;// è¯¥è¿‡æ»¤å™¨çš„ä½œç”¨æ˜¯å¤„ç†ä»·é’±çš„è½¬åŒ–ï¼Œä¸€èˆ¬æ•°æ®åº“ä¸­ä¿å­˜çš„å•ä½éƒ½ä¸ºåˆ†ï¼Œé¿å…æµ®ç‚¹è¿ç®— Vue.filter('cents', &#123; read : function(value) &#123; return (value / 100).toFixed(2); &#125;, write : function(value) &#123; return value * 100; &#125;&#125;);var vm = new Vue(&#123; el : '#app', data: &#123; price : 150 &#125;&#125;); è¿‡æ¸¡è¿‡æ¸¡ç³»ç»Ÿæ˜¯ Vue ä¸º DOM åŠ¨ç”»æ•ˆæœæä¾›çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå®ƒèƒ½åœ¨å…ƒç´ ä» DOM ä¸­æ’å…¥æˆ–ç§»é™¤æ—¶è§¦å‘ CSS è¿‡æ¸¡ï¼ˆtransitionï¼‰å’ŒåŠ¨ç”»ï¼ˆanimationï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ DOM å…ƒç´ å‘ç”Ÿå˜åŒ–æ—¶ä¸ºå…¶æ·»åŠ ç‰¹å®šçš„ class ç±»åï¼Œä»è€Œäº§ç”Ÿè¿‡æ¸¡æ•ˆæœã€‚é™¤äº† CSS è¿‡æ¸¡å¤–ï¼ŒVue.js çš„è¿‡æ¸¡ç³»ç»Ÿä¹Ÿ æ”¯æŒ javascript çš„è¿‡æ¸¡ï¼Œé€šè¿‡æš´éœ²è¿‡æ¸¡ç³»ç»Ÿçš„é’©å­å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ DOM å˜åŒ–çš„ç‰¹å®šæ—¶æœºå¯¹ å…¶è¿›è¡Œå±æ€§çš„æ“ä½œï¼Œäº§ç”ŸåŠ¨ç”»æ•ˆæœã€‚ ç»„ä»¶ç»„ä»¶æ³¨å†Œ var MyComponent = Vue.extend({ ... });ï¼Œè¿™æ ·æˆ‘ä»¬è·å¾—äº†ä¸€ä¸ªç»„ä»¶æ„é€ å™¨ï¼Œä½†ç°åœ¨æ— æ³•ç›´æ¥ä½¿ç”¨è¿™ä¸ªç»„ä»¶ï¼Œéœ€è¦å°†ç»„ä»¶æ³¨å†Œåˆ°åº”ç”¨ä¸­ã€‚Vue æä¾›äº†ä¸¤ç§æ³¨å†Œæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯å…¨å±€æ³¨å†Œå’Œå±€éƒ¨æ³¨å†Œã€‚ å…¨å±€æ³¨å†Œï¼Œéœ€è¦åœ¨æ ¹å®ä¾‹åˆå§‹åŒ–ä¹‹å‰æ³¨å†Œï¼Œè¿™æ ·æ‰èƒ½ä½¿ç»„ä»¶åœ¨ä»»æ„å®ä¾‹ä¸­è¢«ä½¿ç”¨ã€‚ 1Vue.component('my-component', MyComponent); å¯¹äºç»„ä»¶çš„å‘½åï¼ŒW3C è§„èŒƒæ˜¯å­—æ¯å°å†™ä¸”åŒ…å«ä¸€ä¸ªçŸ­æ¨ªæ â€œ-â€ã€‚ å±€éƒ¨æ³¨å†Œï¼Œé™å®šäº†ç»„ä»¶åªèƒ½åœ¨è¢«æ³¨å†Œçš„ç»„ä»¶ä¸­ä½¿ç”¨ï¼Œè€Œæ— æ³•åœ¨å…¶ä»–ç»„ä»¶ä¸­ä½¿ç”¨ã€‚ 12345678910111213141516var Child = Vue.extend(&#123; template: '&lt;p&gt;This is a child component&lt;/p&gt;'&#125;);var Parent = Vue.extend(&#123; template: '&lt;div&gt; \ &lt;p&gt;This is a parent component&lt;/p&gt; &lt;my-child&gt;&lt;/my-child&gt; \ &lt;/div&gt;', components: &#123; 'my-child': Child &#125;&#125;);&lt;div&gt; &lt;p&gt;This is a parent component&lt;/p&gt; &lt;p&gt;This is a child component&lt;/p&gt;&lt;/div&gt;; ç»„ä»¶æ¥å—çš„é€‰é¡¹å¤§éƒ¨åˆ†ä¸ Vue å®ä¾‹ä¸€æ ·ï¼ŒåŒºåˆ« data å±æ€§ï¼Œé€šè¿‡å‡½æ•°è¿”å› ä¹Ÿå°±æ˜¯è¯´å­ç»„ä»¶çš„æ¨¡æ¿å’Œæ¨¡å—ä¸­æ˜¯ æ— æ³•ç›´æ¥è°ƒç”¨çˆ¶ç»„ä»¶çš„æ•°æ®ï¼Œæ‰€ä»¥é€šè¿‡ props å°†çˆ¶ç»„ä»¶çš„æ•°æ®ä¼ é€’ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶åœ¨æ¥å—æ•° æ®æ—¶éœ€è¦æ˜¾å¼å£°æ˜ propsï¼Œ 123456Vue.component('my-child', &#123; props : ['parent'], template: '&lt;p&gt;&#123;&#123; parent &#125;&#125; is from parent'&#125;)&lt;my-child parent="This data"&gt;&lt;/my-child&gt; //-&gt; &lt;p&gt;This data is fromparent &lt;/p&gt; ç»„ä»¶é—´é€šä¿¡Vue.js åœ¨ç»„ä»¶é—´é€šä¿¡è¿™ä¸€éƒ¨åˆ†æ—¢æä¾›äº†ç›´æ¥è®¿é—®ç»„ä»¶å®ä¾‹ çš„æ–¹æ³•ï¼Œä¹Ÿæä¾›äº†è‡ªå®šä¹‰äº‹ä»¶æœºåˆ¶ï¼Œé€šè¿‡å¹¿æ’­ã€æ´¾å‘ã€ç›‘å¬ç­‰å½¢å¼è¿›è¡Œè·¨ç»„ä»¶çš„å‡½æ•°è°ƒç”¨ã€‚ $parent: çˆ¶ç»„ä»¶å®ä¾‹ã€‚ $children: åŒ…å«æ‰€æœ‰å­ç»„ä»¶å®ä¾‹ã€‚ $root: ç»„ä»¶æ‰€åœ¨çš„æ ¹å®ä¾‹ã€‚ è‡ªå®šä¹‰äº‹ä»¶è§¦å‘æœºåˆ¶ $emit: åœ¨å®ä¾‹æœ¬èº«ä¸Šè§¦å‘ $dispatch: æ´¾å‘äº‹ä»¶ï¼Œäº‹ä»¶æ²¿ç€çˆ¶é“¾å†’æ³¡ï¼Œå¹¶ä¸”åœ¨ç¬¬ä¸€æ¬¡è§¦å‘å›è°ƒåè‡ªåŠ¨åœæ­¢ï¼Œé™¤éè§¦å‘å‡½æ•°æ˜ç¡®è¿”å› trueï¼Œæ‰ä¼šç»§ç»­å‘ä¸Šå†’æ³¡ $broadcast:å¹¿æ’­äº‹ä»¶ï¼Œäº‹ä»¶å‘ä¸‹ä¼ é€’ç»™æ‰€æœ‰åä»£ è‡ªç»„ä»¶ç´¢å¼• this.childre å­ç»„ä»¶å®šä¹‰æŒ‡å®š v-ref çˆ¶ç»„ä»¶è·å–å­ç»„ä»¶ this.$refs.first Vue.js å¸¸ç”¨æ’ä»¶Vue-routervue-routerçš„åŸºæœ¬ä½œç”¨å°±æ˜¯è®²æ¯ä¸ªè·¯å¾„æ˜ å°„åˆ°å¯¹åº”çš„ç»„ä»¶ï¼Œå¹¶é€šè¿‡ä¿®æ”¹è·¯ç”±è¿›è¡Œç»„ä»¶é—´çš„åˆ‡æ¢ã€‚ Vue-resourceæ‰€ä»¥è¿™é‡Œå°±å’Œå¤§å®¶ä»‹ç»ä¸‹ Vue.js çš„æ’ä»¶ Vue- resouceï¼Œå®ƒåŒæ ·å¯¹å¼‚æ­¥è¯·æ±‚è¿›è¡Œäº†å°è£…ï¼Œæ–¹ä¾¿æˆ‘ä»¬åŒæœåŠ¡ç«¯è¿›è¡Œæ•°æ®çš„äº¤äº’ã€‚ Vue-devtools:å®ƒå¯ä»¥åœ¨ chrome çš„å¼€å‘è€…æ¨¡å¼ä¸‹ç›´æ¥æŸ¥çœ‹å½“å‰é¡µé¢çš„ Vue å®ä¾‹çš„ç»„ä»¶ç»“æ„å’Œå†…éƒ¨å±æ€§ï¼Œæ–¹ä¾¿æˆ‘ä»¬ç›´æ¥è§‚æµ‹ã€‚ çŠ¶æ€ç®¡ç† VueXVuex æ˜¯çŠ¶æ€ç®¡ç†æ¨¡å¼çš„ä¸€ç§å®ç°åº“ï¼Œä¸»è¦ä»¥æ’ä»¶çš„å½¢å¼å’Œ Vue.js è¿›è¡Œé…åˆä½¿ç”¨ï¼Œèƒ½å¤Ÿ ä½¿æˆ‘ä»¬åœ¨ Vue.js ä¸­ç®¡ç†å¤æ‚çš„ç»„ä»¶äº‹ä»¶æµã€‚]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>æ¡†æ¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript æ•°ç»„å»é‡]]></title>
    <url>%2F2018%2F05%2F06%2Fcl4s3gteb001uwn9en6h0zjma%2F</url>
    <content type="text"><![CDATA[JavaScript æ•°ç»„å»é‡æ–¹æ³•ä¸€ åŒå¾ªç¯ï¼Œå¤–å¾ªç¯éå†æ•´ä¸ªæ•°ç»„ï¼Œå†…å±‚å¾ªç¯è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœæœ‰ç›¸åŒçš„å€¼åˆ™è·³è¿‡ï¼Œä¸åŒåˆ™ push è¿›ç»“æœæ•°ç»„ 123456789101112131415161718Array.prototype.distinct = function() &#123; var arr = this, result = [], len = arr.length for (var i = 0; i &lt; len; i++) &#123; for (var j = i + 1; j &lt; len; j++) &#123; if (arr[i] == arr[j]) &#123; j = ++i // å¦‚æœåé¢çš„å…ƒç´ ç­‰äºå½“å‰å¤–å±‚å¾ªç¯éå†çš„å…ƒç´ ï¼Œåˆ™è·³è¿‡è¯¥å…ƒç´  &#125; &#125; result.push(arr[i]) //iæœ‰ä¸¤ç§è¯·æ±‚ï¼Œä¸€ç›´æ˜¯æ­£å¸¸éå†çš„ï¼Œä¸€ç§æ˜¯ç»è¿‡è·³è·ƒçš„å€¼ &#125; return result&#125;var arra = [1, 2, 3, 4, 4, 1, 1, 2, 1, 1, 1]console.log(arra.distinct()) //è¿”å›[3,4,2,1] æ–¹æ³•äºŒåˆ©ç”¨ splice æ–¹æ³•ç›´æ¥åœ¨åŸæ•°ç»„ä¸Šå°†ç›¸åŒçš„å…ƒç´ åˆ é™¤ 1234567891011121314151617Array.prototype.distinct = function() &#123; var arr = this, len = arr.length for (var i = 0; i &lt; len; i++) &#123; for (var j = i + 1; j &lt; len; j++) &#123; if (arr[i] == arr[j]) &#123; arr.splice(j, 1) len-- j-- &#125; &#125; &#125; return arr&#125;var arra = [1, 2, 3, 4, 4, 1, 1, 2, 1, 1, 1]console.log(arra.distinct()) //è¿”å›[3,4,2,1] æ–¹æ³•ä¸‰åˆ©ç”¨å¯¹è±¡çš„å±æ€§ä¸èƒ½ç›¸åŒçš„ç‰¹ç‚¹è¿›è¡Œå»é‡ï¼Œä½†å­˜åœ¨ æ•°å€¼å‹ 1 å’Œå­—ç¬¦å‹ 1 æ˜¯åŒä¸€ä¸ªçš„é—®é¢˜ 123456789101112131415161718Array.prototype.distinct = function() &#123; var arr = this, i, obj = &#123;&#125;, result = [], len = arr.length for (i = 0; i &lt; arr.length; i++) &#123; if (!obj[arr[i]]) &#123; //å¦‚æœèƒ½æŸ¥æ‰¾åˆ°ï¼Œè¯æ˜æ•°ç»„å…ƒç´ é‡å¤äº†,åˆ™ä¸ä¼šæ”¾åˆ°ç»“æœæ•°ç»„ä¸­ obj[arr[i]] = 1 result.push(arr[i]) &#125; &#125; return result&#125;var a = [1, 2, 3, 4, 5, 6, 5, 3, 2, 4, 56, 4, 1, 2, 1, 1, 1, 1, 1]console.log(a.distinct()) //1,2,3,4,5,6,56 æ–¹æ³•å››åˆ©ç”¨ES6 Set 123let arr = [1, 2, 3, 3]let resultarr = [...new Set(arr)]console.log(resultarr) //[1,2,3] æ–¹æ³•äº”åˆ©ç”¨ indexOf å’Œ forEach æ–¹æ³• 1234567891011121314151617Array.prototype.distinct = function() &#123; var arr = this, result = [], len = arr.length arr.forEach(function(v, i, arr) &#123; //è¿™é‡Œåˆ©ç”¨mapï¼Œfilteræ–¹æ³•ä¹Ÿå¯ä»¥å®ç° var bool = arr.indexOf(v, i + 1) //ä»ä¼ å…¥å‚æ•°çš„ä¸‹ä¸€ä¸ªç´¢å¼•å€¼å¼€å§‹å¯»æ‰¾æ˜¯å¦å­˜åœ¨é‡å¤ if (bool === -1) &#123; result.push(v) &#125; &#125;) return result&#125;var a = [1, 1, 1, 1, 23, 3, 3, 2, 3, 3, 1, 23, 1, 23, 2, 3, 2, 2, 3]var b = a.distinct()console.log(b.toString()) //1,23,2,3 æ–¹æ³•å…­åˆ©ç”¨æ•°ç»„é€’å½’å»é‡ï¼Œå…ˆæ’åºï¼Œç„¶åä»æœ€åå¼€å§‹æ¯”è¾ƒï¼Œé‡åˆ°ç›¸åŒåˆ™åˆ é™¤ã€‚ 1234567891011121314151617181920212223Array.prototype.distinct = function() &#123; var arr = this, len = arr.length arr.sort(function(a, b) &#123; //å¯¹æ•°ç»„è¿›è¡Œæ’åºæ‰èƒ½æ–¹ä¾¿æ¯”è¾ƒ return a - b &#125;) function loop(index) &#123; if (index &gt;= 1) &#123; if (arr[index] === arr[index - 1]) &#123; arr.splice(index, 1) &#125; loop(index - 1) //é€’å½’loopå‡½æ•°è¿›è¡Œå»é‡ &#125; &#125; loop(len - 1) return arr&#125;var a = [1, 2, 3, 4, 5, 6, 5, 3, 2, 4, 56, 4, 1, 2, 1, 1, 56, 45, 56]var b = a.distinct()console.log(b.toString()) //1,2,3,4,5,6,45,56]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>æ’åºç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptæ’åºç®—æ³•]]></title>
    <url>%2F2018%2F05%2F06%2Fcl4s3gteu002ywn9e45zqertr%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šã€Šæ•°æ®ç»“æ„ä¸ç®—æ³• JavaScript æè¿°ã€‹visualgo æ•°æ®å¯è§†åŒ– JavaScript æ’åºç®—æ³•æ’åºç®—æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯å¯¹ä¸€ç»„æ•°æ®æŒ‰ç…§ä¸€å®šçš„é¡ºåºé‡æ–°æ’åˆ—ã€‚é‡æ–°æ’åºæ—¶ç”¨åˆ°ä¸€ç»„åµŒå¥—çš„ for å¾ªç¯ï¼Œå…¶ä¸­å¤–å¾ªç¯ä¼šéå†æ•°ç»„çš„æ¯ä¸€é¡¹ï¼Œå†…å¾ªç¯åˆ™ç”¨äºæ¯”è¾ƒå…ƒç´ ã€‚ å†’æ³¡æ’åºä¹‹æ‰€ä»¥å«å†’æ³¡æ’åºï¼Œæ˜¯å› ä¸ºæ’åºæ—¶ï¼Œæ•°æ®ä¼šåƒèµ·è·‘ä¸€æ ·ä»æ•°ç»„çš„ä¸€ç«¯æ¼‚æµ®åˆ°å¦ä¸€ç«¯ã€‚ç®—æ³•åœ¨æ•°ç»„ä¸­ç§»åŠ¨ï¼Œæ¯”è¾ƒç›¸é‚»çš„æ•°æ®ï¼Œå½“å·¦ä¾§å¤§äºå³ä¾§æ•°æ®æ—¶å°†ä»–ä»¬è¿›è¡Œäº¤æ¢ã€‚ 123456789101112131415161718192021222324252627/** * 1ã€ç¬¬ä¸€è½®æ’åºä¹‹åå°±èƒ½å°†æœ€å¤§æ•°æ”¾åˆ°æœ€åï¼Œé‚£ä¹ˆç»è¿‡ n-1 è½®ï¼Œå°±èƒ½å®Œæˆæ‰€æœ‰çš„æ’åºï¼Œæ‰€ä»¥éœ€è¦éå†çš„æ¬¡æ•°æ˜¯ n-1 * 2ã€å†…å±‚å¾ªç¯ä¸­ï¼Œmax - i è€Œä¸æ˜¯ maxï¼Ÿ å› ä¸ºæ²¡ç»è¿‡ä¸€è½®éƒ½ä¼šè®²æœ€å¤§æ•°æ”¾åˆ°åé¢ï¼Œä¸å†éœ€è¦å¯¹è¿™äº›å·²ç»æ’åºçš„å€¼è¿›è¡Œå†æ¬¡éå† * 3ã€ä¸ºä»€ä¹ˆéœ€è¦æ ‡å¿—ä½ï¼Œå½“ä¸€æ¬¡éå†ä¹‹åå‘ç°æ²¡æœ‰è¿›è¡Œä»»ä½•äº¤æ¢ï¼Œè¯´æ˜æ¬¡æ•°æ•°ç»„å·²ç»å®Œæˆæ’åºï¼Œè·³å‡ºå¾ªç¯ï¼Œè¿”å›ç»“æœå³å¯ */function bubbleSort(data) &#123; var max = data.length - 1 for (var i = 0; i &lt; max; i++) &#123; var done = true for (var j = 0; j &lt; max - i; j++) &#123; if (data[j] &gt; data[j + 1]) &#123; var temp = data[j] data[j] = data[j + 1] data[j + 1] = data[j] done = false &#125; &#125; if (done) break &#125; return data&#125;var testArr = [12, 34, 34, 5, 6, 7, 6579, 7569, 23.32, 234, 234]console.log(bubbleSort(testArr)) é€‰æ‹©æ’åºé€‰æ‹©æ’åºä»æ•°ç»„çš„å¼€å¤´å¼€å§‹ï¼Œå°†ç¬¬ä¸€ä¸ªå…ƒç´ å’Œå…¶ä»–æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œæ£€æŸ¥æ‰€æœ‰å…ƒç´ åï¼Œæœ€å°çš„å…ƒç´ ä¼šè¢«æ”¾åˆ°æ•°ç»„çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œç„¶åç®—æ³•ä¼šä»ç¬¬äºŒä¸ªä½ç½®ç»§ç»­ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸€ç›´è¿›è¡Œï¼Œå½“è¿›è¡Œåˆ°æ•°ç»„çš„å€’æ•°ç¬¬äºŒä¸ªä½ç½®æ—¶ï¼Œæ‰€æœ‰çš„æ•°æ®ä¾¿å®Œæˆäº†æ’åºã€‚ 123456789101112131415161718192021222324252627/** * å¤–å±‚å¾ªç¯éå† n-1 æ¬¡ * å†…å±‚å¾ªç¯ï¼Œæ²¡ç»è¿‡ä¸€æ¬¡ï¼Œæ‰¾å‡ºæœ€å°å€¼çš„åæ ‡ï¼Œå¾ªç¯ç»“æŸåäº¤äº’å¤–å¾ªç¯åæ ‡å’Œæœ€å°åæ ‡å…ƒç´  * å†…å±‚å¾ªç¯æ˜¯ä¾æ¬¡å‡å°‘çš„ * */var example = [8, 94, 15, 88, 55, 76, 21, 39]function selectSort(arr) &#123; var len = arr.length var minIndex, temp for (var i = 0; i &lt; len - 1; i++) &#123; var minIndex = i for (var j = i + 1; j &lt; len; j++) &#123; if (arr[j] &lt; arr[minIndex]) &#123; minIndex = j &#125; &#125; temp = arr[i] arr[i] = arr[minIndex] arr[minIndex] = temp &#125; return arr&#125;console.log(selectSort(example)) æ’å…¥æ’åºæ’å…¥æ’åºæœ‰ä¸¤ä¸ªå¾ªç¯ï¼Œå¤–å¾ªç¯å°†æ•°ç»„å…ƒç´ æŒ¨ä¸ªç§»åŠ¨ï¼Œè€Œå†…å¾ªç¯åˆ™å¯¹å¤–å¾ªç¯ä¸­é€‰ä¸­çš„å…ƒç´ åŠåé¢çš„é‚£ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœå¤–å¾ªç¯ä¸­é€‰ä¸­çš„å…ƒç´ æ¯”å†…å¾ªç¯ä¸­çš„å…ƒç´ å°ï¼Œé‚£ä¹ˆæ•°ç»„å…ƒç´ ä¼šå‘å³ç§»åŠ¨ï¼Œä¸ºå†…å¾ªç¯ä¸­çš„è¿™ä¸ªå…ƒç´ è…¾å‡ºä½ç½®ã€‚ 123456789101112131415161718192021function insertSort(arr) &#123; var len = arr.length //æ•°ç»„é•¿åº¦ä¸º1æ—¶ï¼Œä¸éœ€è¦æ’åºï¼Œç›´æ¥è¿”å› if (len &lt;= 1) return arr for (var i = 1; i &lt; len; i++) &#123; // tmp æ˜¯éœ€è¦è¢«æ’å…¥çš„å…ƒç´  var tmp = arr[i] var j = i // éå†å·²ç»æ’åºçš„å…ƒç´  while (arr[j - 1] &gt; tmp) &#123; arr[j] = arr[j - 1] --j &#125; arr[j] = tmp &#125; return arr&#125;console.log(insertSort([1, 45, 43, 4, 56, 7, 20, 1])) å¸Œå°”æ’åºå¸Œå°”æ’åºçš„å·¥ä½œåŸç†æ˜¯ï¼Œé€šè¿‡å®šä¹‰ä¸€ä¸ªé—´éš”åºåˆ—æ¥å°æ—¶æ’åºè¿‡ç¨‹ä¸­è¿›è¡Œæ¯”è¾ƒçš„å…ƒç´ ä¹‹é—´æœ‰å¤šè¿œçš„é—´éš”ã€‚æˆ‘ä»¬å¯ä»¥åŠ¨æ€å®šä¹‰é—´éš”åºåˆ—ï¼Œä¸è¿‡å¯¹äºå¤§éƒ¨åˆ†å®é™…åº”ç”¨å¸¸è§ï¼Œç®—æ³•è¦ç”¨åˆ°é—´éš”åºåˆ—å¯ä»¥æå‰å®šä¹‰å¥½ã€‚ 1234567891011121314151617181920212223function shellSort(arr) &#123; var len = arr.length, temp, gap = 1 while (gap &lt; len / 3) &#123; // åŠ¨æ€å®šä¹‰é—´éš”åºåˆ— 1 4 13 gap = gap * 3 + 1 &#125; for (gap; gap &gt; 0; gap = Math.floor(gap / 3)) &#123; for (var i = gap; i &lt; len; i++) &#123; temp = arr[i] for (var j = i - gap; j &gt; 0 &amp;&amp; arr[j] &gt; temp; j -= gap) &#123; arr[j + gap] = arr[j] &#125; arr[j + gap] = temp &#125; &#125; return arr&#125;var example = [8, 94, 15, 88, 55, 76, 21, 39]console.log(shellSort(example)) å¤–å¾ªç¯æ§åˆ¶é—´éš”åºåˆ—çš„ç§»åŠ¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç®—æ³•åœ¨ç¬¬ä¸€æ¬¡å¤„ç†æ•°æ®é›†æ—¶ï¼Œä¼šæ£€æŸ¥æ‰€æœ‰é—´éš”ä¸º 4 çš„å…ƒç´ ï¼Œä¸‹ä¸€æ¬¡æ£€æŸ¥é—´éš”ä¸º 1 çš„å…ƒç´ ã€‚åœ¨å¼€å§‹æœ€åä¸€æ¬¡å¤„ç†æ˜¯æ—¶ï¼Œå¤§éƒ¨åˆ†å…ƒç´ éƒ½å°†åœ¨æ­£ç¡®çš„ä½ç½®ï¼Œç®—æ³•å°±ä¸å¿…å¯¹å¾ˆå¤šå…ƒç´ è¿›è¡Œäº¤æ¢ï¼Œè¿™ä¹Ÿæ˜¯å¸Œå°”æ’åºé«˜æ•ˆçš„åœ°æ–¹ã€‚ å¿«é€Ÿæ’åºå¿«é€Ÿæ’åºæ˜¯å¤„ç†å¤§æ•°æ®é›†æœ€å¿«çš„æ’åºç®—æ³•ä¹‹ä¸€ã€‚å®ƒæ˜¯ä¸€ç§åˆ†è€Œæ²»ä¹‹çš„ç®—æ³•ï¼Œé€šè¿‡é€’å½’çš„æ–¹å¼å°†æ•°æ®ä¸€æ¬¡åˆ†è§£ä¸ºåŒ…å«è¾ƒå°å…ƒç´ å’Œè¾ƒå¤§å…ƒç´ çš„ä¸åŒå­åºåˆ—ã€‚è¯¥ç®—æ³•ä¸æ–­é‡å¤è¿™ä¸ªæ­¥éª¤ç›´åˆ°æ‰€æœ‰æ•°æ®éƒ½æ˜¯åºåˆ—çš„ã€‚ é¦–å…ˆè¦åœ¨åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†å€¼ (pivot)ã€‚æ•°æ®æ’åºå›´ç»•åŸºå‡†å€¼è¿›è¡Œï¼Œå°†åˆ—è¡¨ä¸­å°äºåŸºå‡†å€¼çš„å…ƒç´ ç§»åˆ°æ•°ç»„çš„åº•éƒ¨ï¼Œå°†å¤§äºåŸºå‡†å€¼çš„å…ƒç´ ç§»åˆ°æ•°ç»„çš„é¡¶éƒ¨ã€‚ å¿«é€Ÿæ’åºçš„ç®—æ³•å’Œä¼ªä»£ç ï¼š é€‰æ‹©ä¸€ä¸ªåŸºå‡†å…ƒç´ ï¼Œå°†åˆ—è¡¨åˆ†éš”æˆä¸¤ä¸ªå­åºåˆ— å¯¹åˆ—è¡¨é‡æ–°æ’åºï¼Œå°†æ‰€æœ‰å°äºåŸºå‡†å€¼çš„å…ƒç´ æ”¾åœ¨åŸºå‡†å€¼å‰é¢ï¼Œæ‰€æœ‰å¤§äºåŸºå‡†å€¼çš„å…ƒç´ æ”¾åœ¨åŸºå‡†å€¼åé¢ åˆ†åˆ«å¯¹è¾ƒå°å…ƒç´ çš„å­åºåˆ—å’Œè¾ƒå¤§å…ƒç´ çš„å­åºåˆ—é‡å¤æ­¥éª¤ 1 å’Œæ­¥éª¤ 2 12345678910111213141516171819202122function qSort(arr) &#123; if (arr.length == 0) return [] var left = [] //å°äºåŸºå‡†å­˜æ”¾æ•°ç»„ var right = [] // å¤§äºåŸºå‡†å­˜æ”¾æ•°ç»„ var pivot = arr[0] //åŸºå‡†å€¼ for (var i = 1; i &lt; arr.length; i++) &#123; if (arr[i] &lt; pivot) &#123; left.push(arr[i]) &#125; else &#123; right.push(arr[i]) &#125; &#125; return qSort(left).concat(pivot, qSort(right))&#125;var a = []for (var i = 0; i &lt; 10; ++i) &#123; a[i] = Math.floor(Math.random() * 100 + 1)&#125;console.log(a)console.log(qSort(a))]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>æ’åºç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AJAX å·¥ä½œåŸç†åŠæ¦‚è¿°]]></title>
    <url>%2F2018%2F05%2F04%2Fcl4s3gtd40004wn9e1swctwx9%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼š ä½ çœŸçš„ä¼šä½¿ç”¨ XMLHttpRequest å—ï¼Ÿ AJAX å·¥ä½œåŸç†åŠæ¦‚è¿°AJAX ä½¿ç”¨ XMLHttpRequest å¯¹è±¡ä¸æœåŠ¡å™¨é€šä¿¡ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ JSONã€XMLã€HTMLå’Œæ–‡æœ¬ç­‰å¤šç§æ ¼å¼å‘é€å’Œæ¥å—ã€‚AJAX æœ€å¸å¼•äººçš„æ˜¯å®ƒçš„å¼‚æ­¥ç‰¹æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥åœ¨ä¸é‡æ–°åˆ·æ–°é¡µé¢çš„æƒ…å†µä¸‹é›¨æœåŠ¡å™¨é€šä¿¡ï¼Œäº¤æ¢æ•°æ®ï¼Œæ›´æ–°é¡µé¢ã€‚ æœ€ä¸»è¦çš„ä¸¤ä¸ªç‰¹æ€§ï¼š åœ¨ä¸é‡æ–°åŠ è½½é¡µé¢çš„æƒ…å†µä¸‹å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨ æ¥å—å¹¶ä½¿ç”¨ä»æœåŠ¡å™¨å‘æ¥çš„æ•°æ® å·¥ä½œåŸç†Ajax çš„åŸç†ç®€å•æ¥è¯´é€šè¿‡ XmlHttpRequest å¯¹è±¡æ¥å‘æœåŠ¡å™¨å‘å¼‚æ­¥è¯·æ±‚ï¼Œä»æœåŠ¡å™¨è·å¾—æ•°æ®ï¼Œç„¶åç”¨ javascript æ¥æ“ä½œ DOM è€Œæ›´æ–°é¡µé¢ã€‚è¿™å…¶ä¸­æœ€å…³é”®çš„ä¸€æ­¥å°±æ˜¯ä»æœåŠ¡å™¨è·å¾—è¯·æ±‚æ•°æ®ã€‚ å‘é€ HTTP è¯·æ±‚åˆ›å»º XMLHttpRequest å¯¹è±¡ï¼Œéœ€è¦æ³¨æ„å…¼å®¹æ€§é—®é¢˜ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950function sendAjax() &#123; // æ„é€ è¡¨å•æ•°æ® var formData = new FormData() formData.append('username', 'johndoe') formData.append('id', 123456) // åˆ›å»º xhr å¯¹è±¡ var xhr = new XMLHttpRequest() xhr.timeout = 3000 xhr.responseType = 'text' //åˆ›å»ºä¸€ä¸ª post è¯·æ±‚ï¼Œ ç¬¬ä¸‰ä¸ªå¸ƒå°”å€¼å‚æ•°æ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥, é»˜è®¤æ˜¯å¼‚æ­¥ xhr.open('POST', '/server', true) xhr.onload = function(e) &#123; if (this.status == 200 || this.status == 304) &#123; alert(this.responseText) &#125; &#125; xhr.ontimeout = function(e) &#123;&#125; xhr.onerror = function(e) &#123;&#125; xhr.upload.onprogress = function(e) &#123;&#125; xhr.send(formData)&#125;/** * è®¾ç½®è¯·æ±‚å¤´ xhr.setRequestHeader('X-Text', 'one') * è·å–å“åº”å¤´*/```## æŒ‡å®šå“åº”ç±»å‹`responseType` æ˜¯ `xhr level 2` æ–°å¢çš„å±æ€§ï¼Œç”¨æ¥æŒ‡å®š `xhr.response` çš„æ•°æ®ç±»å‹![][2]``` javascriptvar xhr = new XMLHttpRequest();xhr.open('GET', '/path/to/image.png', true);//å¯ä»¥å°†`xhr.responseType`è®¾ç½®ä¸º`"blob"`ä¹Ÿå¯ä»¥è®¾ç½®ä¸º`" arrayBuffer"`//xhr.responseType = 'arrayBuffer';xhr.responseType = 'blob';xhr.onload = function(e) &#123; if (this.status == 200) &#123; var blob = this.response; ... &#125;&#125;;xhr.send(); å¦‚ä½•è·å– response æ•°æ®xhr æä¾›äº† 3 ä¸ªå±æ€§æ¥è·å–è¯·æ±‚è¿”å›çš„æ•°æ®ï¼Œåˆ†åˆ«æ˜¯ï¼šxhr.responseã€xhr.responseTextã€xhr.responseXML xhr.response - é»˜è®¤å€¼ï¼šç©ºå­—ç¬¦ä¸²&quot;&quot; - å½“è¯·æ±‚å®Œæˆæ—¶ï¼Œæ­¤å±æ€§æ‰æœ‰æ­£ç¡®çš„å€¼ - è¯·æ±‚æœªå®Œæˆæ—¶ï¼Œæ­¤å±æ€§çš„å€¼å¯èƒ½æ˜¯&quot;&quot;æˆ–è€… nullï¼Œå…·ä½“ä¸ xhr.responseTypeæœ‰å…³ï¼šå½“responseTypeä¸º&quot;&quot;æˆ–&quot;text&quot;æ—¶ï¼Œå€¼ä¸º&quot;&quot;ï¼›responseTypeä¸ºå…¶ä»–å€¼æ—¶ï¼Œå€¼ä¸º null xhr.responseText - é»˜è®¤å€¼ä¸ºç©ºå­—ç¬¦ä¸²&quot;&quot; - åªæœ‰å½“ responseType ä¸º&quot;text&quot;ã€â€â€æ—¶ï¼Œxhr å¯¹è±¡ä¸Šæ‰æœ‰æ­¤å±æ€§ï¼Œæ­¤æ—¶æ‰èƒ½è°ƒç”¨xhr.responseTextï¼Œå¦åˆ™æŠ›é”™ - åªæœ‰å½“è¯·æ±‚æˆåŠŸæ—¶ï¼Œæ‰èƒ½æ‹¿åˆ°æ­£ç¡®å€¼ã€‚ä»¥ä¸‹ 2 ç§æƒ…å†µä¸‹å€¼éƒ½ä¸ºç©ºå­—ç¬¦ä¸²&quot;&quot;ï¼šè¯·æ±‚æœªå®Œæˆã€è¯·æ±‚å¤±è´¥ xhr.responseXML - é»˜è®¤å€¼ä¸º null - åªæœ‰å½“ responseType ä¸º&quot;text&quot;ã€&quot;&quot;ã€&quot;document&quot;æ—¶ï¼Œxhr å¯¹è±¡ä¸Šæ‰æœ‰æ­¤å±æ€§ï¼Œæ­¤æ—¶æ‰èƒ½è°ƒç”¨ xhr.responseXMLï¼Œå¦åˆ™æŠ›é”™ - åªæœ‰å½“è¯·æ±‚æˆåŠŸä¸”è¿”å›æ•°æ®è¢«æ­£ç¡®è§£ææ—¶ï¼Œæ‰èƒ½æ‹¿åˆ°æ­£ç¡®å€¼ã€‚ä»¥ä¸‹ 3 ç§æƒ…å†µä¸‹å€¼éƒ½ä¸º nullï¼šè¯·æ±‚æœªå®Œæˆã€è¯·æ±‚å¤±è´¥ã€è¯·æ±‚æˆåŠŸä½†è¿”å›æ•°æ®æ— æ³•è¢«æ­£ç¡®è§£ææ—¶ å¦‚ä½•è¿½è¸ª ajax è¯·æ±‚çš„å½“å‰çŠ¶æ€ç”¨ xhr.readyState è¿™ä¸ªå±æ€§å³å¯è¿½è¸ªåˆ°ã€‚è¿™ä¸ªå±æ€§æ˜¯åªè¯»å±æ€§ï¼Œæ€»å…±æœ‰ 5 ç§å¯èƒ½å€¼ï¼Œåˆ†åˆ«å¯¹åº” xhr ä¸åŒçš„ä¸åŒé˜¶æ®µã€‚æ¯æ¬¡ xhr.readyState çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéƒ½ä¼šè§¦å‘ xhr.onreadystatechange äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªäº‹ä»¶ä¸­è¿›è¡Œç›¸å…³çŠ¶æ€åˆ¤æ–­ã€‚ 123456789101112131415xhr.onreadystatechange = function () &#123; switch(xhr.readyState)&#123; case 1://OPENED //do something break; case 2://HEADERS_RECEIVED //do something break; case 3://LOADING //do something break; case 4://DONE //do something break; &#125; å¯ä»¥å‘é€ä»€ä¹ˆç±»å‹çš„æ•°æ®xhr.send(data)çš„å‚æ•° data å¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§ç±»å‹ï¼š ArrayBuffer Blob Document DOMString FormData null äº‹ä»¶è§¦å‘é¡ºåº]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>ajax</tag>
        <tag>JavaScript</tag>
        <tag>XMLHttpRequest</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ­£åˆ™è¡¨è¾¾å¼ç»ƒä¹ é¢˜]]></title>
    <url>%2F2018%2F05%2F01%2Fcl4s3gtip00a9wn9e3d7px5qh%2F</url>
    <content type="text"><![CDATA[èµ„æºï¼šHackerRank æ­£åˆ™ç»ƒä¹ Regexper æ­£åˆ™å¯è§†åŒ–é¢è¯•ä¸­ä¼šé‡åˆ°çš„æ­£åˆ™é¢˜ æ­£åˆ™è¡¨è¾¾å¼ç»ƒä¹ é¢˜åŒ¹é…è¿ç»­å‡ºç°çš„å››ç»„ä»¥ . è¿æ¥çš„å­—ç¬¦ä¸²é¢˜ç›®ï¼šabc.dss.sds.wer ç­”æ¡ˆï¼š/^(.{3}\.){3}.{3}$/g æˆ–è€… ^(...\.){3}...$ ^ ä»¥ä»€ä¹ˆä½œä¸ºå¼€å¤´ $ ä»¥ä»€ä¹ˆä½œä¸ºç»“å°¾ . è¡¨ç¤ºåŒ¹é…ä»»æ„å­—ç¬¦ \. è½¬ä¹‰è¡¨ç¤ºåŒ¹é… . å­—ç¬¦æœ¬èº« åŒ¹é…æ•°å­—è€Œéæ•°å­—é¢˜ç›®ï¼šxxXxxXxxxx ç­”æ¡ˆï¼š/(\d{2}\D){2}\d{4}/ \d è¡¨ç¤ºåŒ¹é…ä¸€ä¸ªæ•°å­— \D è¡¨ç¤ºåŒ¹é…éæ•°å­—å­—ç¬¦ () è¡¨ç¤ºä¸€ä¸ªåˆ†ç»„ {2} è¡¨ç¤ºé‡å¤åŒ¹é…ä¸¤æ¬¡ åŒ¹é…ç©ºç™½ç¬¦é¢˜ç›®ï¼š SSsSSsSS ç­”æ¡ˆï¼š(\S{2}\s){2}\S{2} \S è¡¨ç¤ºéç©ºç™½ç¬¦ï¼ˆ\r\n\t\fï¼‰éƒ½æ˜¯ç©ºç™½ç¬¦ \s è¡¨ç¤ºç©ºç™½ç¬¦ åŒ¹é…å•è¯å­—ç¬¦å•è¯å­—ç¬¦åŒ…æ‹¬ä» a-z A-Z 0-9 å’Œ _ \w åŒ¹é…å•è¯å­—ç¬¦ \W åŒ¹é…éå•è¯å­—ç¬¦ è¾¹ç•ŒåŒ¹é…ï¼Œä»¥ä»€ä¹ˆå¼€å§‹ï¼Œä»¥ä»€ä¹ˆç»“æŸ^\d\w{4}\.$ åŒ¹é…ä»¥æ•°å­—å¼€å¤´çš„ä¸€ä¸ªå­—ç¬¦ï¼Œè¿ç»­å››ä¸ªå•è¯å­—ç¬¦ï¼Œä»¥ . ç»“æŸçš„å­—ç¬¦ä¸² è½¬æ¢ä¸ºé©¼å³°å‘½åvar s1 = &quot;get-element-by-id&quot;; ç»™å®šè¿™æ ·ä¸€ä¸ªè¿å­—ç¬¦ä¸²ï¼Œå†™ä¸€ä¸ªfunction è½¬æ¢ä¸ºé©¼å³°å‘½åæ³•å½¢å¼çš„å­—ç¬¦ä¸² getElementById 12345678var s1 = 'get-element-by-id' // getElementByIdvar f = function(s) &#123; return s.replace(/-\w+/g, function(x) &#123; console.log(x) return x.slice(1).toUpperCase() &#125;)&#125; åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æ•°å­—12345var s1 = 'arhs 23jyfhahr 234 ag'var f = function(s = '') &#123; return /\d/g.test(s)&#125; åˆ¤æ–­ç”µè¯å·ç 12345var s1 = '13898762123'var f = function(s = '') &#123; return /^1[34578]\d&#123;9&#125;$/g.test(s)&#125; åˆ¤æ–­æ˜¯å¦ç¬¦åˆæŒ‡å®šæ ¼å¼ç»™å®šå­—ç¬¦ä¸² strï¼Œæ£€æŸ¥å…¶æ˜¯å¦ç¬¦åˆå¦‚ä¸‹æ ¼å¼XXX-XXX-XXXXï¼Œå…¶ä¸­ X ä¸º Number ç±»å‹ 12345var s1 = '234-234-2342'var f = function(s = '') &#123; return /^(\d&#123;3&#125;-)&#123;2&#125;\d&#123;4&#125;$/g.test(s)&#125; åˆ¤æ–­æ˜¯å¦ç¬¦åˆ USD æ ¼å¼ç»™å®šå­—ç¬¦ä¸² strï¼Œæ£€æŸ¥å…¶æ˜¯å¦ç¬¦åˆç¾å…ƒä¹¦å†™æ ¼å¼ ä»¥ $ å¼€å§‹ æ•´æ•°éƒ¨åˆ†ï¼Œä»ä¸ªä½èµ·ï¼Œæ»¡ 3 ä¸ªæ•°å­—ç”¨ , åˆ†éš” å¦‚æœä¸ºå°æ•°ï¼Œåˆ™å°æ•°éƒ¨åˆ†é•¿åº¦ä¸º 2 æ­£ç¡®çš„æ ¼å¼å¦‚ï¼š$1,023,032.03 æˆ–è€… $2.03ï¼Œé”™è¯¯çš„æ ¼å¼å¦‚ï¼š$3,432,12.12 æˆ–è€… $34,344.3** 12345var s1 = '$1,023,032.03'var f = function(s = '') &#123; return /^\$\d&#123;1,3&#125;(,\d&#123;3&#125;)*(\.\d&#123;2&#125;)?$/g.test(s)&#125; JS å®ç°åƒä½åˆ†éš”ç¬¦1234function format(number) &#123; var regx = /\d&#123;1,3&#125;(?=(\d&#123;3&#125;)+$)/g return (number + '').replace(regx, '$&amp;,') // $&amp;è¡¨ç¤ºä¸regxç›¸åŒ¹é…çš„å­—ç¬¦ä¸²&#125; è·å– url ä¸­çš„å‚æ•° replace() æ–¹æ³•è¿”å›ä¸€ä¸ªç”±æ›¿æ¢å€¼æ›¿æ¢ä¸€äº›æˆ–æ‰€æœ‰åŒ¹é…çš„æ¨¡å¼åçš„æ–°å­—ç¬¦ä¸²ã€‚æ¨¡å¼å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼,æ›¿æ¢å€¼å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ªæ¯æ¬¡åŒ¹é…éƒ½è¦è°ƒç”¨çš„å‡½æ•°ã€‚âš ï¸ è¿”å›æ–°çš„å­—ç¬¦ä¸²ï¼Œè€ŒåŸæ¥çš„å­—ç¬¦ä¸²ä¸ä¼šè¢«æ”¹å˜ã€‚å¦‚æœç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆå‡½æ•°çš„è¿”å›å€¼å°†ä¼šæ›¿æ¢å­—ç¬¦ä¸²ä¸­åŒ¹é…åˆ°çš„å…ƒç´ ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸ªæ­£åˆ™ï¼Œä¸”æ˜¯å…¨å±€åŒ¹é…æ¨¡å¼ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°å°†ä¼šè¢«å¤šæ¬¡è°ƒç”¨ï¼Œæ¯æ¬¡åŒ¹é…åˆ°å…ƒç´ éƒ½ä¼šè¢«æ‰§è¡Œã€‚ replace() å‚æ•°ï¼š 123456function replacer(match, p1, p2, p3, offset, string) &#123; // p1 is nondigits, p2 digits, and p3 non-alphanumerics return [p1, p2, p3].join(' - ')&#125;var newString = 'abc12345#$*%'.replace(/([^\d]*)(\d*)([^\w]*)/, replacer)console.log(newString) // abc - 12345 - #$*% 1234567891011121314151617181920212223242526272829303132333435363738function getUrlParam(url, key) &#123; // è§£æçš„ç»“æœä»¥å¯¹è±¡è¡Œä½¿å­˜æ”¾ var arr = &#123;&#125; /** * å­—ç¬¦ä¸²æŸ¥æ‰¾æ›¿æ¢æ–¹æ³•ï¼Œå¯ä»¥ä¼ å…¥å­—ç¬¦ä¸²æˆ–è€…æ­£åˆ™ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•° * * @param &#123;regexp&#125; ä»¥ç­‰å·è¿æ¥çš„ï¼Œå‰é¢å¯ä»¥æœ‰?å¼€å§‹ï¼Œåé¢å¯ä»¥æœ‰&amp; ç»“æŸçš„ * @param &#123;any&#125; matchKey ç¬¬ä¸€ä¸ªåœ†æ‹¬å·åŒ¹é…åˆ°çš„å€¼ï¼Œä¹Ÿå°±æ˜¯å‚æ•°ç­‰å·å·¦è¾¹çš„key * @param &#123;any&#125; matchValue ç¬¬è€Œä¸ªåœ†æ‹¬å·åŒ¹é…åˆ°çš„å€¼ï¼Œä¹Ÿå°±æ˜¯å‚æ•°ç­‰å·å³è¾¹çš„value * @returns è¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸²ï¼ŒåŸæœ‰çš„å­—ç¬¦ä¸²ä¸ä¼šè¢«æ”¹å˜ * */ url.replace(/\??(\w+)=(\w+)&amp;?/g, function(match, matchKey, matchValue) &#123; if (!arr[matchKey]) &#123; arr[matchKey] = matchValue &#125; else &#123; // å¦‚æœå‚æ•°å­˜åœ¨é‡å¤ï¼Œåˆ™è¿æ¥ä¸¤ä¸ªå‚æ•°çš„å€¼ï¼Œå­˜æ”¾åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ var temp = arr[matchKey] arr[matchKey] = [].concat(temp, matchValue) &#125; &#125;) // åˆ¤æ–­ç¬¬äºŒä¸ªå‚æ•°keyï¼Œç»å¯¹è¿”å›å†…å®¹ if (!key) &#123; return arr &#125; else &#123; for (ele in arr) &#123; if ((ele = key)) &#123; return arr[ele] &#125; &#125; return '' &#125;&#125;var result = getUrlParam('www.baidu.com?name=234234&amp;age=age&amp;name=tt')console.log(result) éªŒè¯é‚®ç®±123456789101112// 'luoyecong@aliyun.com'// ? æœ€å¤šä¸€ä¸ª// + æœ€å°‘ä¸€ä¸ª// * é›¶ä¸ªæˆ–å¤šä¸ª// ä¸€ä¸ªåˆæ³•çš„é‚®ç®±åœ°å€æœ‰ä¸‰éƒ¨åˆ†ç»„æˆï¼Œä»¥ @ . ç¬¦å·è¿æ¥ï¼Œæ¯ä¸ªéƒ¨åˆ†éœ€è¦ç¬¦åˆ a-zA-z0-9_- å­—ç¬¦ç»„æˆfunction isEmail(email = '') &#123; return /^([a-zA-Z\d_-])+@([a-zA-Z\d_-])+\.([a-zA-Z\d_-])+$/.test(email)&#125;console.log(isEmail('luo2\3yec_-ong@ali23yun.com')) éªŒè¯åˆæ³•èº«ä»½è¯å·123// èº«ä»½è¯å·ç å¯èƒ½ä¸º15ä½æˆ–18ä½ï¼Œ15ä½ä¸ºå…¨æ•°å­—ï¼Œ18ä½ä¸­å‰17ä½ä¸ºæ•°å­—ï¼Œæœ€åä¸€ä½ä¸ºæ•°å­—æˆ–è€…X;/(^\d&#123;15&#125;$)|(^\d&#123;18&#125;$)|(^\d&#123;17&#125;(\d|X|x)$)/ åŒ¹é…æ±‰å­—1var regx = /^[\u4e00-\u9fa5]&#123;0,&#125;$/ âš ï¸ è¿™ç§åŒ¹é…æ±‰å­—çš„æ–¹æ³•å¹¶ä¸ä¸¥è°¨ï¼Œæ­£ç¡®çš„æ–¹æ³•æ˜¯é€šè¿‡æ­£åˆ™çš„åº•å±‚æä¾›çš„æ ¡éªŒï¼Œä½†æ˜¯éœ€è¦ babel çš„ååŠ©ï¼Œè¿˜æœ‰æ±‰å­—å¹¶ä¸åŒ…æ‹¬æ ‡ç‚¹ï¼Œå…·ä½“è¯·å‚çœ‹JavaScript æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ±‰å­— å»é™¤é¦–å°¾çš„â€™/â€˜123// ä»¥ä¸€ä¸ªæˆ–è€…å¤šä¸ª / å¼€å§‹æˆ–è€…ä»¥ä¸€ä¸ªæˆ–è€…å¤šä¸ª / ç»“æŸçš„var str = '/asdf//'str = str.replace(/^\/+|\/+$/g, '') åˆ¤æ–­æ—¥æœŸæ ¼å¼æ˜¯å¦ç¬¦åˆ â€˜2017-05-11â€™çš„å½¢å¼ï¼Œç®€å•åˆ¤æ–­ï¼Œåªåˆ¤æ–­æ ¼å¼1var regx = /^\d&#123;4&#125;\-\d&#123;1,2&#125;\-\d&#123;1,2&#125;$/ åˆ¤æ–­æ—¥æœŸæ ¼å¼æ˜¯å¦ç¬¦åˆ â€˜2017-05-11â€™çš„å½¢å¼ï¼Œä¸¥æ ¼åˆ¤æ–­ï¼ˆæ¯”è¾ƒå¤æ‚ï¼‰1var regx = /^(?:(?!0000)[0-9]&#123;4&#125;-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]&#123;2&#125;(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/ IPv4 åœ°å€æ­£åˆ™1var regx = /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.)&#123;3&#125;(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/ åå…­è¿›åˆ¶é¢œè‰²æ­£åˆ™1var regx = /^#?([a-fA-F0-9]&#123;6&#125;|[a-fA-F0-9]&#123;3&#125;)$/ è½¦ç‰Œå·æ­£åˆ™1var regx = /^[äº¬æ´¥æ²ªæ¸å†€è±«äº‘è¾½é»‘æ¹˜çš–é²æ–°è‹æµ™èµ£é„‚æ¡‚ç”˜æ™‹è’™é™•å‰é—½è´µç²¤é’è—å·å®ç¼ä½¿é¢†A-Z]&#123;1&#125;[A-Z]&#123;1&#125;[A-Z0-9]&#123;4&#125;[A-Z0-9æŒ‚å­¦è­¦æ¸¯æ¾³]&#123;1&#125;$/ è¿‡æ»¤ HTML æ ‡ç­¾1234// åŒ¹é…ä¸€å¯¹&lt;&gt; å†…ä¸åŒ…æ‹¬ &lt;&gt; çš„var str = '&lt;p&gt;dasdsa&lt;/p&gt;nice &lt;br&gt; test&lt;/br&gt;'var regx = /&lt;[^&lt;&gt;]+&gt;/gstr = str.replace(regx, '') å¯†ç å¼ºåº¦æ­£åˆ™ï¼Œæœ€å°‘ 6 ä½ï¼ŒåŒ…æ‹¬è‡³å°‘ 1 ä¸ªå¤§å†™å­—æ¯ï¼Œ1 ä¸ªå°å†™å­—æ¯ï¼Œ1 ä¸ªæ•°å­—ï¼Œ1 ä¸ªç‰¹æ®Šå­—ç¬¦12// è¿ç»­ä½¿ç”¨å‰ç»ï¼ŒåŒ¹é…å¤šä¸ªç¬¦åˆè¦æ±‚çš„åˆ†ç»„ï¼Œåœ¨æ¯ä¸ªåˆ†ç»„ä¸­ï¼Œä»»æ„å­—ç¬¦ã€å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦var regx = /^.*(?=.&#123;6,&#125;)(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&amp;*? ]).*$/ URL æ­£åˆ™1var regx = /^((https?|ftp|file):\/\/)?([\da-z\.-]+)\.([a-z\.]&#123;2,6&#125;)([\/\w \.-]*)*\/?$/ åŒ¹é…æ ‡ç­¾å†…æ•°æ®ï¼ŒåŒ…æ‹¬æ ‡ç­¾12345// &lt;OPTION value="å¾…å¤„ç†"&gt;å¾…å¤„ç†&lt;/OPTION&gt;// å†™ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼,åŒ¹é… "&lt;OPTION value="å¾…å¤„ç†"&gt;"var str = '&lt;OPTION value="å¾…å¤„ç†"&gt;å¾…å¤„ç†&lt;/OPTION&gt;'var regx = /^&lt;.*?&gt;/var resiult = regx.exec(str)[0]]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>æ­£åˆ™</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript ç±»çš„ç»§æ‰¿]]></title>
    <url>%2F2018%2F04%2F17%2Fcl4s3gtej002awn9e38w5gkvj%2F</url>
    <content type="text"><![CDATA[ã€ŠJavaScript è®¾è®¡æ¨¡å¼ã€‹æ€»ç»“ JavaScript ç±»çš„ç»§æ‰¿ å¤§ä½“ä¸Šï¼Œæ¯ä¸ªç±»ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯æ„é€ å‡½æ•°å†…çš„ï¼Œè¿™æ˜¯ä¾›å®ä¾‹åŒ–å¯¹è±¡å¤åˆ¶ç”¨çš„ï¼›ç¬¬äºŒéƒ¨åˆ†æ˜¯æ„é€ å‡½æ•°å¤–çš„ï¼Œç›´æ¥é€šè¿‡ç‚¹è¯­æ³•æ·»åŠ çš„ï¼Œè¿™æ˜¯ä¾›ç±»ä½¿ç”¨çš„ï¼Œå®ä¾‹åŒ–å¯¹è±¡æ˜¯è®¿é—®ä¸åˆ°çš„ï¼›ç¬¬ä¸‰éƒ¨åˆ†æ˜¯ç±»çš„åŸå‹ä¸­çš„ï¼Œå®ä¾‹åŒ–å¯¹è±¡å¯ä»¥é€šè¿‡å…¶åŸå‹é“¾é—´æ¥åœ°è®¿é—®åˆ°ï¼Œä¹Ÿæ˜¯ä¸ºä¾›æ‰€æœ‰å®ä¾‹åŒ–å¯¹è±¡æ‰€ä½¿ç”¨çš„ã€‚ ç±»å¼ç»§æ‰¿123456789101112131415161718192021222324// ç±»å¼ç»§æ‰¿// å£°æ˜çˆ¶ç±»function SuperClass() &#123; this.superValue = true&#125;// ä¸ºçˆ¶ç±»æ·»åŠ å…±æœ‰æ–¹æ³•SuperClass.prototype.getSuperVlaue = function() &#123; return this.superValue&#125;// å£°æ˜å­ç±»function SubClass() &#123; this.subValue = false&#125;// ç»§æ‰¿çˆ¶ç±»SubClass.prototype = new SuperClass()//ä¸ºå­ç±»æ·»åŠ å…±æœ‰æ–¹æ³•SubClass.prototype.getSubValue = function() &#123; return this.subValue&#125; æ–°åˆ›å»ºçš„å¯¹è±¡å¤åˆ¶äº†çˆ¶ç±»çš„æ„é€ å‡½æ•°å†…çš„å±æ€§ä¸æ–¹æ³•å¹¶ä¸”å°†åŸå‹ __proto__ æŒ‡å‘äº†çˆ¶ç±»çš„åŸå‹å¯¹è±¡ï¼Œè¿™æ ·å°±æ‹¥æœ‰äº†çˆ¶ç±»çš„åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶ä¸”è¿™ä¸ªæ–°åˆ›å»ºçš„å¯¹è±¡å¯ç›´æ¥è®¿é—®åˆ°çˆ¶ç±»åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§ä¸æ–¹æ³•ã€‚ å¼Šç«¯ çˆ¶ç±»çš„å…±æœ‰å±æ€§è¦æ˜¯å¼•ç”¨ç±»å‹ï¼Œå°±ä¼šåœ¨å­ç±»ä¸­è¢«æ‰€æœ‰å®ä¾‹å…±æœ‰ï¼Œå› æ­¤ä¸€ä¸ªå­ç±»çš„å®ä¾‹æ›´æ”¹å­ç±»å‹ä»çˆ¶ç±»æ„é€ å‡½æ•°ä¸­ç»§æ‰¿æ¥çš„å…±æœ‰å±æ€§å°±ä¼šç›´æ¥å½±å“åˆ°å…¶ä»–å­ç±» å­ç±»çš„å®ç°çš„ç»§æ‰¿æ˜¯é å…¶åŸå‹ prototype å¯¹çˆ¶ç±»çš„å®ä¾‹åŒ–å®ç°çš„ï¼Œå› æ­¤åœ¨åˆ›å»ºçˆ¶ç±»çš„æ—¶å€™ï¼Œæ˜¯æ— æ³•å‘çˆ¶ç±»ä¼ é€’å‚æ•°çš„ï¼Œå› æ­¤åœ¨å®ä¾‹åŒ–çˆ¶ç±»çš„æ—¶å€™ä¹Ÿæ— æ³•å¯¹çˆ¶ç±»æ„é€ å‡½æ•°å†…çš„å±æ€§è¿›è¡Œåˆå§‹åŒ– æ„é€ å‡½æ•°å¼ç»§æ‰¿ï¼ˆåˆ›å»ºå³ç»§æ‰¿ï¼‰1234567891011121314151617181920212223// å£°æ˜çˆ¶ç±»function SuperClass(id) &#123; // å¼•ç”¨ç±»å‹å…±æœ‰å±æ€§ this.books = ["JavaScript", "html", "css"] // å€¼ç±»å‹å…±æœ‰å±æ€§ this.id = id&#125;// çˆ¶ç±»å£°æ˜åŸå‹æ–¹æ³•SuperClass.prototype.showBooks = function() &#123; console.log(this.books)&#125;function SubClass(id) &#123; //ç»§æ‰¿çˆ¶ç±» SuperClass.call(this, id)&#125;// åˆ›å»ºç¬¬ä¸€ä¸ªå­ç±»çš„å®ä¾‹var instance1 = newSubClass(10)// åˆ›å»ºç¬¬äºŒä¸ªå­ç±»çš„å®ä¾‹var instance2 = newSubClass(10) åˆ†æSuperClass.call(this, id) è¿™æ˜¯æ„é€ å‡½æ•°å¼ç»§æ‰¿çš„ç²¾åï¼Œç”±äº call è¿™ä¸ªæ–¹æ³•å¯ä»¥æ”¹å˜å‡½æ•°çš„ä½œç”¨åŸŸï¼Œå› æ­¤åœ¨å­ç±»ä¸­ï¼Œå¯¹ SuperClass è°ƒç”¨è¿™ä¸ªæ–¹æ³•å°±æ˜¯å°†å­ç±»çš„å˜é‡åœ¨çˆ¶ç±»ä¸­æ‰§è¡Œä¸€éï¼Œç”±äºçˆ¶ç±»æ˜¯ç»™ this ç»‘å®šå±æ€§çš„ï¼Œé‚£ä¹ˆå­ç±»è‡ªç„¶ä¹Ÿå°±ç»§æ‰¿äº†çˆ¶ç±»çš„å…±æœ‰å±æ€§ã€‚ å¼Šç«¯è¿™ç§ç»§æ‰¿æ–¹å¼æ²¡æœ‰æ¶‰åŠåŸå‹ prototypeï¼Œ æ‰€ä»¥çˆ¶ç±»çš„åŸå‹æ–¹æ³•è‡ªç„¶ä¸ä¼šè¢«å­ç±»ç»§æ‰¿ï¼Œè€Œå¦‚æœæƒ³è¦è¢«å­ç±»ç»§æ‰¿å°±å¿…é¡»æ”¾åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œè¿™æ ·çš„åˆ›å»ºæ–¹å¼çš„æ¯ä¸ªå®ä¾‹éƒ½ä¼šå•ç‹¬çš„æ‹¥æœ‰ä¸€ä»½è€Œä¸èƒ½å…±ç”¨ï¼Œä¹Ÿå°±è¿èƒŒäº†ä»£ç å¤ç”¨çš„åŸåˆ™ã€‚ ç»„åˆç»§æ‰¿æ¥ä¸Šæ–‡ï¼Œç±»å¼ç»§æ‰¿æ˜¯é€šè¿‡å­ç±»åŸå‹çš„ prototype å¯¹çˆ¶ç±»å®ä¾‹åŒ–æ¥å®ç°çš„ï¼Œæ„é€ ç»§æ‰¿æ˜¯é€šè¿‡åœ¨å­ç±»çš„æ„é€ å‡½æ•°ä½œç”¨ç¯å¢ƒä¸­æ‰§è¡Œäº†ä¸€æ¬¡çˆ¶ç±»çš„æ„é€ å‡½æ•°æ¥å®ç°çš„ï¼Œç»„åˆç»§æ‰¿æ•´åˆè¿™ä¸¤ç‚¹ã€‚ 1234567891011121314151617181920function SuperClass(name) &#123; this.name = name //å¼•ç”¨ç±»å‹çš„å…±æœ‰å±æ€§ this.books = ["JavaScript", "html", "css"]&#125;// çˆ¶ç±»åŸå‹å…±æœ‰æ–¹æ³•SuperClass.prototype.getName = function() &#123; console.log(this.name)&#125;// å£°æ˜å­ç±»function SubClass(name, time) &#123; SuperClass.call(this, name) this.time = time&#125;// ç±»å¼ç»§æ‰¿ å­ç±»åŸå‹ç»§æ‰¿çˆ¶ç±»SubClass.prototype = new SuperClass()// å­ç±»åŸå‹æ–¹æ³•SubClass.prototype.getTime = function() &#123; console.log(this.name)&#125; æµ‹è¯•ä»£ç  å¼Šç«¯åœ¨ä½¿ç”¨æ„é€ å‡½æ•°ç»§æ‰¿æ˜¯æ‰§è¡Œäº†ä¸€éçˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œè€Œåœ¨å®ç°å­ç±»åŸå‹çš„ç±»å¼ç»§æ‰¿åˆè°ƒç”¨äº†ä¸€éçˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå› æ­¤çˆ¶ç±»çš„æ„é€ å‡½æ•°è°ƒç”¨äº†ä¸¤éã€‚é€ æˆä¸å¿…è¦çš„èµ„æºæµªè´¹ã€‚ åŸå‹å¼ç»§æ‰¿ å€ŸåŠ©åŸå‹ prototype å¯ä»¥æ ¹æ®å·²æœ‰çš„å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼ŒåŒæ—¶ä¸å¿…åˆ›å»ºæ–°çš„è‡ªå®šä¹‰å¯¹è±¡ç±»å‹ã€‚ â€“ é“æ ¼æ‹‰æ–¯Â·å…‹ç½—å…‹ç¦å¾· 12345678910// åŸå‹å¼ç»§æ‰¿function inheritObject(o) &#123; //å£°æ˜ä¸€ä¸ªè¿‡æ¸¡å‡½æ•°å¯¹è±¡ function F () &#123; // è¿‡æ¸¡å¯¹è±¡çš„åŸå‹ç»§æ‰¿çˆ¶å¯¹è±¡ F.prototype = o; //è¿”å›è¿‡æ¸¡å¯¹è±¡çš„ä¸€ä¸ªå®ä¾‹ï¼Œè¯¥å®ä¾‹çš„åŸå‹ç»§æ‰¿äº†çˆ¶å¯¹è±¡ reutrn new F() &#125;&#125; å¯„ç”Ÿå¼ç»§æ‰¿12345678910111213141516//å£°æ˜åŸºå¯¹è±¡var book = &#123; name : 'js book', alikeBook = ['css book', 'html book']&#125;function createBook(obj)&#123; // é€šè¿‡åŸå‹ç»§æ‰¿æ–¹å¼åˆ›å»ºå¯¹è±¡ var o = new inheritObject(obj); o.getName = function () &#123; console.log(name); &#125; //è¿”å›æ‰©å±•åçš„å¯¹è±¡ return o;&#125; å¯„ç”Ÿå¼ç»§æ‰¿å…¶å®å°±æ˜¯å¯¹åŸå‹ç»§æ‰¿çš„äºŒæ¬¡å°è£…ï¼Œå¹¶ä¸”åœ¨ç¬¬äºŒæ¬¡å°è£…è¿‡ç¨‹ä¸­å¯¹ç»§æ‰¿çš„å¯¹è±¡è¿›è¡Œäº†æ‰©å±•ï¼Œè¿™æ ·æ–°åˆ›å»ºçš„å¯¹è±¡ä¸ä»…ä»…æœ‰çˆ¶ç±»ä¸­çš„å±æ€§å’Œæ–¹æ³•è€Œä¸”æ·»åŠ æ–°çš„å±æ€§å’Œæ–¹æ³•ã€‚ å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼ˆç›®å‰æœ€å¥½çš„ç»§æ‰¿å®ç°ï¼‰12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061/** * è§£å†³2.4ä¸­ç»„åˆç»§æ‰¿é—®é¢˜ï¼š åœ¨ä½¿ç”¨æ„é€ å‡½æ•°ç»§æ‰¿æ—¶æ‰§è¡Œäº†ä¸€éçˆ¶ç±»çš„å¤Ÿèµæ–¹æ³•ï¼Œè€Œåœ¨å®ä¾‹åŒ–å­ç±»çš„æ—¶å€™åˆæ‰§è¡Œäº†ä¸€éçˆ¶ç±»çš„æ–¹æ³• * * ã€ŠJavaScriptä¸­åŸå‹å¼ç»§æ‰¿ã€‹ï¼šå€ŸåŠ©åŸå‹ prototype å·²æœ‰çš„å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼ŒåŒæ—¶ä¸å¿…åˆ›å»ºæ–°çš„è‡ªå®šä¹‰å¯¹è±¡ç±»å‹ *//** * å¯„ç”Ÿç»„åˆç»§æ‰¿ *//** * ä¸Šé¢çš„å‡½æ•°å¾—åˆ°çš„å¯¹è±¡Fï¼Œæ‹¥æœ‰äº†å¯¹è±¡oçš„å…¨éƒ¨å±æ€§ï¼ˆåœ¨åŸå‹é“¾ä¸Šï¼‰ï¼Œè€Œä¿®æ”¹Fçš„å±æ€§ï¼Œä¸ä¼šå½±å“åˆ°oï¼Œç›¸å½“äºæŠŠoå¤åˆ¶äº†ä¸€ä»½ã€‚ * F å¯¹è±¡æ‹¥æœ‰çˆ¶å¯¹è±¡çš„æ‰€æœ‰æ–¹æ³•ï¼ˆåœ¨åŸå‹é“¾ä¸Šï¼‰ */function inheritObject(o) &#123; //ç”Ÿå‘½ä¸€ä¸ªè¿‡æ¸¡å‡½æ•°å¯¹è±¡ function F() &#123;&#125; //è¿‡æ¸¡å¯¹è±¡çš„åŸå‹å¼çˆ¶å¯¹è±¡ F.prototype = o //è¿”å›è¿‡æ¸¡å¯¹è±¡çš„ä¸€ä¸ªå®ä¾‹ï¼Œè¯¥å®ä¾‹çš„åŸå‹ç»§æ‰¿äº†çˆ¶å¯¹è±¡ return new F()&#125;function inheritPrototype(subClass, superClass) &#123; // å¤åˆ¶ä¸€ä»½çˆ¶ç±»çš„åŸå‹å‰¯æœ¬ä¿å­˜åœ¨å˜é‡ä¸­ï¼Œ å¤åˆ¶äº†çˆ¶ç±»åŸå‹çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³• var p = inheritObject(SuperClass.prototype) //ä¿®æ­£å› ä¸ºé‡å†™å­ç±»åŸå‹å¯¼è‡´å­ç±»çš„ constructor å±æ€§è¢«ä¿®æ”¹ p.constructor = subClass //è®¾ç½®å­ç±»åŸå‹ subClass.prototype = p&#125;// å®šä¹‰çˆ¶ç±»function SuperClass(name) &#123; this.name = name this.colors = ["red", "black"]&#125;//å®šä¹‰çˆ¶ç±»åŸå‹æ–¹æ³•SuperClass.prototype.getName = function() &#123; console.log(this.name)&#125;// å®šä¹‰å­ç±»function SubClass(name, time) &#123; //æ„é€ å‡½æ•°å¼ç»§æ‰¿ SuperClass.call(this, name) //å­ç±»æ–°å¢å±æ€§ this.time = time&#125;//å¯„ç”Ÿå¼ç»§æ‰¿çˆ¶ç±»åŸå‹inheritPrototype(SubClass, SuperClass)//å­ç±»æ–°å¢åŸå‹æ–¹æ³•SubClass.prototype.getTime = function() &#123; console.log(this.name)&#125;// åˆ›å»ºä¸¤ä¸ªæµ‹è¯•æ–¹æ³•var instance1 = new SubClass("js book", 2014)var instance2 = new SubClass("css book", 2013) å¤šç»§æ‰¿123456789101112131415161718192021222324252627282930/** * JavaScript å®ç°å¤šç»§æ‰¿ */Object.prototype.mix = function() &#123; var i = 1, len = arguments.length, arg //éå†è¢«ç»§æ‰¿çš„å¯¹è±¡ for (; i &lt; len; i++) &#123; //ç¼“å­˜å½“å‰å¯¹è±¡ arg = arguments[i] for (var property in arg) &#123; this[property] = arg[property] &#125; &#125;&#125;var book = &#123; name: "JavaScript", alike: ["css", "js"]&#125;var anotherBook = &#123; color: "red"&#125;var newBook = &#123;&#125;newBook.mix(newBook, anotherBook, book) å¤šæ€ ES6 class å®ç°ç»§æ‰¿class å£°æ˜åˆ›å»ºä¸€ä¸ªåŸºäºåŸå‹ç»§æ‰¿çš„å…·æœ‰ç»™å®šåç§°çš„æ–°ç±»ã€‚ ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ç±»è¡¨è¾¾å¼å®šä¹‰ç±»ã€‚ä½†æ˜¯ä¸åŒäºç±»è¡¨è¾¾å¼ï¼Œç±»å£°æ˜ä¸å…è®¸å†æ¬¡å£°æ˜å·²ç»å­˜åœ¨çš„ç±»ï¼Œå¦åˆ™å°†ä¼šæŠ›å‡ºä¸€ä¸ªç±»å‹é”™è¯¯ã€‚ 123456789101112131415161718class SuperClass &#123; constructor(width, height) &#123; this.width = width this.height = height this.area = width * height &#125;&#125;class SubClass extends SuperClass &#123; constructor(length) &#123; super(length, length) this.title = "hh" &#125;&#125;var subclass = new SubClass(12)console.log(subclass.area)]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>ç±»</tag>
        <tag>ç»§æ‰¿</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript ç±»çš„å°è£…]]></title>
    <url>%2F2018%2F04%2F15%2Fcl4s3gteg0025wn9e4d4n1spk%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šjs å¦‚ä½•åˆ›å»ºç±»ï¼ˆå°è£…ï¼‰Class çš„åŸºæœ¬è¯­æ³•ã€ŠJavaScript è®¾è®¡æ¨¡å¼ã€‹ JavaScript ç±»çš„å°è£…åœ¨ JavaScript ä¸­ï¼Œç±»çš„å®ç°æ˜¯åŸºäºåŸå‹ç»§æ‰¿æœºåˆ¶çš„ã€‚å¦‚æœä¸¤ä¸ªå®ä¾‹éƒ½ä»åŒä¸€ä¸ªåŸå‹å¯¹è±¡ä¸Šç»§æ‰¿äº†å±æ€§ï¼Œæˆ‘ä»¬è¯´å®ƒä»¬æ˜¯åŒä¸€ä¸ªç±»çš„å®ä¾‹ã€‚ å¦‚æœä¸¤ä¸ªå¯¹è±¡ç»§æ‰¿è‡ªåŒä¸€ä¸ªåŸå‹ï¼Œå¾€å¾€æ„å‘³ç€å®ƒä»¬æ˜¯ç”±åŒä¸€ä¸ªæ„é€ å‡½æ•°åˆ›å»ºå¹¶åˆå§‹åŒ–çš„ã€‚ ç±»çš„åˆ›å»ºåœ¨ JavaScript ä¸­åˆ›å»ºä¸€ä¸ªç±»å¾ˆå®¹æ˜“ï¼Œå£°æ˜ä¸€ä¸ªå‡½æ•°ä¿å­˜åœ¨ä¸€ä¸ªå˜é‡ä¸­ï¼Œåœ¨è¿™ä¸ªå‡½æ•°å†…éƒ¨ä½¿ç”¨this æ·»åŠ å±æ€§æˆ–è€…æ–¹æ³•ã€‚ ä¹Ÿå¯ä»¥é€šè¿‡åœ¨ç±»çš„åŸå‹å¯¹è±¡ä¸Šæ·»åŠ å±æ€§å’Œæ–¹æ³•ã€‚ â‰ï¸ é€šè¿‡ prototype å’Œ this æ·»åŠ å±æ€§å’Œæ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿé€šè¿‡ this æ˜¯åœ¨å½“å‰å¯¹æ‰‹ä¸Šæ·»åŠ çš„ï¼Œæ¯æ¬¡å¯¹è±¡è¢«åˆ›å»ºæ—¶è¿™äº›æ–¹æ³•å’Œå±æ€§éƒ½ä¼šè¢«é‡å¤åˆ›å»ºï¼›è€Œé€šè¿‡ prototype ç»§æ‰¿çš„æ–¹æ³•ä¸æ˜¯å¯¹è±¡è‡ªèº«çš„ï¼Œæ‰€ä»¥å½“ä½¿ç”¨è¿™äº›æ–¹æ³•å’Œå±æ€§æ—¶ï¼Œä¼šé€šè¿‡ prototype ä¸€çº§ä¸€çº§æƒ³ä¸ŠæŸ¥æ‰¾ï¼ˆåŸå‹é“¾ï¼‰ï¼Œæ‰€æœ‰ä¸ä¼šè¢«é‡å¤åˆ›å»ºï¼ˆä½†æ˜¯åŸå‹ä¸Šçš„å±æ€§è¢«ä¿®æ”¹æ˜¯ï¼Œæ‰€æœ‰ç»§æ‰¿è¯¥åŸå‹çš„å¯¹è±¡éƒ½ä¼šè¢«å½±å“ï¼‰ã€‚ â‰ï¸ ä»€ä¹ˆæ˜¯ constructor ï¼Ÿè¿™æ˜¯ä¸€ä¸ªå±æ€§ï¼Œå½“åˆ›å»ºä¸€ä¸ªå‡½æ•°æˆ–å¯¹è±¡æ—¶éƒ½ä¼šä¸ºæœŸåˆ›å»ºä¸€ä¸ªåŸå‹å¯¹è±¡ prototypeï¼Œ åœ¨ prototype å¯¹è±¡ä¸­åˆä¼šåˆ›å»ºä¸€ä¸ª constructor å±æ€§ï¼Œé‚£ä¹ˆ constructor å±æ€§æŒ‡å‘çš„å°±æ˜¯æ‹¥æœ‰æ•´ä¸ªåŸå‹å¯¹è±¡çš„å‡½æ•°æˆ–è€…å¯¹è±¡ã€‚ å±æ€§å’Œæ–¹æ³•çš„å°è£…åˆ©ç”¨ JavaScript çš„å‡½æ•°çº§ä½œç”¨åŸŸï¼Œå£°æ˜åœ¨å‡½æ•°å†…éƒ¨çš„å˜é‡ä»¥åŠæ–¹æ³•åœ¨å¤–ç•Œæ˜¯è®¿é—®ä¸åˆ°çš„ï¼Œé€šè¿‡æ­¤ç‰¹æ€§å³å¯åˆ›å»ºç§æœ‰å˜é‡å’Œç§æœ‰æ–¹æ³•ã€‚ æ€è€ƒ new è¿ç®—ç¬¦åŸç†ï¼Œé€šè¿‡ new å®ä¾‹åŒ–å¯¹è±¡æ—¶ï¼Œæ„é€ å‡½æ•°æ‰§è¡Œï¼Œthis æ‰§è¡Œæ–°åˆ›å»ºçš„å¯¹è±¡ã€‚ ç±»é€šè¿‡ prototype åˆ›å»ºçš„å±æ€§æˆ–è€…æ–¹æ³•åœ¨ç±»çš„å®ä¾‹å¯¹è±¡æ˜¯å¯ä»¥é€šè¿‡ this è®¿é—®çš„ã€‚ å†è¿›ä¸€æ­¥ï¼Œåˆ©ç”¨é—­åŒ…è¿›è¡Œå°è£… é—­åŒ…æ˜¯æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°ï¼Œå³åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨åˆ›å»ºå¦ä¸€ä¸ªå‡½æ•°ã€‚æˆ‘ä»¬å°†è¿™ä¸ªé—­åŒ…ä½œä¸ºåˆ›å»ºå¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œåœ¨é—­åŒ…å†…éƒ¨è¿”å›ä¸€ä¸ªå®Œæ•´çš„ç±»ã€‚ 1234567891011121314151617181920212223var Book1 = (function() &#123; var bookNum = 0 function checkBook(name) &#123;&#125; function _book(newID, newName, newPrice) &#123; var name, price function checkID(id) &#123;&#125; this.getName = function() &#123; name &#125; &#125; //ç›´æ¥æ„å»ºåŸå‹ _book.prototype = &#123; isJSBook: true &#125; // è®°å¾—è¦è¿”å›è¯¥å¯¹è±¡ï¼Œå¦åˆ™ä¼š â€œis not a constructorâ€ return _book&#125;)()var book1 = new Book1() åˆ›å»ºå¯¹è±¡çš„å®‰å…¨æ¨¡å¼ å½“å¿˜è®°å†™ new è¿ç®—ç¬¦æ—¶ï¼Œæ˜¯å¯¹è±¡çš„ç›´æ¥å¤åˆ¶ï¼Œå¯¹è±¡å†…éƒ¨çš„ this æŒ‡å‘çš„æ˜¯å…¨å±€å¯¹è±¡windowï¼Œä½¿ç”¨ instanceof è¿ç®—ç¬¦åˆ¤æ–­å½“å‰ thisï¼Œåœ¨ä½¿ç”¨é—­åŒ…çš„å°è£…ä¸­ï¼Œæ˜¯ä¸ä¼šæœ‰æ•´ä¸ªé—®é¢˜çš„ï¼Œå…¶å±æ€§å’Œæ–¹æ³•éƒ½è¢«é™å®šåœ¨å‡½æ•°å†…éƒ¨çš„ä½œç”¨åŸŸä¸­ã€‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>ç±»</tag>
        <tag>ç»§æ‰¿</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript åŸºæœ¬æ•°æ®ç±»å‹-å¯¹è±¡]]></title>
    <url>%2F2018%2F04%2F15%2Fcl4s3gtea001qwn9e1j068m6b%2F</url>
    <content type="text"><![CDATA[JavaScript åŸºæœ¬æ•°æ®ç±»å‹-å¯¹è±¡å¯¹è±¡æ˜¯ JavaScript çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå¯¹è±¡å¯ä»¥çœ‹åšæ˜¯å±æ€§çš„æ— åºé›†åˆã€‚å¯¹è±¡ä¸ä»…ä»…æ˜¯å­—ç¬¦ä¸²åˆ°å€¼çš„æ˜ å°„ï¼Œé™¤äº†ä¿æŒè‡ªèº«çš„å±æ€§ï¼ŒJavaScript å¯¹è±¡è¿˜å¯ä»ä¸€ä¸ªç§°è°“åŸå‹çš„å¯¹è±¡ä¸­ç»§æ‰¿å±æ€§ã€‚å¯¹è±¡çš„æ–¹æ³•é€šå¸¸æ˜¯ç»§æ‰¿çš„å±æ€§ã€‚è¿™ç§â€œåŸå‹å¼ç»§æ‰¿â€æ˜¯ JavaScript çš„æ ¸å¿ƒç‰¹å¾ã€‚ å¯¹è±¡çš„å¸¸è§æ–¹æ³•ï¼š åˆ›å»º create è®¾ç½® set æŸ¥æ‰¾ query åˆ é™¤ delete æ£€æµ‹ test æšä¸¾ enumerate åˆ›å»ºå¯¹è±¡å¯¹è±¡å­—é¢é‡åˆ›å»ºå¯¹è±¡æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨å¯¹è±¡å­—é¢é‡ï¼ˆç›´æ¥é‡ï¼‰ 123456var empty = &#123;&#125;var point = &#123; x: 0, y: 0 &#125;var book = &#123; "min title": "JavaScript", //å±æ€§åå­—æœ‰ç©ºæ ¼ã€è¿æ¥ç¬¦ï¼ˆ-ï¼‰ï¼Œå¿…é¡»è¦ç”¨å­—ç¬¦ä¸²è¡¨ç¤º for: "all audiences" // for æ˜¯ä¿ç•™å­—ï¼Œå¿…é¡»ç”¨å¼•å·&#125; å¯¹è±¡å­—é¢é‡æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œæ¯æ¬¡è¿ç®—éƒ½ä¼šåˆ›å»ºå¹¶åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚è¿™å°±æ„å‘³ç€ï¼Œå¦‚æœåœ¨ä¸€ä¸ªé‡å¤è°ƒç”¨çš„å‡½æ•°çš„å¾ªç¯å†…ä½¿ç”¨äº†å¯¹è±¡å­—é¢é‡ï¼Œå®ƒå°†åˆ›å»ºå¾ˆå¤šå¯¹è±¡ï¼Œå¹¶ä¸”æ¯æ¬¡åˆ›å»ºçš„å¯¹è±¡çš„å±æ€§å€¼éƒ½æœ‰å¯èƒ½ä¸åŒã€‚ é€šè¿‡ new åˆ›å»ºå¯¹è±¡new è¿ç®—ç¬¦åˆ›å»ºå¹¶åˆå§‹åŒ–ä¸€ä¸ªå¯¹è±¡ã€‚new åè·Ÿéšä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œè¿™ä¸ªå‡½æ•°è¢«ç§°ä¸ºæ„é€ å‡½æ•°ï¼ˆconstructorï¼‰ï¼Œæ„é€ å‡½æ•°ç”¨ä»¥åˆå§‹åŒ–ä¸€ä¸ªæ–°åˆ›å»ºçš„å¯¹è±¡ã€‚ JavaScript çš„åŸå§‹ç±»å‹éƒ½åŒ…å«å†…ç½®æ„é€ å‡½æ•°ï¼Œ 1234var o = new Object()var a = new Arrya()var d = new Date()var r = new RegExp("js") åŸå‹æ¯ä¸€ä¸ª JavaScript å¯¹è±¡ï¼ˆnull é™¤å¤–ï¼‰éƒ½å’Œå¦ä¸€ä¸ªå¯¹è±¡ç›¸å…³è”ã€‚ æ‰€æœ‰é€šè¿‡å¯¹è±¡å­—é¢é‡åˆ›å»ºçš„å¯¹è±¡ï¼ŒåŸå‹éƒ½æŒ‡å‘ Object.prototype (obj.__proto__ === Object.prototype)ï¼Œé€šè¿‡ new å…³é”®å­—åˆ›å»ºçš„å¯¹è±¡ï¼Œå…¶åŸå‹å°±æ˜¯æ„é€ å‡½æ•°çš„ prototype å±æ€§çš„å€¼ã€‚ Object.create()ES6 ä¸­æ–°å¢çš„æ–¹æ³•ï¼Œå®ƒåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªé‡‡çº³æ•°æ˜¯è¿™ä¸ªå¯¹è±¡åŸå‹ã€‚ Object.create() æä¾›ç¬¬äºŒä¸ªå‚æ•°ï¼Œç”¨ä»¥å¯¹å¯¹è±¡çš„å±æ€§è¿›è¡Œè¿›ä¸€æ­¥æè¿°ã€‚ åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼Œï¼ˆä¾‹å¦‚å’Œ {}ã€new Object() ä¸€æ ·ï¼‰ ï¼Œéœ€è¦ä¼ å…¥ Object.prototype 1var o3 = Object.create(Object.prototype) ä½¿ç”¨è¯¥æ–¹æ³•ï¼Œå¯ä»¥ä½¿å¾—ä»»æ„å¯¹è±¡å¾—ä»¥è¢«ç»§æ‰¿ï¼Œè¿™æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ç‰¹æ€§ã€‚ å±æ€§çš„æŸ¥è¯¢å’Œè®¾ç½®æŸ¥è¯¢å¯ä»¥é€šè¿‡ . æˆ–è€…æ–¹æ‹¬å· []ï¼ˆå¿…é¡»æ˜¯ä¸€ä¸ªè®¡ç®—ç»“æœä¸ºå­—ç¬¦ä¸²çš„è¡¨è¾¾å¼ï¼‰ è¿ç®—ç¬¦æ¥è·å–å±æ€§çš„å€¼ã€‚ å±æ€§è®¿é—®é”™è¯¯æŸ¥è¯¢ä¸€ä¸ªä¸å­˜åœ¨å±æ€§å¹¶ä¸ä¼šæŠ¥é”™ï¼Œä¼šè¿”å› undefinedï¼Œä½†æ˜¯å¦‚æœå¯¹è±¡ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆä½¿ç”¨æŸ¥è¯¢è¿™ä¸ªä¸å­˜å¯¹è±¡çš„å±æ€§å°±ä¼šæŠ¥é”™ï¼Œnull å’Œ undefined éƒ½æ²¡æœ‰å±æ€§å€¼ï¼ŒæŸ¥è¯¢æ—¶å‡ä¼šæŠ¥é”™ã€‚ åˆ©ç”¨ &amp;&amp; è¿ç®—ç¬¦çš„çŸ­è·¯è¡Œä¸ºï¼Œå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ 1var len = book &amp;&amp; book.subtitle &amp;&amp; book.subtitle.length åˆ é™¤å±æ€§delete è¿ç®—ç¬¦å¯ä»¥åˆ é™¤å¯¹è±¡å±æ€§ï¼Œä½†æ˜¯åªèƒ½åˆ é™¤è‡ªèº«å±æ€§ï¼Œä¸èƒ½åˆ é™¤ç»§æ‰¿å±æ€§ã€‚ï¼ˆè¦åˆ é™¤ç»§æ‰¿å±æ€§ï¼Œå¿…é¡»è¦å®šä¹‰è¿™ä¸ªå±æ€§çš„åŸå‹å¯¹è±¡ä¸Šåˆ é™¤å®ƒï¼Œä½†è¿™å›å½±å“åˆ°æ‰€æœ‰ç»§æ‰¿è¿™ä¸ªåŸå‹çš„å¯¹è±¡ï¼‰ã€‚ delete ä¸èƒ½åˆ é™¤å¯é…ç½®å±æ€§ä¸º false çš„å±æ€§ã€‚ æ£€æµ‹å±æ€§ in è¿ç®—ç¬¦ï¼Œå¦‚æœå¯¹è±¡è‡ªæœ‰å±æ€§æˆ–ç»§æ‰¿å±æ€§ä¸­åŒ…å«è¿™ä¸ªå±æ€§åˆ™è¿”å› truejavascript var o = {x: 1} &#39;x&#39; in o // true &#39;toString&#39; in o hasOwnProperty()ï¼Œ ç”¨æ¥æ£€æµ‹ç»™å®šçš„åå­—æ˜¯å¦æ˜¯å¯¹è±¡è‡ªæœ‰çš„å±æ€§ï¼Œç»§æ‰¿å±æ€§å°†è¿”å› falsejavascript o.hasOwnProperty(&#39;x&#39;) true o.hasOwnProperty(&#39;toString&#39;) false propertyIsEnumerable()ï¼Œæ˜¯ hasOwnProperty() çš„å¢å¼ºç‰ˆï¼Œæ£€æµ‹è‡ªæœ‰å±æ€§å¹¶ä¸”è¯¥å±æ€§æ˜¯å¯æšä¸¾çš„ - é€šè¿‡ä»£ç å¢åŠ çš„å±æ€§éƒ½æ˜¯å¯æšä¸¾çš„ï¼Œé™¤éæ‰‹åŠ¨ä¿®æ”¹å±æ€§çš„å¯æšä¸¾æ€§ ä½¿ç”¨ !== åˆ¤æ–­ - åˆ¤æ–­å±æ€§æ˜¯å¦ä¸º undefinedï¼Œå¯ç”¨äºè‡ªæœ‰å±æ€§å’Œç»§æ‰¿å±æ€§ - å½“å±æ€§å€¼ä½ undefined æ—¶ï¼Œåˆ™è¿™ç§æ–¹æ³•å¤±æ•ˆ åºåˆ—åŒ–å¯¹è±¡å¯¹è±¡åºåˆ—åŒ–æ˜¯æŒ‡å°†å¯¹è±¡çš„çŠ¶æ€è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œä½¿ç”¨ JSON.stringify() å’Œ JSON.parse() è¿›è¡Œåºåˆ—åŒ–å’Œè¿˜åŸ JavaScriptå¯¹ å¯¹è±¡ã€‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>å¯¹è±¡</tag>
        <tag>Object</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript åŸå‹åŠåŸå‹é“¾]]></title>
    <url>%2F2018%2F04%2F14%2Fcl4s3gte6001lwn9ejklopgyq%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šMollyPages.orgjavascript åŸå‹é“¾ç»§æ‰¿JavaScriptï¼šconstructor å±æ€§ JavaScript åŸå‹åŠåŸå‹é“¾ åŸå‹çš„åŸºæœ¬æ¦‚å¿µ æ‰€æœ‰çš„å®ä¾‹éƒ½ç»§æ‰¿è‡ªåˆ›å»ºä»–ä»¬çš„æ„é€ å‡½æ•°çš„ prototype å¯¹è±¡ å®ä¾‹æ‹¥æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å®ç° __proto__æŒ‡é’ˆï¼Œå®ƒæŒ‡å‘åˆ›å»ºè€…çš„ prototype å¯¹è±¡ æ— è®ºæ˜¯å¦å­˜åœ¨ __proto__ï¼Œæ‰€æœ‰çš„å‡½æ•°éƒ½å­˜åœ¨ prototype å¯¹è±¡ï¼Œå®ƒæ‹¥æœ‰ä¸€ä¸ª constructor å±æ€§æŒ‡å‘å‡½æ•°è‡ªèº«ï¼Œè¿™ä¸ªå±æ€§æ˜¯åªè¯»çš„ã€‚ constructor å±æ€§å§‹ç»ˆæŒ‡å‘åˆ›å»ºå½“å‰å¯¹è±¡çš„æ„é€ å‡½æ•° 12345var M = new Function() &#123;this.name = 'name'&#125;;var m = new M;M.constructor === Function // truem.constructor === M //true æ‰€æœ‰å¯¹è±¡çš„åŸå‹æœ€ç»ˆéƒ½ä¼šæŒ‡å‘ Object å¯¹è±¡çš„åŸå‹ 123456function Foo()&#123;&#125;;var foo=new Foo();console.log(foo.__proto__); //æŒ‡å‘Fooæ„é€ å‡½æ•°çš„åŸå‹console.log(foo.__proto__.__proto__); //æŒ‡å‘Objectæ„é€ å‡½æ•°çš„åŸå‹console.log(foo.__proto__.__proto__.__proto__); //null instanceof çš„åŸç†instanceof æ£€æµ‹ä¸€ä¸ªå¯¹è±¡ A æ˜¯ä¸æ˜¯å¦ä¸€ä¸ªå¯¹è±¡ B çš„å®ä¾‹çš„åŸç†æ˜¯ï¼šæŸ¥çœ‹å¯¹è±¡Bçš„prototype æŒ‡å‘çš„å¯¹è±¡æ˜¯å¦åœ¨å¯¹è±¡ A çš„ [[prototype]] é“¾ä¸Šã€‚å¦‚æœåœ¨ï¼Œåˆ™è¿”å› true ,å¦‚æœä¸åœ¨åˆ™è¿”å› falseã€‚ä¸è¿‡æœ‰ä¸€ä¸ªç‰¹æ®Šçš„æƒ…å†µï¼Œå½“å¯¹è±¡ B çš„ prototype ä¸º null å°†ä¼šæŠ¥é”™(ç±»ä¼¼äºç©ºæŒ‡é’ˆå¼‚å¸¸)ã€‚ new è¿ç®—ç¬¦çš„åŸç†1234var M = function() &#123; this.name = "M"&#125;var m = new M() åˆ›å»ºä¸€ä¸ªå¯¹è±¡ mï¼Œå®ƒç»§æ‰¿è‡ª M.prototype æ„é€ å‡½æ•° M ä¼šè¢«æ‰§è¡Œï¼Œæ‰§è¡Œçš„æ—¶å€™ï¼Œå¯ä»¥ä¼ é€’å‚æ•°ã€‚åŒæ—¶ä¸Šä¸‹æ–‡ thisï¼Œæ‰§è¡Œæ–°åˆ›å»ºçš„å¯¹è±¡ m å¦‚æœæ„é€ å‡½æ•° m è¿”å›äº†ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆ new çš„ç»“æœå°†ä¼šæ˜¯è¿™ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯å¯¹è±¡ m]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>åŸå‹</tag>
        <tag>åŸå‹é“¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰ç«¯è·¨åŸŸé€šä¿¡åŸç†åŠç¤ºä¾‹]]></title>
    <url>%2F2018%2F04%2F14%2Fcl4s3gti5008ywn9evrvt9j2v%2F</url>
    <content type="text"><![CDATA[å‚è€ƒèµ„æºï¼šå‰ç«¯è·¨åŸŸé€šä¿¡çš„å‡ ç§æ–¹å¼ å‰ç«¯è·¨åŸŸé€šä¿¡åŸç†åŠç¤ºä¾‹åŒæºç­–ç•¥åŠé™åˆ¶åŒæºç­–ç•¥é™åˆ¶ä»ä¸€ä¸ªæºåŠ è½½çš„æ–‡æ¡£æˆ–è„šæœ¬å¦‚ä½•ä¸æ¥è‡ªå¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ã€‚è¿™æ˜¯ä¸€ä¸ªç”¨äºéš”ç¦»æ½œåœ¨æ¶æ„æ–‡ä»¶çš„å…³é”®çš„å®‰å…¨æœºåˆ¶ã€‚ æ‰€è°“åŒæºæ˜¯æŒ‡ï¼šåŸŸåï¼Œåè®®ï¼Œç«¯å£ ç›¸åŒã€‚ cookie,localstorageï¼Œdom æ²¡åŠæ³•ç›¸äº’è·å– ï¼Œajax è¯·æ±‚ä¹Ÿä¸èƒ½ å‰åç«¯çš„é€šä¿¡æ–¹å¼ Ajax - é€šè¿‡åœ¨åå°ä¸æœåŠ¡å™¨è¿›è¡Œå°‘é‡æ•°æ®äº¤æ¢ï¼ŒAjax å¯ä»¥ä½¿ç½‘é¡µå®ç°å¼‚æ­¥æ›´æ–° - æ˜¯ä¸€ç§åœ¨æ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„æŠ€æœ¯ - åŒæºä¸‹ä½¿ç”¨çš„é€šä¿¡æ–¹å¼ WebSocket - ä¸é™åˆ¶åŒæºç­–ç•¥ - åŸºäº TCP çš„ä¸€ç§æ–°çš„ç½‘ç»œåè®® - å®ç°äº†æµè§ˆå™¨ä¸æœåŠ¡å™¨å…¨åŒå·¥(full-duplex)é€šä¿¡â€”â€”å…è®¸æœåŠ¡å™¨ä¸»åŠ¨å‘é€ä¿¡æ¯ç»™å®¢æˆ·ç«¯ã€‚ CORS - æ”¯æŒè·¨åŸŸé€šä¿¡ä¹Ÿæ”¯æŒåŒæºé€šä¿¡ - CORS æœºåˆ¶è®© web æœåŠ¡å™¨èƒ½è·¨ç«™è®¿é—®æ§åˆ¶ - ç®€å•è¯·æ±‚ - æµè§ˆå™¨ç›´æ¥å‘é€ CORS è·¨åŸŸè¯·æ±‚ï¼Œå¹¶åœ¨ header ä¿¡æ¯ä¸­å¢åŠ ä¸€ä¸ª Origin å­—æ®µï¼Œè¡¨æ˜è¿™æ˜¯ä¸€ä¸ªè·¨åŸŸçš„è¯·æ±‚ã€‚ - éç®€å•è¯·æ±‚ - åœ¨æ­£å¼é€šä¿¡å‰è¿›è¡Œä¸€æ¬¡ Http æŸ¥è¯¢è¯·æ±‚ï¼Œåˆç§°é¢„æ£€è¯·æ±‚ è·¨åŸŸé€šä¿¡ JSONP HASH postMessage WebSocket CORS JSONPè·¨åŸŸåŸç† åˆ©ç”¨ &lt;script src=â€â€&gt;&lt;/script&gt; ä¸­çš„ src çš„åœ°å€å¯ä»¥è·¨åŸŸï¼ŒåŠ¨æ€çš„æ„é€  script æ ‡ç­¾ï¼Œä»¥å®ç°è·¨åŸŸæ•°æ®è®¿é—®ã€‚ å‰ç«¯é€šè¿‡ script æ ‡ç­¾ä»¥å‘é€è¯·æ±‚ï¼Œ 1&lt;scirpt src=&quot;http://www.abc.com/?data=name&amp;callback=callback_fn&quot; charset=&quot;utf-8&quot;&gt;&lt;/scirpt&gt; æœåŠ¡ç«¯è¿”å›çš„ä¹Ÿæ˜¯ script æ ‡ç­¾ï¼Œcallback å°±æ˜¯æ–¹æ³•å 1234function callback_fn(data) &#123; console.log("callback_fn") console.log(data)&#125; å®Œæ•´çš„ jsonp å°è£… 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758/** * [function è·å–ä¸€ä¸ªéšæœºçš„5ä½å­—ç¬¦ä¸²] * @param &#123;[type]&#125; prefix [description] * @return &#123;[type]&#125; [description] */util.getName = function(prefix) &#123; return ( prefix + Math.random() .toString(36) .replace(/[^a-z]+/g, "") .substr(0, 5) )&#125;/** * [function åˆ¤æ–­æ˜¯å¦ä¸ºå‡½æ•°] * @param &#123;[type]&#125; source [description] * @return &#123;[type]&#125; [description] */util.isFunction = function(source) &#123; return "[object Function]" === Object.prototype.toString.call(source)&#125;/** * [function jsonp] * @param &#123;[type]&#125; url [è¯·æ±‚åœ°å€] * @param &#123;[type]&#125; onsucess [æˆåŠŸçš„å›è°ƒ] * @param &#123;[type]&#125; onerror [é”™è¯¯å¤„ç†æ–¹æ³•] * @param &#123;[type]&#125; charset [å­—ç¬¦é›†] * @return &#123;[type]&#125; [description] */util.jsonp = function(url, onsuccess, onerror, charset) &#123; var callbackName = util.getName("tt_player") window[callbackName] = function() &#123; if (onsuccess &amp;&amp; util.isFunction(onsuccess)) &#123; onsuccess(arguments[0]) &#125; &#125; var script = util.createScript(url + "&amp;callback=" + callbackName, charset) script.onload = script.onreadystatechange = function() &#123; if (!script.readyState || /loaded|complete/.test(script.readyState)) &#123; script.onload = script.onreadystatechange = null // ç§»é™¤è¯¥scriptçš„ DOM å¯¹è±¡ if (script.parentNode) &#123; script.parentNode.removeChild(script) &#125; // åˆ é™¤å‡½æ•°æˆ–å˜é‡ window[callbackName] = null &#125; &#125; script.onerror = function() &#123; if (onerror &amp;&amp; util.isFunction(onerror)) &#123; onerror() &#125; &#125; document.getElementsByTagName("head")[0].appendChild(script)&#125; Hashurl çš„ # åé¢çš„å†…å®¹å°±å« Hashã€‚Hash çš„æ”¹å˜ï¼Œé¡µé¢ä¸ä¼šåˆ·æ–°ã€‚è¿™å°±æ˜¯ç”¨ Hash åšè·¨åŸŸé€šä¿¡çš„åŸºæœ¬åŸç†ã€‚ è¡¥å……ï¼šurl çš„ ? åé¢çš„å†…å®¹å« Searchã€‚Search çš„æ”¹å˜ï¼Œä¼šå¯¼è‡´é¡µé¢åˆ·æ–°ï¼Œå› æ­¤ä¸èƒ½åšè·¨åŸŸé€šä¿¡ã€‚ ä½¿ç”¨ä¸¾ä¾‹ï¼š åœºæ™¯ï¼šæˆ‘çš„é¡µé¢ A é€šè¿‡ iframe æˆ– frame åµŒå…¥äº†è·¨åŸŸçš„é¡µé¢ Bã€‚ ç°åœ¨ï¼Œæˆ‘è¿™ä¸ª A é¡µé¢æƒ³ç»™ B é¡µé¢å‘æ¶ˆæ¯ï¼Œæ€ä¹ˆæ“ä½œå‘¢ï¼Ÿ ï¼ˆ1ï¼‰é¦–å…ˆï¼Œåœ¨æˆ‘çš„ A é¡µé¢ä¸­ï¼š 123//ä¼ªä»£ç var B = document.getElementsByTagName("iframe")B.src = B.src + "#" + "jsonString" //æˆ‘ä»¬å¯ä»¥æŠŠJS å¯¹è±¡ï¼Œé€šè¿‡ JSON.stringify()æ–¹æ³•è½¬æˆ jsonå­—ç¬¦ä¸²ï¼Œå‘ç»™ B ï¼ˆ2ï¼‰ç„¶åï¼Œåœ¨ B é¡µé¢ä¸­ï¼š 12345// Bä¸­çš„ä¼ªä»£ç window.onhashchange = function() &#123; //é€šè¿‡onhashchangeæ–¹æ³•ç›‘å¬ï¼Œurlä¸­çš„ hash æ˜¯å¦å‘ç”Ÿå˜åŒ– var data = window.location.hash&#125; postMessage()æ–¹æ³•H5 ä¸­æ–°å¢çš„ postMessage() æ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¥åšè·¨åŸŸé€šä¿¡ã€‚æ—¢ç„¶æ˜¯ H5 ä¸­æ–°å¢çš„ï¼Œé‚£å°±ä¸€å®šè¦æåˆ°ã€‚ åœºæ™¯ï¼šçª—å£ A (http:A.com) å‘è·¨åŸŸçš„çª—å£ B (http:B.com)å‘é€ä¿¡æ¯ã€‚æ­¥éª¤å¦‚ä¸‹ã€‚ ï¼ˆ1ï¼‰åœ¨ A çª—å£ä¸­æ“ä½œå¦‚ä¸‹ï¼šå‘ B çª—å£å‘é€æ•°æ®ï¼š 12// çª—å£A(http:A.com)å‘è·¨åŸŸçš„çª—å£B(http:B.com)å‘é€ä¿¡æ¯Bwindow.postMessage("data", "http://B.com") //è¿™é‡Œå¼ºè°ƒçš„æ˜¯Bçª—å£é‡Œçš„windowå¯¹è±¡ WebSocketWebSocket çš„ç”¨æ³•å¦‚ä¸‹ï¼š 123456789101112131415161718var ws = new WebSocket("wss://echo.websocket.org") //åˆ›å»ºWebSocketçš„å¯¹è±¡ã€‚å‚æ•°å¯ä»¥æ˜¯ ws æˆ– wssï¼Œåè€…è¡¨ç¤ºåŠ å¯†ã€‚//æŠŠè¯·æ±‚å‘å‡ºå»ws.onopen = function(evt) &#123; console.log("Connection open ...") ws.send("Hello WebSockets!")&#125;//å¯¹æ–¹å‘æ¶ˆæ¯è¿‡æ¥æ—¶ï¼Œæˆ‘æ¥æ”¶ws.onmessage = function(evt) &#123; console.log("Received Message: ", evt.data) ws.close()&#125;//å…³é—­è¿æ¥ws.onclose = function(evt) &#123; console.log("Connection closed.")&#125; ï¼ˆ2ï¼‰åœ¨ B çª—å£ä¸­æ“ä½œå¦‚ä¸‹ï¼š 1234567891011// åœ¨çª—å£Bä¸­ç›‘å¬ message äº‹ä»¶Awindow.addEventListener( "message", function(event) &#123; //è¿™é‡Œå¼ºè°ƒçš„æ˜¯Açª—å£é‡Œçš„windowå¯¹è±¡ console.log(event.origin) //è·å– ï¼šurlã€‚è¿™é‡ŒæŒ‡ï¼šhttp://A.com console.log(event.source) //è·å–ï¼šA windowå¯¹è±¡ console.log(event.data) //è·å–ä¼ è¿‡æ¥çš„æ•°æ® &#125;, false) CORSCORS å¯ä»¥ç†è§£æˆæ˜¯æ—¢å¯ä»¥åŒæ­¥ã€ä¹Ÿå¯ä»¥å¼‚æ­¥*çš„ Ajaxã€‚ fetch æ˜¯ä¸€ä¸ªæ¯”è¾ƒæ–°çš„ APIï¼Œç”¨æ¥å®ç° CORS é€šä¿¡ã€‚ç”¨æ³•å¦‚ä¸‹ï¼š 12345678910// urlï¼ˆå¿…é€‰ï¼‰ï¼Œoptionsï¼ˆå¯é€‰ï¼‰fetch("/some/url/", &#123; method: "get"&#125;) .then(function(response) &#123; //ç±»ä¼¼äº ES6ä¸­çš„promise &#125;) .catch(function(err) &#123; // å‡ºé”™äº†ï¼Œç­‰ä»·äº then çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œä½†è¿™æ ·æ›´å¥½ç”¨æ›´ç›´è§‚ &#125;) CORS ä¸ºä»€ä¹ˆèƒ½å®ç°è·¨åŸŸé€šä¿¡ï¼Ÿæµè§ˆå™¨ä¼šæ‹¦æˆª Ajaxï¼Œå¦‚æœAjax æ˜¯è·¨åŸŸçš„ï¼Œä¼šåœ¨ Httpå¤´éƒ¨å¢åŠ  origin CORS å’Œ JSONP æ¯”è¾ƒCORS å’Œ JSONP éƒ½æ˜¯ä¸ºäº†ä½¿ web æµè§ˆå™¨èƒ½å¤Ÿè·¨æºè¯·æ±‚ï¼Œä½¿ç”¨ç›®çš„ç›¸åŒï¼Œä½†æ˜¯æ¯” JSONP æ›´å¼ºå¤§ã€‚JSONP åªæ”¯æŒGET è¯·æ±‚ï¼Œè€Œ CORS æ”¯æŒæ‰€æœ‰ç±»å‹çš„ HTTP è¯·æ±‚ï¼Œä¸è¿‡JSONP çš„ä¼˜åŠ¿åœ¨äºæ”¯æŒè€å¼æµè§ˆå™¨ä»¥åŠå¯ä»¥å‘ä¸æ”¯æŒ CORS çš„ç½‘ç«™è·¨æºè¯·æ±‚ã€‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>è·¨åŸŸ</tag>
        <tag>http</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[XMLHttpRequestè¯·æ±‚]]></title>
    <url>%2F2018%2F04%2F13%2Fcl4s3gtgp0065wn9euzcpe3zw%2F</url>
    <content type="text"><![CDATA[XMLHttpRequest è¯·æ±‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455/** * [json å®ç°ajaxçš„json] * @param &#123;[type]&#125; options [description] * @return &#123;[type]&#125; [description] */util.json = function(options) &#123; var opt = &#123; url: "", type: "get", data: &#123;&#125;, success: function() &#123;&#125;, error: function() &#123;&#125; &#125; util.extend(opt, options) if (opt.url) &#123; var xhr = XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP") var data = opt.data, url = opt.url, type = opt.type.toUpperCase(), dataArr = [] for (var k in data) &#123; // å°†ke-valueçš„æ•°æ®è½¬æˆæ•°ç»„å­˜æ”¾ dataArr.push(k + "=" + data[k]) &#125; if (type === "GET") &#123; url = url + "?" + dataArr.join("&amp;") // åˆ é™¤ä»¥é—®å·ç»“å°¾çš„é—®å· xhr.open(type, url.replace(/\?$/g, ""), true) xhr.send() &#125; if (type === "POST") &#123; xhr.open(type, url, true) // è®¾ç½®è¯·æ±‚å¤´éƒ¨ xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded") xhr.send(dataArr.join("&amp;")) &#125; xhr.onload = function() &#123; // 304 å®¢æˆ·ç«¯å¯ä»ç¼“å­˜ä¸­è·å–æ•°æ®ï¼Œè¿˜å¯ä»¥å¢åŠ  206 è§†é¢‘ç­‰åª’ä½“èµ„æºåŠ è½½æ—¶ç”¨ if (xhr.status === 200 || xhr.status === 304) &#123; var res if (opt.success &amp;&amp; opt.success instanceof Function) &#123; res = xhr.responseText if (typeof res === "string") &#123; res = JSON.parse(res) opt.success.call(xhr, res) &#125; &#125; &#125; else &#123; if (opt.error &amp;&amp; opt.error instanceof Function) &#123; opt.error.call(xhr, res) &#125; &#125; &#125; &#125;&#125;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>http</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[React æœåŠ¡ç«¯æ¸²æŸ“ç†è®º]]></title>
    <url>%2F2018%2F04%2F05%2Fcl4s3gtfx004zwn9ecohldl0v%2F</url>
    <content type="text"><![CDATA[èµ„æºåˆ—è¡¨ï¼šGitä»“åº“: koa2-react-isomorphic-boilerplateWebpackå·¥ç¨‹åŒ–è§£å†³æ–¹æ¡ˆeasywebpackEgg + React + React Router ï¼‹ Redux æœåŠ¡ç«¯æ¸²æŸ“å®è·µEgg + React æœåŠ¡ç«¯æ¸²æŸ“å¼€å‘æŒ‡å—æœåŠ¡ç«¯æ¸²æŸ“ä¸ Universal React AppReactæœåŠ¡å™¨ç«¯æ¸²æŸ“å®è·µå°ç»“ React æœåŠ¡ç«¯æ¸²æŸ“ç†è®ºç›¸å…³çš„çŸ¥è¯†ç‚¹ï¼š äº†è§£æœåŠ¡ç«¯æ¸²æŸ“è§£å†³çš„é—®é¢˜ äº†è§£æœåŠ¡ç«¯æ¸²æŸ“çš„åŸºæœ¬åŸç† ä½¿ç”¨ç°æœ‰æ¡†æ¶å®ç°æœåŠ¡ç«¯æ¸²æŸ“ è¿›é˜¶ï¼Œdva+eggæ¡†æ¶å®ç°æœåŠ¡ç«¯æ¸²æŸ“ è¿›è¡Œæ€§èƒ½æµ‹è¯• å®¢æˆ·ç«¯æ¸²æŸ“ã€æœåŠ¡ç«¯æ¸²æŸ“ã€åŒæ„çš„åŒºåˆ« å®¢æˆ·ç«¯æ¸²æŸ“ï¼šé¡µé¢åœ¨ JavaScriptï¼ŒCSS ç­‰èµ„æºæ–‡ä»¶åŠ è½½å®Œæ¯•åå¼€å§‹æ¸²æŸ“ï¼Œè·¯ç”±ä¸ºå®¢æˆ·ç«¯è·¯ç”±ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç»å¸¸è°ˆåˆ°çš„ SPAï¼ˆSingle Page Applicationï¼‰ã€‚ æœåŠ¡ç«¯æ¸²æŸ“ï¼šé¡µé¢ç”±æœåŠ¡ç«¯ç›´æ¥è¿”å›ç»™æµè§ˆå™¨ï¼Œè·¯ç”±ä¸ºæœåŠ¡ç«¯è·¯ç”±ï¼ŒURL çš„å˜æ›´ä¼šåˆ·æ–°é¡µé¢ï¼ŒåŸç†ä¸ ASPï¼ŒPHP ç­‰ä¼ ç»Ÿåç«¯æ¡†æ¶ç±»ä¼¼ã€‚ åŒæ„ï¼šè‹±æ–‡è¡¨è¿°ä¸º Isomorphic æˆ– Universalï¼Œå³ç¼–å†™çš„ JavaScript ä»£ç å¯åŒæ—¶è¿è¡Œåœ¨æµè§ˆå™¨åŠ Node.js ä¸¤å¥—ç¯å¢ƒä¸­ï¼Œç”¨æœåŠ¡ç«¯æ¸²æŸ“æ¥æå‡é¦–å±çš„åŠ è½½é€Ÿåº¦ï¼Œé¦–å±ä¹‹åçš„è·¯ç”±ç”±å®¢æˆ·ç«¯æ§åˆ¶ï¼Œå³åœ¨ç”¨æˆ·åˆ°è¾¾é¦–å±åï¼Œæ•´ä¸ªåº”ç”¨ä»æ˜¯ä¸€ä¸ª SPAã€‚ æ€»çš„æ¶æ„ æœåŠ¡ç«¯é¢„å…ˆè·å–ç¼–è¯‘å¥½çš„å®¢æˆ·ç«¯ä»£ç åŠå…¶ä»–èµ„æºã€‚ æœåŠ¡ç«¯æ¥æ”¶åˆ°ç”¨æˆ·çš„ HTTP è¯·æ±‚åï¼Œè§¦å‘æœåŠ¡ç«¯çš„è·¯ç”±åˆ†å‘ï¼Œå°†å½“å‰è¯·æ±‚é€è‡³æœåŠ¡ç«¯æ¸²æŸ“æ¨¡å—å¤„ç†ã€‚ æœåŠ¡ç«¯æ¸²æŸ“æ¨¡å—æ ¹æ®å½“å‰è¯·æ±‚çš„ URL åˆå§‹åŒ– memory history åŠ redux storeã€‚ æ ¹æ®è·¯ç”±è·å–æ¸²æŸ“å½“å‰é¡µé¢æ‰€éœ€è¦çš„å¼‚æ­¥è¯·æ±‚ï¼ˆthunkï¼‰å¹¶è·å–æ•°æ®ã€‚ è°ƒç”¨ renderToString æ–¹æ³•æ¸²æŸ“ HTML å†…å®¹å¹¶å°†åˆå§‹åŒ–å®Œæ¯•çš„ redux store å¡å…¥ HTML ä¸­ï¼Œä¾›å®¢æˆ·ç«¯æ¸²æŸ“æ—¶ä½¿ç”¨ã€‚ å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯è¿”å›çš„å·²æ¸²æŸ“å®Œæ¯•çš„ HTML å†…å®¹å¹¶å¼€å§‹åŒæ­¥åŠ è½½å®¢æˆ·ç«¯ JavaScriptï¼ŒCSSï¼Œå›¾ç‰‡ç­‰å…¶ä»–èµ„æºã€‚ ä¹‹åçš„æµç¨‹ä¸å®¢æˆ·ç«¯æ¸²æŸ“å®Œå…¨ç›¸åŒï¼Œå®¢æˆ·ç«¯åˆå§‹åŒ– redux storeï¼Œè·¯ç”±æ‰¾åˆ°å½“å‰é¡µé¢çš„ç»„ä»¶ï¼Œè§¦å‘ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå†æ¬¡è·å–æ•°æ®ã€‚å”¯ä¸€ä¸åŒçš„æ˜¯ redux store çš„åˆå§‹çŠ¶æ€å°†ç”±æœåŠ¡ç«¯åœ¨ HTML ä¸­å¡å…¥çš„æ•°æ®æä¾›ï¼Œä»¥ä¿è¯å®¢æˆ·ç«¯æ¸²æŸ“æ—¶å¯ä»¥å¾—åˆ°ä¸æœåŠ¡ç«¯æ¸²æŸ“ç›¸åŒçš„ç»“æœã€‚å—ç›Šäº Virtual DOM çš„ diff ç®—æ³•ï¼Œè¿™é‡Œå¹¶ä¸ä¼šè§¦å‘ä¸€æ¬¡å†—ä½™çš„å®¢æˆ·ç«¯æ¸²æŸ“ã€‚ ä¸ºä»€ä¹ˆè¦é‡‡ç”¨æœåŠ¡ç«¯æ¸²æŸ“ï¼Ÿ åˆ©äº SEO åŠ é€Ÿé¦–å±æ¸²æŸ“é€Ÿåº¦ äº«å— React ç»„ä»¶å¼å¼€å‘çš„ä¼˜åŠ¿ï¼šé«˜å¤ç”¨ã€ä½è€¦åˆ å‰åç«¯ç»´æŠ¤ä¸€å¥—ä»£ç ï¼ˆä»£ç åŒæ„ï¼‰]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>rss</tag>
        <tag>æœåŠ¡ç«¯æ¸²æŸ“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript æ­£åˆ™è¡¨è¾¾å¼]]></title>
    <url>%2F2018%2F03%2F31%2Fcl4s3gted001ywn9emsueookj%2F</url>
    <content type="text"><![CDATA[å‚è€ƒèµ„æºï¼šæ…•è¯¾ç½‘ JavaScript æ­£åˆ™è¡¨è¾¾å¼æ­£åˆ™è¡¨è¾¾å¼çš„å¯è§†åŒ–å¼€æºå·¥å…· JavaScript æ­£åˆ™è¡¨è¾¾å¼REGEXP å¯¹è±¡JavaScript é€šè¿‡å†…ç½®å¯¹è±¡ RegExp æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼Œæœ‰ä¸¤ç§æ–¹æ³•å®ä¾‹åŒ– RegExp å¯¹è±¡ å­—é¢é‡ æ„é€ å‡½æ•° å­—é¢é‡ 1var reg = /\bis\b/g æ„é€ å‡½æ•° 1var reg = new RegExp("\\bis\\b", "g") ä¿®é¥°ç¬¦ gï¼šglobal å…¨æ–‡æœç´¢ï¼Œä¸æ·»åŠ åˆ™æœç´¢åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…åœæ­¢iï¼šignore case å¿½ç•¥å¤§å°å†™ï¼Œé»˜è®¤å¤§å°å†™æ•æ„Ÿmï¼šmultiple lines å¤šè¡Œæœç´¢ å…ƒå­—ç¬¦æ­£åˆ™è¡¨è¾¾å¼ç”±ä¸¤ç§åŸºæœ¬å­—ç¬¦ç±»å‹ç»„æˆ åŸä¹‰æ–‡æœ¬å­—ç¬¦å¦‚å­—æ¯ aï¼Œè¡¨ç¤ºçš„å°±æ˜¯å°å†™è‹±æ–‡å­—æ¯ a å…ƒå­—ç¬¦å…ƒå­—ç¬¦æ˜¯åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æœ‰ç‰¹æ®Šå«ä¹‰çš„éå­—æ¯å­—ç¬¦* + ? $ ^ . | \ ( ) { } [ ] å­—ç¬¦ç±» ä¸€èˆ¬æƒ…å†µä¸‹æ­£åˆ™è¡¨è¾¾å¼ä¸€ä¸ªå­—ç¬¦å¯¹åº”å­—ç¬¦ä¸²ä¸€ä¸ªå­—ç¬¦ è¡¨è¾¾å¼ ab\t çš„å«ä¹‰å°±æ˜¯ æœ‰æ—¶å€™éœ€è¦åŒ¹é…æŸä¸€ç±»å­—ç¬¦ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…ƒå­—ç¬¦ [] æ¥æ„å»ºä¸€ä¸ªç®€å•çš„ç±» æ‰€è°“ç±»æ˜¯æŒ‡ç¬¦åˆæŸäº›ç‰¹æ€§çš„å¯¹è±¡ï¼Œä¸€ä¸ªæ³›æŒ‡ï¼Œè€Œä¸æ˜¯ç‰¹è´¨æŸä¸ªå­—ç¬¦ è¡¨è¾¾å¼ [abc] æŠŠå­—ç¬¦ a æˆ– b æˆ– c å½’ä¸ºä¸€ç±»ï¼Œè¡¨è¾¾å¼å¯ä»¥åŒ¹é…è¿™ç±»çš„å­—ç¬¦ å­—ç¬¦ç±»å–å ä½¿ç”¨å…ƒå­—ç¬¦ ^ åˆ›å»º åå‘ç±»/è´Ÿå‘ç±» åå‘ç±»çš„æ„æ€æ˜¯ä¸å±äºæŸç±»çš„å†…å®¹ è¡¨è¾¾å¼ [^abc] è¡¨ç¤ºä¸æ˜¯å­—ç¬¦ a æˆ– b æˆ– c çš„å†…å®¹ èŒƒå›´ç±» æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ [a-z] æ¥è¿æ¥ä¸¤ä¸ªå­—ç¬¦ï¼Œè¡¨ç¤ºä» a åˆ° z çš„ä»»æ„å­—ç¬¦ è¿™æ˜¯ä¸ªé—­åŒºé—´ï¼Œä¹Ÿå°±æ˜¯åŒ…å« a å’Œ z æœ¬èº« åœ¨ [] ç»„æˆçš„ç±»å†…éƒ¨æ˜¯å¯ä»¥è¿å†™çš„ [a-zA-Z] é¢„å®šä¹‰ç±»æ­£åˆ™è¡¨è¾¾å¼æä¾›é¢„å®šä¹‰ç±»æ¥åŒ¹é…å¸¸è§çš„å­—ç¬¦ç±» è¾¹ç•Œå¸¸ç”¨è¾¹ç•ŒåŒ¹é…å­—ç¬¦ é‡è¯å¸Œæœ›åŒ¹é…ä¸€ä¸ªè¿ç»­å‡ºç° 20 æ¬¡æ•°å­—çš„å­—ç¬¦ä¸² è´ªå©ªæ¨¡å¼æ­£åˆ™å°½å¯èƒ½çš„åŒ¹é…ï¼Œä¾‹å¦‚åŒ¹é… 3-6 ä¸ªæ•°å­—ï¼Œ\d{3,6}ï¼Œåœ¨ä¸€ä¸²æ•°å­—ä¸­ï¼Œä¾‹å¦‚ 12345678 ï¼ŒåŒ¹é…çš„ç»“æœä¸º 123456 éè´ªå©ªæ¨¡å¼è®©æ­£åˆ™å°½å¯èƒ½å°‘çš„åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€æ—¦åŒ¹é…æˆåŠŸä¸å†ç»§ç»­å°è¯•å°±æ˜¯éè´ªå©ªæ¨¡å¼ï¼Œç›´æ¥åœ¨é‡è¯ååŠ ä¸Š ï¼Ÿ å³å¯ï¼Œä¾‹å¦‚ 12"123253253455".match(/\d&#123;3,6&#125;?/g)// ["123", "253", "253", "455"] åˆ†ç»„ä½¿ç”¨ ( ) å¯ä»¥è¾¾åˆ°åˆ†ç»„çš„åŠŸèƒ½ï¼Œä½¿é‡è¯ä½œç”¨åŸŸåˆ†ç»„ï¼Œä¾‹å¦‚ (lyctea){3} æˆ–ç”¨ | è¡¨ç¤ºæˆ–ï¼Œä¾‹å¦‚ lyctea|luoyecong luoye(c|cong) åå‘å¼•ç”¨ä¾‹å¦‚å°†ç”¨ - è¿æ¥çš„æ—¥æœŸï¼Œè½¬æˆ / è¡¨ç¤ºçš„æ—¥æœŸæ ¼å¼ 12"2017-03-30".replace(/(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)/g, "$2/$3/$1")// "03/30/2017" å¿½ç•¥åˆ†ç»„ä¸å¸Œæœ›æ•è·æŸäº›åˆ†ç»„ï¼Œåªéœ€è¦åœ¨åˆ†ç»„å†…åŠ ä¸Š ? : å°±å¯ä»¥ (?:Byron).(ok) å‰ç» æ­£åˆ™è¡¨è¾¾å¼ä»æ–‡æœ¬å¤´éƒ¨å‘å°¾éƒ¨å¼€å§‹è§£æï¼Œæ–‡æœ¬å°¾éƒ¨æ–¹å‘ï¼Œæˆä¸ºâ€œå‰â€ å‰ç»å°±æ˜¯åœ¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…åˆ°è§„åˆ™çš„æ—¶å€™ï¼Œå‘å‰æ£€æŸ¥æ˜¯å¦ç¬¦åˆæ–­è¨€ï¼›åé¡¾/åç»æ–¹å‘ç›¸å JavaScript ä¸æ”¯æŒåé¡¾ ç¬¦åˆå’Œä¸ç¬¦åˆç‰¹å®šæ–­è¨€æˆä¸º è‚¯å®š/æ­£å‘ åŒ¹é…å’Œ å¦å®š/è´Ÿå‘ åŒ¹é… è¯­æ³•ï¼ˆè§„åˆ™+æ–­è¨€ï¼‰ ä¾‹å­ï¼š 123456789// åŒ¹é…å‰é¢æ˜¯å•è¯æˆ–æ•°å­—ï¼Œåé¢æ˜¯æ•°å­—"x3*33vV".replace(/\w(?=\d)/g, '_')ï¼›// "_3*_3vV"// åŒ¹é…å‰é¢æ˜¯å•è¯æˆ–æ•°å­—ï¼Œåé¢ä¸æ˜¯æ•°å­—"x3*33vV".replace(/\w(?!\d)/g, '_')ï¼›"x_*3___" JS å¯¹è±¡å±æ€§ test å’Œ exec æ–¹æ³•RegExp.prototype.test() test() æ–¹æ³•æ‰§è¡Œä¸€ä¸ªæ£€ç´¢ï¼Œç”¨æ¥æŸ¥çœ‹æ­£åˆ™è¡¨è¾¾å¼ä¸æŒ‡å®šçš„å­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…ã€‚è¿”å› true æˆ– falseã€‚ lastIndexï¼šå½“å‰åŒ¹é…ç»“æœçš„æœ€åä¸€ä¸ªå­—ç¬¦çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆä½¿ç”¨ test() ä¼šåˆ†æ®µåŒ¹é…ï¼Œå¯èƒ½ä¼šæ‰§è¡Œå¤šæ¬¡ï¼Œå½“å…¨æ–‡åŒ¹é…å®Œæ¯•æ—¶ï¼Œä¼šä»å¤´åŒ¹é…ï¼‰ RegExp.prototype.exec()exec() æ–¹æ³•åœ¨ä¸€ä¸ªæŒ‡å®šå­—ç¬¦ä¸²ä¸­æ‰§è¡Œä¸€ä¸ªæœç´¢åŒ¹é…ã€‚è¿”å›ä¸€ä¸ªç»“æœæ•°ç»„æˆ– nullã€‚ å¦‚æœä½ åªæ˜¯ä¸ºäº†åˆ¤æ–­æ˜¯å¦åŒ¹é…ï¼ˆtrueæˆ– falseï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ RegExp.test() æ–¹æ³•ï¼Œæˆ–è€… String.search() æ–¹æ³•ã€‚ å­—ç¬¦ä¸²æ–¹æ³•ä¸­çš„æ­£åˆ™String.prototype.search()search() æ–¹æ³•æ‰§è¡Œæ­£åˆ™è¡¨è¾¾å¼å’Œ String å¯¹è±¡ä¹‹é—´çš„ä¸€ä¸ªæœç´¢åŒ¹é…ã€‚ String.prototype.match()å½“ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ—¶ï¼Œ match() æ–¹æ³•æ£€ç´¢åŒ¹é…é¡¹ã€‚ String.prototype.replace()replace() æ–¹æ³•è¿”å›ä¸€ä¸ªç”±æ›¿æ¢å€¼æ›¿æ¢ä¸€äº›æˆ–æ‰€æœ‰åŒ¹é…çš„æ¨¡å¼åçš„æ–°å­—ç¬¦ä¸²ã€‚æ¨¡å¼å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼, æ›¿æ¢å€¼å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ªæ¯æ¬¡åŒ¹é…éƒ½è¦è°ƒç”¨çš„å‡½æ•°ã€‚ âš ï¸ æ³¨æ„ï¼šåŸå­—ç¬¦ä¸²ä¸ä¼šæ”¹å˜ã€‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>RegExp</tag>
        <tag>æ­£åˆ™</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµè§ˆå™¨å­˜å‚¨ã€HTTPç¼“å­˜ã€SSR]]></title>
    <url>%2F2018%2F03%2F24%2Fcl4s3gtin00a6wn9e4aft75e6%2F</url>
    <content type="text"><![CDATA[å‚è€ƒèµ„æºï¼šHTTP ç¼“å­˜ MDNæœåŠ¡ç«¯æ¸²æŸ“ä¸ Universal React App æµè§ˆå™¨å­˜å‚¨Cookie HTTP è¯·æ±‚æ˜¯æ— çŠ¶æ€çš„ï¼Œä¸€æ¬¡è¿æ¥å…³é—­ï¼Œä½¿ç”¨ Cookieå»ç»´æŒå®¢æˆ·ç«¯çŠ¶æ€ï¼Œç»´æŠ¤ç”¨æˆ·çš„ç™»å½•ä¿¡æ¯ã€‚æœåŠ¡ç«¯å¯ä»¥åˆ¤æ–­è¿™ä¸ªè¯·æ±‚æ˜¯æ¥è‡ªå“ªä¸ªå®¢æˆ·ç«¯ã€‚ æ€»ç»“ä¸¤ç‚¹åŠŸèƒ½ï¼š ç”¨äºæµè§ˆå™¨ç«¯å’ŒæœåŠ¡å™¨ç«¯çš„äº¤äº’ å®¢æˆ·ç«¯è‡ªèº«æ•°æ®çš„å­˜å‚¨ Cookie å­˜å‚¨çš„é™åˆ¶ï¼š ä½œä¸ºæµè§ˆå™¨å­˜å‚¨ï¼Œå¤§å° 4kb å·¦å³ï¼ˆå­˜å‚¨æ•°æ®èƒ½åŠ›è¢«localstorage æ›¿ä»£ï¼‰ éœ€è¦è®¾ç½®è¿‡æœŸæ—¶é—´ expire httponlyï¼šå½“å‰è¿™ä¸ª Cookie åªèƒ½ç”¨æˆ· http ä¼ è¾“ï¼Œè€Œä¸èƒ½ç”¨ js è¿›è¡Œè¯»å†™ Cookieä¸­åœ¨ç›¸å…³åŸŸåä¸‹é¢ â€“ CND çš„æµé‡æŸè€— - åœ¨åŒä¸€ä¸ªåŸŸåä¸‹çš„æ‰€æœ‰è¯·æ±‚ï¼Œéƒ½ä¼šæºå¸¦è¯·æ±‚ CDN çš„åŸŸåå’Œä¸»ç«™çš„åŸŸåè¦åˆ†å¼€ LocalStorage HTML5 è®¾è®¡ä¸“é—¨ç”¨æ¥æµè§ˆå™¨å­˜å‚¨çš„ å¤§å°ä¸º 5MB å·¦å³ å°½åœ¨å®¢æˆ·ç«¯ä½¿ç”¨ï¼Œä¸å’ŒæœåŠ¡ç«¯è¿›è¡Œé€šä¿¡ æ¥å£å°è£…è¾ƒå¥½ æµè§ˆå™¨æœ¬åœ°ç¼“å­˜æ–¹æ¡ˆ SessionStorage ä¼šè¯çº§åˆ«çš„æµè§ˆå™¨å­˜å‚¨ å¤§å°ä¸º 5MB å·¦å³ å°½åœ¨å®¢æˆ·ç«¯ä½¿ç”¨ï¼Œä¸å’ŒæœåŠ¡ç«¯è¿›è¡Œé€šä¿¡ æ¥å£å°è£…è¾ƒå¥½ å¯¹äºè¡¨å•ä¿¡æ¯çš„ç»´æŠ¤ IndexDBIndexDB æ˜¯ä¸€ç§ä½çº§ APIï¼Œç”¨äºå®¢æˆ·ç«¯å­˜å‚¨å¤§é‡ç»“æ„åŒ–æ•°æ®ã€‚è¯¥ API ä½¿ç”¨ç´¢å¼•æ¥å®ç°å¯¹è¯¥æ•°æ®çš„é«˜æ€§èƒ½æœç´¢ã€‚è™½ç„¶ Web Storage å¯¹äºå‚¨å­˜è¾ƒå°‘çš„æ•°æ®å¾ˆæœ‰ç”¨ï¼Œä½†å¯¹äºå­˜å‚¨æ›´å¤§é‡çš„ç»“æ„åŒ–æ•°æ®æ¥è¯´ï¼Œè¿™ç§æ–¹æ³•ä¸å¤ªæœ‰ç”¨ã€‚IndexDB æä¾›äº†è§£å†³æ–¹æ¡ˆã€‚ ä¸ºåº”ç”¨åˆ›å»ºç¦»çº¿ç‰ˆæœ¬ã€‚ Service Workers äº§ç”Ÿçš„æ„ä¹‰ Service workersæœ¬è´¨ä¸Šå……å½“ Web åº”ç”¨ç¨‹åºä¸æµè§ˆå™¨ä¹‹é—´çš„ä»£ç†æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥åœ¨ç½‘ç»œå¯ç”¨æ—¶ä½œä¸ºæµè§ˆå™¨å’Œç½‘ç»œé—´çš„ä»£ç†ã€‚å®ƒä»¬æ—¨åœ¨ï¼ˆé™¤å…¶ä»–ä¹‹å¤–ï¼‰ä½¿å¾—èƒ½å¤Ÿåˆ›å»ºæœ‰æ•ˆçš„ç¦»çº¿ä½“éªŒï¼Œæ‹¦æˆªç½‘ç»œè¯·æ±‚å¹¶åŸºäºç½‘ç»œæ˜¯å¦å¯ç”¨ä»¥åŠæ›´æ–°çš„èµ„æºæ˜¯å¦é©»ç•™åœ¨æœåŠ¡å™¨ä¸Šæ¥é‡‡å–é€‚å½“çš„åŠ¨ä½œã€‚ä»–ä»¬è¿˜å…è®¸è®¿é—®æ¨é€é€šçŸ¥å’Œåå°åŒæ­¥ APIã€‚ Service workersæ˜¯ä¸€ä¸ªè„šæœ¬ã€‚æµè§ˆå™¨ç‹¬ç«‹ä¸å½“å‰ç½‘é¡µï¼Œå°†å…¶åœ¨åå°è¿è¡Œï¼Œä¸ºå®ç°ä¸€äº›ä¸ä¾ èµ–é¡µé¢æˆ–è€…ç”¨æˆ·äº¤äº’çš„ç‰¹æ€§æ‰“å¼€äº†ä¸€æ‰‡å¤§é—¨ï¼Œåœ¨æœªæ¥è¿™äº›ç‰¹æ€§å°†åŒ…æ‹¬æ¨é€æ¶ˆæ¯ï¼ŒèƒŒæ™¯åå°åŒæ­¥ï¼Œgeofencingï¼ˆåœ°ç†å›´æ å®šä½ï¼‰ï¼Œä½†ä»–å°†é€€å‡ºçš„ç¬¬ä¸€ä¸ªé¦–è¦ç‰¹æ€§ï¼Œå°±æ˜¯æ‹¦æˆªå’Œå¤„ç†ç½‘ç»œè¯·æ±‚çš„èƒ½åŠ›ï¼ŒåŒ…æ‹¬å˜æˆæ–¹å¼æ¥ç®¡ç†è¢«ç¼“å­˜çš„å“åº”ã€‚ ä½¿ç”¨æ‹¦æˆªç½‘ç»œè¯·æ±‚çš„èƒ½åŠ›ï¼Œå¯ä»¥å®ç°ç¦»çº¿åº”ç”¨ã€‚ PWAPWAï¼ˆProgressive Web APPsï¼‰ æ˜¯ä¸€ç§ Web App æ–°æ¨¡å‹ï¼Œå¹¶ä¸æ˜¯å…·ä½“æŒ‡æŸä¸€ç§å‰æ²¿çš„æŠ€æœ¯æˆ–è€…æŸä¸€ä¸ªå•ä¸€çš„çŸ¥è¯†ç‚¹ï¼Œæˆ‘ä»¬ä»è‹±æ–‡ç¼©å†™å°±èƒ½çœ‹å‡ºæ¥ï¼Œè¿™äº‹ä¸€ä¸ªæ¸è¿›å¼çš„ WebApp ï¼Œæ˜¯é€šè¿‡ä¸€ç³»åˆ—æ–°çš„ Web ç‰¹æ€§ã€‚é…åˆä¼˜ç§€çš„ UI äº¤äº’è®¾è®¡ï¼Œé€æ­¥çš„å¢å¼º Web APP çš„ç”¨æˆ·ä½“éªŒã€‚ å¯é ï¼šåœ¨æ²¡æœ‰ç½‘ç»œçš„ç¯å¢ƒä¸­ä¹Ÿèƒ½æä¾›åŸºæœ¬çš„é¡µé¢è®¿é—®ï¼Œè€Œä¸ä¼šå‡ºç° â€œæœªè¿æ¥åˆ°äº’è”ç½‘â€çš„é¡µé¢ã€‚ å¿«é€Ÿï¼šé’ˆå¯¹ç½‘é¡µæ¸²æŸ“åŠç½‘è·¯æ•°æ®è®¿é—®æœ‰è¾ƒå¥½çš„ä¼˜åŒ–ã€‚ èå…¥ï¼ˆEngagingï¼‰ï¼šåº”ç”¨å¯ä»¥è¢«å¢åŠ åˆ°æ‰‹æœºæ¡Œé¢ï¼Œå¹¶ä¸”å’Œæ™®é€šåº”ç”¨ä¸€æ ·æœ‰å…¨å±ã€æ¨é€ç­‰ç‰¹æ€§ã€‚ âš ï¸ lighthouseï¼šchorm æ‰©å±•æ’ä»¶ï¼Œæ£€æŸ¥ç½‘ç«™æ€§èƒ½ï¼ŒSEO ç­‰ HTTP ç¼“å­˜ é‡ç”¨å·²è·å–çš„èµ„æºèƒ½å¤Ÿæœ‰æ•ˆçš„æå‡ç½‘ç«™ä¸åº”ç”¨çš„æ€§èƒ½ã€‚Web ç¼“å­˜èƒ½å¤Ÿå‡å°‘å»¶è¿Ÿä¸ç½‘ç»œé˜»å¡ï¼Œè¿›è€Œå‡å°‘æ˜¾ç¤ºæŸä¸ªèµ„æºæ‰€ç”¨çš„æ—¶é—´ã€‚å€ŸåŠ© HTTP ç¼“å­˜ï¼ŒWeb ç«™ç‚¹å˜å¾—æ›´å…·æœ‰å“åº”æ€§ã€‚ Server Side Rendering]]></content>
      <categories>
        <category>å‰ç«¯æ€§èƒ½ä¼˜åŒ–</category>
      </categories>
      <tags>
        <tag>æ€§èƒ½ä¼˜åŒ–</tag>
        <tag>ç¦»çº¿å­˜å‚¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‡’åŠ è½½ä¸é¢„åŠ è½½ï¼Œé‡ç»˜ä¸å›æµ]]></title>
    <url>%2F2018%2F03%2F24%2Fcl4s3gtie009iwn9e5j09eb38%2F</url>
    <content type="text"><![CDATA[æ‡’åŠ è½½ä¸é¢„åŠ è½½æ‡’åŠ è½½ å›¾ç‰‡è¿›å…¥å¯è§†åŒºåŸŸä¹‹åè¯·æ±‚å›¾ç‰‡èµ„æº - è¿›å…¥å¯è§†åŒºåŸŸä¹‹åä¿®æ”¹ src å±æ€§ UI ä¸ç”µå•†ç­‰å›¾ç‰‡èµ„æºå¾ˆå¤šï¼Œé¡µé¢å¾ˆé•¿çš„ä¸šåŠ¡åœºæ™¯ä½¿ç”¨ å‡å°‘æ— æ•ˆèµ„æºçš„åŠ è½½ å¹¶å‘åŠ è½½çš„èµ„æºè¿‡å¤šä¼šé˜»å¡ js çš„åŠ è½½ï¼Œå½±å“ç½‘ç«™çš„æ­£å¸¸ä½¿ç”¨ å®ç°æ–¹å¼ï¼šéœ€è¦å»ç›‘å¬ scroll äº‹ä»¶ï¼Œåœ¨ scrool æ»šåŠ¨äº‹ä»¶çš„å›è°ƒä¸­ é¢„åŠ è½½ å›¾ç‰‡ç­‰é™æ€èµ„æºåœ¨ä½¿ç”¨ä¹‹å‰çš„æå‰è¯·æ±‚ èµ„æºä½¿ç”¨æ—¶èƒ½ä»ç¼“å­˜ä¸­åŠ è½½ï¼Œæå‡ç”¨æˆ·ä½“éªŒ é¡µé¢å±•ç¤ºçš„ä¾èµ–å…³ç³»ç»´æŠ¤ å®ç°æ–¹å¼ï¼š ä½¿ç”¨ XMLHttpRequest å¯¹è±¡ ä½¿ç”¨ Image å¯¹è±¡ ä½¿ç”¨ preload.js åº“ é‡ç»˜ä¸å›æµ ç†è§£æµè§ˆå™¨é‡ç»˜ä¸å›æµçš„æœºåˆ¶ å¯¹äºä¸€äº›ç»å…¸çš„æ¡ˆä¾‹è¿›è¡Œåˆ†æ é‡ç»˜ä¸å›æµçš„æ¡ˆä¾‹å®æˆ˜ css æ€§èƒ½ä¼šè®© JavaScript å˜æ…¢ï¼Ÿåœ¨åŠ è½½ css çš„æ—¶å€™ï¼Œjs çš„æ‰§è¡Œè¢«é˜»å¡ï¼Œåœ¨ js ä¸­æ‰§è¡Œçš„æ—¶å€™ï¼Œé¡µé¢çš„æ¸²æŸ“ä¹Ÿæ˜¯è¢«é˜»å¡çš„ã€‚ é¢‘ç¹è§¦å‘é‡ç»˜ä¸å›æµï¼Œä¼šå¯¼è‡´ UI é¢‘ç¹æ¸²æŸ“ï¼Œæœ€ç»ˆå¯¼è‡´ js æ‰§è¡Œæ•ˆç‡ã€‚ å›æµ å½“ render tree ä¸­çš„ä¸€éƒ¨åˆ†ï¼ˆæˆ–å…¨éƒ¨ï¼‰å› ä¸ºå…ƒç´ çš„è§„æ¨¡å°ºå¯¸ï¼Œå¸ƒå±€ï¼Œéšè—æ”¹å˜è€Œéœ€è¦é‡æ–°æ„å»ºï¼Œè¿™å°±æˆä¸ºå›æµï¼ˆreflowï¼‰ å½“é¡µé¢å¸ƒå±€å’Œå‡ ä½•å±æ€§æ”¹å˜æ—¶å°±éœ€è¦å›æµ é‡ç»˜å½“ render tree çš„ä¸€äº›å…ƒç´ éœ€è¦æ›´æ–°å±æ€§ï¼ŒäºŒè€…å±æ€§åªæ˜¯å½±å“å…ƒç´ çš„å¤–è§‚ï¼Œé£æ ¼ï¼Œè€Œä¸ä¼šå½±å“å¸ƒå±€çš„ï¼Œæ¯”å¦‚ background-color ã€‚åˆ™æˆä¸ºé‡ç»˜ã€‚ ç»¼ä¸Šï¼Œå›æµä¸€å®šä¼šè§¦å‘é‡ç»˜ï¼Œé‡ç»˜ä¸ä¸€å®šä¼šè§¦å‘å›æµã€‚ è§¦å‘é¡µé¢é‡æ–°å¸ƒå±€çš„å±æ€§ ç›’å­æ¨¡å‹ç›¸å…³å±æ€§ä¼šè§¦ å®šä½å±æ€§åŠæµ®åŠ¨ä¹Ÿä¼šè§¦å‘ æ”¹å˜èŠ‚ç‚¹å†…éƒ¨æ–‡å­—ç»“æ„ å°†é¢‘å‘é‡ç»˜å›æµçš„ DOM å…ƒç´ å•ç‹¬ä½œä¸ºä¸€ä¸ªç‹¬ç«‹å›¾å±‚ï¼Œé‚£ä¹ˆè¿™ä¸ª DOM å…ƒç´ çš„é‡ç»˜å’Œå›æµçš„å½±å“åªä¼šåœ¨è¿™ä¸ªå›¾å±‚ä¸­ã€‚ Chrome åˆ›å»ºå›¾å±‚çš„æ¡ä»¶ï¼š 3D æˆ–é€è§†å˜æ¢ CSS å±æ€§ï¼ˆperspective transformï¼‰ ä½¿ç”¨åŠ é€Ÿè§†é¢‘è§£ç çš„ video èŠ‚ç‚¹ æ‹¥æœ‰ 3D ï¼ˆWebGLï¼‰ ä¸Šä¸‹æ–‡æˆ–åŠ é€Ÿçš„ 2D ä¸Šä¸‹æ–‡çš„ canvas èŠ‚ç‚¹ æ··åˆæ’ä»¶ï¼ˆå¦‚ Flashï¼‰ å¯¹è‡ªå·±çš„ opacity åš CSS åŠ¨ç”»æˆ–ä½¿ç”¨ä¸€ä¸ªåŠ¨ç”» webkit å˜æ¢çš„å…ƒç´  æ‹¥æœ‰åŠ é€Ÿ CSS è¿‡æ»¤å™¨çš„å…ƒç´  å…ƒç´ æœ‰ä¸€ä¸ªåŒ…å«å¤åˆå±‚çš„åä»£èŠ‚ç‚¹ å…ƒç´ ç”±ä¸€ä¸ª z-index è¾ƒä½ä¸”åŒ…å«ä¸€ä¸ªå¤åˆå±‚çš„å…„å¼Ÿå…ƒç´  ä¼˜åŒ–ç­–ç•¥ é¿å…ä½¿ç”¨è§¦å‘é‡ç»˜ã€å›æµçš„ CSS å±æ€§ å°†é‡ç»˜ã€ å›æµçš„å½±å“è¿”å›é™åˆ¶åœ¨å•ç‹¬çš„å›¾å±‚ä¹‹å†…]]></content>
      <categories>
        <category>å‰ç«¯æ€§èƒ½ä¼˜åŒ–</category>
      </categories>
      <tags>
        <tag>æ€§èƒ½ä¼˜åŒ–</tag>
        <tag>æ‡’åŠ è½½ï¼Œé¢„åŠ è½½</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[èµ„æºåˆå¹¶ä¸å‹ç¼©]]></title>
    <url>%2F2018%2F03%2F23%2Fcl4s3gtj400bhwn9e11p3ai00%2F</url>
    <content type="text"><![CDATA[å‚è€ƒèµ„æ–™ï¼š[ä»€ä¹ˆæ˜¯ CDNâ€“é˜¿é‡Œäº‘][1] ç†è§£å‡å°‘ HTTP è¯·æ±‚æ•°é‡å’Œå‡å°‘è¯·æ±‚èµ„æºå¤§å°çš„ä¸¤ä¸ªä¼˜åŒ–ç‚¹ æŒæ¡å‹ç¼©ä¸åˆå¹¶çš„åŸç† æŒæ¡é€šè¿‡åœ¨çº¿ç½‘ç«™å’Œ fis3 ä¸¤ç§å®ç°å‹ç¼©çš„ä¸åˆå¹¶çš„æ–¹æ³• HTTP è¯·æ±‚è¿‡ç¨‹åŠæ½œåœ¨çš„æ€§èƒ½ä¼˜åŒ–ç‚¹â“ æµè§ˆå™¨çš„ä¸€ä¸ªè¯·æ±‚ä»å‘é€åˆ°è¿”å›éƒ½ç»å†äº†ä»€ä¹ˆï¼Ÿ â“ DNS æ˜¯å¦å¯ç”¨é€šè¿‡é­‚æ‘å‡å°‘ DNS æŸ¥è¯¢æ—¶é—´ â“ ç½‘ç»œè¯·æ±‚çš„è¿‡ç¨‹èµ°æœ€è¿‘çš„ç½‘ç»œç¯å¢ƒï¼Ÿ â“ ç›¸åŒçš„é™æ€èµ„æºæ˜¯å¦å¯ç”¨ç¼“å­˜ â“ æ˜¯å¦å‡å°‘è¯·æ±‚ HTTP è¯·æ±‚å¤§å°ï¼Ÿ â“ å‡å°‘ HTTP è¯·æ±‚ â“ æœåŠ¡ç«¯æ¸²æŸ“ Google é¦–é¡µæ¡ˆä¾‹å­¦ä¹  HTML å‹ç¼© CSS å‹ç¼© JS çš„å‹ç¼©å’Œæ··æ·† æ–‡ä»¶åˆå¹¶ å¼€å¯ gzip HTML å‹ç¼©HTML ä»£ç å‹ç¼©å°±æ˜¯å‹ç¼©è¿™äº›åœ¨æ–‡æœ¬æ–‡ä»¶ä¸­æœ‰æ„ä¹‰ï¼Œä½†æ˜¯åœ¨ HTML ä¸­ä¸æ˜¾ç¤ºçš„å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ç­‰ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–æœ‰æ„ä¹‰çš„å­—ç¬¦ï¼Œå¦‚ HTML æ³¨é‡Šä¹Ÿå¯ä»¥å‹ç¼©ã€‚ å‹ç¼©çš„æ–¹æ³•ï¼š ä½¿ç”¨åœ¨çº¿ç½‘ç«™è¿›è¡Œå‹ç¼© nodejs æä¾›äº† html-minifier å·¥å…· åç«¯æ¨¡æ¿å¼•æ“æ¸²æŸ“å‹ç¼© CSS å‹ç¼© æ— æ•ˆä»£ç åˆ é™¤ css è¯­ä¹‰åˆå¹¶ å‹ç¼©çš„æ–¹æ³•ï¼š ä½¿ç”¨åœ¨çº¿ç½‘ç«™è¿›è¡Œå‹ç¼© nodejs æä¾›äº† html-minifier å·¥å…· ä½¿ç”¨ clean-css JS çš„å‹ç¼©å’Œæ··æ·† æ— æ•ˆå­—ç¬¦çš„åˆ é™¤ å‰”é™¤æ³¨é‡Š ä»£ç è¯­ä¹‰çš„ç¼©å‡å’Œä¼˜åŒ– ä»£ç ä¿æŠ¤ å‹ç¼©çš„æ–¹æ³•ï¼š ä½¿ç”¨åœ¨çº¿ç½‘ç«™è¿›è¡Œå‹ç¼© nodejs æä¾›äº† html-minifier å·¥å…· ä½¿ç”¨ uglifyjs2 æ–‡ä»¶åˆå¹¶![][2] æ–‡ä»¶åˆå¹¶çš„å¼Šç«¯ï¼š é¦–å±æ¸²æŸ“é—®é¢˜ ç¼“å­˜å¤±æ•ˆé—®é¢˜ - å¢åŠ  MD5 æˆ³ï¼Œç”¨æ¥æ ‡è¯†æ–‡ä»¶æ˜¯å¦æ›´æ”¹ - é‡‡ç”¨æ–‡ä»¶åˆå¹¶ä¼šå­˜åœ¨å¤§é¢ç§¯ç¼“å­˜å¤±æ•ˆ æ–‡ä»¶åˆå¹¶çš„ç­–ç•¥ï¼š å…¬å…±åº“åˆå¹¶ ä¸åŒé¡µé¢çš„åˆå¹¶ - å•é¡µåº”ç”¨è¢«è·¯ç”±åˆ°çš„æ—¶å€™æ‰å»è¯·æ±‚ JS è§æœºè¡Œäº‹ï¼Œéšæœºåº”å˜ åˆå¹¶çš„æ–¹æ³•ï¼š ä½¿ç”¨åœ¨çº¿ç½‘ç«™è¿›è¡Œåˆå¹¶ ä½¿ç”¨ nodejs å®ç°æ–‡ä»¶åˆå¹¶ [1]: https://help.aliyun.com/document_detail/27101.html?spm=a2c4g.11174283.2.3.85hgy4[2]: http://oudfgqwcq.bkt.clouddn.com/lyctea/1521771263712.jpg]]></content>
      <categories>
        <category>å‰ç«¯æ€§èƒ½ä¼˜åŒ–</category>
      </categories>
      <tags>
        <tag>æ€§èƒ½ä¼˜åŒ–</tag>
        <tag>æ–‡ä»¶å‹ç¼©</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨]]></title>
    <url>%2F2018%2F03%2F21%2Fcl4s3gtei0028wn9ehnqw0utf%2F</url>
    <content type="text"><![CDATA[JavaScript è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨è¿­ä»£å™¨è¿­ä»£å™¨æ˜¯ä¸€ç§æ£€æŸ¥å®¹å™¨å†…å…ƒç´ å¹¶éå†å…ƒç´ çš„æ•°æ®ç±»å‹ã€‚ è¿­ä»£å™¨ï¼ˆiteratorï¼‰æ˜¯ä¸€ç§å¯¹è±¡ï¼Œå®ƒèƒ½å¤Ÿç”¨æ¥éå†æ ‡å‡†æ¨¡æ¿åº“å®¹å™¨ä¸­çš„éƒ¨åˆ†æˆ–å…¨éƒ¨å…ƒç´ ï¼Œæ¯ä¸ªè¿­ä»£å™¨å¯¹è±¡ä»£è¡¨å®¹å™¨ä¸­çš„ç¡®å®šçš„åœ°å€ã€‚è¿­ä»£å™¨ä¿®æ”¹äº†å¸¸è§„æŒ‡é’ˆçš„æ¥å£ï¼Œæ‰€è°“è¿­ä»£å™¨æ˜¯ä¸€ç§æ¦‚å¿µä¸Šçš„æŠ½è±¡ï¼šé‚£äº›è¡Œä¸ºä¸Šåƒè¿­ä»£å™¨çš„ä¸œè¥¿éƒ½å¯ä»¥å«åšè¿­ä»£å™¨ã€‚ç„¶è€Œè¿­ä»£å™¨æœ‰å¾ˆå¤šä¸åŒçš„èƒ½åŠ›ï¼Œå®ƒå¯ä»¥æŠŠæŠ½è±¡å®¹å™¨å’Œé€šç”¨ç®—æ³•æœ‰æœºçš„ç»Ÿä¸€èµ·æ¥ã€‚ ç”Ÿæˆå™¨ç”Ÿæˆå™¨( generator )æ˜¯èƒ½è¿”å›ä¸€ä¸ªè¿­ä»£å™¨çš„å‡½æ•°ã€‚ ç”Ÿæˆå™¨å‡½æ•°ç”±æ”¾åœ¨ function å…³é”®å­—ä¹‹ åçš„ä¸€ä¸ªæ˜Ÿå·( * )æ¥è¡¨ç¤ºï¼Œå¹¶èƒ½ä½¿ç”¨æ–°çš„ yield å…³é”®å­—ã€‚ 123456789101112131415161718192021/* åœ¨å¾ªç¯å†…é‡åˆ°yieldå°±ä¼šåœæ­¢ï¼ŒæŒ‡å®šå†æ¬¡è°ƒç”¨nextæ–¹æ³•ï¼Œå°†ä¼šåœ¨ä¸Šæ¬¡åœæ­¢çš„ä½ç½®ç»§ç»­æ‰§è¡Œ*/function* createIterator(items) &#123; for (let i = 0; i &lt; items.length; i++) &#123; yield items[i] &#125;&#125;let iterator = createIterator([1, 2, 3])console.log(iterator.next())console.log(iterator.next())console.log(iterator.next())console.log(iterator.next())// ä¹‹åçš„æ‰€æœ‰è°ƒç”¨console.log(iterator.next())// "&#123; value: 1, done: false &#125;"// "&#123; value: 2, done: false &#125;"// "&#123; value: 3, done: false &#125;"// "&#123; value: undefined, done: true &#125;"// "&#123; value: undefined, done: true &#125;" å…³äºç”Ÿæˆå™¨çš„å‡ ç‚¹æ³¨æ„äº‹é¡¹ï¼š ä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼æ¥åˆ›å»ºä¸€ä¸ªç”Ÿæˆå™¨ï¼Œåªè¦åœ¨ function å…³é”®å­—ä¸åœ†æ‹¬å·ä¹‹é—´ä½¿ç”¨ä¸€ä¸ªæ˜Ÿå·( * ) ç”±äºç”Ÿæˆå™¨å°±æ˜¯å‡½æ•°ï¼Œå› æ­¤ä¹Ÿå¯ä»¥è¢«æ·»åŠ åˆ°å¯¹è±¡ä¸­ï¼Œä¸‹åˆ—ä¸¤ç§æ–¹æ³•æ˜¯ç­‰ä»·çš„ã€‚ 1234567891011121314151617var o = &#123; createIterator: function*(items) &#123; for (let i = 0; i &lt; items.length; i++) &#123; yield items[i] &#125; &#125;&#125;var o = &#123; *createIterator(items) &#123; for (let i = 0; i &lt; items.length; i++) &#123; yield items[i] &#125; &#125;&#125;let iterator = o.createIterator([1, 2, 3]) ä¸èƒ½å°†ç®­å¤´å‡½æ•°åˆ›å»ºä¸ºç”Ÿæˆå™¨ å¯è¿­ä»£å¯¹è±¡ä¸ for-of å¾ªç¯ä¸è¿­ä»£å™¨ç´§å¯†ç›¸å…³çš„æ˜¯ï¼Œå¯è¿­ä»£å¯¹è±¡( iterable )æ˜¯åŒ…å« Symbol.iterator å±æ€§çš„å¯¹è±¡ã€‚è¿™ ä¸ª Symbol.iterator çŸ¥åç¬¦å·å®šä¹‰äº†ä¸ºæŒ‡å®šå¯¹è±¡è¿”å›è¿­ä»£å™¨çš„å‡½æ•°ã€‚ 12345let values = [1, 2, 3, &#123;&#125;, null, undefined]for (const value of values) &#123; console.log(value)&#125; è®¿é—®é»˜è®¤è¿­ä»£å™¨ä½ å¯ä»¥ä½¿ç”¨ Symbol.iterator æ¥è®¿é—®å¯¹è±¡ä¸Šçš„é»˜è®¤è¿­ä»£å™¨ï¼Œå°±åƒè¿™æ ·: 12345678910let values = [1, 2, 3]let iterator = values[Symbol.iterator]()console.log(iterator.next())console.log(iterator.next())console.log(iterator.next())console.log(iterator.next())// "&#123; value: 1, done: false &#125;"// "&#123; value: 2, done: false &#125;"// "&#123; value: 3, done: false &#125;"// "&#123; value: undefined, done: true &#125;" æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦èƒ½å¤Ÿè¿›è¡Œè¿­ä»£ 123456789function isIterable(object) &#123; return typeof object[Symbol.iterator] === "function"&#125;console.log(isIterable([1, 2, 3]))console.log(isIterable("Hello"))console.log(isIterable(new Map()))console.log(isIterable(new Set()))console.log(isIterable(new WeakMap())) // falseconsole.log(isIterable(new WeakSet())) // false]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>è¿­ä»£å™¨</tag>
        <tag>ç”Ÿæˆå™¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript é€’å½’ä¸Š]]></title>
    <url>%2F2018%2F03%2F08%2Fcl4s3gtel002ewn9erldwcgs2%2F</url>
    <content type="text"><![CDATA[å‚è€ƒèµ„æ–™ï¼šç¿»è¯‘è¿è½½ | ç¬¬ 9 ç« ï¼šé€’å½’ï¼ˆä¸Šï¼‰ï¼ã€ŠJavaScriptè½»é‡çº§å‡½æ•°å¼ç¼–ç¨‹ã€‹ |ã€Šä½ ä¸çŸ¥é“çš„JSã€‹å§Šå¦¹ç¯‡ JavaScript é€’å½’ä¸Šå®šä¹‰æ‰€è°“é€’å½’ï¼Œæ˜¯å½“ä¸€ä¸ªå‡½æ•°è°ƒç”¨è‡ªèº«ï¼Œå¹¶ä¸”è¯¥è°ƒç”¨åšäº†åŒæ ·çš„äº‹æƒ…ï¼Œè¿™ä¸ªå¾ªç¯æŒç»­åˆ°åŸºæœ¬æ¡ä»¶æ»¡è¶³æ—¶ï¼Œè°ƒç”¨å¾ªç¯è¿”å›ã€‚ âš ï¸ è­¦å‘Šï¼š å¦‚æœä½ ä¸èƒ½ç¡®ä¿åŸºæœ¬æ¡ä»¶æ˜¯é€’å½’çš„ ç»ˆç»“è€…ï¼Œé€’å½’å°†ä¼šä¸€ç›´æ‰§è¡Œä¸‹å»ï¼Œå¹¶ä¸”ä¼šæŠŠä½ çš„é¡¹ç›®æŸåæˆ–é”æ­»ï¼›æ°å½“çš„åŸºæœ¬æ¡ä»¶ååˆ†é‡è¦ï¼ ç›´æ¥é€’å½’ å½“ä¸€ä¸ªå‡½æ•°è°ƒç”¨è‡ªèº«æ—¶ï¼Œå¾ˆæ˜æ˜¾ï¼Œè¿™å«ä½œç›´æ¥é€’å½’ ç®€å•çš„å‡½æ•°é€’å½’123456function foo(x) &#123; if (x &lt; 5) return x; return foo(x / 2);&#125;console.log(foo(16)); æ±‚è´¨æ•°1234567891011121314151617181920212223242526/** * * åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯è´¨æ•°ï¼š * ä»2åˆ° num çš„å¹³æ–¹æ ¹ä¹‹é—´çš„æ¯ä¸ªæ•´æ•°ï¼Œçœ‹æ˜¯å¦å­˜åœ¨æŸä¸€æ•´æ•°å¯ä»¥æ•´é™¤ num (% æ±‚ä½™ç»“æœä¸º 0)ã€‚ * å¦‚æœå­˜åœ¨è¿™æ ·çš„æ•´æ•°ï¼Œé‚£ä¹ˆ num ä¸æ˜¯è´¨æ•°ã€‚åä¹‹ï¼Œæ˜¯è´¨æ•°ã€‚ * * @param &#123;number&#125; num è¢«åˆ¤æ–­æ˜¯å¦æ˜¯è´¨æ•° * @param &#123;number&#125; divisor */function isPrime(num, divisor = 2) &#123; // å‡ºå£ï¼Œéè´¨æ•° if (num &lt; 2 || (num &gt; 2 &amp;&amp; num % divisor == 0)) &#123; return false; &#125; // å…¥å£ï¼Œé€’å½’çš„æ¡ä»¶ if (divisor &lt;= Math.sqrt(num)) &#123; return isPrime(num, divisor + 1); &#125; // å‡ºå£ï¼Œè´¨æ•° return true;&#125;console.log(isPrime(40)); æ–æ³¢é‚£å¥‘æ•°1234fib( 0 ): 0fib( 1 ): 1fib( n ): fib( n - 2 ) + fib( n - 1 ) 1234567function fib(n) &#123; // å‡ºå£ï¼Œå½“nå°äºç­‰äº1æ—¶ï¼Œç»“æŸé€’å½’ if (n &lt;= 1) return n; // ä¸æ»¡è¶³ï¼Œå‡ºå£æ¡ä»¶ ï¼ŒæŒç»­é€’å½’ return fib(n - 2) + fib(n - 1);&#125; ç›¸äº’é€’å½’ å¦‚æœåœ¨ä¸€ä¸ªé€’å½’å¾ªç¯ä¸­ï¼Œå‡ºç°ä¸¤ä¸ªåŠä»¥ä¸Šçš„å‡½æ•°ç›¸äº’è°ƒç”¨ï¼Œåˆ™ç§°ä¹‹ä¸ºç›¸äº’é€’å½’ã€‚ æ±‚å¥‡æ•°å¶æ•°1234567891011function isOdd(v) &#123; if (v === 0) return false; return isEven(Math.abs(v) - 1);&#125;function isEven(v) &#123; if (v === 0) return true; return isOdd(Math.abs(v) - 1);&#125;console.log(isEven(31)); ç®€å•è¿­ä»£æ”¹ä¸ºé€’å½’12345678910111213141516171819202122232425262728/** * å¾ªç¯æ±‚å’Œ * @param &#123;number&#125; total æ±‚å’Œ * @param &#123;array&#125; nums å‚æ•°æ•°ç»„ */function sum(total, ...nums) &#123; for (let i = 0; i &lt; nums.length; i++) &#123; total = total + nums[i] &#125; return total;&#125;/** * é€’å½’æ±‚å’Œ * @param &#123;number&#125; total æ±‚å’Œ * @param &#123;array&#125; nums å‚æ•°æ•°ç»„ */function _sum(num1, ...nums) &#123; // æ¯æ¬¡å–åˆ°ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå‚æ•°åˆ—è¡¨æ•°é‡æ¯æ¬¡å°‘ä¸€ä¸ª if (nums.length == 0) return num1; return num1 + _sum(...nums);&#125;console.log(_sum(0, 1, 2, 3, 4, 10)) æ‰¾å‡ºå…¥å‚æœ€å¤§å¶æ•°å€¼12345678910111213141516171819202122232425262728293031/** * æ‰¾å‡ºå…¥å‚æœ€å¤§å¶æ•°å€¼ * @param &#123;*&#125; nums */function maxEven(...nums) &#123; var num = -Infinity; for (let i = 0; i &lt; nums.length; i++) &#123; if (nums[i] % 2 == 0 &amp;&amp; nums[i] &gt; num) &#123; num = nums[i] &#125; &#125; if (num !== -Infinity) &#123; return num; &#125;&#125;/** * * é€’å½’æ³•ï¼Œæ‰¾å‡ºå…¥å‚æœ€å¤§å¶æ•°å€¼ * @param &#123;any&#125; num1 * @param &#123;any&#125; restNums * @returns */function _maxEven(num1, ...restNums) &#123; var maxRest = restNums.length &gt; 0 ? _maxEven(...restNums) : undefined; return (num1 % 2 != 0 || num1 &lt; maxRest) ? maxRest : num1;&#125;console.log(_maxEven(9878, 45, 65, 98, 65))]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>é€’å½’</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Jenkinså®‰è£…åŠåŸºç¡€é…ç½®]]></title>
    <url>%2F2018%2F03%2F07%2Fcl4s3gtf8003mwn9e81spk62g%2F</url>
    <content type="text"><![CDATA[å‚è€ƒèµ„æ–™ï¼š CentOS ä¸Šå®‰è£… JenkinsRedHat Linux RPM packages for JenkinsJenkins+Node.jsæŒç»­é›†æˆGetting started with Jenkins and NodeCentOS 7 å®‰è£… GitlabJenkinsã€Git sshåŸç†ä»¥åŠä¸httpsçš„åŒºåˆ«Jenkinsæ‰“åŒ…nodeé¡¹ç›®æ­¥éª¤NodeJS Pluginå®˜æ–¹æ–‡æ¡£jenkins publish over sshä½¿ç”¨ Jenkinså®‰è£…åŠåŸºç¡€é…ç½®å®‰è£…Java ç¯å¢ƒå®‰è£…1yum install java Jenkins å®‰è£…123sudo wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat/jenkins.reposudo rpm --import https://pkg.jenkins.io/redhat/jenkins.io.keyyum install jenkins ç›¸å…³ç›®å½•jenkins å®‰è£…ç›®å½•ï¼ŒWAR åŒ…ä¼šæ”¾åœ¨è¿™é‡Œ 1/usr/lib/jenkins jenkins é…ç½®æ–‡ä»¶ï¼Œç«¯å£ã€JENKINS_HOME ç­‰éƒ½å¯ä»¥åœ¨è¿™é‡Œé…ç½® 1/etc/sysconfig/jenkins é»˜è®¤çš„ JENKINS_HOME 1/var/lib/jenkins/ Jenkins æ—¥å¿—æ–‡ä»¶1/var/log/jenkins/jenkins.log å¯åŠ¨Jenkins123sudo service jenkins startsystemctl start jenkins é‚®ä»¶é€šçŸ¥ å®šæ—¶ä»»åŠ¡]]></content>
      <categories>
        <category>å‰ç«¯å·¥ç¨‹åŒ–</category>
      </categories>
      <tags>
        <tag>Jenkins</tag>
        <tag>ECS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NPM æ•°ç»„æ¨¡å—å­¦ä¹ ä¸ä½¿ç”¨]]></title>
    <url>%2F2018%2F03%2F05%2Fcl4s3gtff0040wn9egtisftim%2F</url>
    <content type="text"><![CDATA[å‚è€ƒé“¾æ¥ï¼šawesome-micro-npm-packages NPM æ•°ç»„æ¨¡å—å­¦ä¹ ä¸ä½¿ç”¨ ç±»å‹ ä»“åº“åœ°å€ æè¿° æ•°ç»„ is-sorted ä¸€ä¸ªæ£€æŸ¥æ•°ç»„æ˜¯å¦æ’åºçš„å°å‹æ¨¡å— æ•°ç»„ array-first è·å–æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ,å¯ä»¥ä¼ é€’ä¸€ä¸ªé•¿åº¦å‚æ•°ï¼Œè¿”å›ä»å¤´éƒ¨å¼€å§‹æŒ‡å®šé•¿åº¦çš„å…ƒç´ çš„æ•°ç»„ æ•°ç»„ array-last è·å–æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ,å¯ä»¥ä¼ é€’ä¸€ä¸ªé•¿åº¦å‚æ•°ï¼Œè¿”å›ä»å°¾éƒ¨å¼€å§‹æŒ‡å®šé•¿åº¦çš„å…ƒç´ çš„æ•°ç»„ æ•°ç»„ arr-flatten é€’å½’æ‰å¹³åŒ–æ•°ç»„ã€‚ç‰¹æ€§ï¼šå¦‚æœå…ƒç´ æ˜¯æ•°ç»„ï¼Œé€’å½’æ•°ç»„ï¼Œå¦‚æœä¸æ˜¯æ•°ç»„ï¼Œåˆ™åŠ å…¥åˆ°æ–°æ•°ç»„ä¸­ï¼Œæœ€åè¿”å› æ•°ç»„ dedupe æ•°ç»„å»é‡: ç‰¹æ€§ï¼šæ”¯æŒå­—ç¬¦å‹ã€æ•°å€¼å‹ç®€å•æ•°ç»„ï¼›æ•°ç»„å¯¹è±¡ï¼Œå¯ä¼ å…¥åˆ¤æ–­æ–¹æ³•æ‰§è¡Œåˆ¤æ–­ key æ•°ç»„ array-range äº§ç”ŸæŒ‡å®šèŒƒå›´çš„å¯†é›†æ•°ç»„ï¼Œå¯ç”¨äºå‡½æ•°å¼ç¼–ç¨‹ æ•°ç»„ arr-diff è¿”å›ç¬¬ä¸€ä¸ªæ•°ç»„çš„å”¯ä¸€å€¼ï¼Œæ¯”è¾ƒæ—¶ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰ã€‚ç‰¹æ€§ï¼šå¦‚æœç¬¬äºŒä¸ªå‚æ•°ä¸æ˜¯æ•°ç»„ï¼Œåˆ™æ— æ•ˆè¿”å›åŸæ•°ç»„ã€‚å®ç°ï¼šéå†æ•°ç»„ï¼Œç›¸åŒå…ƒç´ èˆå¼ƒï¼Œå­˜åœ¨å¤šä¸ªæ•°ç»„ï¼Œåˆ™å¾ªç¯å¤šæ¬¡ æ•°ç»„ filled-array ä½¿ç”¨æŒ‡å®šçš„å…ƒç´ ï¼Œç”Ÿæˆæ•°ç»„ï¼Œå¯ä»¥ä¼ é€’ä¸€ä¸ªå‡½æ•°è¿”å›ç‰¹å®šçš„å…ƒç´  æ•°ç»„ map-array éå†å¯¹è±¡æ•°ç»„çš„å…ƒç´  key value åŠ å…¥åˆ°æ•°ç»„ä¸­ æ•°ç»„ in-array å¦‚æœå€¼å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè¿”å› true; æ¯” indexOf é€Ÿåº¦æ›´å¿«ï¼Œå‰ä¸ç”¨æ‹…å¿ƒ null çš„é—®é¢˜ æ•°ç»„ unordered-array-remove æœ‰æ•ˆçš„ç§»é™¤æ•°ç»„å…ƒç´ ï¼Œè€Œä¸è¿›è¡Œåˆ†å‰²ï¼›ç®—æ³•å®ç°å…ƒç´ æœ€åä¸€ä½å‡ºæ ˆï¼Œå¯¹äºå…ƒç´ è¿›è¡Œäº¤æ¢ï¼Œå¦‚æœæ˜¯æœ€åçš„å…ƒç´ ï¼Œç›´æ¥è¿”å› æ•°ç»„ mirrarray é€šè¿‡æ•°ç»„çš„ value å¿«é€Ÿåˆ›å»º key-value çš„å¯¹è±¡ï¼Œ é”®å€¼é‡å æ•°ç»„ group-array å°†å¯¹è±¡æ•°ç»„åˆ†ç»„åˆ°åˆ—è¡¨ä¸­ å®ç°ç»†èŠ‚+å·è¿ç®—ç¬¦éšå¼è½¬æ¢12+"12"12 æ•°ç»„èµ‹å€¼12345// ä»æ•°ç»„å°¾éƒ¨ï¼Œæˆªå– n é•¿åº¦ï¼Œèµ‹å€¼ç»™æ–°æ•°ç»„ var res = new Array(n); while (n--) &#123; res[n] = arr[--len]; &#125; ç®€å•é€’å½’12345678910// å¦‚æœå…ƒç´ æ˜¯æ•°ç»„ï¼Œé€’å½’æ•°ç»„ï¼Œå¦‚æœä¸æ˜¯æ•°ç»„ï¼Œåˆ™åŠ å…¥åˆ°æ–°æ•°ç»„ä¸­ï¼Œæœ€åè¿”å›function flat(arr, res) &#123; var i = 0, cur; var len = arr.length; for (; i &lt; len; i++) &#123; cur = arr[i]; Array.isArray(cur) ? flat(cur, res) : res.push(cur); &#125; return res;&#125; ä¼ é€’å¯é€‰å‚æ•°ï¼ˆå‡½æ•°ï¼‰1234567// åˆ¤æ–­å‚æ•°æ˜¯å¦æ˜¯å‡½æ•°var isFn = typeof item === 'function';// åˆ¤æ–­æ•°ç»„å¯¹è±¡æ˜¯å¦æœ‰ fill æ–¹æ³•, ieä¸å…¼å®¹if (!isFn &amp;&amp; typeof ret.fill === 'function') &#123; return ret.fill(item);&#125; åˆ¤æ–­keyæ˜¯å¦å±äº [â€˜stringâ€™, â€˜numberâ€™, â€˜booleanâ€™, â€˜undefinedâ€™] æˆ– null ä¸­çš„ä¸€ç§1234567/** * åˆ¤æ–­keyæ˜¯å¦å±äº ['string', 'number', 'boolean', 'undefined'] æˆ– null ä¸­çš„ä¸€ç§ */const isValidKey = element =&gt; &#123; const isNull = element === null; return ['string', 'number', 'boolean', 'undefined'].includes(typeof element) || isNull;&#125; æ£€æŸ¥åŒä¸€ä¸ª key ä¸­ä¸èƒ½æœ‰å¤šä¸ª valueå®ç°æ€è·¯ï¼Œç”¨å¯¹è±¡å­˜å‚¨å·²ç»ä¿å­˜çš„ key 12345678910111213141516const nonOverlappingKey = element =&gt; &#123; /** * Ensure we don't have distinct elements that coerce to the same key, leading to unexpected results. * For example, input of [true, 'true'] would return a keymirror of &#123;true: 'true'&#125; despite containing two distinct elements * if we didn't make this check. */ const isNull = element === null; const typeSeenBefore = keysSeen['' + element]; const thisType = isNull ? 'null' : typeof element; if (typeSeenBefore) &#123; return typeSeenBefore === thisType; &#125; else &#123; keysSeen['' + element] = thisType; return true; &#125;&#125;]]></content>
      <categories>
        <category>æ¨¡å—</category>
      </categories>
      <tags>
        <tag>npm</tag>
        <tag>æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Object.assign() ä¸ æ‰©å±•æ“ä½œç¬¦ï¼ˆ...ï¼‰]]></title>
    <url>%2F2018%2F02%2F27%2Fcl4s3gtfn004iwn9ecwoqgng2%2F</url>
    <content type="text"><![CDATA[å‚è€ƒèµ„æ–™ï¼š MDNï¼šObject.assign() MDN: æ‰©å±•æ“ä½œç¬¦ï¼ˆ...ï¼‰ ã€ŠReactå­¦ä¹ ä¹‹é“ã€‹æ‰©å±•æ“ä½œç¬¦ (å¯å…è´¹ä¸‹è½½) Object.assign() ä¸ æ‰©å±•æ“ä½œç¬¦ï¼ˆâ€¦ï¼‰ React æå€¡ä¸å¯å˜çš„æ•°æ®ç»“æ„ã€‚å› æ­¤ä½ ä¸åº”è¯¥æ”¹å˜ä¸€ä¸ªå¯¹è±¡(æˆ–è€…ç›´æ¥æ”¹å˜çŠ¶æ€)ã€‚æ›´å¥½çš„åšæ³•æ˜¯åŸºäºç°åœ¨æ‹¥æœ‰çš„èµ„æºæ¥åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚è¿™æ ·å°±æ²¡æœ‰ä»»ä½•å¯¹è±¡è¢«æ”¹å˜äº†ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯æ•°æ®ç»“æ„å°†ä¿æŒä¸å˜ï¼Œå› ä¸ºä½ æ€»æ˜¯è¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œè€Œä¹‹å‰çš„å¯¹è±¡ä¿æŒä¸å˜ã€‚ ç®€å•è¯´å°±æ˜¯ï¼Œä¸è¦ç›´æ¥ä¿®æ”¹å¯¹è±¡å±æ€§ï¼Œè€Œæ˜¯ç›´æ¥åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚å®ç°åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡æœ‰ä¸¤ç§æ–¹æ³•ï¼Œå³ï¼šObject.assign() ä¸ æ‰©å±•æ“ä½œç¬¦ï¼ˆâ€¦ï¼‰ Object.assign() Object.assign() å‡½æ•°æ¥åˆ°è¾¾è¿™æ ·çš„ç›®çš„ã€‚å®ƒæŠŠæ¥æ”¶çš„ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºç›®æ ‡å¯¹è±¡ï¼Œåé¢çš„æ‰€æœ‰å‚æ•°ä½œä¸ºæºå¯¹è±¡ã€‚ç„¶åæŠŠæ‰€æœ‰çš„æºå¯¹è±¡åˆå¹¶åˆ°ç›®æ ‡å¯¹ è±¡ä¸­ã€‚åªè¦æŠŠç›®æ ‡å¯¹è±¡è®¾ç½®æˆä¸€ä¸ªç©ºå¯¹è±¡ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚è¿™ç§åšæ³•æ˜¯æ‹¥æŠ± ä¸å˜æ€§çš„ï¼Œå› ä¸ºæ²¡æœ‰ä»»ä½•æºå¯¹è±¡è¢«æ”¹å˜ã€‚ React ä¸­çš„ä½¿ç”¨ï¼š123 this.setState(&#123; result: Object.assign(&#123;&#125;, this.state.result, &#123; hits: updatedHits &#125;)&#125;); å…¶ä»–ä½¿ç”¨æ–¹æ³•å¤åˆ¶ä¸€ä¸ªå¯¹è±¡ 123var obj = &#123; a: 1 &#125;;var copy = Object.assign(&#123;&#125;, obj);console.log(copy); // &#123; a: 1 &#125; æ·±æ‹·è´é—®é¢˜: é’ˆå¯¹æ·±æ‹·è´ï¼Œéœ€è¦ä½¿ç”¨å…¶ä»–æ–¹æ³•ï¼Œå› ä¸º Object.assign()æ‹·è´çš„æ˜¯å±æ€§å€¼ã€‚å‡å¦‚æºå¯¹è±¡çš„å±æ€§å€¼æ˜¯ä¸€ä¸ªæŒ‡å‘å¯¹è±¡çš„å¼•ç”¨ï¼Œå®ƒä¹Ÿåªæ‹·è´é‚£ä¸ªå¼•ç”¨å€¼ã€‚ 123456789101112131415let obj1 = &#123; a: 0 , b: &#123; c: 0&#125;&#125;;let obj2 = Object.assign(&#123;&#125;, obj1);// å½“ä¿®æ”¹ obj2.b.c å‘ç° obj1ã€obj2 çš„å±æ€§éƒ½è¢«ä¿®æ”¹äº†ï¼Œå› ä¸ºä»–ä»¬ä¿å­˜çš„æ˜¯å¯¹è±¡çš„åŒä¸€ä¸ªå¼•ç”¨obj2.b.c = 3;console.log(JSON.stringify(obj1)); // &#123; a: 1, b: &#123; c: 3&#125;&#125;console.log(JSON.stringify(obj2)); // &#123; a: 2, b: &#123; c: 3&#125;&#125;// æ­£ç¡®å®ç°æ·±æ‹·è´çš„æ–¹å¼obj1 = &#123; a: 0 , b: &#123; c: 0&#125;&#125;;let obj3 = JSON.parse(JSON.stringify(obj1));obj1.a = 4;obj1.b.c = 4;console.log(JSON.stringify(obj3)); // &#123; a: 0, b: &#123; c: 0&#125;&#125; åˆå¹¶å¯¹è±¡ 1234567var o1 = &#123; a: 1 &#125;;var o2 = &#123; b: 2 &#125;;var o3 = &#123; c: 3 &#125;;var obj = Object.assign(o1, o2, o3);console.log(obj); // &#123; a: 1, b: 2, c: 3 &#125;console.log(o1); // &#123; a: 1, b: 2, c: 3 &#125;, æ³¨æ„ç›®æ ‡å¯¹è±¡è‡ªèº«ä¹Ÿä¼šæ”¹å˜ã€‚ åˆå¹¶å…·æœ‰ç›¸åŒå±æ€§çš„å¯¹è±¡ 123456var o1 = &#123; a: 1, b: 1, c: 1 &#125;;var o2 = &#123; b: 2, c: 2 &#125;;var o3 = &#123; c: 3 &#125;;var obj = Object.assign(&#123;&#125;, o1, o2, o3);console.log(obj); // &#123; a: 1, b: 2, c: 3 &#125; æ‰©å±•æ“ä½œç¬¦ï¼ˆâ€¦ï¼‰ ç”±ä¸‰ä¸ªç‚¹ç»„æˆ: ... ã€‚å½“ä½¿ç”¨å®ƒæ—¶ï¼Œæ•°ç»„ æˆ–å¯¹è±¡ä¸­çš„æ¯ä¸€ä¸ªå€¼éƒ½ä¼šè¢«æ‹·è´åˆ°ä¸€ä¸ªæ–°çš„æ•°ç»„æˆ–å¯¹è±¡ã€‚ React ä¸­ä½¿ç”¨ 123 this.setState(&#123; result: &#123; ...this.state.result, hits: updatedHits &#125;&#125;);]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>React</tag>
        <tag>çº¯å‡½æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Jenkins NodeJS Plugin æ’ä»¶å®‰è£…ä½¿ç”¨]]></title>
    <url>%2F2018%2F02%2F10%2Fcl4s3gtez0039wn9e26chqjnr%2F</url>
    <content type="text"><![CDATA[Jenkins NodeJS Plugin æ’ä»¶å®‰è£…ä½¿ç”¨NodeJS Plugin æ’ä»¶å®˜æ–¹ WIKIï¼š NodeJS Plugin ä¸»è¦ç‰¹æ€§ï¼š æä¾› NodeJS çš„è‡ªåŠ¨å®‰è£…ï¼Œå¯ä»¥åˆ›å»ºå¹¶ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„ NodeJS å…è®¸åœ¨æ¯ä¸ªé¡¹ç›®å®‰è£…å…¨å±€çš„ npm åŒ… å®‰è£…å®Œæˆåå¯ä»¥æ‰§è¡Œ NodeJS è„šæœ¬ å¯ä»¥ä½¿ç”¨å®šåˆ¶çš„ NPM ç”¨æˆ·é…ç½®æ–‡ä»¶ æ”¯æŒ DSL pipeline Jenkins ä¸­è®¾ç½®Jenkins: ç³»ç»Ÿç®¡ç† ---&gt; å…¨å±€å·¥å…·é…ç½® ---&gt; NodeJS æ–°å¢å®‰è£…ï¼Œé€‰æ‹© Install from nodejs.org é€‰æ‹©å®‰è£…ç‰ˆæœ¬ï¼Œå»ºè®®å®‰è£…ç¨³å®šæ”¯æŒç‰ˆï¼Œè¿™é‡Œé€‰æ‹©v8.9.4 âš ï¸ é…ç½®çš„æ—¶å€™æ³¨æ„ï¼Œå®‰è£…æ–¹å¼é€‰æ‹©åï¼Œå¦‚æœè¦æ›´æ”¹æ–¹å¼ï¼Œè¯·åˆ é™¤å®‰è£…åå†é‡æ–°é€‰æ‹©ï¼ ä¸€ä¸ªå®Œæ•´çš„é…ç½®ï¼š åœ¨é¡¹ç›®ä¸­é€‰æ‹© NodeJS]]></content>
      <categories>
        <category>å‰ç«¯å·¥ç¨‹åŒ–</category>
      </categories>
      <tags>
        <tag>Jenkins</tag>
        <tag>ECS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Jenkins publish over ssh æ’ä»¶ä½¿ç”¨]]></title>
    <url>%2F2018%2F02%2F10%2Fcl4s3gtf6003jwn9e8k403irw%2F</url>
    <content type="text"><![CDATA[å‚è€ƒé“¾æ¥ï¼šjenkins publish over ssh ä½¿ç”¨Jenkins å¸¸ç”¨æ’ä»¶ä¹‹ Publish Over SSH Jenkins publish over ssh æ’ä»¶ä½¿ç”¨ç³»ç»Ÿï¼šCentOS Linux release 7.4.1708 (Core)æœåŠ¡å™¨ï¼šé˜¿é‡Œäº‘ECS è¿œç¨‹æœåŠ¡å™¨ä¸Šç”Ÿæˆå¯†é’¥1#ssh-keygen ä¸€ç›´é»˜è®¤ï¼Œå¦‚æœå¯¹å®‰å…¨ä¸æ˜¯ç‰¹åˆ«è‹›åˆ»ï¼Œå¯ä»¥ä¸è®¾ç½® parsepassï¼Œ åœ¨ /root/.sshç›®å½•ä¸‹ç”Ÿæˆ id_rsa.pub id_rsa å…¬é’¥å’Œç§é’¥ã€‚ å¤åˆ¶å…¬é’¥æ–‡ä»¶ id_rsa.pub æ”¹åä¸º authorized_keys,åªæœ‰è¿™ä¸ªå…¬é’¥é‡Œç”¨æˆ·ï¼ˆè¿™é‡Œæ˜¯rootï¼‰å¯ä»¥è¿æ¥ã€‚ å°†å¯†é’¥å¤åˆ¶åˆ° Jenkinsæ£€æŸ¥ Publish Over SSH æ’ä»¶æ˜¯å¦å·²ç»å®‰è£…ã€‚ è¯¥æ’ä»¶ä¸»è¦æ˜¯é€šè¿‡ SSH è¿æ¥å…¶ä»– Linux æœºå™¨ï¼Œè¿œç¨‹ä¼ è¾“æ–‡ä»¶åŠæ‰§è¡Œ Shell å‘½ä»¤ã€‚ ç‰¹æ€§ï¼š1ã€SCPâ€”é€šè¿‡ SSH å‘é€æ–‡ä»¶2ã€åœ¨è¿œç¨‹æœåŠ¡å™¨æ‰§è¡Œ shell å‘½ä»¤3ã€Passwords/passphrases åœ¨é…ç½®æ–‡ä»¶åŠ UI ç•Œé¢æ˜¯åŠ å¯†æ˜¾ç¤ºçš„4ã€SSH å¯åœ¨é¡¹ç›®ç¼–è¯‘å‰æˆ–ç¼–è¯‘åæ‰§è¡Œï¼Œä¸æ˜¯å¦ç¼–è¯‘æˆåŠŸæ— å…³ Jenkins: ç³»ç»Ÿç®¡ç† ---&gt; ç³»ç»Ÿè®¾ç½® ---&gt; Publish over SSH åœ¨é¡¹ç›®ä¸­é€‰æ‹© SSH æœåŠ¡]]></content>
      <categories>
        <category>å‰ç«¯å·¥ç¨‹åŒ–</category>
      </categories>
      <tags>
        <tag>Jenkins</tag>
        <tag>ECS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[React äº‹ä»¶å¤„ç†]]></title>
    <url>%2F2018%2F01%2F28%2Fcl4s3gtfr004own9eivhzuvju%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼š äº‹ä»¶å¤„ç†ï¼ˆReact æ–‡æ¡£ï¼‰ ä» React ç»‘å®š thisï¼Œçœ‹ JS è¯­è¨€å‘å±•å’Œæ¡†æ¶è®¾è®¡ React äº‹ä»¶å¤„ç†äº‹ä»¶åŒ…å«äº†è®¸å¤šç»†èŠ‚ï¼Œåœ¨å®é™…å¼€å‘ä¸­å®¹æ˜“å¿½ç•¥ï¼Œé€ æˆä¸æ˜¯æˆ‘ä»¬æœŸæœ›çš„ç»“æœï¼Œæœ¬æ–‡åŒ…å«äº†è¿™éƒ¨åˆ†çš„ç»†èŠ‚ï¼Œè§£å†³å¼€å‘ä¸­é‡åˆ°çš„ React äº‹ä»¶çš„é—®é¢˜ã€‚ å¯¹æ¯”ä¼ ç»Ÿ HTMLReact å…ƒç´ çš„äº‹ä»¶å¤„ç†å’Œ DOM å…ƒç´ çš„å¾ˆç›¸ä¼¼ã€‚ä½†æ˜¯æœ‰ä¸€ç‚¹è¯­æ³•ä¸Šçš„ä¸åŒ: React äº‹ä»¶ç»‘å®šå±æ€§çš„å‘½åé‡‡ç”¨é©¼å³°å¼å†™æ³•ï¼Œè€Œä¸æ˜¯å°å†™ã€‚ å¦‚æœé‡‡ç”¨ JSX çš„è¯­æ³•ä½ éœ€è¦ä¼ å…¥ä¸€ä¸ªå‡½æ•°ä½œä¸ºäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²( DOM å…ƒç´ çš„å†™æ³•) ä¼ ç»Ÿçš„ HTMLï¼š 1&lt;button onclick="activateLasers()"&gt;Activate Lasers&lt;/button&gt; React ä¸­ç¨ç¨æœ‰ç‚¹ä¸åŒï¼š 1&lt;button onClick=&#123;activateLasers&#125;&gt;Activate Lasers&lt;/button&gt; é˜»æ­¢äº‹ä»¶é»˜è®¤è¡Œä¸ºä¸èƒ½ä½¿ç”¨è¿”å› false çš„æ–¹å¼é˜»æ­¢é»˜è®¤è¡Œä¸ºã€‚ä½ å¿…é¡»æ˜ç¡®çš„ä½¿ç”¨ preventDefault ä¼ ç»Ÿ HTML ä¸­å¯ä»¥è¿™æ ·å†™ 123&lt;a href="#" onclick="console.log('The link was clicked.'); return false"&gt; Click me&lt;/a&gt; åœ¨ React ä¸­åº”è¯¥è¿™æ ·å†™ 123456789101112function ActionLink() &#123; function handleClick(e) &#123; e.preventDefault(); console.log("The link was clicked."); &#125; return ( &lt;a href="#" onClick=&#123;handleClick&#125;&gt; Click me &lt;/a&gt; );&#125; è¿™é‡Œçš„å‚æ•° e æ˜¯åˆæˆäº‹ä»¶ï¼ŒReact æ ¹æ® W3C spec æ¥å®šä¹‰è¿™äº›åˆæˆäº‹ä»¶ï¼Œæ‰€ä»¥ä½ ä¸éœ€è¦æ‹…å¿ƒè·¨æµè§ˆå™¨çš„å…¼å®¹æ€§é—®é¢˜ã€‚ åœ¨ ES6 ä¸­çš„äº‹ä»¶å¤„ç†1234567891011121314151617181920212223class Toggle extends React.Component &#123; constructor(props) &#123; super(props); this.state = &#123; isToggleOn: true &#125;; // This binding is necessary to make `this` work in the callback this.handleClick = this.handleClick.bind(this); &#125; handleClick() &#123; this.setState(prevState =&gt; (&#123; isToggleOn: !prevState.isToggleOn &#125;)); &#125; render() &#123; return ( &lt;button onClick=&#123;this.handleClick&#125;&gt; &#123;this.state.isToggleOn ? "ON" : "OFF"&#125; &lt;/button&gt; ); &#125;&#125; ä½ å¿…é¡»è°¨æ…å¯¹å¾… JSX å›è°ƒå‡½æ•°ä¸­çš„ thisï¼Œç±»çš„æ–¹æ³•é»˜è®¤æ˜¯ä¸ä¼šç»‘å®š this çš„ã€‚å¦‚æœä½ å¿˜è®°ç»‘å®š this.handleClick å¹¶æŠŠå®ƒä¼ å…¥ onClick, å½“ä½ è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ this çš„å€¼ä¼šæ˜¯ undefinedã€‚ è¿™å¹¶ä¸æ˜¯ React çš„ç‰¹æ®Šè¡Œä¸ºï¼›å®ƒæ˜¯å‡½æ•°å¦‚ä½•åœ¨ JavaScript ä¸­è¿è¡Œçš„ä¸€éƒ¨åˆ†ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœä½ æ²¡æœ‰åœ¨æ–¹æ³•åé¢æ·»åŠ  () ï¼Œä¾‹å¦‚ onClick={this.handleClick}ï¼Œä½ åº”è¯¥ä¸ºè¿™ä¸ªæ–¹æ³•ç»‘å®š thisã€‚ ç»‘å®š thisReact.createClass è‡ªåŠ¨ç»‘å®šReact.createClass åˆ›å»ºçš„ç»„ä»¶ï¼Œå¯ä»¥è‡ªåŠ¨ç»‘å®š thisã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œthis è¿™ä¸ªå…³é”®å­—ä¼šè‡ªåŠ¨ç»‘å®šåœ¨ç»„ä»¶å®ä¾‹ä¸Šé¢ã€‚ 123// This magically works with React.createClass// because `this` is bound for you.onChange = &#123;this.handleChange&#125; å½“ç„¶å¾ˆé—æ†¾ï¼Œå¯¹äºç»„ä»¶çš„åˆ›å»ºï¼Œå®˜æ–¹å·²ç»æ¨èä½¿ç”¨ class å£°æ˜ç»„ä»¶æˆ–ä½¿ç”¨ functional æ— çŠ¶æ€ç»„ä»¶ æ¸²æŸ“æ—¶ç»‘å®š1onChange = &#123;this.handleChange.bind(this)&#125; æœ‰ä¸€ä¸ªæ½œåœ¨çš„æ€§èƒ½é—®é¢˜ï¼š å½“ç»„ä»¶æ¯æ¬¡é‡æ–°æ¸²æŸ“æ—¶ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªæ–°çš„å‡½æ•°è¢«åˆ›å»ºã€‚ä½†åœ¨æ­£å¸¸å¼€å‘åœºæ™¯ä¸­ï¼Œå¯ä»¥å¿½ç•¥ã€‚ ç®­å¤´å‡½æ•°ç»‘å®š1onChange = &#123;e =&gt; this.handleChange(e)&#125; åŒæ ·å­˜åœ¨æ½œåœ¨çš„æ€§èƒ½é—®é¢˜ Constructor å†…ç»‘å®š1234constructor(props) &#123; super(props); this.handleChange = this.handleChange.bind(this);&#125; é‡å¤è€Œç´¯èµ˜ Class å±æ€§ä¸­ä½¿ç”¨ = å’Œç®­å¤´å‡½æ•°1234handleChange = () =&gt; &#123; // call this function from render // and this.whatever in here works fine.&#125;; è¿™ç§æ–¹å¼çš„ä¼˜ç‚¹ï¼š ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œæœ‰æ•ˆç»‘å®šäº† thisï¼› æ²¡æœ‰ç¬¬äºŒç§æ–¹æ³•å’Œç¬¬ä¸‰ç§æ–¹æ³•çš„æ½œåœ¨æ€§èƒ½é—®é¢˜ï¼› é¿å…äº†æ–¹æ³•å››çš„ç»„ä»¶å®ä¾‹é‡å¤é—®é¢˜ï¼› æˆ‘ä»¬å¯ä»¥ç›´æ¥ä» ES5 createClass é‡æ„å¾—æ¥ã€‚ è¿™ä¸ªæ–¹æ³•ä¾èµ–äº ES next çš„æ–°ç‰¹æ€§ï¼Œ è¯·å‚è€ƒï¼štc39.github.io &gt; http://babeljs.io/blog/2015/06/07/react-on-es6-plus/ &gt; http://babeljs.io/blog/2015/10/31/setting-up-babel-6/ å¥½æ¶ˆæ¯æ˜¯åœ¨ create-react-app ç­‰å·¥å…·ä¸­å·²ç»é»˜è®¤å¼€å¯ã€‚ å‘äº‹ä»¶å¤„ç†ç¨‹åºä¼ é€’å‚æ•°123&lt;button onClick=&#123;(e) =&gt; this.deleteRow(id, e)&#125;&gt;Delete Row&lt;/button&gt;&lt;button onClick=&#123;this.deleteRow.bind(this, id)&#125;&gt;Delete Row&lt;/button&gt; ä¸Šè¿°ä¸¤ç§æ–¹å¼æ˜¯ç­‰ä»·çš„ï¼Œåˆ†åˆ«é€šè¿‡ arrow functions å’Œ Function.prototype.bind æ¥ä¸ºç‰¹å®šäº‹ä»¶ç±»å‹æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åºã€‚ ä¸Šé¢ä¸¤ä¸ªä¾‹å­ä¸­ï¼Œå‚æ•° e ä½œä¸º React äº‹ä»¶å¯¹è±¡å°†ä¼šè¢«ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°è¿›è¡Œä¼ é€’ã€‚é€šè¿‡ç®­å¤´å‡½æ•°çš„æ–¹å¼ï¼Œäº‹ä»¶å¯¹è±¡å¿…é¡»æ˜¾å¼çš„è¿›è¡Œä¼ é€’ï¼Œä½†æ˜¯é€šè¿‡ bind çš„æ–¹å¼ï¼Œäº‹ä»¶å¯¹è±¡ä»¥åŠæ›´å¤šçš„å‚æ•°å°†ä¼šè¢«éšå¼çš„è¿›è¡Œä¼ é€’ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œé€šè¿‡ bind æ–¹å¼å‘ç›‘å¬å‡½æ•°ä¼ å‚ï¼Œåœ¨ç±»ç»„ä»¶ä¸­å®šä¹‰çš„ç›‘å¬å‡½æ•°ï¼Œäº‹ä»¶å¯¹è±¡ e è¦æ’åœ¨æ‰€ä¼ é€’å‚æ•°çš„åé¢ï¼Œä¾‹å¦‚: 123456789101112131415161718192021222324252627class Popper extends React.Component &#123; constructor() &#123; super(); this.state = &#123; name: "Hello world!" &#125;; &#125; preventPop(name, e) &#123; //äº‹ä»¶å¯¹è±¡eè¦æ”¾åœ¨æœ€å e.preventDefault(); alert(name); &#125; render() &#123; return ( &lt;div&gt; &lt;p&gt;hello&lt;/p&gt; &#123;/* Pass params via bind() method. */&#125; &lt;a href="https://reactjs.org" onClick=&#123;this.preventPop.bind(this, this.state.name)&#125; &gt; Click &lt;/a&gt; &lt;/div&gt; ); &#125;&#125; å…¶ä»–é—®é¢˜äº‹ä»¶è‡ªåŠ¨æ‰§è¡Œäº†ï¼Ÿä¾‹å¦‚ï¼š 123&lt;a href="#" onClick=&#123;this.onLoadQR(text)&#125;&gt; &lt;Icon type="qrcode" /&gt;ä¸‹è½½&lt;/a&gt; è¿™ç§å†™æ³•æ˜¯ç›´æ¥æ‰§è¡Œäº†å‡½æ•°ï¼Œæ‰€ä»¥æ¯ä¸€æ¬¡æ¸²æŸ“éƒ½ä¼šæ‰§è¡Œ è€Œæ­£ç¡®çš„è¡Œä¸ºæ˜¯ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨è¿™é‡Œè¿›è¡Œäº‹ä»¶ç»‘å®šï¼Œå› ä¸º React ä¸ä¼šè¿›è¡Œè‡ªåŠ¨ç»‘å®šï¼Œå…·ä½“æ–¹æ³•çœ‹å‰æ–‡ â€œç»‘å®š thisâ€ ä¸å†™ this ä¸ºä»€ä¹ˆæ‰¾ä¸åˆ°æ–¹æ³•ï¼Ÿä¾‹å¦‚ï¼š 1&lt;Switch defaultChecked onChange=&#123;onChangeSwitch(text)&#125; /&gt; çœç•¥äº† this, æ­¤æ—¶æ–¹æ³•è™½ç„¶å†™åœ¨äº† class å†…ï¼Œä½†æ˜¯ç¼ºæ— æ³•è·å–åˆ°ï¼Œæ­¤æ—¶å¦‚æœå°†æ–¹æ³•å†™åˆ° class å¤–ï¼Œä½œä¸ºä¸€ä¸ªå…¨å±€å˜é‡ï¼Œä½†è¿™ä¸ªæ–¹æ³•å†…éƒ¨çš„ this æŒ‡å‘ç¼ºä¸º undefinedã€‚]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>react</tag>
        <tag>äº‹ä»¶</tag>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é«˜æ€§èƒ½ Webpack3 é…ç½®]]></title>
    <url>%2F2018%2F01%2F10%2Fcl4s3gtj700bown9e5m4po5t7%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šHigh-performance webpack config for front-end deliverywebpack3 æŒ‡å— é«˜æ€§èƒ½ Webpack é…ç½®Scope Hoisting ï¼ˆä½œç”¨åŸŸæå‡ï¼‰å®˜æ–¹æ–‡æ¡£ï¼šModuleConcatenationPlugin è¿‡å» webpack æ‰“åŒ…æ—¶çš„ä¸€ä¸ªå–èˆæ˜¯å°† bundle ä¸­å„ä¸ªæ¨¡å—å•ç‹¬æ‰“åŒ…æˆé—­åŒ…ã€‚è¿™äº›æ‰“åŒ…å‡½æ•°ä½¿ä½ çš„ JavaScript åœ¨æµè§ˆå™¨ä¸­å¤„ç†çš„æ›´æ…¢ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œä¸€äº›å·¥å…·åƒ Closure Compiler å’Œ RollupJS å¯ä»¥æå‡(hoist)æˆ–è€…é¢„ç¼–è¯‘æ‰€æœ‰æ¨¡å—åˆ°ä¸€ä¸ªé—­åŒ…ä¸­ï¼Œæå‡ä½ çš„ä»£ç åœ¨æµè§ˆå™¨ä¸­çš„æ‰§è¡Œé€Ÿåº¦ã€‚ åœ¨ç”Ÿäº§ç¯å¢ƒä¸­é…ç½®ï¼š 1234567const webpack = require('webpack');module.exports = &#123; plugins: [ new webpack.optimize.ModuleConcatenationPlugin(), ],&#125;; ä¸‹é¢æ”¾ä¸€å¼ ç”¨æˆ·ä½¿ç”¨ä¹‹ååŒ…ä½“çš„å¯¹æ¯”ï¼Œå¤§æ¦‚å‡å°‘äº†50%ï¼Œå¯¹äºæ¨¡å—æ•°é‡å¾ˆå¤šçš„é¡¹ç›®æ¥è¯´æå‡è¾ƒå¤§ã€‚ Minification and Uglification ï¼ˆå‹ç¼©å’Œä¸‘åŒ–ï¼‰ä»£ç å‹ç¼©å’Œâ€œä¸‘åŒ–â€æ˜¯ç”Ÿäº§ç¯å¢ƒä¸­å¿…ä¸å¯å°‘çš„ï¼Œç„¶è€Œå¶å°”çš„ä¼šé—å¿˜ï¼Œæ‰€ä»¥åœ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒä¹‹å‰ï¼Œé¦–å…ˆè¦åšçš„å°±æ˜¯æ£€æŸ¥ä»£ç æ˜¯å¦ç»è¿‡å‹ç¼©å’Œâ€œä¸‘åŒ–â€ é”™è¯¯çš„æ–¹å¼ç›´æ¥è¿è¡Œ webpack å‘½ä»¤è¿›è¡Œæ‰“åŒ…ï¼ŒæŸ¥çœ‹åŒ…ä½“ç§¯ æ­£ç¡®çš„æ–¹å¼åªéœ€è¦åœ¨ webpack å‘½ä»¤åé¢åŠ ä¸Š -p å‚æ•°ï¼ é€šè¿‡å¯¹æ¯”å¯ä»¥å‘ç°ï¼Œå‡å°‘äº†æ•´æ•´ 60% çš„ä½“ç§¯ï¼æ²¡æœ‰å‹ç¼©å‰ï¼Œå……æ–¥ç€ç©ºæ ¼ã€æ¢è¡Œã€æ³¨é‡Šï¼ ğŸ“Œ -p å‚æ•°ä¸ä¼šè®¾ç½® node ç¯å¢ƒå˜é‡ä¸ºç”Ÿäº§ç¯å¢ƒ productionï¼Œå½“ä½ éœ€è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ‰§è¡Œæ—¶ï¼Œå¯ä½¿ç”¨è¯¥å‘½ä»¤è¡Œï¼šNODE_ENV=production PLATFORM=web webpack -p ğŸ“Œ ä¸ºäº†å¿«é€Ÿæ‰“åŒ…ï¼Œå¯ä»¥å°†å‚æ•°æ·»åŠ åˆ° package.json ä¸­ï¼š 123"scripts": &#123; "build": "webpack -p"&#125;, é«˜çº§å‹ç¼©æ–¹å¼ä½¿ç”¨ UglifyjsWebpackPlugin æ’ä»¶å®‰è£… 1npm i -D uglifyjs-webpack-plugin ç”¨æ³• 123456789webpack.config.jsconst UglifyJsPlugin = require('uglifyjs-webpack-plugin')module.exports = &#123; plugins: [ new UglifyJsPlugin() ]&#125; é»˜è®¤çš„é…ç½®å·²ç»å¾ˆå¥½çš„æ»¡è¶³å¤§éƒ¨åˆ†çš„é¡¹ç›®éœ€æ±‚ï¼Œä½†å¦‚ä½•ä½ æƒ³æ›´è¿›ä¸€æ­¥å‹ç¼©ï¼Œå‡å°‘ä¸€éƒ¨åˆ†ä¸å¿…è¦çš„ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨ Webpack ç‰ˆæœ¬ &gt; 3.0ï¼š 123plugins:[ new webpack.optimize.UglifyJsPlugin(&#123;/* options here */&#125;),], Dynamic Imports for Lazy-loaded Modules ï¼ˆåŠ¨æ€å¼•å…¥å’Œæ‡’åŠ è½½ï¼‰ç”Ÿäº§ç¯å¢ƒä¸‹çš„ä½¿ç”¨ä½¿ç”¨åŠ¨æ€å¼•å…¥çš„é¡¹ç›®ï¼Œç¼–è¯‘æ—¶ï¼š å¯ä»¥çœ‹åˆ°ä¹‹å‰æ•´ä¸ªçš„ bundle.js æ–‡ä»¶è¢«æ‹†åˆ†äº†å¤šä¸ªï¼Œåœ¨ index.html ä¸­åªå¼•å…¥äº† index.bundle.js ä½œä¸ºå…¥å£ï¼ŒæŒ‰éœ€åŠ è½½å…¶ä»–è¢«æ‹†åˆ†çš„jsæ–‡ä»¶ å®‰è£…é…ç½®å®‰è£… Babelï¼š 1yarn add babel-loader babel-core babel-preset-env é…ç½® webpack.config.jsï¼Œå…è®¸ Babel å¤„ç†ä½ çš„ js æ–‡ä»¶ 123456789module: &#123; rules: [ &#123; test: /\.js$/, use: 'babel-loader', exclude: /node_modules/, &#125;, ],&#125;, å®Œæˆä»¥ä¸Šè®¾ç½®åï¼Œå¯ä»¥å®‰è£…å¤„ç†åŠ¨æ€å¼•å…¥çš„æ’ä»¶äº† 1yarn add babel-plugin-syntax-dynamic-import åˆ›å»ºæˆ–ä¿®æ”¹ .babelrc åœ¨é¡¹ç›®çš„æ ¹ç›®å½• 1234&#123; "presets": ["env"], "plugins": ["syntax-dynamic-import", "transform-react-jsx"]&#125; æ”¹é€ ä»£ç å°†éœ€è¦è¢«æ”¹é€ æˆæ‡’åŠ è½½çš„æ¨¡å—åšç®€å•çš„ä»£æ›¿ï¼š 1import Home from './components/Home'; with1const Home = import('./components/Home'); æœ€ç»ˆæˆ‘ä»¬çš„ index.js å…¥å£æ–‡ä»¶è¢«æ”¹é€ æˆäº†è¿™æ ·ï¼Œè¿™ç§ import çš„æ–¹å¼åªæ˜¯ä¸€ç§è¯­æ³•ç³–ï¼Œåœ¨ä¸€äº›æ¡†æ¶ä¸­å¦‚ vue å·²ç»å¾—åˆ°æ”¯æŒ 123456import React from 'react';import Async from 'react-code-splitting';const Nav = () =&gt; (&lt;Async load=&#123;import('./components/Nav')&#125; /&gt;);const Home = () =&gt; (&lt;Async load=&#123;import('./views/home')&#125; /&gt;);const Countdown = () =&gt; (&lt;Async load=&#123;import('./views/countdown')&#125; /&gt;); webpack.config.jsé…ç½®æ–‡ä»¶çš„å‡ºå£å’Œå‡ºå£ 123456789entry: &#123; index: './index.js',&#125;, output: &#123; path: path.resolve(__dirname, 'dist'), filename: '[name].bundle.js', publicPath: '/',&#125;, Deterministic Hashes for Cachingï¼ˆå¯¹ç¼“å­˜ä½¿ç”¨ç¡®å®šçš„Hashå€¼ï¼‰webpack åœ¨é»˜è®¤çš„æƒ…å†µä¸‹ä¸ä¼šè‡ªåŠ¨æ·»åŠ  hashï¼Œä¾‹å¦‚ app.8087f8d9fed812132141.jsï¼Œè¿™æ„å‘³ç€ï¼Œæ•°æ®ä¿å­˜åœ¨ç¼“å­˜ä¸ªä¸­ï¼Œå½“ç”¨æˆ·åˆ·æ–°æ—¶ä¸ä¼šå¾—åˆ°æ›´æ–°ã€‚ åœ¨ webpack å¿«é€Ÿæ·»åŠ  hashesï¼š 123output: &#123; filename: '[name].[hash].js',&#125;, âš ï¸ æ³¨æ„è¿™é‡Œæœ‰ä¸€ä¸ªé™·é˜±ï¼Œæ¯ä¸€æ¬¡çš„æ„å»ºï¼Œä¸ç®¡æ–‡ä»¶æœ‰æ²¡æœ‰æ›´æ”¹éƒ½ä¼šé‡æ–°å£°åœºæ–°çš„ hash å€¼ï¼Œä¾‹å¦‚åœ¨ä½¿ç”¨ webpack -p æ—¶ï¼Œå³ä½¿ç”¨æˆ·å·²ç»å·²ç»ä¸‹è½½ç›¸å…³æ–‡ä»¶ï¼Œé‚£ä¹ˆè®²ä¸å¾—ä¸åˆ·æ–°ï¼ âš ï¸ ä½¿ç”¨å“ˆå¸Œå€¼æ„å»ºï¼Œå°†ä¼šé™ä½ç¼–è¯‘çš„é€Ÿåº¦ï¼Œè¯·åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ï¼ Deterministic Hashes é…ç½® ğŸ“Œè¿™é‡Œæˆ‘ä»¬éœ€è¦è§£å†³çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œå½“å†…å®¹æ”¹å˜åˆ°æ—¶å€™ç”¨æˆ·æ‰ä¼šåˆ·æ–°ç¼“å­˜ï¼Œå¦‚æœæ²¡æœ‰æ”¹å˜ï¼Œåˆ™ä¸ä¼šå»åˆ·æ–°ç¼“å­˜ã€‚ æ’ä»¶å®‰è£…ï¼š 1yarn add chunk-manifest-webpack-plugin webpack-chunk-hash chunk-manifest-webpack-plugin: å…è®¸å¯¼å‡ºä¸€ä¸ªjsonæ–‡ä»¶ï¼Œå°†idæ˜ å°„åˆ°å…¶ä¸­ï¼Œwebpack ä¼šè¯»å–è¯¥jsonï¼Œä»¥ç¡®å®šéœ€è¦åˆ·æ–°ç¼“å­˜çš„æ¨¡å—webpack-chunk-hash: ä½¿ç”¨è‡ªå®šä¹‰çš„ï¼ˆmd5ï¼‰ä»£æ›¿æ ‡å‡†çš„webpack ç”Ÿæˆçš„ hash ä¿®æ”¹ webpack.config.js ï¼Œç”¨äºç”Ÿäº§ç¯å¢ƒ : 12345678910111213141516171819202122232425262728293031323334353637const webpack = require('webpack');const ChunkManifestPlugin = require('chunk-manifest-webpack-plugin');const WebpackChunkHash = require('webpack-chunk-hash');const HtmlWebpackPlugin = require('html-webpack-plugin');/* Shared Dev &amp; Production */const config = &#123; /* â€¦ our webpack config up until now */ plugins: [ // /* other plugins here */ // // /* Uncomment to enable automatic HTML generation */ // new HtmlWebpackPlugin(&#123; // inlineManifestWebpackName: 'webpackManifest', // template: require('html-webpack-template'), // &#125;), ],&#125;;/* Production æŒ‡å®šäº†ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ */if (process.env.NODE_ENV === 'production') &#123; config.output.filename = '[name].[chunkhash].js'; config.plugins = [ ...config.plugins, // ES6 array destructuring, available in Node 5+ new webpack.HashedModuleIdsPlugin(), new WebpackChunkHash(), new ChunkManifestPlugin(&#123; filename: 'chunk-manifest.json', manifestVariable: 'webpackManifest', inlineManifest: true, &#125;), ];&#125;module.exports = config; ğŸŒš Tipå¯¹äºä¸Šé¢çš„ä¾‹å­ï¼Œå½“ä½ ä½¿ç”¨ yarn add html-webpack-plugin html-webpack-template æ¨¡æ¿æ—¶ï¼Œä¼šè‡ªåŠ¨çš„æ·»åŠ æ³¨é‡Šï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨ webpack çš„ HTML æ¨¡æ¿ï¼Œåˆ™éœ€è¦æ‰‹åŠ¨çš„å¼•å…¥ï¼Œå¼•å…¥æ–¹å¼ä¸ºï¼š 1234567&lt;head&gt; &lt;script&gt; //&lt;![CDATA[ window.webpackManifest = &#123; /* contents of chunk-manifest.json */ &#125;; //]]&gt; &lt;/script&gt;&lt;/head&gt; åŒæ ·çš„ manifest.js ä¹Ÿéœ€è¦å¼•å…¥ï¼Œå½“ä½ è®¾ç½®å¥½äº†è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆä¸€åˆ‡å‡†å¤‡å°±ç»ªã€‚ CommonsChunkPlugin for Vendor Caching CommonsChunkPlugin ï¼š CommonsChunkPlugin æ’ä»¶ï¼Œæ˜¯ä¸€ä¸ªå¯é€‰çš„ç”¨äºå»ºç«‹ä¸€ä¸ªç‹¬ç«‹æ–‡ä»¶(åˆç§°ä½œ chunk)çš„åŠŸèƒ½ï¼Œè¿™ä¸ªæ–‡ä»¶åŒ…æ‹¬å¤šä¸ªå…¥å£ chunk çš„å…¬å…±æ¨¡å—ã€‚é€šè¿‡å°†å…¬å…±æ¨¡å—æ‹†å‡ºæ¥ï¼Œæœ€ç»ˆåˆæˆçš„æ–‡ä»¶èƒ½å¤Ÿåœ¨æœ€å¼€å§‹çš„æ—¶å€™åŠ è½½ä¸€æ¬¡ï¼Œä¾¿å­˜èµ·æ¥åˆ°ç¼“å­˜ä¸­ä¾›åç»­ä½¿ç”¨ã€‚è¿™ä¸ªå¸¦æ¥é€Ÿåº¦ä¸Šçš„æå‡ï¼Œå› ä¸ºæµè§ˆå™¨ä¼šè¿…é€Ÿå°†å…¬å…±çš„ä»£ç ä»ç¼“å­˜ä¸­å–å‡ºæ¥ï¼Œè€Œä¸æ˜¯æ¯æ¬¡è®¿é—®ä¸€ä¸ªæ–°é¡µé¢æ—¶ï¼Œå†å»åŠ è½½ä¸€ä¸ªæ›´å¤§çš„æ–‡ä»¶ã€‚ ä¸€è¡Œä»£ç çš„ç®€å•é…ç½®ï¼š 123456module.exports = &#123; entry: &#123; app: './app.js', vendor: ['react', 'react-dom', 'react-router'], &#125;,&#125;; ç„¶åè¿è¡Œ webpack -p ä½†æ˜¯è¿™ç§é…ç½®æœ‰ä¸ªé—®é¢˜ï¼Œè¿™é‡Œçš„ &#39;react&#39;, &#39;react-dom&#39;, &#39;react-router&#39;ï¼Œ ä¼šåŒæ—¶æ‰“åŒ…åˆ° index.bundle.js å’Œ vendor.bundle.js ä¸­ è¦è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ CommonsChunkPlugin æ’ä»¶ï¼Œå°†æ–‡ä»¶åˆ†ç¦»å‡ºæ¥ï¼Œåœ¨ webpack.config.js ä¸­çš„é…ç½® 1234567const webpack = require('webpack');plugins: [ new webpack.optimize.CommonsChunkPlugin(&#123; name: 'vendor', &#125;),], âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ’ä»¶ä¸­çš„name è¦æ˜¯ å…¥å£çš„åå­—åŒ¹é… é…ç½®å®Œæˆä¹‹åï¼Œé‡æ–°æ‰“åŒ…ï¼Œå‘ç°åŒ…ä½“è¢«æ‹†åˆ†äº†ï¼ Offline Plugin for webpackï¼ˆPWAï¼‰ä½¿ç”¨offline-pluginæ­é…webpackè½»æ¾å®ç°PWA æ­¤æ’ä»¶ç”¨äºå®ç°PWAï¼Œæ–°æŠ€æœ¯ï¼Œæ˜¯å¦éœ€è¦ä½¿ç”¨å’Œæ¢ç´¢ï¼Œè¿™é‡Œè®°å½•é…ç½®çš„æ–¹æ³•ï¼Œè¿™å¹¶ä¸å¤æ‚ å®‰è£…ï¼š 1yarn add offline-plugin æ·»åŠ åˆ°r= webpack config: 1234567891011121314const OfflinePlugin = require('offline-plugin');module.exports = &#123; entry: &#123; // Adding to vendor recommended, but optional vendor: ['offline-plugin/runtime', /* â€¦ */], &#125;, plugins: [ new OfflinePlugin(&#123; AppCache: false, ServiceWorker: &#123; events: true &#125;, &#125;), ],&#125;; ç„¶åï¼Œåœ¨ app ä¸­çš„å…¥å£æ–‡ä»¶ï¼Œåœ¨å¼€å§‹æ¸²æŸ“ä¹‹å‰ä½¿ç”¨ï¼š 12345678910111213/* index.js */if (process.env.NODE_ENV === 'production') &#123; const runtime = require('offline-plugin/runtime'); runtime.install(&#123; onUpdateReady() &#123; runtime.applyUpdate(); &#125;, onUpdated() &#123; window.location.reload(); &#125;, &#125;);&#125; webpack Bundle Analyzerï¼ˆåŒ…åˆ†æå·¥å…·ï¼‰ 1yarn add --dev webpack-bundle-analyzer æ·»åŠ åˆ°å¼€å‘ç¯å¢ƒ 12345678910const BundleAnalyzerPlugin = require(&apos;webpack-bundle-analyzer&apos;).BundleAnalyzerPlugin;config = &#123; /* shared webpack config */ &#125;;if (process.env.NODE_ENV !== &apos;production&apos; &amp;&amp; process.env.NODE_ENV !== &apos;test&apos;) &#123; config.plugins = [ ...config.plugins, new BundleAnalyzerPlugin(), ];&#125; è¿è¡Œå¹¶ç›‘å¬ 8888 ç«¯å£ 1node_module/.bin/webpack --profile --json &gt; stats.json Multi-entry Automatic CommonsChunk Pluginï¼ˆå¤šé¡µé¢åº”ç”¨ç¨‹åºï¼‰åº”ç”¨åœºæ™¯ä¸å¤šï¼Œåªè®°å½•ä¸‹æ¥ã€‚ webpack.config.js 1234567const config = &#123; entry: &#123; pageOne: &apos;./src/pageOne/index.js&apos;, pageTwo: &apos;./src/pageTwo/index.js&apos;, pageThree: &apos;./src/pageThree/index.js&apos; &#125;&#125;; è¿™æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘ä»¬å‘Šè¯‰ webpack éœ€è¦ 3 ä¸ªç‹¬ç«‹åˆ†ç¦»çš„ä¾èµ–å›¾ã€‚ ä¸ºä»€ä¹ˆï¼Ÿåœ¨å¤šé¡µåº”ç”¨ä¸­ï¼Œï¼ˆè¯‘æ³¨ï¼šæ¯å½“é¡µé¢è·³è½¬æ—¶ï¼‰æœåŠ¡å™¨å°†ä¸ºä½ è·å–ä¸€ä¸ªæ–°çš„ HTML æ–‡æ¡£ã€‚é¡µé¢é‡æ–°åŠ è½½æ–°æ–‡æ¡£ï¼Œå¹¶ä¸”èµ„æºè¢«é‡æ–°ä¸‹è½½ã€‚ç„¶è€Œï¼Œè¿™ç»™äº†æˆ‘ä»¬ç‰¹æ®Šçš„æœºä¼šå»åšå¾ˆå¤šäº‹ï¼š ä½¿ç”¨ CommonsChunkPlugin ä¸ºæ¯ä¸ªé¡µé¢é—´çš„åº”ç”¨ç¨‹åºå…±äº«ä»£ç åˆ›å»º bundleã€‚ç”±äºå…¥å£èµ·ç‚¹å¢å¤šï¼Œå¤šé¡µåº”ç”¨èƒ½å¤Ÿå¤ç”¨å…¥å£èµ·ç‚¹ä¹‹é—´çš„å¤§é‡ä»£ç /æ¨¡å—ï¼Œä»è€Œå¯ä»¥æå¤§åœ°ä»è¿™äº›æŠ€æœ¯ä¸­å—ç›Šã€‚ We can update CommonsChunk to just figure things out automatically: 12345678910/* Dev &amp; Production */new webpack.optimize.CommonsChunkPlugin(&#123; name: &apos;commons&apos;, minChunks: 2,&#125;),/* Production */new webpack.optimize.CommonsChunkPlugin(&#123; name: &apos;manifest&apos;, minChunks: Infinity,&#125;),]]></content>
      <categories>
        <category>å‰ç«¯å·¥ç¨‹åŒ–</category>
      </categories>
      <tags>
        <tag>webpack3</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptè„šæœ¬åŒ–æ–‡æ¡£ä¸‹]]></title>
    <url>%2F2018%2F01%2F07%2Fcl4s3gtf2003gwn9eo0scjbj3%2F</url>
    <content type="text"><![CDATA[JavaScriptè„šæœ¬åŒ–æ–‡æ¡£ä¸‹å±æ€§HTML å…ƒç´ ç”±ä¸€ä¸ªæ ‡ç­¾å’Œä¸€ç»„ç§°ä¸ºå±æ€§ï¼ˆattributeï¼‰çš„é”®å€¼å¯¹ç»„æˆã€‚ä¾‹å¦‚ a æ ‡ç­¾çš„ href å±æ€§ï¼Œimg æ ‡ç­¾ src å±æ€§ HTML å±æ€§ä½œä¸º Element çš„å±æ€§è¡¨ç¤º HTML æ–‡æ¡£å…ƒç´ çš„ HTML Element å¯¹è±¡å®šä¹‰äº†è¯»\å†™å±æ€§ï¼Œå®ƒä»¬æ˜ å°„äº†å…ƒç´ çš„ HTML å±æ€§ã€‚ HTMLElement å®šä¹‰äº†é€šç”¨çš„ HTTP å±æ€§ï¼ˆå¦‚ idã€æ ‡é¢˜ lang å’Œ dirï¼‰ç­‰å±æ€§ï¼Œä»¥åŠäº‹ä»¶å¤„ç†ç¨‹åºå±æ€§ï¼ˆå¦‚ onclickï¼‰ã€‚å¹¶ä¸”ç‰¹å®šçš„ç±»å‹å…ƒç´ å®šä¹‰äº†ç‰¹å®šçš„å±æ€§ã€‚ä¾‹å¦‚ï¼š 12345678var image = documment.getElementById("myiamge")var imgurl = images.src //srcå±æ€§æ˜¯å›¾ç‰‡çš„URLimage.id === "myimage" //åˆ¤å®šæ˜¯å¦æ˜¯è¦æŸ¥æ‰¾çš„å›¾ç‰‡id/* ç±»ä¼¼çš„ï¼Œä¹Ÿå¯ä»¥è®¾å®šè¡¨å•æäº¤çš„URL */var f = document.forms[0]f.action = "http://XXX" è¡¨ç¤º HTML å±æ€§çš„å€¼é€šå¸¸æ˜¯å­—ç¬¦ä¸²ï¼Œå¦‚ input è¾“å‡ºæ–‡æœ¬çš„å€¼ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªå±æ€§æ˜¯é€šè¿‡ API æ¥è·å–å’Œè®¾ç½®çš„ï¼Œå¹¶ä¸èƒ½åˆ é™¤è¯¥å±æ€§ã€‚è®¾æƒ³ä¸€ä¸‹ï¼Œæ²¡æœ‰æœ‰è¾“å…¥å€¼çš„è¾“å‡ºæ¡†ã€‚ éæ ‡å‡†çš„HTMLå±æ€§ Element ç±»å‹å®šä¹‰äº† getAttribute()å’ŒsetAttribute() æ–¹æ³•æ¥æŸ¥è¯¢å’Œè®¾ç½®éæ ‡å‡†çš„ HTML å±æ€§ã€‚ 12345 var image = document.images[0] var witth = parseInt(image.getAttribute('WIDTH'))image.å’ŒsetAttribute('class', 'thumbnail') é€šå¸¸æƒ…å†µä¸‹getAttribute() è¿”å›å­—ç¬¦ä¸²ï¼Œå¹¶ä¸ä¼šè¿”å›æ•°å€¼ã€å¸ƒå°”å€¼ã€å¯¹è±¡ã€‚å¯¹äº HTML å…ƒç´ æ¥è¯´ï¼Œå±æ€§åå­—ä¸ä¼šåŒºåˆ†å¤§å°å†™ 1234test1111.getAttribute('class')"xxx"test1111.getAttribute('CLASS')"xxx" Element ç±»å‹ å®šäº†å…¶ä»–ä¸¤ä¸ªç›¸å…³æ–¹æ³•ï¼ŒhasAttribute() å’Œ remove Attribute() ï¼Œç”¨æ¥æ£€æŸ¥å‘½åå±æ€§æ˜¯å¦å­˜åœ¨å’Œå®Œå…¨åˆ é™¤ã€‚ å…ƒç´ çš„å†…å®¹inerHTML ä¸ outerHTML âš ï¸ inerHTML åœ¨å…ƒç´ ä¸Šè®¾ç½®è¯¥å±æ€§ï¼Œç”¨æ–°å­—ç¬¦ä¸²å†…å®¹æ›¿æ¢å…ƒç´ å½“å‰å†…å®¹ outerHTML æŸ¥è¯¢ outerHTML æ—¶ï¼Œè¿”å›çš„å­—ç¬¦ä¸²åŒ…å«è¢«æŸ¥è¯¢å…ƒç´ çš„å¼€å¤´å’Œç»“å°¾æ ‡ç­¾ åœ¨è®¾ç½® outerHTML æ—¶ï¼Œå…ƒç´ æœ¬èº«å°†ä¼šè¢«æ–°å†…å®¹æ›¿æ¢ ä½œä¸ºçº¯æ–‡æœ¬åœ¨æ–‡æ¡£ä¸­æ’å…¥çº¯æ–‡æœ¬ï¼Œæ ‡å‡†çš„æ–¹æ³•æ˜¯ç”¨ Node çš„ textContent å±æ€§æ¥å®ç°ã€‚ âš ï¸ IEçš„å…¼å®¹æ€§ &gt;= IE9ï¼Œåœ¨ IE ä¸­ï¼Œå¯ä»¥ç”¨ innerText å±æ€§æ›¿ä»£ 12345var para = document.getElementByTagName("p")[0var text = para.textContentpara.textContent = "Hello World!" ä½œä¸ºTextèŠ‚ç‚¹çš„å…ƒç´ å†…å®¹ â“ ä½œç”¨ä¸æ˜¯å¾ˆæ˜ç¡®ï¼Œè¯¦è§çŠ€ç‰›ä¹¦p381 åˆ›å»ºã€æ’å…¥å’Œåˆ é™¤èŠ‚ç‚¹12345678910// ä»æŒ‡å®šçš„URLï¼Œå¼‚æ­¥åŠ è½½å’Œæ‰§è¡Œè„šæœ¬function loadsync(url) &#123; var head = document.getElementByTagName("head")[0] var s = document.createElement("script") s.src = url head.appendChild(s)&#125; åˆ›å»ºèŠ‚èŠ‚ç‚¹ createElement() åˆ›å»ºæ–°çš„ Element èŠ‚ç‚¹å¯ä»¥ä½¿ç”¨ Document å¯¹è±¡çš„ createElement() æ–¹æ³•ã€‚ ç»™æ–¹æ³•ä¼ é€’å…ƒç´ çš„æ ‡ç­¾åï¼šå¯¹ HTML æ–‡æ¡£æ¥è¯´è¯¥åå­—ä¸åŒºåˆ†å¤§å°å†™ï¼Œå¯¹ XML æ–‡æ¡£æ¥è¯´åˆ™éœ€è¦åŒºåˆ†å¤§å°å†™ã€‚ åˆ›å»º Text èŠ‚ç‚¹ var newnode = document.createTextNode(&quot;text node content&quot;) æ’å…¥èŠ‚ç‚¹ä¸€æ—¦æœ‰äº†ä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œå¯ä»¥ç”¨ appendChild() æˆ– insertBefore()ã€‚ appendChild() æ˜¯åœ¨éœ€è¦æ’å…¥çš„ Element èŠ‚ç‚¹åˆ è°ƒç”¨ insertBefore() ç±»ä¼¼äºå‰è€…ï¼Œå®ƒéœ€è¦æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯å¾…æ’å…¥çš„èŠ‚ç‚¹ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å·²ç»å­˜åœ¨çš„èŠ‚ç‚¹ 12345678910// å°†childèŠ‚ç‚¹æ’å…¥åˆ°parentä¸­ï¼Œä½¿å…¶æˆä¸ºç¬¬nä¸ªå­èŠ‚ç‚¹function insertAt(parent, child, n) &#123; if( n &lt; 0 || n &gt; parent.childNodes.length) throw new Error("invalid index") else if( n == parent.childNodes.length) parent.appendChild(child) else parent.insertBefore(child, paretn.childNodes[n])&#125; åˆ é™¤å’Œæ›¿æ¢èŠ‚ç‚¹removeChild() æ–¹æ³•æ˜¯ä»æ–‡æ¡£ä¸­åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹ 1n.parentNode.removeChild(n) replaceChild() æ–¹æ³•åˆ é™¤ä¸€ä¸ªå­èŠ‚ç‚¹å¹¶ç”¨ä¸€ä¸ªæ–°èŠ‚ç‚¹å–è€Œä»£ä¹‹ã€‚ 1n.parentNode.replaceChild(document.createTextNode("[ REDACTED ]"), n) ç”Ÿæˆç›®å½•è¡¨ æ–‡æ¡£å’Œå…ƒç´ çš„å‡ ä½•å½¢çŠ¶å’Œæ»šåŠ¨1234567891011121314151617// æŸ¥è¯¢çª—å£æ»šåŠ¨æ¡çš„ä½ç½®function getScrollOffsets(w)&#123; // ä½¿ç”¨æŒ‡å®šçª—å£ï¼Œå¦‚æœä¸å¸¦å‚æ•°åˆ™ä½¿ç”¨å½“å‰çª—å£ w = w || window // é™¤äº†IE8 åŠæ›´æ—©çš„ç‰ˆæœ¬ï¼Œå…¶ä»–æµè§ˆå™¨éƒ½èƒ½ç”¨ if (w.pageXOffset != null) return &#123;x: w.pageXOffset, y: w.pageYOffset&#125; // å¯¹æ ‡å‡†æ¨¡å¼ä¸‹çš„IE var d = w.document if (document.compatMode == "css1Compat") return &#123;x: d.documentElement.scrollLeft, y: d.documentElement.scrollTop&#125; // å¯¹æ€ªå¼‚æ¨¡å¼ä¸‹çš„æµè§ˆå™¨ return &#123;x: d.body.scrollleft, y: d.body.scrollTop&#125;&#125; 12// è·å¾—åœ¨è§†å£åæ ‡ä¸­çš„ä½ç½®ï¼Œè¿”å›leftã€rightã€topã€bottomå±æ€§çš„å¯¹è±¡var box = e.getBoundingClientRect() åˆ¤æ–­å…ƒç´ åœ¨æŸç‚¹getBoundingClientRect() æ–¹æ³•èƒ½ç¡®å®šå…ƒç´ åœ¨è§†å£ä¸­çš„ä½ç½® elementFromPoint() æ–¹æ³•åˆ¤å®šè§†å£æŒ‡å®šä½ç½®æœ‰ä»€ä¹ˆå…ƒç´  æ»šåŠ¨1234567// è·å¾—æ–‡æ¡£å’Œè§†å£çš„é«˜åº¦ï¼ŒoffsetHeightä¼šåœ¨ä¸‹é¢è§£é‡Švar documentHeight = document.documentElement.offsetHeightvar viewportHeight = window.innerHeight// ç„¶åæ»šåŠ¨è®©æœ€åä¸€é¡µåœ¨è§†å£ä¸­å¯è§window.scrollTo(0, documentheight - viewprotHeight)]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>è„šæœ¬æ–‡æ¡£åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CentOS7 æœåŠ¡å™¨å®‰è£… Node.js]]></title>
    <url>%2F2018%2F01%2F06%2Fcl4s3gtdh000ewn9etfuo12md%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šéƒ¨ç½² Node.js é¡¹ç›®ï¼ˆCentOSï¼‰é˜¿é‡Œäº‘æ–‡æ¡£æ·˜å® NPM é•œåƒNode.js å®˜æ–¹ä¸‹è½½åœ°å€ï¼Œå¯ä»¥é€šè¿‡wgetä¸‹è½½ CentOS7 æœåŠ¡å™¨å®‰è£… Node.jswget å‘½ä»¤ä¸‹è½½ Node.js å®‰è£…åŒ… 1wget https://nodejs.org/dist/v8.9.4/node-v8.9.4-linux-x64.tar.gz è§£å‹æ–‡ä»¶ 1tar xvf node-v8.9.4-linux-x64.tar.gz åˆ›å»ºè½¯é“¾æ¥ï¼Œä½¿ node å’Œ npm å‘½ä»¤å…¨å±€æœ‰æ•ˆâš ï¸ æ³¨æ„ä¸€å®šè¦ä½¿ç”¨ç»å¯¹è·¯å¾„ 12345678ln -s /root/node-v8.9.4-linux-x64/bin/node /usr/local/bin/nodeln -s /root/node-v8.9.4-linux-x64/bin/npm /usr/local/bin/npmln -s /root/node-v8.9.4-linux-x64/bin/npx /usr/local/bin/npx// âš ï¸ åˆ é™¤é”™è¯¯åˆ›å»ºçš„è½¯è¿æ¥#rm /usr/local/bin/node æŸ¥çœ‹nodeã€npmç‰ˆæœ¬ 12node -vnpm -v æ·»åŠ ç¯å¢ƒå˜é‡ 123456export NODE_PATH=/root/node-v8.9.4-linux-x64/binexport PATH=$&#123;PATH&#125;:$&#123;NODE_PATH&#125;// âš ï¸ è¿™é‡Œä¸è¾“å‡ºåˆ° ~/.profile ï¼Œ å±äºä¸´æ—¶æ–‡ä»¶ï¼Œé…ç½®ä¸èƒ½æŒä¹…echo "PATH=\$&#123;PATH&#125;:$&#123;NODE_PATH&#125;" &gt; /etc/profile å®‰è£… cnpmï¼š 1npm install -g cnpm --registry=https://registry.npm.taobao.org]]></content>
      <categories>
        <category>node</category>
      </categories>
      <tags>
        <tag>CentOS</tag>
        <tag>æœåŠ¡å™¨</tag>
        <tag>Node.js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CentOS7 æœåŠ¡å™¨å®‰è£… MySQL]]></title>
    <url>%2F2018%2F01%2F06%2Fcl4s3gtdf000bwn9ewqadx6si%2F</url>
    <content type="text"><![CDATA[æ‰©å±•é˜…è¯»ï¼šHow to Install MySQL on CentOS 7äº‘æœåŠ¡å™¨ ECS &gt; ç”¨æˆ·æŒ‡å— &gt; å®‰å…¨ç»„ &gt; æ·»åŠ å®‰å…¨ç»„è§„åˆ™MySQLå®‰å…¨é…ç½®å‘å¯¼mysql_secure_installationè¯¦è§£centos7 mysqlæ•°æ®åº“å®‰è£…å’Œé…ç½® CentOS7 æœåŠ¡å™¨å®‰è£… MySQL ğŸ˜¯ æœ¬æ–‡æ¡£æ˜¯åŸºäºé root ç”¨æˆ·çš„ï¼Œéœ€è¦ sudo å‰ç¼€ä»¥æå‡æƒé™ï¼Œå¦‚æœæ˜¯ root ç”¨æˆ·ï¼Œåˆ™å¯å¿½ç•¥è¯¥å‰ç¼€ã€‚ä½¿ç”¨é˜¿é‡Œäº‘ECSï¼Œéœ€è¦é…ç½®å®‰å…¨ç»„è§„åˆ™ï¼Œè¯¦è§æ–‡æ¡£å…·ä½“ç« èŠ‚ã€‚ å¼€å§‹ä¹‹å‰æ£€æŸ¥ä½ çš„ä¸»æœºçŠ¶æ€ï¼š 1234[root]# hostname // çŸ­ä¸»æœºåiZwz97v8o1cbogw4uplc4dZ[root]# hostname -f // åŒæ—¶å¸¦æœ‰ä¸»æœºåå’ŒåŸŸåçš„åç§°iZwz97v8o1cbogw4uplc4dZ æ›´æ–°ç³»ç»Ÿçš„ yum 1sudo yum update å®‰è£… wget ï¼Œç”¨ä»¥å®Œæˆ MySQL å®‰è£… 1yum install wget Yum (å…¨ç§°ä¸ºï¼šYellow dog Updater, Modified) ç”±Duke Universityå›¢é˜Ÿï¼Œä¿®æ”¹Yellow Dog Linuxçš„Yellow Dog Updaterå¼€å‘è€Œæˆï¼Œæ˜¯ä¸€ä¸ªåŸºäºRPM åŒ…ç®¡ç†çš„å­—ç¬¦å‰ç«¯è½¯ä»¶åŒ…ç®¡ç†å™¨ã€‚èƒ½å¤Ÿä»æŒ‡å®šçš„æœåŠ¡å™¨è‡ªåŠ¨ä¸‹è½½ RPM åŒ…å¹¶ä¸”å®‰è£…ï¼Œå¯ä»¥å¤„ç†ä¾èµ–æ€§å…³ç³»ï¼Œå¹¶ä¸”ä¸€æ¬¡å®‰è£…æ‰€æœ‰ä¾èµ–çš„è½¯ä»¶åŒ…ï¼Œæ— é¡»ç¹çåœ°ä¸€æ¬¡æ¬¡ä¸‹è½½ã€å®‰è£…ã€‚è¢«Yellow Dog Linuxæœ¬èº«ï¼Œä»¥åŠFedoraã€Red Hat Enterprise Linuxé‡‡ç”¨ã€‚ GNU Wgetæ˜¯ä¸€ä¸ªåœ¨ç½‘ç»œä¸Šè¿›è¡Œä¸‹è½½çš„ç®€å•è€Œå¼ºå¤§çš„è‡ªç”±è½¯ä»¶ï¼Œå…¶æœ¬èº«ä¹Ÿæ˜¯GNUè®¡åˆ’çš„ä¸€éƒ¨åˆ†ã€‚å®ƒçš„åå­—æ˜¯â€œWorld Wide Webâ€å’Œâ€œGetâ€çš„ç»“åˆï¼ŒåŒæ—¶ä¹Ÿéšå«äº†è½¯ä»¶çš„ä¸»è¦åŠŸèƒ½ã€‚ç›®å‰å®ƒæ”¯æŒé€šè¿‡HTTPã€HTTPSï¼Œä»¥åŠFTPè¿™ä¸‰ä¸ªæœ€å¸¸è§çš„TCP/IPåè®®åè®®ä¸‹è½½ã€‚ å®‰è£… MySQLä¸‹è½½å’Œå®‰è£…ä»“åº“ï¼Œå¹¶ä¸”ä½¿ç”¨yumæ›´æ–°å®ƒ 12345wget http://repo.mysql.com/mysql-community-release-el7-5.noarch.rpmsudo rpm -ivh mysql-community-release-el7-5.noarch.rpmyum update å®‰è£… MySQL æœåŠ¡ï¼Œé‡åˆ°æ ¡éªŒæ—¶ï¼Œå¦‚æœæ²¡æœ‰é”™è¯¯æˆ–åŒ¹é…é”™è¯¯è¯·é€‰æ‹© y 123sudo yum install mysql-server // å®‰è£…æœåŠ¡sudo systemctl start mysqld // å¯åŠ¨æœåŠ¡ MySQL é»˜è®¤ç»‘å®š localhost (127.0.0.1)ï¼Œäº†è§£ä½¿ç”¨ ssh è¿æ¥åˆ°æ•°æ®åº“çš„ä¿¡æ¯ã€‚ MySQL remote access guide âš ï¸ MySQL ä¸å»ºè®®ä¸è®¾é™åˆ¶åœ°é€šè¿‡å…¬å…±IPè¿æ¥ï¼Œä½ å¯ä»¥ä¿®æ”¹é…ç½®æ–‡ä»¶ /etc/my.cnfä»¥æ›´æ”¹ç›‘å¬åœ°å€ï¼Œå¦‚æœå†³å®šå°†MySQLç»‘å®šåˆ°å…¬å…±IPï¼Œåˆ™åº”è¯¥å®ç°åªå…è®¸ç‰¹å®šIPåœ°å€çš„è¿æ¥çš„é˜²ç«å¢™è§„åˆ™ã€‚ å®‰å…¨é…ç½®å‘å¯¼(Harden MySQL Server)è¿è¡Œ mysql_secure_installation è®¾ç½®é»˜è®¤çš„ MySQL å®‰å…¨é—®é¢˜ 1sudo mysql_secure_installation âš ï¸ ç¬¬ä¸€æ¬¡é…ç½®æ—¶ï¼Œæ²¡æœ‰ç»™ root ç”¨æˆ·è®¾ç½®å¯†ç ï¼Œç›´æ¥å›è½¦å¯ä»¥è®¾ç½®åˆå§‹å¯†ç ã€‚ å…·ä½“çš„è®¾ç½®è§„åˆ™ï¼š ä¸º root ç”¨æˆ·è®¾ç½®å¯†ç  åˆ é™¤åŒ¿åè´¦å· å–æ¶ˆ root ç”¨æˆ·è¿œç¨‹ç™»å½• åˆ é™¤ test åº“å’Œå¯¹ test åº“çš„è®¿é—®æƒé™ åˆ·æ–°æˆæƒè¡¨ä½¿ä¿®æ”¹ç”Ÿæ•ˆ å¯ä»¥å‚è€ƒï¼šMySQLå®‰å…¨é…ç½®å‘å¯¼mysql_secure_installationè¯¦è§£ ä½¿ç”¨MySQLRoot ç”¨æˆ·ç™»å½• root ç™»å½• MySQL 1mysql -u root -p ç”Ÿæˆ MySQL å‘½ä»¤æç¤ºåˆ—è¡¨ \h åˆ›å»ºä¸€ä¸ªæ–°çš„ MySQL ç”¨æˆ· å’Œ ä»“åº“12345678// testdb ä¸ºæ•°æ®åº“åcreate database testdb; // testuser ç”¨æˆ·åï¼›passwordï¼šå¯†ç create user 'testuser'@'localhost' identified by 'password'; // èµ‹äºˆtestuserç”¨æˆ·æ‰€æœ‰æƒé™grant all on testdb.* to 'testuser' identified by 'password'; ä»¥ä¸Šå‘½ä»¤å¯ä»¥ç¼©çŸ­ä¸ºï¼š 123create database testdb;grant all on testdb.* to 'testuser' identified by 'password'; å®Œæˆåé€€å‡º MySQLï¼š 1exit åˆ›å»ºä¸€ä¸ªç®€å•è¡¨ä½¿ç”¨ä¹‹å‰åˆ›å»ºçš„ testuser ç”¨æˆ·ç™»å½•ï¼š 1mysql -u testuser -p åˆ›å»ºç®€å•çš„è¡¨123use testdb;create table customers (customer_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY, first_name TEXT, last_name TEXT);enter code here é‡è®¾ ROOT å¯†ç root ç”¨æˆ·ç™»å½• 1mysql -u root -p åˆ‡æ¢åˆ°mysql ï¼Œé‡ç½®å¯†ç ï¼Œå¹¶ä¸”åˆ·æ–° 1234567use mysql;update user SET PASSWORD=PASSWORD("password") WHERE USER='root';flush privileges;exit é‡å¯ MySQLï¼š 1234sudo systemctl start mysqld// æˆ–è€…service mysqld start è¿œç¨‹è¿æ¥è¿œç¨‹è¿æ¥è®¾ç½®æŠŠåœ¨æ‰€æœ‰æ•°æ®åº“çš„æ‰€æœ‰è¡¨çš„æ‰€æœ‰æƒé™èµ‹å€¼ç»™ä½äºæ‰€æœ‰ IP åœ°å€çš„ root ç”¨æˆ·ã€‚ 1mysql&gt; grant all privileges on *.* to root@'%'identified by 'password'; å¦‚æœæ˜¯æ–°ç”¨æˆ·è€Œä¸æ˜¯rootï¼Œåˆ™è¦å…ˆæ–°å»ºç”¨æˆ· 1mysql&gt;create user 'username'@'%' identified by 'password'; æ­¤æ—¶å°±å¯ä»¥è¿›è¡Œè¿œç¨‹è¿æ¥äº†ã€‚ âš ï¸ é˜¿é‡Œäº‘æ·»åŠ å®‰å…¨ç»„è§„åˆ™äº‘æœåŠ¡å™¨ ECS &gt; ç”¨æˆ·æŒ‡å— &gt; å®‰å…¨ç»„ &gt; æ·»åŠ å®‰å…¨ç»„è§„åˆ™ å¸¸ç”¨ç«¯å£é€‰æ‹© MySQL 3306 æˆæƒå¯¹è±¡ä¸º 0.0.0.0/0 Navicat è¿æ¥]]></content>
      <categories>
        <category>mysql</category>
      </categories>
      <tags>
        <tag>CentOS</tag>
        <tag>MySQL</tag>
        <tag>æœåŠ¡å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[YEOMANå®è·µä¸€]]></title>
    <url>%2F2018%2F01%2F02%2Fcl4s3gtgs006awn9e9tdsi3x2%2F</url>
    <content type="text"><![CDATA[æ‹“å±•é˜…è¯»ï¼š YEOMAN å®˜æ–¹æ–‡æ¡£ç”¨ node.js å¼€å‘ä¸€ä¸ªå¯äº¤äº’çš„å‘½ä»¤è¡Œåº”ç”¨yeoman-generator å…¥é—¨æ•™ç¨‹ YEOMANå®è·µå¦‚ä½•ä½¿ç”¨ç¤¾åŒºçš„ generatoråœ¨è¿™é‡ŒæŸ¥æ‰¾ç¤¾åŒº generator name ä»£æŒ‡é€‰æ‹©çš„ generator å®‰è£…ï¼š 1npm install -g generator-name ä½¿ç”¨ï¼š 1yo generator-name é…ç½®æç¤ºï¼Œä¸€èˆ¬æƒ…å†µé€‰æ‹© overwriteï¼š âš ï¸ å½“å‘ç°å®‰è£…çš„é¡¹ç›®è·¯å¾„ä¸æ˜¯å½“å‰æ–‡ä»¶å¤¹ï¼Œæ˜¯ home ç›®å½•æˆ–è€…å…¶ä»–ï¼Œæ£€æŸ¥ çˆ¶ç›®å½•ä¸­çš„ .yo-rc.json ï¼Œå¹¶åˆ é™¤å®ƒ åˆ›å»ºè‡ªå·±çš„ generatorå‚ç…§è¿™ç¯‡æ–‡æ¡£ yeoman-generator å…¥é—¨æ•™ç¨‹ âš ï¸ éœ€è¦æ³¨æ„å‡ ä¸ªç‚¹ï¼š é¡¹ç›®æ–‡ä»¶åå’Œ generator åç§°è¦ä¸€è‡´ ç›®å½•å±‚æ¬¡å¯ä»¥æœ‰ä¸¤ç§ï¼Œä½†éœ€è¦åœ¨ package.json files å­—æ®µä¸­åŠ ä»¥åŒºåˆ† éœ€è¦æ‰§è¡Œ yo link å»ºç«‹è½¯è¿æ¥]]></content>
      <categories>
        <category>å‰ç«¯å·¥ç¨‹åŒ–</category>
      </categories>
      <tags>
        <tag>è„šæ‰‹æ¶</tag>
        <tag>yeoman</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptäº‹ä»¶å¤„ç†ä¸‹]]></title>
    <url>%2F2017%2F12%2F26%2Fcl4s3gtep002pwn9ebfonral0%2F</url>
    <content type="text"><![CDATA[JavaScriptæ³¨å†Œäº‹ä»¶å¤„ç†ä¸‹æ³¨å†Œäº‹ä»¶å¤„ç†ç¨‹åºæœ‰ä¸¤ç§åŸºæœ¬æ–¹å¼ï¼Œç¬¬ä¸€ç§æ˜¯ç»™ç›®æ ‡å¯¹è±¡æˆ–æ–‡æ¡£å…ƒç´ è®¾ç½®å±æ€§ã€‚ç¬¬äºŒç§æ›´ä¸ºé€šç”¨ï¼Œæ˜¯å°†äº‹ä»¶å¤„ç†ç¨‹åºä¼ é€’ç»™å¯¹è±¡æˆ–å…ƒç´ çš„ä¸€ä¸ªæ–¹æ³•ã€‚ å¯ä»¥åœ¨ JavaScript ä»£ç ä¸­è®¾ç½®äº‹ä»¶å¤„ç†ç¨‹åºçš„å¯¹è±¡å±æ€§ï¼Œæˆ–å¯¹äºæ–‡æ¡£æµå…ƒç´ ï¼Œå¯ä»¥åœ¨ HTML ä¸­ç›´æ¥è®¾ç½®ç›¸åº”å±æ€§ã€‚å¯¹äºé€šè¿‡æ–¹æ³•è°ƒç”¨çš„å¤„ç†ç¨‹åºæ³¨å†Œï¼Œæœ‰ä¸ªæ ‡å‡†æ–¹æ³• addEventListenter()ï¼Œ IE8 åŠä»¥å‰ç‰ˆæœ¬çš„ä¹‹å¤–éƒ½æ”¯æŒï¼Œåœ¨ IE9 ä¹‹å‰æœ‰ä¸ªå¦ä¸€ä¸ªæ–¹æ³• attachEvent() è®¾ç½® JavaScript å¯¹è±¡å±æ€§ä¸ºäº‹ä»¶å¤„ç†ç¨‹åºæ³¨å†Œäº‹ä»¶å¤„ç†ç¨‹åºæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯é€šè¿‡è®¾ç½®äº‹ä»¶ç›®æ ‡çš„å±æ€§ä¸ºæ‰€éœ€äº‹ä»¶å¤„ç†ç¨‹åºå‡½æ•°ã€‚åŒºåˆ†å¤§å°å†™ï¼Œå¹¶ä¸”éƒ½æ˜¯å°å†™ï¼Œå¦‚ onclickã€onchangeã€onloadã€onmouseover ç­‰ 12345//è®¾ç½®window å¯¹è±¡çš„ unload å±æ€§ä¸ºä¸€ä¸ªå‡½æ•°//å½“æ–‡æ¡£åŠ è½½å®Œæ¯•æ—¶è°ƒç”¨å®ƒwindow.onload = function () &#123; //...&#125; ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å¹¿æ³›å®ç°çš„ Web API å®šä¹‰çš„äº‹ä»¶éƒ½å…è®¸é€šè¿‡è®¾ç½®äº‹ä»¶å¤„ç†ç¨‹åºå±æ€§æ¥æ³¨å†Œäº‹ä»¶å¤„ç†ç¨‹åºã€‚ ç¼ºç‚¹æ˜¯æ¯ä¸ªäº‹ä»¶ç›®æ ‡å¯¹äºæ¯ç§äº‹ä»¶ç±»å‹å°†æœ€å¤šåªæœ‰ä¸€ä¸ªå¤„ç†ç¨‹åºï¼Œå¦‚æœæƒ³è¦ç¼–å†™èƒ½å†ä»»æ„æ–‡æ¡£ä¸­ä½¿ç”¨çš„è„šæœ¬åº“ä»£ç ï¼Œæ›´å¥½çš„æ–¹å¼æ˜¯ä½¿ç”¨ä¸€ç§ä¸ä¿®æ”¹æˆ–è€…è¦†ç›–ä»»ä½•å·²æœ‰æ³¨å†Œäº‹ä»¶ç¨‹åºçš„æŠ€æœ¯ï¼Œä¾‹å¦‚ addEventListenner() è®¾ç½® HTML æ ‡ç­¾å±æ€§ä¸ºäº‹ä»¶å¤„ç†ç¨‹åº1&lt;button onclick="alert('THANK YOU!')"&gt;&lt;/button&gt; è¿™é‡Œæœ‰å‡ ä¸ªç‰¹ç‚¹ï¼š å±æ€§å€¼æ˜¯ JavaScript ä»£ç å­—ç¬¦ä¸² è¿™æ®µä»£ç æ˜¯å¤„ç†ç¨‹åºå‡½æ•°çš„ä¸»é¢˜ï¼Œè€Œéå®Œæ•´çš„å‡½æ•°å£°æ˜ ä¸åº”è¯¥ä½¿ç”¨å¤§æ‹¬å·åŒ…è£¹å’Œ function å…³é”®å­—ä½œä¸ºå‰ç¼€ å¤šæ¡è¯­å¥ç”¨ ; éš”å¼€ addEventListener()æ³¨æ„å‰é¢æåˆ°çš„å…¼å®¹æ€§é—®é¢˜ã€‚ Windowå¯¹è±¡ã€Document å¯¹è±¡å’Œæ‰€æœ‰æ–‡æ¡£å…ƒç´ éƒ½å¯ä»¥ä½¿ç”¨ addEventListener() è¯­æ³•1target.addEventListener(type, listener[, options]); 12345678910111213// æ”¹å˜t2çš„å‡½æ•°function modifyText() &#123; var t2 = document.getElementById("t2"); if (t2.firstChild.nodeValue == "three") &#123; t2.firstChild.nodeValue = "two"; &#125; else &#123; t2.firstChild.nodeValue = "three"; &#125;&#125;// ä¸ºtableæ·»åŠ äº‹ä»¶ç›‘å¬å™¨var el = document.getElementById("outside");el.addEventListener("click", modifyText, false); removeEventListener()åˆ é™¤ä½¿ç”¨ EventTarget.addEventListener() æ–¹æ³•æ·»åŠ çš„äº‹ä»¶ 123456var div = document.getElementById('div');var listener = function (event) &#123; /* do something here */&#125;;div.addEventListener('click', listener, false);div.removeEventListener('click', listener, false); attachâ€¦â€¦Event()è¿™æ˜¯æ—©æœŸIEæµè§ˆå™¨ï¼ˆIE8åŠæ—©æœŸç‰ˆæœ¬ï¼‰çš„ä¸€ä¸ªä¸“æœ‰çš„æ›¿ä»£æ€§æ ‡å‡†ï¼Œæ›¿ä»£ EventTarget.addEventListener() æ–¹æ³• âš ï¸ éæ ‡å‡† è¯¥ç‰¹æ€§æ˜¯éæ ‡å‡†çš„ï¼Œè¯·å°½é‡ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨å®ƒï¼HEXOä¸­ä¸èƒ½å‡ºç°æ­¤æ–¹æ³•ï¼Œä¼šæŠ¥é”™å¯¼è‡´é¡µé¢æ— æ³•æ˜¾ç¤º å› ä¸ºIE æ¨¡å‹ä¸æ”¯æŒäº‹ä»¶æ•è·ï¼Œæ‰€ä»¥åªæœ‰ä¸¤ä¸ªå‚æ•°ï¼šäº‹ä»¶ç±»å‹å’Œå¤„ç†å‡½æ•° å¸¦onå‰ç¼€ï¼Œè¦ç»™è¯¥æ–¹æ³•ä¼ é€’ â€˜onclickâ€™ å…è®¸ç›¸åŒäº‹ä»¶æ³¨å†Œå¤šæ¬¡ï¼Œä¹Ÿä¼šè¢«è°ƒç”¨å¤šæ¬¡ äº‹ä»¶å¤„ç†ç¨‹åºçš„è°ƒç”¨æœ¬èŠ‚ä¹Ÿä¼šè¯´æ˜äº‹ä»¶çš„ä¼ æ’­æœºåˆ¶ï¼Œå³å•ä¸ªäº‹ä»¶å¦‚ä½•èƒ½åœ¨åŸå§‹ç›®æ ‡å’Œæ–‡æ¡£å®¹å™¨ä¸Šè§¦å‘å¤šä¸ªå¤„ç†ç¨‹åºçš„è°ƒç”¨ã€‚ äº‹ä»¶å¤„ç†ç¨‹åºçš„å‚æ•°é€šå¸¸è°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åºæ—¶ä¼šæŠŠäº‹ä»¶å¯¹è±¡ä½œä¸ºå®ƒä»¬çš„ä¸€ä¸ªå‚æ•°ï¼Œæé«˜æœ‰å…³äº‹ä»¶çš„è¯¦ç»†ä¿¡æ¯ã€‚ ä¸€ä¸ª IE8 ä»¥å‰ç‰ˆæœ¬ä¸­ï¼Œè·å–äº‹ä»¶å¯¹è±¡ 123function handler(event)&#123; event = event || window.event;&#125; äº‹ä»¶å¤„ç†ç¨‹åºçš„è¿è¡Œç¯å¢ƒ1e.onclick = function()&#123;/* å¤„ç†ç¨‹åºä»£ç  */&#125; åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­ï¼Œthis å…³é”®å­—æŒ‡çš„æ˜¯äº‹ä»¶ç›®æ ‡ å½“ä½¿ç”¨ addEventListener() æ³¨å†Œæ—¶ï¼Œä¹Ÿæ˜¯ä¸€æ · ä½†å¯¹äº attachEvent()ï¼Œ this å´æ˜¯ å…¨å±€å¯¹è±¡ Windowï¼Œå…¼å®¹çš„æ–¹æ³•åœ¨ä¹¦ä¸­æœ‰ä¸¾ä¾‹ äº‹ä»¶å¤„ç†ç¨‹åºè¿”å›å€¼é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿”å› false å°±æ˜¯å‘Šè¯‰æµè§ˆå™¨ä¸è¦æ‰§è¡Œè¿™ä¸ªäº‹ä»¶ç›¸å…³çš„é»˜è®¤æ“ä½œ window.onbeforeunload() : å½“æµè§ˆå™¨å°†è¦è·³è½¬åˆ°æ–°é¡µé¢æ—¶è§¦å‘ï¼Œå¦‚æœè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå°†ä¼šå‡ºç°åœ¨è¯¢é—®ç”¨æˆ·æ˜¯å¦ç¦»å¼€å½“å‰é¡µé¢çš„æ ‡å‡†å¯¹è¯æ¡†ä¸­ï¼ˆæœ‰å…¼å®¹æ€§é—®é¢˜ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½å¯ä»¥è‡ªå®šä¹‰æç¤ºä¿¡æ¯ï¼Œæ›´å¤šæ˜¯æµè§ˆå™¨æ ‡å‡†æç¤ºï¼‰ã€‚ 1234567891011window.onbeforeunload = function (e) &#123; e = e || window.event; // å…¼å®¹IE8å’ŒFirefox 4ä¹‹å‰çš„ç‰ˆæœ¬ if (e) &#123; e.returnValue = 'å…³é—­æç¤º'; &#125; // Chrome, Safari, Firefox 4+, Opera 12+ , IE 9+ return 'å…³é—­æç¤º';&#125;; è°ƒç”¨é¡ºåº é€šè¿‡è®¾ç½®å¯¹è±¡å±æ€§æˆ– HTML å±æ€§æ³¨å†Œçš„å¤„ç†ç¨‹åºä¸€ç›´ä¼˜å…ˆè°ƒç”¨ ä½¿ç”¨ addEventListener() æ³¨å†Œçš„å¤„ç†ç¨‹åºæŒ‰ç…§å®ƒä»¬çš„æ³¨å†Œé¡ºåºè°ƒç”¨ ä½¿ç”¨ attachEvent() æ³¨å†Œçš„å¤„ç†ç¨‹åºå¯èƒ½æŒ‰ç…§ä»»ä½•é¡ºåºè°ƒç”¨ï¼Œæ‰€æœ‰ä»£ç ä¸åº”è¯¥ä¾èµ–äºè°ƒç”¨é¡ºåº äº‹ä»¶ä¼ æ’­å½“äº‹ä»¶ç›®æ ‡æ˜¯ Window å¯¹è±¡æˆ–å…¶ä»–ä¸€äº›å•ç‹¬å¯¹è±¡ï¼ˆæ¯”å¦‚ XMLHttpRequest ï¼‰æ—¶ï¼Œæµè§ˆå™¨ç®€å•é€šè¿‡è°ƒç”¨å¯¹è±¡ä¸Šé€‚å½“çš„å¤„ç†ç¨‹åºå“åº”äº‹ä»¶ã€‚ ä½†å½“äº‹ä»¶ç›®æ ‡æ˜¯æ–‡æ¡£æˆ–æ–‡æ¡£å…ƒç´ æ—¶ï¼Œæƒ…å†µè¾ƒä¸ºå¤æ‚ã€‚ å¤§éƒ¨åˆ†çš„äº‹ä»¶éƒ½ä¼šâ€œå†’æ³¡â€åˆ° DOM æ ‘æ ¹ï¼Œå±‚å±‚å‘ä¸Šä¼ é€’ï¼Œäº‹ä»¶å†’æ³¡ä¸ºåœ¨å¤§é‡å•ç‹¬æ–‡æ¡£å…ƒç´ ä¸Šæ³¨å†Œå¤„ç†ç¨‹åºæä¾›äº†ä»£æ›¿æ–¹æ¡ˆï¼Œå³åœ¨å…±åŒçš„ç¥–å…ˆå…ƒç´ ä¸Šæ³¨å†Œä¸€ä¸ªå¤„ç†ç¨‹åºæ¥å¤„ç†æ‰€æœ‰äº‹ä»¶ã€‚ ğŸ“ äº‹ä»¶ä¼ æ’­çš„ä¸‰ä¸ªé˜¶æ®µï¼š ç¬¬ä¸€é˜¶æ®µå‘ç”Ÿåœ¨ç›®æ ‡å¤„ç†ç¨‹åºè°ƒç”¨ä¹‹å‰ï¼Œç§°ä¸º â€œæ•è·â€é˜¶æ®µï¼Œå›é¡¾ä¸Šæ–‡ addEventListener() çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œæ³¨æ„å…¼å®¹æ€§é—®é¢˜ ç¬¬äºŒé˜¶æ®µæ˜¯ç›®æ ‡å¯¹è±¡æœ¬èº«çš„äº‹ä»¶å¤„ç†ç¨‹åºçš„è°ƒç”¨ ç¬¬ä¸‰é˜¶æ®µæ˜¯äº‹ä»¶å†’æ³¡ äº‹ä»¶æ•è·æä¾›äº†åœ¨äº‹ä»¶æ²¡æœ‰é€è¾¾ç›®æ ‡ä¹‹å‰æŸ¥çœ‹ä»–ä»¬çš„æœºä¼šã€‚èƒ½ç”¨äºç¨‹åºè°ƒè¯•ã€äº‹ä»¶å–æ¶ˆæŠ€æœ¯è¿‡æ»¤æ‰äº‹ä»¶ä»è€Œä½¿ç›®æ ‡äº‹ä»¶ç¨‹åºç»ä¸ä¼šè¢«è°ƒç”¨ã€å¤„ç†é¼ æ ‡æ‹–æ”¾ äº‹ä»¶å–æ¶ˆåœ¨æ”¯æŒ addEventListener() çš„æµè§ˆå™¨ä¸­ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨äº‹ä»¶å¯¹è±¡çš„ preventDefaultDefault() æ–¹æ³•å–æ¶ˆäº‹ä»¶çš„é»˜è®¤æ“ä½œï¼Œ IE9 ä¹‹å‰ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®äº‹ä»¶å¯¹è±¡çš„ returnValue å±æ€§ä¸º false è¾¾åˆ°ç›¸åŒæ•ˆæœã€‚ åœ¨æ”¯æŒ addEventListener() çš„æµè§ˆå™¨ä¸­ï¼ŒstopPropagation() æ–¹æ³•é˜»æ­¢äº‹ä»¶çš„ç»§ç»­ä¼ æ’­ï¼ŒIE9 ä¹‹å‰ï¼Œ ä½¿ç”¨ cancelBubble() å…·ä½“çš„äº‹ä»¶ç±»åˆ«è‡³æ­¤ï¼Œå·²ç»å­¦ä¹ äº† JavaScript äº‹ä»¶å¤„ç†çš„åŸºæœ¬åŸç†ï¼Œé’ˆå¯¹äºå…·ä½“çš„äº‹ä»¶ï¼Œè¯·æŸ¥é˜…çŠ€ç‰›ä¹¦ç›¸å…³ç« èŠ‚ æ–‡æ¡£åŠ è½½äº‹ä»¶ é¼ æ ‡äº‹ä»¶ é¼ æ ‡æ»šè½®äº‹ä»¶ æ‹–æ”¾äº‹ä»¶ æ–‡æœ¬äº‹ä»¶ é”®ç›˜äº‹ä»¶]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>äº‹ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptè„šæœ¬åŒ–æ–‡æ¡£ä¸Š]]></title>
    <url>%2F2017%2F12%2F26%2Fcl4s3gtex0035wn9elzirj0o7%2F</url>
    <content type="text"><![CDATA[ã€Š JavaScript æƒå¨æŒ‡å— ç¬¬åäº”ç« ã€‹ æœ¬æ–‡ä»‹ç»äº†æ–‡æ¡£çš„æ¦‚å¿µï¼Œä»¥åŠå¦‚ä½•è·å–é—®é¢˜ï¼ŒNode èŠ‚ç‚¹çš„å±æ€§ï¼Œå¦‚ä½•é€šè¿‡Nodeå±æ€§å¿«é€Ÿå®šä½çš„ç›¸å…³èŠ‚ç‚¹ã€‚ JavaScriptè„šæœ¬åŒ–æ–‡æ¡£æ¯ä¸ª Window å¯¹è±¡ç”±ä¸€ä¸ª document å±æ€§å¼•ç”¨äº† Document å¯¹è±¡ï¼Œå®ƒæ˜¯ä¸€ä¸ªå·¨å¤§çš„ API ä¸­çš„æ ¸å¿ƒå¯¹è±¡ï¼Œå°±åšæ–‡æ¡£æ¨¡å‹ï¼Œå®ƒä»£è¡¨å’Œæ“ä½œæ–‡æ¡£çš„å†…å®¹ã€‚æœ¬ç« æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹ï¼š å¦‚ä½•åœ¨æ–‡æ¡£ä¸­æŸ¥è¯¢æˆ–é€‰å–å•ç‹¬çš„å…ƒç´  å¦‚ä½•å°†æ–‡æ¡£ä½œä¸ºèŠ‚ç‚¹æ ‘éå†ï¼Œå¦‚ä½•æ‰¾åˆ°ä»»ä½•æ–‡æ¡£å…ƒç´ çš„ç¥–å…ˆã€å…„å¼Ÿå’Œåå°å…ƒç´  å¦‚ä½•æŸ¥è¯¢å’Œè®¾ç½®æ–‡æ¡£å…ƒç´ çš„å±æ€§ å¦‚ä½•æŸ¥è¯¢ã€è®¾ç½®å’Œä¿®æ”¹æ–‡æ¡£çš„å†…å®¹ å¦‚ä½•é€šè¿‡åˆ›å»ºã€æ’å…¥å’Œåˆ é™¤èŠ‚ç‚¹æ¥ä¿®æ”¹æ–‡æ¡£ç»“æ„ å¦‚ä½•ä¸HTMLè¡¨å•ä¸€èµ·å·¥ä½œ æ–‡æ¡£ç‰¹æ€§ï¼Œreferrershuxingã€write()æ–¹æ³•ã€å’ŒæŸ¥è¯¢å½“å‰æ–‡æ¡£ä¸­é€‰å–çš„æ–‡æ¡£æ–‡æœ¬ DOM æ¦‚è¿°DOMï¼šæ–‡æ¡£å¯¹è±¡æ¨¡å‹ ä¸€ä¸ªç®€å•çš„ HTML æ–‡æ¡£çš„ DOM æ ‘çŠ¶å›¾ï¼š æ–‡æ¡£ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¡¨ç¤ºä¸€ä¸ª Node å¯¹è±¡ï¼Œæ¯ä¸ª Node å¯¹è±¡ç”±å››å¤§å±æ€§ï¼Œè¯¦ç»†è¯·æŸ¥é˜…ç›¸å…³ç« èŠ‚ï¼š Document CharaterData Element Attr é€‰å–æ–‡æ¡£å…ƒç´  ç”¨æŒ‡å®šçš„ ID å±æ€§ ç”¨æŒ‡å®šçš„ name å±æ€§ ç”¨æŒ‡å®šçš„æ ‡ç­¾åå­— ç”¨æŒ‡å®šçš„ CSS ç±» åŒ¹é…æŒ‡å®šçš„ CSS é€‰æ‹©å™¨ é€šè¿‡ ID é€‰å–å…ƒç´ 1var section1 = document.getElementById('section1'); id å±æ€§æ˜¯ HTML å…ƒç´ å”¯ä¸€çš„ï¼Œè¿™æ˜¯æœ€ç®€å•å’Œå¸¸ç”¨çš„é€‰å–å…ƒç´ çš„æ–¹æ³•ã€‚ é€šè¿‡ id æŸ¥æ‰¾å¤šä¸ªå…ƒç´ ï¼š é€šè¿‡åå­—é€‰å–å…ƒç´  name å±æ€§ä¸æ˜¯å¿…é¡»å”¯ä¸€ï¼Œä½†æ˜¯åªæœ‰å°‘æ•° HTML å…ƒç´ ä¸­æœ‰æ•ˆï¼ŒåŒ…æ‹¬è¡¨å•ã€è¡¨å•å…ƒç´ ã€&lt;ifarme&gt;ã€&lt;img&gt;å…ƒç´  1var radiobuttons = document.getElementByName('favorite_color'); æœ‰äº›å…ƒç´ è‡ªåŠ¨è®¾ç½® name å±æ€§åˆ° Window å¯¹è±¡ä¸­ï¼Œæ‰€æœ‰å¯ä»¥ä»…ä»…é€šè¿‡åå­—è·å–ï¼Œä½†æ˜¯æœ€å¥½æ˜¾ç¤ºçš„é€šè¿‡ getElementByName() è·å–ï¼š 12// é’ˆå¯¹ &lt;form name='shipping_address'&gt; å…ƒç´ ,è·å¾—Elementå¯¹è±¡var form = docuemnt.shipping_address; é€šè¿‡æ ‡ç­¾åé€‰å–å…ƒç´ 1var spans = document.getElementByTagName('span'); åªèƒ½è¿”å›æ•°ç»„å¯¹è±¡ï¼Œå¹¶ä¸”æ’åˆ—é¡ºåºæ˜¯æ–‡æ¡£ä¸­çš„é¡ºåºã€‚HTML æ ‡ç­¾æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ã€‚ ä¼ é€’é€šé…ç¬¦å‚æ•° * å°†è·å–ä»£è¡¨æ–‡æ¡£ä¸­æ‰€æœ‰å…ƒç´ çš„ NodeList å¯¹è±¡ã€‚ é€šè¿‡ CSS ç±»é€‰å–å…ƒç´ 12//æŸ¥æ‰¾å…¶classå±æ€§å€¼ä¸­åŒ…å«â€œawrningâ€çš„æ‰€æœ‰å…ƒç´ var warning = document.getElementByClassName('warning') å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯å¤šä¸ªç”±ç©ºæ ¼éš”å¼€çš„æ ‡è¯†ç¬¦ç»„æˆï¼Œåªæœ‰å½“å…ƒç´ çš„ class å±æ€§å€¼åŒ…å«æ‰€æœ‰æŒ‡å®šçš„æ ‡è¯†ç¬¦æ—¶æ‰ä¼šåŒ¹é…ï¼Œä½†æ˜¯ä¸æ ‡è¯†ç¬¦çš„é¡ºåºæ˜¯æ— å…³çš„ã€‚ ç°ä»£Webæµè§ˆå™¨ä¸­ä»¥&lt;!DOCTYPE&gt;å£°æ˜çš„ä¸¥æ ¼ç¨‹åº¦æ¥é€‰æ‹©â€œæ€ªå¼‚æ¨¡å¼â€æˆ–è€…â€œæ ‡å‡†æ¨¡å¼â€æ–¹å¼æ˜¾ç¤ºHTMLæ–‡æ¡£ã€‚æ€ªå¼‚æ¨¡å¼æ˜¯ä¸ºäº†å‘åå…¼å®¹æ€§è€Œå­˜åœ¨çš„ã€‚ é€šè¿‡ CSS é€‰æ‹©å™¨é€‰å–å…ƒç´ é€‰æ‹©å™¨ç”¨æ¥æè¿°æ–‡æ¡£ä¸­çš„è‹¥å¹²æˆ–å¤šç»„å…ƒç´ ï¼Œå…ƒç´ å¯ä»¥ç”¨IDã€æ ‡ç­¾åæˆ–ç±»æ¥æè¿° cssé€‰æ‹©å™¨ querySelectorAll() :è¿”å›ä¸æŒ‡å®šçš„é€‰æ‹©å™¨ç»„åŒ¹é…çš„æ–‡æ¡£ä¸­çš„å…ƒç´ åˆ—è¡¨ (ä½¿ç”¨æ·±åº¦ä¼˜å…ˆçš„å…ˆåºéå†æ–‡æ¡£çš„èŠ‚ç‚¹)ã€‚è¿”å›çš„å¯¹è±¡æ˜¯ NodeList ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€äº›ä¼ªå…ƒç´ æ— æ³•åŒ¹é…ï¼Œå¦‚ :first-line :first-letter 1var matches = document.querySelectorAll("div.note, div.alert"); ğŸ“Œ è·å–æŸä¸ªå…ƒç´ ä¸‹åŒ…å«çš„æ‰€æœ‰å­å…ƒç´ ï¼ŒæŸ¥çœ‹å…¶å±æ€§ï¼š 123456789let form = document.getElementById('sub-form')let arr = Array.prototype.slice.call(form)/* [input#sb_form_q.b_searchbox, input#sb_form_go.b_searchboxSubmit, input#sa_qs, input]0:input#sb_form_q.b_searchbox1:input#sb_form_go.b_searchboxSubmit2:input#sa_qs3:input */ æ–‡æ¡£ç»“æ„å’Œéå†æœ‰æ—¶éœ€è¦æŸ¥æ‰¾æ–‡æ¡£ä¸­ä¸ä¹‹ç»“æ„ä¸Šç›¸å…³çš„éƒ¨åˆ†ï¼ˆçˆ¶äº²ã€å…„å¼Ÿã€å­å¥³ï¼‰ã€‚ æ–‡æ¡£ä»æ¦‚å¿µä¸Šå¯ä»¥çœ‹åšæ˜¯ä¸€æ£µèŠ‚ç‚¹å¯¹è±¡æ ‘ã€‚ ä½œä¸ºèŠ‚ç‚¹æ ‘çš„æ–‡æ¡£Documentå¯¹è±¡ã€å®ƒçš„ Element å¯¹è±¡å’Œæ–‡æ¡£ä¸­è¡¨ç¤ºæ–‡æœ¬çš„ Text å¯¹è±¡éƒ½æ˜¯ Node å¯¹è±¡ï¼ˆè§ä¸Šå›¾ï¼‰ï¼ŒNode å®šä¹‰äº†å‡ ä¸ªé‡è¦å±æ€§ï¼š parentNode èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ childNodes åªè¯»çš„å­èŠ‚ç‚¹æ•°ç»„å¯¹è±¡ firstChildã€lastChild è¯¥èŠ‚ç‚¹çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå­èŠ‚ç‚¹ nextSliblingã€previpursSlibling ğŸ“Œ èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹ä¸­çš„å‰ä¸€ä¸ªå’Œä¸‹ä¸€ä¸ª å…·æœ‰ç›¸åŒçˆ¶èŠ‚ç‚¹çš„ä¸¤ä¸ªèŠ‚ç‚¹ä¸ºå…„å¼ŸèŠ‚ç‚¹ èŠ‚ç‚¹çš„é¡ºåºåæ˜ äº†å®ƒä»¬åœ¨æ–‡æ¡£ä¸­å‡ºç°çš„é¡ºåº nodeType è¯¥èŠ‚ç‚¹çš„ç±»å‹ nodeValue Text èŠ‚ç‚¹æˆ– Comment èŠ‚ç‚¹çš„æ–‡æœ¬å†…å®¹ nodeName å…ƒç´ çš„æ ‡ç­¾åï¼Œä»¥å¤§å†™å½¢å¼è¡¨ç¤º å¿«é€Ÿè·å–å…ƒç´ çš„å®è·µï¼š1234//ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ä¸‹é¢çš„ç¬¬äºŒä¸ªå­èŠ‚ç‚¹document.childNodes[0].childNodes[1];//ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ä¸‹é¢çš„ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹çš„å‰ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹document.firstChild.firstChild.nextSibling ä½œä¸ºå…ƒç´ æ ‘çš„æ–‡æ¡£etcâ€¦ ä¼¼ä¹åœ¨å¼€å‘ä¸­ç”¨ä¸åˆ°]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>è„šæœ¬æ–‡æ¡£åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptäº‹ä»¶å¤„ç†ä¸Š]]></title>
    <url>%2F2017%2F12%2F24%2Fcl4s3gten002lwn9e1xspcv1g%2F</url>
    <content type="text"><![CDATA[JavaScriptäº‹ä»¶å¤„ç†ä¸Šå®¢æˆ·ç«¯ JavaScript ç¨‹åºé‡‡ç”¨äº†å¼‚æ­¥äº‹ä»¶é©±åŠ¨ç¼–ç¨‹æ¨¡å‹ï¼Œåœ¨è¿™ç§ç¨‹åºè®¾è®¡é£æ ¼ä¸‹ï¼Œå½“æ–‡æ¡£ã€æµè§ˆå™¨ã€å…ƒç´ æˆ–ä¸ä¹‹ç›¸å…³çš„å¯¹è±¡å‘ç”ŸæŸäº›æœ‰è¶£çš„äº‹æƒ…æ—¶ï¼ŒWeb æµè§ˆå™¨å°±ä¼šäº§ç”Ÿäº‹ä»¶ã€‚ å¦‚æœ JavaScript å…³æ³¨ç‰¹å®šç±»å‹çš„æ—¶é—´ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥æ³¨å†Œå½“è¿™ç±»æ—¶é—´å‘ç”Ÿæ—¶è¦è°ƒç”¨çš„ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°ã€‚ æœ¯è¯­äº†è§£ç›¸å…³çš„æœ¯è¯­ï¼Œæœ‰åŠ©äºç»§ç»­æ·±å…¥å­¦ä¹ äº‹ä»¶å’Œäº‹ä»¶å¤„ç†ã€‚ äº‹ä»¶ç±»å‹ï¼ˆevent typeï¼‰ æ˜¯ä¸€ä¸ªç”¨æ¥è¯´æ˜å‘ç”Ÿä»€ä¹ˆäº‹ä»¶çš„å­—ç¬¦ä¸²ï¼Œæœ‰æ—¶ä¹Ÿè¢«äº‹ä»¶åå­—ï¼ˆevent nameï¼‰ äº‹ä»¶ç›®æ ‡ï¼ˆevent targeï¼‰ æ˜¯å‘ç”Ÿçš„äº‹ä»¶æˆ–ä¸ä¹‹ç›¸å…³çš„å¯¹è±¡ï¼Œå½“å°†äº‹ä»¶æ˜¯ï¼Œå¿…é¡»åŒæ—¶æŒ‡æ˜ç±»å‹å’Œç›®æ ‡ã€‚ Windowã€Documentã€Elementæ˜¯æœ€å¸¸è§çš„äº‹ä»¶ç›®æ ‡ äº‹ä»¶å¤„ç†ç¨‹åºï¼ˆevent handlerï¼‰ äº‹ä»¶å¤„ç†ç¨‹åºï¼ˆevent handlerï¼‰æˆ–äº‹ä»¶ç›‘å¬ç¨‹åºï¼ˆevent listenerï¼‰ æ˜¯å¤„ç†å“åº”äº‹ä»¶çš„å‡½æ•°ã€‚ å½“å¯¹è±¡åœ¨æ³¨å†Œçš„äº‹ä»¶ç¨‹åºè¢«è°ƒç”¨æ—¶ï¼Œæˆ‘ä»¬æœ‰æ—¶ä¼šè¯´æµè§ˆå™¨â€œè§¦å‘â€å’Œâ€œæ´¾å‘â€äº†äº‹ä»¶ äº‹ä»¶å¯¹è±¡ï¼ˆevent objectï¼‰ äº‹ä»¶å¯¹è±¡ï¼ˆevent objectï¼‰æ˜¯ä¸ç‰¹å®šäº‹ä»¶å¹¶ä¸”åŒ…å«æœ‰å…³è¯¥äº‹ä»¶è¯¦ç»†ä¿¡æ¯çš„å¯¹è±¡ã€‚ äº‹ä»¶å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™äº‹ä»¶å¤„ç†ç¨‹åº æ‰€æœ‰çš„äº‹ä»¶å¯¹è±¡éƒ½æœ‰ç”¨æ¥æŒ‡å®šäº‹ä»¶ç±»å‹çš„ type å±æ€§å’ŒæŒ‡å®šäº‹ä»¶ç›®æ ‡çš„ targe å±æ€§ã€‚ äº‹ä»¶ä¼ æ’­ï¼ˆevent propagationï¼‰ äº‹ä»¶ä¼ æ’­ï¼ˆevent propagationï¼‰æ˜¯æµè§ˆå™¨å†³å®šå“ªä¸ªå¯¹è±¡è§¦å‘å…¶äº‹ä»¶å¤„ç†ç¨‹åºçš„è¿‡ç¨‹ã€‚ å½“æ–‡æ¡£å…ƒç´ å‘ç”ŸæŸä¸ªç±»å‹çš„äº‹ä»¶æ—¶ï¼Œä»–ä»¬ä¼šåœ¨æ–‡æ¡£æ ‘ä¸Šå‘ä¸Šä¼ æ’­æˆ–â€œå†’æ³¡â€ï¼ˆbubbleï¼‰ äº‹ä»¶å¤„ç†ç¨‹åºèƒ½é€šè¿‡è°ƒç”¨æ–¹æ³•æˆ–è®¾ç½®äº‹ä»¶å¯¹è±¡å±æ€§æ¥é˜»æ­¢äº‹ä»¶ä¼ æ’­ï¼Œè¿™æ ·èƒ½åœæ­¢å†’æ³¡å¹¶å°†æ— æ³•å†å®¹å™¨å…ƒç´ ä¸Šè§¦å‘çš„å¤„ç†ç¨‹åºã€‚ äº‹ä»¶æ•è·ï¼ˆevent capturingï¼‰ æ˜¯äº‹ä»¶ä¼ æ’­çš„å¦ä¸€ç§å½¢å¼ï¼Œåœ¨å®¹å™¨å…ƒç´ ä¸Šæ³¨å†Œçš„ç‰¹å®šå¤„ç†ç¨‹åºæœ‰æœºä¼šåœ¨äº‹ä»¶ä¼ æ’­åˆ°çœŸå®ç›®æ ‡ä¹‹å‰æ‹¦æˆªï¼ˆæˆ–â€œæ•è·â€ï¼‰å®ƒ IE8 ç‰ˆæœ¬ä¹‹å‰ä¸æ”¯æŒäº‹ä»¶æ•è· äº‹ä»¶çš„é»˜è®¤æ“ä½œ ä¾‹å¦‚åœ¨è¶…é“¾æ¥çš„ç‚¹å‡»äº‹ä»¶ï¼Œæµè§ˆå™¨çš„é»˜è®¤æ“ä½œæ˜¯æŒ‰ç…§è¶…é“¾æ¥é‡æ–°åŠ è½½é¡µé¢ äº‹ä»¶å¤„ç†ç¨‹åºå¯ä»¥é€šè¿‡è¿”å›ä¸€ä¸ªé€‚å½“çš„å€¼ã€è°ƒç”¨äº‹ä»¶å¯¹è±¡çš„æŸä¸ªæ–¹æ³•è®¾ç½®äº‹ä»¶å¯¹è±¡çš„æŸä¸ªå±æ€§æ¥é˜»æ­¢é»˜è®¤æ“ä½œçš„å‘ç”Ÿã€‚ äº‹ä»¶ç±»å‹éšç€ Web å¹³å°å‘å±•åˆ°åŒ…å«æ›´å¼ºå¤§çš„APIï¼Œäº‹ä»¶é›†åˆéšä¹‹è¶Šæ¥è¶Šå¤§ï¼Œè¿™äº›æ–°äº‹ä»¶ä¸»è¦æœ‰ä¸‰ä¸ªæ¥æºï¼š 3çº§ DOM äº‹ä»¶è§„èŒƒ HTML5 è§„èŒƒè¡ç”Ÿè§„èŒƒçš„å¤§é‡æ–°APIå®šä¹‰çš„äº‹ä»¶ åŸºäºè§¦æ‘¸å’Œæ”¯æŒ JavaScript çš„ç§»åŠ¨è®¾å¤‡çš„å‡ºç° äº‹ä»¶å¤§è‡´å¯ä»¥åˆ†æˆå‡ ç±»ï¼Œäº†è§£è¿™äº›åˆ†ç±»æœ‰åŠ©äºç†è§£å’Œç»„ç»‡äº‹ä»¶åˆ—è¡¨ï¼š ä¾èµ–äºè®¾å¤‡çš„è¾“å…¥äº‹ä»¶ é¼ æ ‡å’Œé”®ç›˜ï¼Œ mousedownã€mousemoveã€mouseupã€keydownã€keyup ç‹¬ç«‹ä¸è®¾å¤‡çš„è¾“å…¥äº‹ä»¶ è¿™äº›äº‹ä»¶æ²¡æœ‰ç›´æ¥ç›¸å…³çš„ç‰¹å®šè¾“å…¥è®¾å¤‡ï¼Œå¦‚ click äº‹ä»¶ï¼Œå¯ä»¥é€šè¿‡é¼ æ ‡ç‚¹å‡»å‘ç”Ÿä¹Ÿå¯ä»¥é€šè¿‡é”®ç›˜æˆ–è€…å…¶ä»–è®¾å¤‡è§¦å‘ ç”¨æˆ·ç•Œé¢äº‹ä»¶ ç”¨æˆ·ç•Œé¢äº‹ä»¶ï¼Œé€šå¸¸å‡ºç°å®šä¹‰ Web ç¨‹åºç”¨æˆ·ç•Œé¢çš„ HTML è¡¨å•å…ƒç´ ä¸Šã€‚ åŒ…æ‹¬æ–‡æœ¬è¾“å…¥åŸŸè·å–é”®ç›˜ç„¦ç‚¹çš„ focus äº‹ä»¶ã€ç”¨æˆ·æ”¹å˜è¡¨å•å…ƒæ ¼çš„ change äº‹ä»¶ã€è¡¨å•æäº¤ submit äº‹ä»¶ çŠ¶æ€å˜åŒ–äº‹ä»¶ ä¸æ˜¯ç”±äºç”¨æˆ·æ´»åŠ¨è€Œæ˜¯ç”±äºç½‘ç»œæˆ–æµè§ˆå™¨æ´»åŠ¨å‡ºå‘ã€ç”¨æ¥æ ‡è¯†æŸç§å£°æ˜å‘¨æœŸæˆ–ç›¸å…³çŠ¶æ€çš„å˜åŒ– ä¾‹å¦‚ï¼Œwindow çš„ onload äº‹ä»¶ï¼Œloadstartã€progressã€loadendç­‰ I/O è¿‡ç¨‹çš„å¼‚æ­¥é€šçŸ¥ ç‰¹å®šçš„ API äº‹ä»¶ HTML5 åŠç›¸å…³è§„èŒƒå®šä¹‰çš„å¤§é‡ Web API éƒ½æœ‰è‡ªå·±çš„äº‹ä»¶ç±»å‹ å¦‚æ‹–æ”¾ APIï¼Œdragstartã€dragenterï¼Œ&lt;video /&gt; ç­‰ ä¼ ç»Ÿäº‹ä»¶ç±»å‹ è¡¨å•äº‹ä»¶ è¡¨å•äº‹ä»¶æ˜¯æ‰€æœ‰äº‹ä»¶ç±»å‹ä¸­æœ€ç¨³å®šä¸”å¾—åˆ°æœ€è‰¯å¥½æ”¯æŒçš„é‚£éƒ¨åˆ† è¡¨å•æäº¤å’Œé‡ç½®ï¼Œä¼šè§¦å‘ submit å’Œ reset äº‹ä»¶ ç±»æŒ‰é’®å…ƒç´ ï¼ˆå¦‚å•é€‰ã€å¤é€‰ï¼‰äº¤äº’æ—¶ï¼Œclick äº‹ä»¶ ç”¨æˆ·é€šè¿‡æ–‡å­—ã€é€‰æ‹©é€‰é¡¹æˆ–é€‰æ‹©å¤é€‰æ¡†æ”¹å˜è¡¨å•å…ƒç´ çŠ¶æ€æ—¶ï¼Œé€šå¸¸ä¼šè§¦å‘ change äº‹ä»¶ å¯¹äºæ–‡æœ¬è¾“å…¥åŸŸï¼Œåªæœ‰å½“ç„¦ç‚¹ç§»åŠ¨åˆ°å…¶ä»–å…ƒç´ æ‰ä¼šè§¦å‘ change äº‹ä»¶ æ”¹å˜è¡¨å•å…ƒç´ ç„¦ç‚¹æ—¶ä¼šè§¦å‘ï¼Œfocus å’Œ blur äº‹ä»¶ é€šè¿‡äº‹ä»¶å¤„ç†ç¨‹åºèƒ½å–æ¶ˆ submit å’Œ reset äº‹ä»¶çš„é»˜è®¤æ“ä½œ Window äº‹ä»¶ Window äº‹ä»¶æ˜¯æŒ‡äº‹ä»¶çš„å‘ç”Ÿäºæµè§ˆå™¨çª—å£æœ¬èº«è€Œéçª—å£ä¸­æ˜¾ç¤ºçš„ä»»ä½•ç‰¹å®šæ–‡æ¡£å†…å®¹ç›¸å…³ load äº‹ä»¶ï¼Œæ˜¯å½“æ–‡æ¡£å’Œå…¶ä»–æ‰€æœ‰çš„å¤–éƒ¨èµ„æºï¼ˆæ¯”å¦‚å›¾ç‰‡ï¼‰å®Œå…¨åŠ è½½å¹¶æ˜¾ç¤ºç»™ç”¨æˆ·æ—¶æ‰ä¼šè§¦å‘ unloadäº‹ä»¶ï¼Œæ˜¯å½“ç”¨æˆ·ç¦»å¼€æ–‡æ¡£è½¬å‘å…¶ä»–æ–‡æ¡£æ˜¯è§¦å‘å®ƒ resizeã€scrolläº‹ä»¶ï¼Œå½“ç”¨æˆ·è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°ã€æ»šåŠ¨æ—¶ä¼šè¢«è§¦å‘ï¼Œä½†å…¶äº‹ä»¶å¯¹è±¡æ—¶éå¸¸æ™®é€šçš„ Event å¯¹è±¡ï¼Œæ²¡æœ‰æŒ‡å®šè°ƒæ•´å¤§å°æˆ–å‘ç”Ÿæ»šåŠ¨çš„è¯¦ç»†ä¿¡æ¯å±æ€§ é¼ æ ‡äº‹ä»¶ å½“ç”¨æˆ·åœ¨æ–‡æ¡£ä¸Šç§»åŠ¨å•å‡»é¼ æ ‡éƒ½ä¼šäº§ç”Ÿé¼ æ ‡äº‹ä»¶ï¼Œè¿™äº›äº‹ä»¶åœ¨é¼ æ ‡æŒ‡é’ˆæ‰€å¯¹åº”çš„æœ€æ·±åµŒå¥—å…ƒç´ ä¸Šè§¦å‘ï¼Œ ä½†ä»–ä»¬ä¼šå†’æ³¡ç›´åˆ°æ–‡æ¡£çš„æœ€é¡¶å±‚ äº‹ä»¶å¯¹è±¡ä¸­åŒ…å«äº†ï¼Œé¼ æ ‡çš„ä½ç½®å’ŒæŒ‰é”®çŠ¶æ€ å¯¹äº click äº‹ä»¶ï¼Œ detail å±æ€§åˆ¶å®šäº†å…¶æ˜¯å•å‡»ã€åŒå‡»ã€è¿˜æ˜¯ä¸‰å‡» mousemove äº‹ä»¶ï¼Œå½“ç”¨æˆ·ç§»åŠ¨é¼ æ ‡æ—¶è§¦å‘ï¼Œåœ¨è¯¥äº‹ä»¶ä¸­ï¼Œä¸€å®šä¸èƒ½è§¦å‘è®¡ç®—å¯†é›†å‹ä»»åŠ¡ mouseover äº‹ä»¶ï¼Œå½“ç”¨æˆ·é¼ æ ‡æŒ‡é’ˆæ‚¬åœåˆ°æ–°å…ƒç´ ä¸Šæ—¶è§¦å‘ï¼Œmouseoutï¼Œä¸åœ¨æ‚¬åœåœ¨æŸä¸ªå¯¹è±¡ä¸Šæ—¶è§¦å‘ mousewhell äº‹ä»¶ï¼Œå½“ç”¨æˆ·é¼ æ ‡æ»šè½®æ—¶è§¦å‘ é”®ç›˜äº‹ä»¶ ç”¨æˆ·æ¯æ¬¡æŒ‰ä¸‹æˆ–é‡Šæ”¾é”®ç›˜ä¸Šçš„æŒ‰é”®æ—¶éƒ½ä¼šäº§ç”Ÿäº‹ä»¶ ä¼ é€’ç»™äº‹ä»¶å¤„ç†ç¨‹åºçš„å¯¹è±¡ä¸­æœ‰ keyCode å­—æ®µ ï¼Œ å®ƒæŒ‡å®šæŒ‰ä¸‹æˆ–é‡Šæ”¾çš„é”®æ˜¯å“ªä¸€ä¸ª keydownã€keyupã€keypress äº‹ä»¶ï¼Œé”®ç›˜æŒ‰ä¸‹ã€é‡Šæ”¾ï¼Œkeypress æŒ‰ä½æ—¶å¯ä»¥äº§ç”Ÿè¿ç»­å¤šä¸ªç›¸åŒçš„å­—ç¬¦ DOM äº‹ä»¶DOMçš„åˆ†çº§ï¼šæ ¹æ®W3C DOMè§„èŒƒï¼ŒDOMæ˜¯HTMLä¸XMLçš„åº”ç”¨ç¼–ç¨‹æ¥å£ï¼ˆAPIï¼‰ï¼ŒDOMå°†æ•´ä¸ªé¡µé¢æ˜ å°„ä¸ºä¸€ä¸ªç”±å±‚æ¬¡èŠ‚ç‚¹ç»„æˆçš„æ–‡ä»¶ã€‚æœ‰1çº§ã€2çº§ã€3çº§å…±3ä¸ªçº§åˆ«ã€‚ 1çº§DOMï¼š1çº§DOMåœ¨1998å¹´10æœˆä»½æˆä¸ºW3Cçš„æè®®ï¼Œç”±DOMæ ¸å¿ƒä¸DOM HTMLä¸¤ä¸ªæ¨¡å—ç»„æˆã€‚DOMæ ¸å¿ƒèƒ½æ˜ å°„ä»¥XMLä¸ºåŸºç¡€çš„æ–‡æ¡£ç»“æ„ï¼Œå…è®¸è·å–å’Œæ“ä½œæ–‡æ¡£çš„ä»»æ„éƒ¨åˆ†ã€‚DOM HTMLé€šè¿‡æ·»åŠ HTMLä¸“ç”¨çš„å¯¹è±¡ä¸å‡½æ•°å¯¹DOMæ ¸å¿ƒè¿›è¡Œäº†æ‰©å±•ã€‚ 2çº§DOMé‰´äº1çº§DOMä»…ä»¥æ˜ å°„æ–‡æ¡£ç»“æ„ä¸ºç›®æ ‡ï¼ŒDOM 2çº§é¢å‘æ›´ä¸ºå®½å¹¿ã€‚é€šè¿‡å¯¹åŸæœ‰DOMçš„æ‰©å±•ï¼Œ2çº§DOMé€šè¿‡å¯¹è±¡æ¥å£å¢åŠ äº†å¯¹é¼ æ ‡å’Œç”¨æˆ·ç•Œé¢äº‹ä»¶ï¼ˆDHTMLé•¿æœŸæ”¯æŒé¼ æ ‡ä¸ç”¨æˆ·ç•Œé¢äº‹ä»¶ï¼‰ã€èŒƒå›´ã€éå†ï¼ˆé‡å¤æ‰§è¡ŒDOMæ–‡æ¡£ï¼‰å’Œå±‚å æ ·å¼è¡¨ï¼ˆCSSï¼‰çš„æ”¯æŒã€‚åŒæ—¶ä¹Ÿå¯¹DOM 1çš„æ ¸å¿ƒè¿›è¡Œäº†æ‰©å±•ï¼Œä»è€Œå¯æ”¯æŒXMLå‘½åç©ºé—´ã€‚ *2çº§DOMå¼•è¿›äº†å‡ ä¸ªæ–°DOMæ¨¡å—æ¥å¤„ç†æ–°çš„æ¥å£ç±»å‹ï¼š DOMè§†å›¾ï¼šæè¿°è·Ÿè¸ªä¸€ä¸ªæ–‡æ¡£çš„å„ç§è§†å›¾ï¼ˆä½¿ç”¨CSSæ ·å¼è®¾è®¡æ–‡æ¡£å‰åï¼‰çš„æ¥å£ï¼› DOMäº‹ä»¶ï¼šæè¿°äº‹ä»¶æ¥å£ï¼› DOMæ ·å¼ï¼šæè¿°å¤„ç†åŸºäºCSSæ ·å¼çš„æ¥å£ï¼› DOMéå†ä¸èŒƒå›´ï¼šæè¿°éå†å’Œæ“ä½œæ–‡æ¡£æ ‘çš„æ¥å£ï¼›* 3çº§DOM3çº§DOMé€šè¿‡å¼•å…¥ç»Ÿä¸€æ–¹å¼è½½å…¥å’Œä¿å­˜æ–‡æ¡£å’Œæ–‡æ¡£éªŒè¯æ–¹æ³•å¯¹DOMè¿›è¡Œè¿›ä¸€æ­¥æ‰©å±•ï¼ŒDOM3åŒ…å«ä¸€ä¸ªåä¸ºâ€œDOMè½½å…¥ä¸ä¿å­˜â€çš„æ–°æ¨¡å—ï¼ŒDOMæ ¸å¿ƒæ‰©å±•åå¯æ”¯æŒXML1.0çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬XML Infosetã€ XPathã€å’ŒXML Baseã€‚ â€œ0çº§â€DOMå½“é˜…è¯»ä¸DOMæœ‰å…³çš„ææ–™æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°å‚è€ƒ0çº§DOMçš„æƒ…å†µã€‚éœ€è¦æ³¨æ„çš„æ˜¯å¹¶æ²¡æœ‰æ ‡å‡†è¢«ç§°ä¸º0çº§DOMï¼Œå®ƒä»…æ˜¯DOMå†å²ä¸Šä¸€ä¸ªå‚è€ƒç‚¹ï¼ˆ0çº§DOMè¢«è®¤ä¸ºæ˜¯åœ¨Internet Explorer 4.0 ä¸Netscape Navigator4.0æ”¯æŒçš„æœ€æ—©çš„DHTMLï¼‰ã€‚ HTML5 äº‹ä»¶HTML5 åŠç›¸å…³æ ‡å‡†å®šä¹‰äº†å¤§é‡æ–°çš„ Web åº”ç”¨ APIï¼Œå…¶ä¸­è®¸å¤š API éƒ½å®šä¹‰äº†äº‹ä»¶ã€‚ éŸ³é¢‘å’Œè§†é¢‘ &lt;audio&gt; å’Œ &lt;video&gt; æ‹–æ”¾äº‹ä»¶ è¡¨å•çš„æ–°ç‰¹æ€§ï¼Œè¡¨å•éªŒè¯æœºåˆ¶ï¼ŒåŒ…æ‹¬éªŒè¯å¤±è´¥æ—¶åœ¨è¡¨å•å…ƒç´ ä¸Šä¼šè§¦å‘ invalid äº‹ä»¶ ç¦»çº¿ Web åº”ç”¨çš„æ”¯æŒ è®¸å¤šæ–°çš„APIåº”ç”¨ä½¿ç”¨ message äº‹ä»¶è¿›è¡Œå¼‚æ­¥é€šä¿¡ã€‚è·¨æ–‡æ¡£é€šä¿¡ API å…è®¸ä¸€å°æœåŠ¡å™¨ä¸Šçš„æ–‡æ¡£èƒ½é€šè¿‡å’Œå¦ä¸€å°æœåŠ¡å™¨ä¸Šçš„æ–‡æ¡£è„šæœ¬äº¤æ¢æ¶ˆæ¯ã€‚ XMLHttpRequest è§„èŒƒå®šä¹‰äº†ä¸€ç³»åˆ—äº‹ä»¶æ¥è¿½è¸ªå¼‚æ­¥çš„ I/O è¿›åº¦ï¼Œloadstartã€progressã€loadend è§¦æ‘¸å±å’Œç§»åŠ¨è®¾å¤‡äº‹ä»¶å¯ä»¥åœ¨ Apple å¼€å‘è€…ä¸­å¿ƒ æŸ¥è¯¢æ›´å¤šä¿¡æ¯]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>äº‹ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptæ¨¡å—]]></title>
    <url>%2F2017%2F12%2F16%2Fcl4s3gtee0022wn9eysltce6k%2F</url>
    <content type="text"><![CDATA[JavaScript æ¨¡å—JavaScript æ¨¡å—åœ¨å¹³æ—¶å¼€å‘ä¸­éƒ½ä¼šæ¥è§¦åˆ°ï¼Œä½†ç¼ºä¹å¯¹æ¨¡å—æ•´ä½“ç†è§£ï¼Œæœ¬æ–‡æ¡£è¯•ç€ä»å‰ç«¯æ¨¡å—çš„å‘å±•å†ç¨‹ä½œä¸ºåˆ‡å…¥ç‚¹ï¼Œä»¥ â€˜CommonJSâ€™ å’Œ â€˜ES6â€™ æ¨¡å—ä½œä¸ºæ·±å…¥å­¦ä¹ çš„æ–¹å‘ï¼Œæ·±å…¥ç†è§£å’ŒæŒæ¡ JavaScript æ¨¡å— JS æ¨¡å—å‘å±•å²JavaScript æ¨¡å—åŒ–ä¸ƒæ—¥è°ˆå‰ç«¯æ¨¡å—åŒ–å¼€å‘é‚£ç‚¹å†å²AMD, CMD, CommonJS å’Œ UMD CommonJS æ¨¡å—ç³»ç»ŸNode.js æ¨¡å— CommonJs æ˜¯ä¸€ä¸ªç”±å¼€æºå¼€å‘è€…ç»„æˆçš„å›¢é˜Ÿï¼Œä¸»è¦å›´ç»• JavaScript å®ç°ä¸€äº› API åŠå¼€å±•ç ”å‘å®è·µã€‚ è¯¥å›¢é˜Ÿæå‡ºäº†ä¸€ä¸ª avaScript æ¨¡å—è§„èŒƒã€‚æ¯ä¸ªæ–‡ä»¶éƒ½å¯å½“ä½œä¸€ä¸ªæ¨¡å—ï¼Œå¹¶ä¸”æ¯ä¸ªæ–‡ä»¶å¯ä»¥è®¿é—®ä¸¤ä¸ªå¯¹è±¡ï¼šrequire å’Œ exportã€‚require ç”¨æ¥æ¥æ”¶å­—ç¬¦ä¸²ï¼ˆæ¨¡å—åï¼‰ï¼Œå¹¶è¿”å›è¯¥æ¨¡å—è¾“å‡ºçš„å¯¹è±¡ã€‚ export å¯¹è±¡ç”¨æ¥å¯¼å‡ºè¯¥æ¨¡å—çš„æ–¹æ³•å’Œå˜é‡ã€‚require æ–¹æ³•è¿”å›çš„å°±æ˜¯ export å¯¹è±¡ã€‚æ¨¡å—åŒæ­¥åŠ è½½ã€‚æœåŠ¡å™¨ç«¯ JavaScript å¼•æ“ Node.js å°±æ˜¯ç”¨çš„è¿™ä¸ªæ¨¡å—ç³»ç»Ÿã€‚ å¼‚æ­¥æ¨¡å—å®šä¹‰ï¼ˆAMDï¼‰AMD æ˜¯ä¸€ä¸ªé‡‡ç”¨å¼‚æ­¥æ–¹å¼åŠ è½½ä¾èµ–æ¨¡å—çš„æ¨¡å—ç³»ç»Ÿã€‚ å¦‚æœæ¨¡å—åœ¨ä¸åŒæ–‡ä»¶ä¸­ï¼Œå®ƒä»¬å°†é‡‡ç”¨ XHR è¿›è¡ŒåŠ è½½ã€‚æŸä¸€æ¨¡å—å°†ç­‰å…¶æ‰€ä¾èµ–çš„æ¨¡å—ä¸€ä¸€åŠ è½½åæ‰ä¼šè¢«æ‰§è¡Œã€‚ AMD æ¨¡å—å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä½œä¸ºå‚æ•°ä¼ å…¥define å‡½æ•°ä¸­ã€‚å‡½æ•°çš„è¿”å›å€¼å°†ä¼ è¾“ç»™æ‰€æœ‰ä¾èµ–çš„æ¨¡å—ï¼Œæ‰€è·å¾—è¿”å›å€¼åˆå°†ä½œä¸ºå‚æ•°ä¼ ç»™æ¨¡å—æ–¹æ³•ã€‚Require.js åº“ä¸­å®ç°äº† AMD XHR è‹±æ–‡å…¨å XmlHttpRequestï¼Œä¸­æ–‡å¯ä»¥è§£é‡Šä¸ºå¯æ‰©å±•è¶…æ–‡æœ¬ä¼ è¾“è¯·æ±‚ã€‚Xml å¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼ŒHttp è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ŒRequest è¯·æ±‚ã€‚XMLHttpRequest å¯¹è±¡å¯ä»¥åœ¨ä¸å‘æœåŠ¡å™¨æäº¤æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹ï¼Œå®ç°å±€éƒ¨æ›´æ–°ç½‘é¡µã€‚ ç™¾åº¦ç™¾ç§‘ï¼šXMLHTTPRequest TypeScript æ¨¡å—TypeScriptï¼Œä½œä¸º JavaScript çš„è¶…é›†ï¼Œä¹Ÿæä¾›äº†ä¸€ä¸ªæ¨¡å—ç³»ç»Ÿã€‚ å½“å®ƒè¢«ç¼–è¯‘æ—¶ï¼Œä¾¿å¼€å§‹ä½¿ç”¨ JavaScript æ¨¡å—æ¨¡å¼ã€‚TypeScript æ¨¡å—ä½¿ç”¨ module å…³é”®å­—å®šä¹‰ï¼Œä»»ä½•è¢«è¾“å‡ºçš„å¯¹è±¡å¿…é¡»ä½¿ç”¨export å…³é”®å­—å®šä¹‰ã€‚ import å…³é”®å­—ç”¨æ¥å°†å…¶å®ƒæ¨¡å—åŠ è½½å…¥æ¨¡å—ä¸­ï¼Œå¹¶æ•æ‰è¯¥æ¨¡å—å¯¼å‡ºçš„å¯¹è±¡ã€‚TypeScript æ¨¡å—æ˜¯åŒæ­¥åŠ è½½çš„ã€‚ ES6 æ¨¡å—ç³»ç»ŸES6 æ¨¡å—ç³»ç»Ÿ ES6 æ¨¡å—ç³»ç»Ÿå¯å‘äºä¸Šè¿°ç°æœ‰æ¨¡å—ç³»ç»Ÿï¼Œå®ƒå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š ä½¿ç”¨ export å…³é”®è¯å¯¼å‡ºå¯¹è±¡ã€‚è¿™ä¸ªå…³é”®å­—å¯ä»¥æ— é™æ¬¡ä½¿ç”¨ ä½¿ç”¨ import å…³é”®å­—å°†å…¶å®ƒæ¨¡å—å¯¼å…¥æŸä¸€æ¨¡å—ä¸­ã€‚å®ƒå¯ç”¨æ¥å¯¼å…¥ä»»æ„æ•°é‡çš„æ¨¡å— æ”¯æŒæ¨¡å—çš„å¼‚æ­¥åŠ è½½ ä¸ºåŠ è½½æ¨¡å—æä¾›ç¼–ç¨‹æ”¯æŒ é˜»å¡éé˜»å¡ä¸åŒæ­¥å¼‚æ­¥æ€æ ·ç†è§£é˜»å¡éé˜»å¡ä¸åŒæ­¥å¼‚æ­¥çš„åŒºåˆ«ï¼Ÿ â€œé˜»å¡â€ä¸â€éé˜»å¡â€ä¸â€åŒæ­¥â€ä¸â€œå¼‚æ­¥â€ä¸èƒ½ç®€å•çš„ä»å­—é¢ç†è§£ï¼Œæä¾›ä¸€ä¸ªä»åˆ†å¸ƒå¼ç³»ç»Ÿè§’åº¦çš„å›ç­”ã€‚ åŒæ­¥ä¸å¼‚æ­¥åŒæ­¥å’Œå¼‚æ­¥å…³æ³¨çš„æ˜¯æ¶ˆæ¯é€šä¿¡æœºåˆ¶ (synchronous communication/ asynchronous communication) æ‰€è°“åŒæ­¥ï¼Œå°±æ˜¯åœ¨å‘å‡ºä¸€ä¸ª _è°ƒç”¨_ æ—¶ï¼Œåœ¨æ²¡æœ‰å¾—åˆ°ç»“æœä¹‹å‰ï¼Œè¯¥ _è°ƒç”¨_ å°±ä¸è¿”å›ã€‚ä½†æ˜¯ä¸€æ—¦è°ƒç”¨è¿”å›ï¼Œå°±å¾—åˆ°è¿”å›å€¼äº†ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯ç”± è°ƒç”¨è€… ä¸»åŠ¨ç­‰å¾…è¿™ä¸ª _è°ƒç”¨_ çš„ç»“æœã€‚ è€Œå¼‚æ­¥åˆ™æ˜¯ç›¸åï¼Œ_è°ƒç”¨_ åœ¨å‘å‡ºä¹‹åï¼Œè¿™ä¸ªè°ƒç”¨å°±ç›´æ¥è¿”å›äº†ï¼Œæ‰€ä»¥æ²¡æœ‰è¿”å›ç»“æœã€‚ æ¢å¥è¯è¯´ï¼Œå½“ä¸€ä¸ªå¼‚æ­¥è¿‡ç¨‹è°ƒç”¨å‘å‡ºåï¼Œè°ƒç”¨è€…ä¸ä¼šç«‹åˆ»å¾—åˆ°ç»“æœã€‚è€Œæ˜¯åœ¨è°ƒç”¨å‘å‡ºåï¼Œè¢«è°ƒç”¨è€…é€šè¿‡çŠ¶æ€ã€é€šçŸ¥æ¥é€šçŸ¥è°ƒç”¨è€…ï¼Œæˆ–é€šè¿‡å›è°ƒå‡½æ•°å¤„ç†è¿™ä¸ªè°ƒç”¨ã€‚ å…¸å‹çš„å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹æ¯”å¦‚ Node.js ä¸¾ä¸ªé€šä¿—çš„ä¾‹å­ï¼šä½ æ‰“ç”µè¯é—®ä¹¦åº—è€æ¿æœ‰æ²¡æœ‰ã€Šåˆ†å¸ƒå¼ç³»ç»Ÿã€‹è¿™æœ¬ä¹¦ï¼Œå¦‚æœæ˜¯åŒæ­¥é€šä¿¡æœºåˆ¶ï¼Œä¹¦åº—è€æ¿ä¼šè¯´ï¼Œä½ ç¨ç­‰ï¼Œâ€æˆ‘æŸ¥ä¸€ä¸‹â€ï¼Œç„¶åå¼€å§‹æŸ¥å•ŠæŸ¥ï¼Œç­‰æŸ¥å¥½äº†ï¼ˆå¯èƒ½æ˜¯ 5 ç§’ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€å¤©ï¼‰å‘Šè¯‰ä½ ç»“æœï¼ˆè¿”å›ç»“æœï¼‰ã€‚ è€Œå¼‚æ­¥é€šä¿¡æœºåˆ¶ï¼Œä¹¦åº—è€æ¿ç›´æ¥å‘Šè¯‰ä½ æˆ‘æŸ¥ä¸€ä¸‹å•Šï¼ŒæŸ¥å¥½äº†æ‰“ç”µè¯ç»™ä½ ï¼Œç„¶åç›´æ¥æŒ‚ç”µè¯äº†ï¼ˆä¸è¿”å›ç»“æœï¼‰ã€‚ç„¶åæŸ¥å¥½äº†ï¼Œä»–ä¼šä¸»åŠ¨æ‰“ç”µè¯ç»™ä½ ã€‚åœ¨è¿™é‡Œè€æ¿é€šè¿‡â€œå›ç”µâ€è¿™ç§æ–¹å¼æ¥å›è°ƒã€‚ é˜»å¡ä¸éé˜»å¡é˜»å¡å’Œéé˜»å¡å…³æ³¨çš„æ˜¯ç¨‹åºåœ¨ç­‰å¾…è°ƒç”¨ç»“æœï¼ˆæ¶ˆæ¯ï¼Œè¿”å›å€¼ï¼‰æ—¶çš„çŠ¶æ€ã€‚ é˜»å¡è°ƒç”¨æ˜¯æŒ‡è°ƒç”¨ç»“æœè¿”å›ä¹‹å‰ï¼Œå½“å‰çº¿ç¨‹ä¼šè¢«æŒ‚èµ·ã€‚è°ƒç”¨çº¿ç¨‹åªæœ‰åœ¨å¾—åˆ°ç»“æœä¹‹åæ‰ä¼šè¿”å›ã€‚ éé˜»å¡è°ƒç”¨æŒ‡åœ¨ä¸èƒ½ç«‹åˆ»å¾—åˆ°ç»“æœä¹‹å‰ï¼Œè¯¥è°ƒç”¨ä¸ä¼šé˜»å¡å½“å‰çº¿ç¨‹ã€‚ è¿˜æ˜¯ä¸Šé¢çš„ä¾‹å­ï¼Œä½ æ‰“ç”µè¯é—®ä¹¦åº—è€æ¿æœ‰æ²¡æœ‰ã€Šåˆ†å¸ƒå¼ç³»ç»Ÿã€‹è¿™æœ¬ä¹¦ï¼Œä½ å¦‚æœæ˜¯é˜»å¡å¼è°ƒç”¨ï¼Œä½ ä¼šä¸€ç›´æŠŠè‡ªå·±â€œæŒ‚èµ·â€ï¼Œç›´åˆ°å¾—åˆ°è¿™æœ¬ä¹¦æœ‰æ²¡æœ‰çš„ç»“æœï¼Œå¦‚æœæ˜¯éé˜»å¡å¼è°ƒç”¨ï¼Œä½ ä¸ç®¡è€æ¿æœ‰æ²¡æœ‰å‘Šè¯‰ä½ ï¼Œä½ è‡ªå·±å…ˆä¸€è¾¹å»ç©äº†ï¼Œ å½“ç„¶ä½ ä¹Ÿè¦å¶å°”è¿‡å‡ åˆ†é’Ÿ check ä¸€ä¸‹è€æ¿æœ‰æ²¡æœ‰è¿”å›ç»“æœã€‚ åœ¨è¿™é‡Œé˜»å¡ä¸éé˜»å¡ä¸æ˜¯å¦åŒæ­¥å¼‚æ­¥æ— å…³ã€‚è·Ÿè€æ¿é€šè¿‡ä»€ä¹ˆæ–¹å¼å›ç­”ä½ ç»“æœæ— å…³ã€‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>æ¨¡å—</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6 æ¨¡å—ç³»ç»Ÿ]]></title>
    <url>%2F2017%2F12%2F16%2Fcl4s3gtdj000fwn9epo3fb377%2F</url>
    <content type="text"><![CDATA[ã€ES6ä¸“æ ã€‘å…¨é¢è§£æ ECMAScript 6 æ¨¡å—ç³»ç»Ÿé˜®ä¸€å³°ï¼šECMAScript 6 å…¥é—¨ ES6 æ¨¡å—ç³»ç»ŸES6 æ¨¡å—ç³»ç»Ÿå®ƒå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š ä½¿ç”¨ export å…³é”®è¯å¯¼å‡ºå¯¹è±¡ã€‚è¿™ä¸ªå…³é”®å­—å¯ä»¥æ— é™æ¬¡ä½¿ç”¨ ä½¿ç”¨ import å…³é”®å­—å°†å…¶å®ƒæ¨¡å—å¯¼å…¥æŸä¸€æ¨¡å—ä¸­ã€‚å®ƒå¯ç”¨æ¥å¯¼å…¥ä»»æ„æ•°é‡çš„æ¨¡å— æ”¯æŒæ¨¡å—çš„å¼‚æ­¥åŠ è½½ ä¸ºåŠ è½½æ¨¡å—æä¾›ç¼–ç¨‹æ”¯æŒ å¯¼å‡ºå¯¹è±¡åœ¨ç°æœ‰çš„æ¨¡å—ç³»ç»Ÿä¸­ï¼Œæ¯ä¸ª JavaScript ä»£ç æ–‡ä»¶åœ¨ ES6 ä¸­éƒ½æ˜¯ä¸€ä¸ªæ¨¡å—ã€‚ åªæœ‰æ¨¡å—ä¸­çš„å¯¹è±¡éœ€è¦è¢«å¤–éƒ¨è°ƒç”¨æ—¶ï¼Œæ¨¡å—æ‰ä¼šè¾“å‡ºå¯¹è±¡ï¼Œå…¶ä½™åˆ™éƒ½æ˜¯æ¨¡å—çš„ç§æœ‰å¯¹è±¡ã€‚è¯¥å¤„ç†æ–¹å¼å°†ç»†èŠ‚è¿›è¡Œå°è£…ï¼Œä»…å¯¼å‡ºå¿…è¦çš„åŠŸèƒ½ã€‚ ä»æ¨¡å—é‡Œå¯¼å‡ºå¯¹è±¡ï¼ŒES6 ä¸ºæˆ‘ä»¬æä¾›äº†ä¸åŒæ–¹æ³•ï¼Œè§ä¸‹é¢çš„è®¨è®ºã€‚ å†…è”å¯¼å‡ºES6 æ¨¡å—é‡Œçš„å¯¹è±¡å¯åœ¨åˆ›å»ºå®ƒä»¬çš„å£°æ˜ä¸­å¯¼å‡ºã€‚ä¸€ä¸ªæ¨¡å—ä¸­å¯æ— æ•°æ¬¡ä½¿ç”¨ exportï¼Œæ‰€æœ‰çš„å¯¹è±¡å°†è¢«ä¸€èµ·å¯¼å‡ºã€‚è¯·çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š 123456789101112131415161718192021222324export class Employee &#123; constructor(id, name, dob) &#123; this.id = id; this.name = name; this.dob = dob; &#125; getAge() &#123; return new Date().getFullYear() - this.dob.getYear(); &#125;&#125;export function getEmployee(id, name, dob) &#123; return new Employee(id, name, dob);&#125;export const CONFIG = '10.0.0.1';var emp = new Employee(1, 'Rina', new Date(1987, 1, 22));// console.log(emp);/* * æ¡ˆä¾‹ä¸­çš„æ¨¡å—å¯¼å‡ºäº†ä¸¤ä¸ªå¯¹è±¡ï¼š Employeeç±»ï¼ŒgetEmployeeå‡½æ•°ã€‚å› å¯¹è±¡empæœªè¢«å¯¼å‡ºï¼Œæ‰€ä»¥å…¶ä»ä¸ºæ¨¡å—ç§æœ‰ã€‚*/ å¯¼å‡ºä¸€ç»„å¯¹è±¡å°½ç®¡å†…è”å¯¼å‡ºå¾ˆæœ‰æ•ˆï¼Œä½†åœ¨å¤§è§„æ¨¡æ¨¡å—ä¸­ï¼Œå®ƒå°±å¾ˆéš¾å‘æŒ¥ä½œç”¨äº†ï¼Œå› ä¸ºæˆ‘ä»¬å¯èƒ½æ— æ³•è¿½è¸ªåˆ°æ¨¡å—å¯¼å‡ºæ¥çš„å¯¹è±¡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ›´å¥½çš„åŠæ³•æ˜¯ï¼Œåœ¨æ¨¡å—çš„æœ«å°¾å•ç‹¬è¿›è¡Œå¯¼å‡ºå£°æ˜ï¼Œä»¥å¯¼å‡ºè¯¥æ¨¡å—ä¸­çš„å…¨éƒ¨å¯¹è±¡ã€‚ ä½¿ç”¨å•ç‹¬å¯¼å‡ºå£°æ˜é‡å†™ä¸Šä¸€æ¡ˆä¾‹ä¸­çš„æ¨¡å—ï¼Œç»“æœå¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425class Employee &#123; constructor(id, name, dob) &#123; this.id = id; this.name = name; this.dob = dob; &#125; getAge() &#123; return new Date().getYear() - this.dob.getYear(); &#125;&#125;function getEmployee(id, name, dob) &#123; return new Employee(id, name, dob);&#125;var x = new Employee(1, 'Rina', new Date(1987, 1, 22));export &#123; Employee, getEmployee &#125;;/** * åœ¨å¯¼å‡ºæ—¶ï¼Œé‡å‘½åå¯¹è±¡ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚å¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼Œ * Employeeåœ¨å¯¼å‡ºæ—¶åå­—æ”¹ä¸ºäº†Associateï¼Œ * å‡½æ•°GetEmployeeæ”¹åä¸ºgetAssociateã€‚ */// export &#123; Employee as Associate, getEmployee as getAssociate &#125;; Defaultå¯¼å‡ºä½¿ç”¨å…³é”®å­—defaultï¼Œå¯å°†å¯¹è±¡æ ‡æ³¨ä¸ºdefaultå¯¹è±¡å¯¼å‡ºã€‚defaultå…³é”®å­—åœ¨æ¯ä¸€ä¸ªæ¨¡å—ä¸­åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚å®ƒæ—¢å¯ä»¥ç”¨äºå†…è”å¯¼å‡ºï¼Œä¹Ÿå¯ä»¥ç”¨äºä¸€ç»„å¯¹è±¡å¯¼å‡ºå£°æ˜ä¸­ã€‚ ä¸‹é¢æ¡ˆä¾‹å±•ç¤ºäº†åœ¨ç»„å¯¼å‡ºè¯­å¥ä¸­ä½¿ç”¨defaultï¼š 1234export default &#123; Employee, getEmployee &#125;; å¯¼å…¥æ¨¡å—ç°æœ‰æ¨¡å—å¯ä»¥ä½¿ç”¨å…³é”®å­—importå¯¼å…¥åˆ°å…¶å®ƒæ¨¡å—ã€‚ä¸€ä¸ªæ¨¡å—å¯ä»¥è¢«å¯¼å…¥ä»»æ„æ•°é‡çš„æ¨¡å—ä¸­ã€‚ä¸‹æ–‡å±•ç¤ºäº†å¯¼å…¥æ¨¡å—çš„ä¸åŒæ–¹å¼ã€‚ æ— å¯¹è±¡å¯¼å…¥å¦‚æœæ¨¡å—åŒ…å«ä¸€äº›é€»è¾‘è¦æ‰§è¡Œï¼Œä¸”ä¸ä¼šå¯¼å‡ºä»»ä½•å¯¹è±¡ï¼Œæ­¤ç±»å¯¹è±¡ä¹Ÿå¯ä»¥è¢«å¯¼å…¥åˆ°å¦ä¸€æ¨¡å—ä¸­ã€‚å¦‚ä¸‹é¢æ¡ˆä¾‹æ‰€ç¤ºï¼š 1import './es6_module/doSomethings'; å¯¼å…¥é»˜è®¤å¯¹è±¡é‡‡ç”¨Defaultå¯¼å‡ºæ–¹å¼å¯¼å‡ºå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨importå£°æ˜ä¸­å°†ç›´æ¥è¢«åˆ†é…ç»™æŸä¸ªå¼•ç”¨ï¼Œå¦‚ä¸‹ä¾‹ä¸­çš„â€œdâ€ã€‚ 1import d from './module1.js'; å¯¼å…¥å‘½åçš„å¯¹è±¡æ­£å¦‚ä»¥ä¸Šè®¨è®ºçš„ï¼Œä¸€ä¸ªæ¨¡å—å¯ä»¥å¯¼å‡ºè®¸å¤šå‘½åå¯¹è±¡ã€‚å¦‚æœå¦ä¸€æ¨¡å—æƒ³å¯¼å…¥è¿™äº›å‘½åå¯¹è±¡ï¼Œéœ€è¦åœ¨å¯¼å…¥å£°æ˜ä¸­ä¸€ä¸€åˆ—å‡ºè¿™äº›å¯¹è±¡ã€‚ä¸¾ä¸ªä¾‹å­ï¼š 1import &#123;Employee, getEmployee&#125; from './module1.js'; å½“ç„¶ä¹Ÿå¯åœ¨åŒä¸€ä¸ªå£°æ˜ä¸­å¯¼å…¥é»˜è®¤å¯¹è±¡å’Œå‘½åå¯¹è±¡ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œé»˜è®¤å¯¹è±¡å¿…é¡»å®šä¹‰ä¸€ä¸ªåˆ«åï¼Œå¦‚ä¸‹ä¾‹ã€‚ 1import &#123;default as d, Employee&#125; from './module1.js'; å¯¼å…¥æ‰€æœ‰å¯¹è±¡ä»¥ä¸Šå‡ ç§æƒ…å†µï¼Œåªæœ‰importå£°æ˜ä¸­åˆ—ä¸¾çš„å¯¹è±¡æ‰ä¼šè¢«å¯¼å…¥å¹¶è¢«ä½¿ç”¨ï¼Œè€Œå…¶å®ƒå¯¹è±¡åˆ™æ— æ³•åœ¨å¯¼å…¥æ¨¡å—ä¸­ä½¿ç”¨ã€‚å½“ç„¶ï¼Œè¿™å°±è¦æ±‚ç”¨æˆ·äº†è§£å“ªäº›å¯¹è±¡å¯ä»¥å¯¼å‡ºå¹¶åŠ ä»¥åˆ©ç”¨ã€‚ å¦‚æœæ¨¡å—å¯¼å‡ºå¤§é‡å¯¹è±¡ï¼Œå¦ä¸€æ¨¡å—æƒ³å¼•å…¥æ‰€æœ‰å¯¼å‡ºçš„å¯¹è±¡ï¼Œå°±å¿…é¡»ä½¿ç”¨å¦‚ä¸‹å£°æ˜ï¼š 1import * as allFromModule1 from './module1.js'; å¯ç¼–ç¨‹å¼çš„æŒ‰éœ€å¯¼å…¥å¦‚æœæƒ³åŸºäºæŸäº›æ¡ä»¶æˆ–ç­‰æŸä¸ªäº‹ä»¶å‘ç”Ÿåå†åŠ è½½éœ€è¦çš„æ¨¡å—ï¼Œå¯é€šè¿‡ä½¿ç”¨åŠ è½½æ¨¡å—çš„å¯ç¼–ç¨‹APIï¼ˆprogrammatic APIï¼‰æ¥å®ç°ã€‚ä½¿ç”¨ System.import æ–¹æ³•ï¼Œå¯æŒ‰ç¨‹åºè®¾å®šåŠ è½½æ¨¡å—ã€‚è¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥çš„æ–¹æ³•ï¼Œå¹¶è¿”å› Promiseã€‚ è¯¥æ–¹æ³•çš„è¯­æ³•ç¤ºä¾‹å¦‚ä¸‹ï¼š 123456System.import('./module1.js') .then(function(module1)&#123; //use module1 &#125;, function(e)&#123; //handle error &#125;); å¦‚æœæ¨¡å—åŠ è½½æˆåŠŸä¸”å°†å¯¼å‡ºçš„æ¨¡å—æˆåŠŸä¼ é€’ç»™å›è°ƒå‡½æ•°ï¼ŒPromise å°†ä¼šé€šè¿‡ã€‚å¦‚æœæ¨¡å—åç§°æœ‰è¯¯æˆ–ç”±äºç½‘ç»œå»¶è¿Ÿç­‰åŸå› å¯¼è‡´æ¨¡å—åŠ è½½å¤±è´¥ï¼ŒPromise å°†ä¼šå¤±è´¥ã€‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>æ¨¡å—</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQL åŸºç¡€ ä¸€]]></title>
    <url>%2F2017%2F12%2F12%2Fcl4s3gtfe003ywn9eajywsq4z%2F</url>
    <content type="text"><![CDATA[æ•°æ®åº“ä¸å…³ç³»å‹æ•°æ®åº“æ•°æ®åº“æ•°æ®åº“ï¼ˆDatabaseï¼‰æ˜¯æŒ‰ç…§æ•°æ®ç»“æ„æ¥ç»„ç»‡ã€å­˜å‚¨å’Œç®¡ç†æ•°æ®çš„ä»“åº“ï¼Œæ¯ä¸ªæ•°æ®åº“éƒ½æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªä¸åŒçš„APIç”¨äºåˆ›å»ºï¼Œè®¿é—®ï¼Œç®¡ç†ï¼Œæœç´¢å’Œå¤åˆ¶æ‰€ä¿å­˜çš„æ•°æ®ã€‚ å…³ç³»å‹æ•°æ®åº“æ‰€è°“çš„å…³ç³»å‹æ•°æ®åº“ï¼Œæ˜¯å»ºç«‹åœ¨å…³ç³»æ¨¡å‹åŸºç¡€ä¸Šçš„æ•°æ®åº“ï¼Œå€ŸåŠ©äºé›†åˆä»£æ•°ç­‰æ•°å­¦æ¦‚å¿µå’Œæ–¹æ³•æ¥å¤„ç†æ•°æ®åº“ä¸­çš„æ•°æ®ã€‚ RDBMS æœ¯è¯­ æ•°æ®åº“: æ•°æ®åº“æ˜¯ä¸€äº›å…³è”è¡¨çš„é›†åˆã€‚ æ•°æ®è¡¨: è¡¨æ˜¯æ•°æ®çš„çŸ©é˜µã€‚åœ¨ä¸€ä¸ªæ•°æ®åº“ä¸­çš„è¡¨çœ‹èµ·æ¥åƒä¸€ä¸ªç®€å•çš„ç”µå­è¡¨æ ¼ã€‚ åˆ—: ä¸€åˆ—(æ•°æ®å…ƒç´ ) åŒ…å«äº†ç›¸åŒçš„æ•°æ®, ä¾‹å¦‚é‚®æ”¿ç¼–ç çš„æ•°æ®ã€‚ è¡Œï¼šä¸€è¡Œï¼ˆ=å…ƒç»„ï¼Œæˆ–è®°å½•ï¼‰æ˜¯ä¸€ç»„ç›¸å…³çš„æ•°æ®ï¼Œä¾‹å¦‚ä¸€æ¡ç”¨æˆ·è®¢é˜…çš„æ•°æ®ã€‚ å†—ä½™ï¼šå­˜å‚¨ä¸¤å€æ•°æ®ï¼Œå†—ä½™é™ä½äº†æ€§èƒ½ï¼Œä½†æé«˜äº†æ•°æ®çš„å®‰å…¨æ€§ã€‚ ä¸»é”®ï¼šä¸»é”®æ˜¯å”¯ä¸€çš„ã€‚ä¸€ä¸ªæ•°æ®è¡¨ä¸­åªèƒ½åŒ…å«ä¸€ä¸ªä¸»é”®ã€‚ä½ å¯ä»¥ä½¿ç”¨ä¸»é”®æ¥æŸ¥è¯¢æ•°æ®ã€‚ å¤–é”®ï¼šå¤–é”®ç”¨äºå…³è”ä¸¤ä¸ªè¡¨ã€‚ å¤åˆé”®ï¼šå¤åˆé”®ï¼ˆç»„åˆé”®ï¼‰å°†å¤šä¸ªåˆ—ä½œä¸ºä¸€ä¸ªç´¢å¼•é”®ï¼Œä¸€èˆ¬ç”¨äºå¤åˆç´¢å¼•ã€‚ ç´¢å¼•ï¼šä½¿ç”¨ç´¢å¼•å¯å¿«é€Ÿè®¿é—®æ•°æ®åº“è¡¨ä¸­çš„ç‰¹å®šä¿¡æ¯ã€‚ç´¢å¼•æ˜¯å¯¹æ•°æ®åº“è¡¨ä¸­ä¸€åˆ—æˆ–å¤šåˆ—çš„å€¼è¿›è¡Œæ’åºçš„ä¸€ç§ç»“æ„ã€‚ç±»ä¼¼äºä¹¦ç±çš„ç›®å½•ã€‚ å‚ç…§å®Œæ•´æ€§: å‚ç…§çš„å®Œæ•´æ€§è¦æ±‚å…³ç³»ä¸­ä¸å…è®¸å¼•ç”¨ä¸å­˜åœ¨çš„å®ä½“ã€‚ä¸å®ä½“å®Œæ•´æ€§æ˜¯å…³ç³»æ¨¡å‹å¿…é¡»æ»¡è¶³çš„å®Œæ•´æ€§çº¦æŸæ¡ä»¶ï¼Œç›®çš„æ˜¯ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚ Mysqlæ•°æ®åº“MySQL æ˜¯ä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œç”±ç‘å…¸ MySQL AB å…¬å¸å¼€å‘ï¼Œç›®å‰å±äº Oracle å…¬å¸ã€‚MySQL æ˜¯ä¸€ç§å…³è”æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå…³è”æ•°æ®åº“å°†æ•°æ®ä¿å­˜åœ¨ä¸åŒçš„è¡¨ä¸­ï¼Œè€Œä¸æ˜¯å°†æ‰€æœ‰æ•°æ®æ”¾åœ¨ä¸€ä¸ªå¤§ä»“åº“å†…ï¼Œè¿™æ ·å°±å¢åŠ äº†é€Ÿåº¦å¹¶æé«˜äº†çµæ´»æ€§ã€‚ å®‰è£…éªŒè¯å®‰è£… 12luoyecs-iMac:~ luoyec$ mysqladmin --versionmysqladmin Ver 8.42 Distrib 5.7.20, for macos10.12 on x86_64 æ£€æŸ¥ MySql æœåŠ¡å™¨æ˜¯å¦å¯åŠ¨ 123luoyecs-iMac:~ luoyec$ ps -ef | grep mysqld 74 856 1 0 10:17ä¸Šåˆ ?? 0:00.72 /usr/local/mysql/bin/mysqld --user=_mysql --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data --plugin-dir=/usr/local/mysql/lib/plugin --log-error=/usr/local/mysql/data/mysqld.local.err --pid-file=/usr/local/mysql/data/mysqld.local.pid --keyring-file-data=/usr/local/mysql/keyring/keyring --early-plugin-load=keyring_file=keyring_file.so 501 959 635 0 10:26ä¸Šåˆ ttys002 0:00.01 grep mysqld å…³é—­ç›®å‰è¿è¡Œçš„ MySQL æœåŠ¡å™¨ 1$ mysqladmin -u root -p shutdown åŸºç¡€SQLè¯­å¥SELECTSELECT è¯­å¥ç”¨äºä»æ•°æ®åº“ä¸­é€‰å–æ•°æ®ã€‚ç»“æœè¢«å­˜å‚¨åœ¨ä¸€ä¸ªç»“æœè¡¨ä¸­ï¼Œç§°ä¸ºç»“æœé›†ã€‚ 1SELECT name,country FROM Websites; SELECT DISTINCTSELECT DISTINCT è¯­å¥ç”¨äºè¿”å›å”¯ä¸€ä¸åŒçš„å€¼, ä¹Ÿå°±æ˜¯å»æ‰åˆ—ä¸­é‡å¤å€¼ã€‚12SELECT DISTINCT column_name,column_nameFROM table_name; WHEREWHERE å­å¥ç”¨äºæå–é‚£äº›æ»¡è¶³æŒ‡å®šæ ‡å‡†çš„è®°å½•ã€‚ ä¸‹é¢çš„ SQL è¯­å¥ä» â€œWebsitesâ€ è¡¨ä¸­é€‰å–å›½å®¶ä¸º â€œCNâ€ çš„æ‰€æœ‰ç½‘ç«™ï¼š1SELECT * FROM Websites WHERE country='CN'; è¿ç®—ç¬¦ï¼š AND &amp; OR AND &amp; OR è¿ç®—ç¬¦ç”¨äºåŸºäºä¸€ä¸ªä»¥ä¸Šçš„æ¡ä»¶å¯¹è®°å½•è¿›è¡Œè¿‡æ»¤ã€‚ å¦‚æœç¬¬ä¸€ä¸ªæ¡ä»¶å’Œç¬¬äºŒä¸ªæ¡ä»¶éƒ½æˆç«‹ï¼Œåˆ™ AND è¿ç®—ç¬¦æ˜¾ç¤ºä¸€æ¡è®°å½•ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¡ä»¶å’Œç¬¬äºŒä¸ªæ¡ä»¶ä¸­åªè¦æœ‰ä¸€ä¸ªæˆç«‹ï¼Œåˆ™ ORè¿ç®—ç¬¦æ˜¾ç¤ºä¸€æ¡è®°å½•ã€‚ ä¸‹é¢çš„ SQL è¯­å¥ä» â€œWebsitesâ€ è¡¨ä¸­é€‰å–å›½å®¶ä¸º â€œCNâ€ ä¸”idæ’åå¤§äº 2â€ çš„æ‰€æœ‰ç½‘ç«™ï¼š 1SELECT * FROM Websites WHERE country='CN' AND id&gt;2; é€‰å– id ç­‰äº2æˆ–è€…ç­‰äº3çš„æ‰€æœ‰æ•°æ®ã€‚ 1SELECT * FROM Websites WHERE id=3 OR id=2; æ‚¨ä¹Ÿå¯ä»¥æŠŠ AND å’Œ OR ç»“åˆèµ·æ¥ï¼ˆä½¿ç”¨åœ†æ‹¬å·æ¥ç»„æˆå¤æ‚çš„è¡¨è¾¾å¼ï¼‰ã€‚â€œWebsitesâ€ è¡¨ä¸­é€‰å– alexa æ’åå¤§äº â€œ15â€ ä¸”å›½å®¶ä¸º â€œCNâ€ æˆ– â€œUSAâ€ çš„æ‰€æœ‰ç½‘ç«™ï¼š 123SELECT * FROM WebsitesWHERE alexa &gt; 15AND (country='CN' OR country='USA'); ORDER BY ORDER BY å…³é”®å­—ç”¨äºå¯¹ç»“æœé›†è¿›è¡Œæ’åºã€‚ ORDER BY å…³é”®å­—ç”¨äºå¯¹ç»“æœé›†æŒ‰ç…§ä¸€ä¸ªåˆ—æˆ–è€…å¤šä¸ªåˆ—è¿›è¡Œæ’åºã€‚ORDER BY å…³é”®å­—é»˜è®¤æŒ‰ç…§å‡åºå¯¹è®°å½•è¿›è¡Œæ’åºã€‚å¦‚æœéœ€è¦æŒ‰ç…§é™åºå¯¹è®°å½•è¿›è¡Œæ’åºï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ DESC å…³é”®å­—ã€‚ 123SELECT column_name,column_nameFROM table_nameORDER BY column_name,column_name ASC|DESC; é€‰å–æ‰€æœ‰ç½‘ç«™ï¼ŒæŒ‰idé™åº 1SELECT * FROM Websites ORDER BY id DESC; ORDER BY å¤šåˆ—çš„æ—¶å€™ï¼Œå…ˆæŒ‰ç…§ç¬¬ä¸€ä¸ªcolumn nameæ’åºï¼Œåœ¨æŒ‰ç…§ç¬¬äºŒä¸ªcolumn nameæ’åºï¼›å¦‚ä¸Šè¿°æ•™ç¨‹æœ€åä¸€ä¸ªä¾‹å­ï¼š å…ˆå°†countryå€¼è¿™ä¸€åˆ—æ’åºï¼ŒåŒä¸ºCNçš„æ’å‰é¢ï¼ŒåŒå±USAçš„æ’åé¢ï¼› ç„¶ååœ¨åŒå±CNçš„è¿™äº›å¤šè¡Œæ•°æ®ä¸­ï¼Œå†æ ¹æ®alexaå€¼çš„å¤§å°æ’åˆ—ã€‚ ORDER BY æ’åˆ—æ—¶ï¼Œä¸å†™æ˜ASCDESCçš„æ—¶å€™ï¼Œé»˜è®¤æ˜¯ASCã€‚ INSERT INTOINSERT INTO è¯­å¥ç”¨äºå‘è¡¨ä¸­æ’å…¥æ–°è®°å½•ã€‚ INSERT INTO è¯­å¥å¯ä»¥æœ‰ä¸¤ç§ç¼–å†™å½¢å¼ã€‚ ç¬¬ä¸€ç§å½¢å¼æ— éœ€æŒ‡å®šè¦æ’å…¥æ•°æ®çš„åˆ—åï¼Œåªéœ€æä¾›è¢«æ’å…¥çš„å€¼å³å¯ï¼š 12INSERT INTO table_nameVALUES (value1,value2,value3,...); ç¬¬äºŒç§å½¢å¼éœ€è¦æŒ‡å®šåˆ—ååŠè¢«æ’å…¥çš„å€¼ï¼š 12INSERT INTO table_name (column1,column2,column3,...)VALUES (value1,value2,value3,...); å‘è¡¨ä¸­æ’å…¥ä¸€ä¸ªæ–°è¡Œ 12345-- idæ˜¯è‡ªåŠ¨æ›´æ–°çš„ï¼Œå¯ä»¥çœç•¥INSERT INTO Websites (id, app_name, url, country) VALUES (4, 'bilibili', 'wwww.bb.com', 'JP');-- åªåœ¨url, countryåˆ—æ’å…¥æ•°æ®INSERT INTO Websites (url, country) VALUES ('wwww.bib.com', 'JP'); UPDATEUPDATE è¯­å¥ç”¨äºæ›´æ–°è¡¨ä¸­å·²å­˜åœ¨çš„è®°å½•ã€‚ 123UPDATE table_nameSET column1=value1,column2=value2,...WHERE some_column=some_value; âš ï¸ è¯·æ³¨æ„ SQL UPDATE è¯­å¥ä¸­çš„ WHERE å­å¥ï¼ WHERE å­å¥è§„å®šå“ªæ¡è®°å½•æˆ–è€…å“ªäº›è®°å½•éœ€è¦æ›´æ–°ã€‚å¦‚æœæ‚¨çœç•¥äº† WHEREå­å¥ï¼Œæ‰€æœ‰çš„è®°å½•éƒ½å°†è¢«æ›´æ–°ï¼ 12-- æ›´æ–°IDå¤§äº3çš„æ•°æ®UPDATE Websites SET country='CN' WHERE id&gt;3; DELETEDELETE è¯­å¥ç”¨äºåˆ é™¤è¡¨ä¸­çš„è¡Œã€‚ 12DELETE FROM table_nameWHERE some_column=some_value; âš ï¸ è¯·æ³¨æ„ SQL DELETE è¯­å¥ä¸­çš„ WHERE å­å¥ï¼ WHERE å­å¥è§„å®šå“ªæ¡è®°å½•æˆ–è€…å“ªäº›è®°å½•éœ€è¦åˆ é™¤ã€‚å¦‚æœæ‚¨çœç•¥äº† WHERE å­å¥ï¼Œæ‰€æœ‰çš„è®°å½•éƒ½å°†è¢«åˆ é™¤ï¼ 12-- åˆ é™¤app_nameä¸º''ï¼Œä¸”id&gt;3çš„è¡ŒDELETE FROM Websites WHERE app_name='' AND id&gt;3;]]></content>
      <categories>
        <category>mysql</category>
      </categories>
      <tags>
        <tag>mysql</tag>
        <tag>å…³ç³»å‹æ•°æ®åº“</tag>
        <tag>nodejs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Node.js æ¨¡å—]]></title>
    <url>%2F2017%2F12%2F09%2Fcl4s3gtfm004ewn9eb7up91ay%2F</url>
    <content type="text"><![CDATA[Node.js ä¸­æ–‡æ–‡æ¡£ modulesã€ŠNode.js å®æˆ˜ã€‹æµç¨‹å›¾å·¥å…· processon Node åŠŸèƒ½çš„ç»„ç»‡åŠé‡ç”¨ ç”¨ç›®å½•å’Œå•ç‹¬çš„æ–‡ä»¶ç»„ç»‡èµ·æ¥çš„ä»£ç æ‰¾èµ·æ¥è¦æ¯”æ•´ä¸ªç¨‹åºä»£ç éƒ½æ”¾åœ¨ä¸€ä¸ªé•¿æ–‡ä»¶ä¸­æ‰¾èµ·æ¥æ›´å®¹æ˜“ã€‚ é‡ç”¨çš„é—®é¢˜ åœ¨æŸäº›è¯­è¨€ä¸­ï¼Œä¾‹å¦‚PHPå’ŒRubyï¼Œæ•´åˆå¦ä¸€ä¸ªæ–‡ä»¶ï¼ˆæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œincludeâ€æ–‡ä»¶ï¼‰ä¸­çš„é€»è¾‘ï¼Œå¯èƒ½æ„å‘³ç€åœ¨è¢«å¼•å…¥æ–‡ä»¶ä¸­æ‰§è¡Œçš„é€»è¾‘ä¼šå½±å“å…¨å±€ä½œç”¨åŸŸã€‚ ä¹Ÿå°±æ˜¯è¯´è¢«å¼•å…¥æ–‡ä»¶å¸¸è§çš„ä»»ä½•å˜é‡ï¼Œä»¥åŠå£°æ˜çš„ä»»ä½•å‡½æ•°éƒ½å¯èƒ½ä¼šè¦†ç›–åŒ…å«å®ƒçš„åº”ç”¨ç¨‹åºæ‰€åˆ›å»ºçš„å˜é‡å’Œå£°æ˜çš„å‡½æ•°ã€‚ åœ¨ PHP ä¸­å¯ä»¥ä½¿ç”¨å‘½åç©ºé—´é¿å…è¿™ä¸ªé—®é¢˜ï¼ŒRuby é€šè¿‡æ¨¡å—ä¹Ÿæä¾›äº†ç±»ä¼¼çš„åŠŸèƒ½ã€‚ Nodeçš„é‡ç”¨Node çš„åšæ³•ä¸ä¼šè®©å¼€å‘è€…æœ‰æœºä¼šåœ¨ä¸ç»æ„é—´æ±¡æŸ“å…¨å±€å‘½åç©ºé—´ã€‚ Node.js æœ‰ä¸€ä¸ªç®€å•çš„æ¨¡å—åŠ è½½ç³»ç»Ÿã€‚ åœ¨ Node.js ä¸­ï¼Œæ–‡ä»¶å’Œæ¨¡å—æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼ˆæ¯ä¸ªæ–‡ä»¶è¢«è§†ä¸ºä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—ï¼‰ã€‚ Node æ¨¡å—å…è®¸ä½ ä»è¢«å¼•å…¥æ–‡ä»¶ä¸­é€‰æ‹©è¦æš´éœ²ç»™ç¨‹åºçš„å‡½æ•°å’Œå˜é‡ã€‚å¦‚æœæ¨¡å—è¿”å›çš„å‡½æ•°æˆ–å˜é‡ä¸å€¼ä¸€ä¸ªï¼Œé‚£ä¹ˆå®ƒé€šè¿‡è®¾å®š exports å¯¹è±¡çš„å±æ€§æ¥æŒ‡æ˜å®ƒä»¬ã€‚å¦‚æœæ¨¡å—åªè¿”å›ä¸€ä¸ªå‡½æ•°æˆ–å˜é‡ï¼Œåˆ™å¯ä»¥è®¾å®š module.exports å±æ€§ã€‚ exportså‡è®¾æœ‰ä¸€ä¸ªåä¸º foo.js çš„æ–‡ä»¶ï¼š 123//foo.jsconst circle = require('./circle.js');console.log(`åŠå¾„ä¸º 4 çš„åœ†çš„é¢ç§¯æ˜¯ $&#123;circle.area(4)&#125;`); åœ¨ç¬¬ä¸€è¡Œä¸­ï¼Œfoo.js åŠ è½½äº†åŒä¸€ç›®å½•ä¸‹çš„ circle.js æ¨¡å—ã€‚ circle.js æ–‡ä»¶çš„å†…å®¹ä¸ºï¼š 123456//circle.jsconst &#123; PI &#125; = Math;exports.area = (r) =&gt; PI * r ** 2;exports.circumference = (r) =&gt; 2 * PI * r; circle.js æ¨¡å—å¯¼å‡ºäº† area() å’Œ circumference() ä¸¤ä¸ªå‡½æ•°ã€‚ é€šè¿‡åœ¨ç‰¹æ®Šçš„ exports å¯¹è±¡ä¸ŠæŒ‡å®šé¢å¤–çš„å±æ€§ï¼Œå‡½æ•°å’Œå¯¹è±¡å¯ä»¥è¢«æ·»åŠ åˆ°æ¨¡å—çš„æ ¹éƒ¨ã€‚ æ¨¡å—å†…çš„æœ¬åœ°å˜é‡æ˜¯ç§æœ‰çš„ï¼Œå› ä¸ºæ¨¡å—è¢« Node.js åŒ…è£…åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ã€‚ module.exportså¦‚ä¸‹ï¼Œbar.js ä¼šç”¨åˆ° square æ¨¡å—ï¼Œsquare å¯¼å‡ºä¸€ä¸ªæ„é€ å‡½æ•°ï¼š 123const square = require('./square.js');const mySquare = square(2);console.log(`æ­£æ–¹å½¢çš„é¢ç§¯æ˜¯ $&#123;mySquare.area()&#125;`); square æ¨¡å—å®šä¹‰åœ¨ square.js ä¸­ï¼š 123456// èµ‹å€¼ç»™ `exports` ä¸ä¼šä¿®æ”¹æ¨¡å—ï¼Œå¿…é¡»ä½¿ç”¨ `module.exports`module.exports = (width) =&gt; &#123; return &#123; area: () =&gt; width ** 2 &#125;;&#125;; ä½¿ç”¨åœºæ™¯å¦‚æœåªéœ€è¦ä»æ¨¡å—ä¸­å¾—åˆ°ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆä» require ä¸­è¿”å›ä¸€ä¸ªå‡½æ•°çš„ä»£ç è¦æ¯”è¿”å›ä¸€ä¸ªå¯¹è±¡çš„ä»£ç æ›´ä¼˜é›…ã€‚ å®ä¾‹ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªè´§å¸è½¬æ¢å‡½æ•°ï¼š 123456//test-currency.jsvar Currency = require('./currency');var canadianDollar = 0.91;var currency = new Currency(canadianDollar);console.log(currency.canadianToUS(50)); 123456789101112131415161718192021//currency.jsvar Currency = function(canadianDollar) &#123; this.canadianDollar = canadianDollar;&#125;;//éšæœºä¸€ä¸ªä¸¤ä½å°æ•°Currency.prototype.roundTwoDecimals = function(amount) &#123; return Math.round(amount * 100) / 100;&#125;;//åŠ å…ƒè½¬ç¾å…ƒCurrency.prototype.canadianToUS = function(candian) &#123; return this.roundTwoDecimals(candian * this.canadianDollar);&#125;;//ç¾å…ƒè½¬åŠ å…ƒCurrency.prototype.USToCanadian = function(us) &#123; return this.roundTwoDecimals(us / this.canadianDollar);&#125;;module.exports = Currency; å¦ä¸€ä¸ªå®ä¾‹ï¼Œæœç´¢äºŒå‰æ ‘ã€‚ ç”¨ node_modulesé‡ç”¨æ¨¡å—Node ä¸­æœ‰ä¸€ä¸ªç‹¬ç‰¹çš„æ¨¡å—å¼•å…¥æœºåˆ¶ï¼Œå¯ä»¥ä¸å¿…çŸ¥é“æ¨¡å—åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­å…·ä½“ä½ç½®ï¼Œè¿™ä¸ªæœºåˆ¶å°±æ˜¯ node_modules ç›®å½•ã€‚ ä¾‹å¦‚å‰é¢çš„ var Currency = require(&#39;./currency&#39;);ï¼Œä¸å†™ ./, node ä¼šéµç…§å‡ ä¸ªè§„åˆ™æ¥å¯»æ‰¾è¿™ä¸ªæ¨¡å—ã€‚ ç”¨ç¯å¢ƒå˜é‡ NODE_PATH å¯ä»¥æ”¹å˜ Node æ¨¡å—çš„é»˜è®¤è·¯å¾„ã€‚ æ³¨æ„äº‹é¡¹ å¦‚æœæ¨¡å—å¼ç›®å½•ï¼Œåœ¨æœ¨å—ç›®å½•ä¸­å®šä¹‰æ¨¡å—æ–‡ä»¶å¿…é¡»è¢«å‘½åä¸º index.js ï¼Œé™¤éä½ åœ¨è¿™ä¸ªç›®å½•ä¸‹ packjson.json æ–‡ä»¶é‡Œç‰¹åˆ«æŒ‡æ˜ã€‚ Node èƒ½æŠŠæ¨¡å—ä½œä¸ºå¯¹è±¡ç¼“å­˜èµ·æ¥ã€‚å¦‚æœç¨‹åºä¸­ä¸¤ä¸ªæ–‡ä»¶å¼•å…¥äº†ç›¸åŒæ¨¡å—ï¼Œç¬¬ä¸€ä¸ªæ–‡ä»¶ä¼šæŠŠæ¨¡å—è¿”å›çš„æ•°æ®å­˜åˆ°ç¨‹åºçš„å†…å­˜ä¸­ï¼Œè¿™æ ·ç¬¬äºŒä¸ªæ–‡ä»¶å°±ä¸ç”¨å†å»è®¿é—®å’Œè®¡ç®—æ¨¡å—çš„æºæ–‡ä»¶äº†ã€‚ require æ˜¯ Node ä¸­å°‘æ•°å‡ ä¸ªåŒæ­¥ I/O æ“ä½œï¼Œåœ¨ I/O å¯†é›†çš„åœ°æ–¹å°½é‡ä¸è¦ç”¨ requireï¼Œ æ‰€æœ‰åŒæ­¥è°ƒåŠ¨éƒ½ä¼šé˜»å¡ Nodeï¼Œç›´åˆ°è°ƒç”¨å®Œæˆæ‰èƒ½åšå…¶ä»–äº‹æƒ…ã€‚æ‰€ä»¥é€šå¸¸åªåœ¨ç¨‹åºæœ€åˆåŠ è½½æ—¶æ‰ä½¿ç”¨ require å’Œå…¶ä»–åŒæ­¥æ“ä½œã€‚]]></content>
      <categories>
        <category>node</category>
      </categories>
      <tags>
        <tag>æ¨¡å—</tag>
        <tag>node</tag>
        <tag>module</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Reactè·¯ç”±è¿‡æ¸¡åŠ¨ç”»]]></title>
    <url>%2F2017%2F12%2F04%2Fcl4s3gtfu004uwn9emu2krwng%2F</url>
    <content type="text"><![CDATA[React è·¯ç”±è¿‡æ¸¡åŠ¨ç”» Animated page transitions with React Router 4, ReactTransitionGroup andAnimated ä¸­æ–‡ç¿»è¯‘ï¼š è‹±æ–‡åŸæ–‡ï¼š Animated.templateæ–‡æ¡£ æ¼”ç¤º Demo åŸæ–‡ä¸­ä½¿ç”¨ create-react-app ä»å¤´æ„å»ºè·¯ç”±åŠ¨ç”»ï¼Œæœ¬æ–‡æ¡£åªåœ¨å¦‚ä½•åœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨è·¯ç”±è¿‡æ¸¡åŠ¨ç”»ã€‚ å®‰è£… react-transition-groupéœ€è¦æ³¨æ„çš„æ˜¯å¼€æºä½œè€…ä¿®æ”¹äº† V2 ç‰ˆæœ¬çš„ APIï¼Œç›®å‰åªèƒ½ä½¿ç”¨ V1 ç‰ˆæœ¬ã€‚ 1$ yarn add react-transition-group@^1.2.0 &lt;TransitionGroup /&gt;æ¥ä¸‹æ¥åªéœ€ç®€å•çš„å‡ ä¸ªæ­¥éª¤ æ›¿æ¢è·¯ç”±é»˜è®¤çš„æ¸²æŸ“æ–¹å¼ï¼Œä½¿ç”¨ &lt;TransitionGroup /&gt; åŒ…è£¹è·¯ç”±ç»„ä»¶å¹¶ä½¿ç”¨å…¶ä¸­çš„è·¯ç”±æ¸²æŸ“æ–¹æ³•æ¥æ¸²æŸ“æˆ‘ä»¬çš„ç»„ä»¶ã€‚ åœ¨è·¯ç”±å…¥å£æ–‡ä»¶ `src/App.js` æˆ–æ˜¯ `App.js` ä¸­å¼•å…¥ `TransitionGroup` 1import TransitionGroup from 'react-transition- group/TransitionGroup'; ä¸º Transition Group æ¸²æŸ“ æ·»åŠ ä¸€ä¸ªç‰¹æ®Šçš„æ–¹æ³•ï¼Œå…¶åªæ¸²æŸ“å•ä¸ª childï¼Œåœ¨ class App extends ... ä¹‹å‰æ·»åŠ ã€‚ 1234 const firstChild = props =&gt; &#123; const childrenArray = React.Children.toArray(props.children);return childrenArray[0] || null; &#125;; ä¿®æ”¹åŸæœ‰çš„è·¯ç”±ï¼Œå¹¶ç”¨ TransitionGroup åŒ…è£¹ 1234567891011 &lt;Routeexact path="/" children=&#123;(&#123; match, ...rest &#125;) =&gt; (&lt;TransitionGroup component=&#123;firstChild&#125;&gt; &#123;match &amp;&amp; &lt;Home &#123;...rest&#125; /&gt;&#125;&lt;/TransitionGroup&gt; )&#125;/&gt; &lt;Routepath="/subpage" children=&#123;(&#123; match, ...rest &#125;) =&gt; (&lt;TransitionGroup component=&#123;firstChild&#125;&gt; &#123;match &amp;&amp; &lt;Subpage &#123;...rest&#125; /&gt;&#125;&lt;/TransitionGroup&gt; )&#125;/&gt; é™„ï¼šå®é™…é¡¹ç›®ä¸­çš„é…ç½®ï¼š 123456789101112131415161718192021222324252627282930const Root = () =&gt; &#123;return ( &lt;Provider store=&#123;store&#125;&gt; &lt;Router&gt; &lt;Switch&gt; &#123;routeList.mainRoute.map(item =&gt; &#123; return ( &lt;Route path=&#123;item.path&#125; key=&#123;item.path&#125; children=&#123;(&#123; match, ...rest &#125;) =&gt; ( &lt;TransitionGroup component=&#123;firstChild&#125;&gt; &#123;match &amp;&amp; ( &lt;item.component &#123;...rest&#125; match=&#123;match&#125; /&gt; )&#125; &lt;/TransitionGroup&gt; )&#125; /&gt; ); &#125;)&#125; &#123;&lt;Redirect from="/" to=&#123;routePath.App&#125; /&gt;&#125; &lt;/Switch&gt; &lt;/Router&gt; &lt;/Provider&gt; );&#125;; æ–°çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å®Œæˆä¸Šé¢çš„å·¥ä½œï¼Œç°åœ¨ä½ æœ‰å…¨è®¿é—®æ–°çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•äº†ã€‚ 1componentWillAppear() , componentWillEnter() and componentWillLeave() åˆ›å»ºé«˜é˜¶Animatedç»„ä»¶åˆ›å»º AnimatedWrapper.js ç»„ä»¶ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051import React, &#123; Component &#125; from 'react';import * as Animated from 'animated/lib/targets/react-dom';import TransitionGroup from 'react-transition-group/TransitionGroup';const AnimatedWrapper = WrappedComponent =&gt; class AnimatedWrapper extends Component &#123; constructor(props) &#123; super(props); this.state = &#123; animate: new Animated.Value(0) &#125;; &#125; componentWillAppear(cb) &#123; // console.log('componentWillAppear'); Animated.spring(this.state.animate, &#123; toValue: 1 &#125;).start(); cb(); &#125; componentWillEnter(cb) &#123; // console.log('componentWillEnter'); setTimeout( () =&gt; Animated.spring(this.state.animate, &#123; toValue: 1 &#125;).start(), 250 ); cb(); &#125; componentWillLeave(cb) &#123; // console.log('componentWillLeave'); Animated.spring(this.state.animate, &#123; toValue: 0 &#125;).start(); setTimeout(() =&gt; cb(), 175); &#125; render() &#123; const style = &#123; opacity: Animated.template`$&#123;this.state.animate&#125;`, transform: Animated.template` translate3d(0,$&#123;this.state.animate.interpolate(&#123; inputRange: [0, 1], outputRange: ['12px', '0px'] &#125;)&#125;,0) `, height: Animated.template`100%` &#125;; return ( &lt;Animated.div style=&#123;style&#125; className="animated-page-wrapper"&gt; &lt;WrappedComponent &#123;...this.props&#125; /&gt; &lt;/Animated.div&gt; ); &#125; &#125;;export default AnimatedWrapper; ä¸Šè¿°ä»£ç ä¸»è¦åšäº†è¿™å‡ ä»¶äº‹ åˆ›å»ºä¸€ä¸ªç»„ä»¶åŒ…è£¹æˆ‘ä»¬çš„è·¯ç”±ç»„ä»¶ ä» TransitionGroup æ¥æ”¶å£°æ˜å‘¨æœŸæ–¹æ³•ï¼Œç”¨ä»¥å®Œæˆanimation ä½¿ç”¨ Animated åˆ›å»ºä¸€ä¸ªå˜é‡ï¼Œå¯ä»¥ç”¨å®ƒæ¥å¯¹å°è£…çš„å­ç»„ä»¶ä¸­çš„ div çš„ä¸åŒæ ·å¼å±æ€§å®ç°åŠ¨ç”»æ•ˆæœ åœ¨è·¯ç”±ç»„ä»¶ä¸­çš„ä½¿ç”¨1234567891011121314import React, &#123; Component &#125; from 'react';import AnimatedWrapper from './AnimatedWrapper';class HomeComponent extends Component &#123; render() &#123; return ( &lt;div className="page"&gt; &lt;h1&gt;Home&lt;/h1&gt; &lt;p&gt;Hello from the home page!&lt;/p&gt; &lt;/div&gt; ); &#125;&#125;const Home = AnimatedWrapper(HomeComponent);export default Home; å½“è·¯ç”±åˆ‡æ¢çš„çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±èƒ½çœ‹åˆ°è¿‡æ¸¡æ•ˆæœäº†ï¼]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>è·¯ç”±åŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[äºŒå‰æœç´¢æ ‘]]></title>
    <url>%2F2017%2F12%2F04%2Fcl4s3gtho0083wn9ely50km2q%2F</url>
    <content type="text"><![CDATA[äºŒå‰æœç´¢æ ‘ã€Šå­¦ä¹ JavaScriæ•°æ®ç»“æ„ä¸ç®—æ³•ã€‹ æ•°æ®ç»“æ„ æ•°æ®ç»“æ„æ˜¯è®¡ç®—æœºå­˜å‚¨ã€ç»„ç»‡æ•°æ®çš„æ–¹å¼ã€‚æ•°æ®ç»“æ„æ˜¯æŒ‡ç›¸äº’ä¹‹é—´å­˜åœ¨ä¸€ç§æˆ–å¤šç§ç‰¹å®šå…³ç³»çš„æ•°æ®å…ƒç´ çš„é›†åˆã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œç²¾å¿ƒé€‰æ‹©çš„æ•°æ®ç»“æ„å¯ä»¥å¸¦æ¥æ›´é«˜çš„è¿è¡Œæˆ–è€…å­˜å‚¨æ•ˆç‡ã€‚æ•°æ®ç»“æ„å¾€å¾€åŒé«˜æ•ˆçš„æ£€ç´¢ç®—æ³•å’Œç´¢å¼•æŠ€æœ¯æœ‰å…³ã€‚ç™¾åº¦ç™¾ç§‘ï¼šæ•°æ®ç»“æ„ ä¸ºä»€ä¹ˆè¦å­¦ä¹ æ•°æ®ç»“æ„ï¼Ÿç¨‹åº=ç®—æ³•+æ•°æ®ç»“æ„ï¼Œè®¡ç®—æœºç¨‹åºè®¾è®¡çš„æœ¬è´¨æ˜¯å°†ä¸šåŠ¡é€»è¾‘è½¬æ¢æˆæ•°ç†é€»è¾‘ï¼Œé€šè¿‡é€»è¾‘æ¨ç†ä»¥åŠæ•°ç†è¿ç®—è§£å†³å®¢è§‚ä¸–ç•Œå­˜åœ¨çš„å›°éš¾ï¼Œè€Œç®—æ³•å’Œæ•°æ®è§£ç»“æ„å°±æ˜¯æ•°ç†é€»è¾‘çš„æ¨æ¼”æ¨¡å¼å’Œå±•ç°æ–¹å¼ã€‚ äºŒå‰æœç´¢æ ‘ äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBinary Search Treeï¼‰ï¼Œï¼ˆåˆï¼šäºŒå‰æœç´¢æ ‘ï¼ŒäºŒå‰æ’åºæ ‘ï¼‰å®ƒæˆ–è€…æ˜¯ä¸€æ£µç©ºæ ‘ï¼Œæˆ–è€…æ˜¯å…·æœ‰ä¸‹åˆ—æ€§è´¨çš„äºŒå‰æ ‘ï¼š è‹¥å®ƒçš„å·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å°äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼› è‹¥å®ƒçš„å³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å¤§äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼› å®ƒçš„å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æ’åºæ ‘ã€‚ç™¾åº¦ç™¾ç§‘ï¼šäºŒå‰æœç´¢æ ‘ ä¸€äº›åè¯æ¦‚å¿µä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥æœ‰ç¥–å…ˆåŠè¯¶å•å’Œåå°ï¼Œä¸€ä¸ªèŠ‚ç‚¹çš„ç¥–å…ˆï¼ˆé™¤äº†æ ¹èŠ‚ç‚¹ï¼‰åŒ…æ‹¬çˆ¶èŠ‚ç‚¹ã€ç¥–çˆ¶èŠ‚ç‚¹ã€æ›¾ç¥–çˆ¶èŠ‚ç‚¹â€¦ å­æ ‘ï¼šå­æ ‘ç”±èŠ‚ç‚¹å’Œå®ƒçš„åå°ç»„æˆ èŠ‚ç‚¹çš„æ·±åº¦ï¼šèŠ‚ç‚¹çš„æ·±åº¦å–å†³äºå®ƒçš„ç¥–å…ˆèŠ‚ç‚¹çš„æ•°é‡ æ ‘çš„é«˜åº¦ï¼šé«˜åº¦å–å†³äºæ‰€æœ‰èŠ‚ç‚¹æ·±åº¦çš„æœ€å¤§å€¼ æ ‘çš„éå† å‰åºéå†å‰åºéå†é¦–å…ˆè®¿é—®æ ¹ç»“ç‚¹ç„¶åéå†å·¦å­æ ‘ï¼Œæœ€åéå†å³å­æ ‘ã€‚åœ¨éå†å·¦ã€å³å­æ ‘æ—¶ï¼Œä»ç„¶å…ˆè®¿é—®æ ¹ç»“ç‚¹ï¼Œç„¶åéå†å·¦å­æ ‘ï¼Œæœ€åéå†å³å­æ ‘ã€‚å‰åºéå†ç»“æœï¼šABDECF å‰åºéå†å¯ç”¨äºå¤åˆ¶ä¸€æ£µå·²æœ‰çš„äºŒå‰æ ‘ï¼Œæˆ–æ˜¯æ‰“å°ä¸€ä¸ªç»“æ„åŒ–çš„æ–‡æ¡£ã€‚ ä¸­åºéå†æŒ‡å…ˆè®¿é—®å·¦ï¼ˆå³ï¼‰å­æ ‘ï¼Œç„¶åè®¿é—®æ ¹ï¼Œæœ€åè®¿é—®å³ï¼ˆå·¦ï¼‰å­æ ‘çš„éå†æ–¹å¼ ä»¥ä»æœ€å°åˆ°æœ€å¤§çš„é¡ºåºè®¿é—®æ‰€æœ‰èŠ‚ç‚¹ï¼Œä¸­åºéå†çš„ä¸€ç§åº”ç”¨å°±æ˜¯æ’åºæ“ä½œã€‚ ååºéå†æŒ‡å…ˆè®¿é—®å­æ ‘ï¼Œç„¶åè®¿é—®æ ¹çš„éå†æ–¹å¼ã€‚å…¶ä¸­çš„ä¸€ç§åº”ç”¨æ˜¯è®¡ç®—æ–‡ä»¶ç³»ç»Ÿä¸­ä¸€ä¸ªç›®å½•å’Œå®ƒçš„å­ç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶æ‰€å ç©ºé—´çš„å¤§å°ã€‚ JavaScript å®ç°æœç´¢æ ‘åˆ›å»ºä¸€æ£µæ ‘1234567891011121314151617181920212223242526272829303132333435function BinaryBree(key) &#123; //æ„é€ èŠ‚ç‚¹æ–¹æ³• var Node = function (key) &#123; this.key = key this.left = null this.right = null &#125; //äºŒå‰æ ‘æ ¹èŠ‚ç‚¹ var root = null //äºŒå‰æ ‘æ’å…¥æ¥å£å®ç° var insertNode = function (node, newNode) &#123; if (newNode.key &lt; node.key) &#123; if (node.left === null) &#123; node.left = newNode &#125; else &#123; insertNode(node.left, newNode) &#125; &#125; else &#123; if (node.right === null) &#123; node.right = newNode &#125; else &#123; insertNode(node.right, newNode) &#125; &#125; &#125; &#125; var nodes = [8, 3, 10, 1, 6, 14, 4, 7, 13] var binaryBree = new BinaryBree() nodes.forEach(function (key) &#123; binaryBree.insert(key) &#125;) ä¸­åºéå†123456789101112131415//ä¸­åºéå†æ¥å£ this.inOrderTraverse = function (callback) &#123; inOrderTraverseNode(root, callback) &#125; //ä¸­åºéå†æ¥å£å®ç°æ–¹æ³• var inOrderTraverseNode = function (node, callback) &#123; if (node !== null) &#123; inOrderTraverseNode(node.left, callback) callback(node.key) inOrderTraverseNode(node.right, callback) &#125; &#125; å‰åºéå†12345678910111213//å‰åºéå†æ¥å£ this.preOrderTraverse = function (callback) &#123; preOrderTraverseNode(root, callback) &#125; //å‰åºéå†æ¥å£å®ç° var preOrderTraverseNode = function (node, callback) &#123; if (node !== null) &#123; callback(node.key) preOrderTraverseNode(node.left, callback) preOrderTraverseNode(node.right, callback) &#125; &#125; åç»­éå†12345678910111213//åç»­éå†æ¥å£ this.postOrderTraverse = function (callback) &#123; postOrderTraverseNode(root, callback) &#125; //å‰åºéå†æ¥å£å®ç° var postOrderTraverseNode = function (node, callback) &#123; if (node !== null) &#123; postOrderTraverseNode(node.left, callback) postOrderTraverseNode(node.right, callback) callback(node.key) &#125; &#125; æŸ¥æ‰¾12345678910111213141516171819202122232425262728293031323334353637383940414243444546//æŸ¥æ‰¾æœ€å°å€¼ this.min = function () &#123; return minNode(root) &#125; var minNode = function (node) &#123; if (node) &#123; //å¦‚æœå½“å‰èŠ‚ç‚¹å­˜åœ¨å·¦èŠ‚ç‚¹ï¼Œç»§ç»­æ‰§è¡Œå¾ªç¯ while (node &amp;&amp; node.left !== null) &#123; node = node.left &#125; &#125; return node.key &#125; //æŸ¥æ‰¾æœ€å¤§å€¼ this.max = function () &#123; return maxNode(root) &#125; var maxNode = function (node) &#123; if (node) &#123; //å¦‚æœå½“å‰èŠ‚ç‚¹å­˜åœ¨å³èŠ‚ç‚¹ï¼Œç»§ç»­æ‰§è¡Œå¾ªç¯ while (node &amp;&amp; node.right !== null) &#123; node = node.right &#125; &#125; return node.key &#125; //æŸ¥æ‰¾æŒ‡å®šæ•°å€¼ this.search = function (key) &#123; return searchNode(root, key) &#125; var searchNode = function (node, key) &#123; if (node === null) &#123; return false &#125; if (node &lt; node.key) &#123; return searchNode(node.left, key) &#125; else if (key &gt; node.key) &#123; return searchNode(node.right, key) &#125; else &#123; return true &#125; &#125; åˆ é™¤12345678910111213141516171819202122232425262728293031323334353637383940414243444546//åˆ é™¤æŒ‡å®šæŒ‡å®šèŠ‚ç‚¹æ¥å£ this.remove = function (key) &#123; root = removeNode(root, key) &#125; //æŸ¥æ‰¾æ’åºäºŒå‰æ ‘ä¸­æœ€å°èŠ‚ç‚¹ var finMinNode = function (node) &#123; if (node) &#123; while (node &amp;&amp; node.left !== null) &#123; node = node.left &#125; &#125; return node &#125; //åˆ é™¤æŒ‡å®šæŒ‡å®šèŠ‚ç‚¹å®ç° var removeNode = function (node, key) &#123; if (node === null) &#123; return null &#125; if (key &lt; node.key) &#123; node.left = removeNode(node.left, key) return node &#125; else if (key &gt; node.key) &#123; node.right = removeNode(node.right, key) return node &#125; else &#123; //å·¦å³éƒ½æ²¡æœ‰èŠ‚ç‚¹åˆ™ä¸ºå¶å­èŠ‚ç‚¹ï¼Œå¯ç›´æ¥åˆ é™¤ if (node.left === null &amp;&amp; node.right === null) &#123; node = null return node &#125; //åªæœ‰å³èŠ‚ç‚¹ï¼Œå°†å½“å‰èŠ‚ç‚¹æ›¿æ¢æˆå³èŠ‚ç‚¹ if (node.left === null) &#123; node = node.right return node &#125; else if (node.right === null) &#123; //åªæœ‰å·¦èŠ‚ç‚¹ï¼Œå°†å½“å‰èŠ‚ç‚¹æ›¿æ¢æˆåšå·¦èŠ‚ç‚¹ node = node.left return node &#125; //æ‹¥æœ‰å·¦å³èŠ‚ç‚¹çš„æƒ…å†µ var aux = finMinNode(node.right) node.key = aux.key node.right = removeNode(node.right, aux.key) return node &#125; &#125; å®Œæ•´é¡¹ç›®æ–‡ä»¶]]></content>
      <categories>
        <category>JSæ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      </categories>
      <tags>
        <tag>äºŒå‰æ ‘</tag>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[All About React Router 4]]></title>
    <url>%2F2017%2F11%2F19%2Fcl4s3gtde000awn9em3pya39y%2F</url>
    <content type="text"><![CDATA[åŸæ–‡ï¼š All About React Router 4 ç¤ºä¾‹ä»£ç  React Router 4 å¸¦æ¥æ–°çš„APIä»¥åŠæ–°çš„å¿ƒæ™ºæ¨¡å‹ Inclusive Routing å¼•å…¥è·¯ç”±123456789101112 const PrimaryLayout = () =&gt; ( &lt;div className="primary-layout"&gt; &lt;header&gt; Our React Router 4 App &lt;Route path="/users" component=&#123;UsersMenu&#125; /&gt; &lt;/header&gt; &lt;main&gt; &lt;Route path="/" exact component=&#123;HomePage&#125; /&gt; &lt;Route path="/users" component=&#123;UsersPage&#125; /&gt; &lt;/main&gt; &lt;/div&gt;) UsersMenu å’Œ UsersPage å¯ä»¥é€šè¿‡åŒä¸€ä¸ªè·¯ç”±è¢«æ¸²æŸ“åˆ°å½“å‰é¡µé¢ä¸­ï¼Œ exact ç²¾ç¡®åŒ¹é…è·¯ç”± &#39;/&#39; Switch è·¯ç”±ç»„å½“ä½ éœ€è¦å°†è·¯ç”±åŒ¹é…åˆ°ä¸€ä¸ªè·¯ç”±ç»„æ—¶ï¼Œä½¿ç”¨ Switch å¯ä»¥åŒ¹é…åˆ°å”¯ä¸€è·¯ç”± 12345678910111213const PrimaryLayout = () =&gt; ( &lt;div className="primary-layout"&gt; &lt;PrimaryHeader /&gt; &lt;main&gt; &lt;Switch&gt; &lt;Route path="/" exact component=&#123;HomePage&#125; /&gt; &lt;Route path="/users/add" component=&#123;UserAddPage&#125; /&gt; &lt;Route path="/users" component=&#123;UsersPage&#125; /&gt; &lt;Redirect to="/" /&gt; &lt;/Switch&gt; &lt;/main&gt; &lt;/div&gt;) å½“ä½¿ç”¨ Switch æ—¶ï¼Œåªæœ‰ä¸€ä¸ªè·¯ç”±ä¼šè¢«æ¸²æŸ“ã€‚ æˆ‘ä»¬ä»ç„¶éœ€è¦ä½¿ç”¨ exact å½“è®¾ HomePage ä¸ºé¦–é€‰è¢«æ¸²æŸ“çš„ç»„ä»¶ã€‚å¦åˆ™ç­‰æµè§ˆåˆ° /users æˆ–åˆ™ä¼šä½¿ â€˜/users/addâ€™ æ—¶ï¼ŒHomePage ç»„ä»¶ä»ç„¶ä¼šè¢«æ¸²æŸ“ï¼Œå¦‚æœå‘ç”ŸåŒæ—¶æ¸²æŸ“ï¼Œé‚£ä¹ˆå…ˆæ¸²æŸ“çš„ç»„ä»¶æ’åœ¨æœ€å‰é¢ã€‚ å½“è·¯ç”±åŒ¹é… /users/add æ—¶ï¼Œä¹Ÿä¼šåŒæ—¶åŒ¹é…åˆ° /users è·¯ç”±ï¼Œä¸ºç¡®ä¿ä¼˜å…ˆæ¸²æŸ“UserAddPage å¯ä»¥å°†è¿™ä¸ªç»„ä»¶å†™åˆ° UsersPage å‰é¢ï¼Œå¦‚æœç›¸åï¼Œåˆ™è°ƒæ¢é¡ºåºã€‚å½“ç„¶ä¹Ÿå¯ä»¥å°†æ‰€æœ‰è·¯ç”±è®¾ç½®ä¸º exact ç²¾ç¡®åŒ¹é…ï¼Œè¿™æ ·å°±ä¸å­˜åœ¨å…ˆåé—®é¢˜ã€‚ Redirect é‡å®šå‘å½“ Switch æ²¡æœ‰åŒ¹é…åˆ°ä»»æ„ä¸€ä¸ªè·¯ç”±çš„æ—¶å€™ï¼Œå°†ä¼šå‘ç”Ÿè·¯ç”±é‡å®šå‘ã€‚ â€œIndex Routesâ€ and â€œNot Foundâ€ ï¼ˆå·²ç§»é™¤ï¼‰åœ¨ V4 ä¸­ä¸åœ¨ä½¿ç”¨ &lt;IndexRoute&gt;, è€Œæ˜¯ä½¿ç”¨ &lt;Route exact&gt; ç²¾ç¡®åŒ¹é…è·¯ç”±ã€‚ å¦‚æœæ²¡æœ‰è·¯ç”±è¢«åŒ¹é…ï¼Œå¯ä»¥ä½¿ç”¨ &lt;Switch&gt; å’Œ &lt;Redirect&gt; å»é‡å®šå‘åˆ°é»˜è®¤è·¯ç”±ï¼Œæˆ–è€…é‡å®šå‘åˆ° 404é¡µé¢ Nested Layouts åµŒå¥—å¸ƒå±€è¿™é‡Œå±•ç¤ºä¸¤ç§ä¸åŒçš„å†™æ³•ï¼Œä»¥åŠä¸ºä»€ä¹ˆç¬¬äºŒç§æ˜¯æ›´å¥½çš„å†™æ³• ç¬¬ä¸€ç§é‡‡ç”¨ exact ç²¾ç¡®åŒ¹é…è·¯ç”± 1234567891011121314151617const PrimaryLayout = props =&gt; &#123; return ( &lt;div className="primary-layout"&gt; &lt;PrimaryHeader /&gt; &lt;main&gt; &lt;Switch&gt; &lt;Route path="/" exact component=&#123;HomePage&#125; /&gt; &lt;Route path="/users" exact component=&#123;BrowseUsersPage&#125; /&gt; &lt;Route path="/users/:userId" component=&#123;UserProfilePage&#125; /&gt; &lt;Route path="/products" exact component=&#123;BrowseProductsPage&#125; /&gt; &lt;Route path="/products/:productId" component=&#123;ProductProfilePage&#125; /&gt; &lt;Redirect to="/" /&gt; &lt;/Switch&gt; &lt;/main&gt; &lt;/div&gt; )&#125; è¿™ç§å†™æ³•åœ¨æŠ€æœ¯ä¸Šæ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯é—®é¢˜åœ¨äºï¼Œprops.match æ˜¯é€šè¿‡ &lt;Route&gt; ç»„ä»¶ä¼ é€’çš„ã€‚ç»„ä»¶ BrowseUsersPage çš„å­ç»„ä»¶å¹¶ä¸æ˜¯é€šè¿‡ &lt;Route&gt; åµŒå¥—è·¯è·¯ç”±ä¸­ï¼Œå­ç»„ä»¶æ˜¯ä¸èƒ½ç›´æ¥æ‹¿åˆ° props.matchçš„ã€‚ å½“ç„¶è¿™é‡Œå¯ä»¥é€šè¿‡é«˜é˜¶ç»„ä»¶çš„æ–¹å¼å°†å­ç»„ä»¶åŒ…è£…ï¼šwithRouter() ç¬¬äºŒç§å†™æ³•åœ¨ç¬¬ä¸€ç§å†™æ³•çš„åŸºç¡€ä¸Šåšäº†ä¿®æ”¹ï¼Œé€šè¿‡è·¯ç”±åµŒå¥—çš„æ–¹å¼å¸ƒå±€ç»„ä»¶ï¼Œå¹¶ä¸”ä¸å†éœ€è¦ä½¿ç”¨ exact ç²¾ç¡®åŒ¹é…è·¯ç”±ï¼Œä¹Ÿä¸å¿…ä½¿ç”¨ withRouter() åŠ å·¥ç»„ä»¶ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748const PrimaryLayout = () =&gt; ( &lt;div className="primary-layout"&gt; &lt;PrimaryHeader /&gt; &lt;main&gt; &lt;Switch&gt; &lt;Route path="/" exact component=&#123;HomePage&#125; /&gt; &lt;Route path="/users" component=&#123;UserSubLayout&#125; /&gt; &lt;Route path="/products" component=&#123;ProductSubLayout&#125; /&gt; &lt;Redirect to="/" /&gt; &lt;/Switch&gt; &lt;/main&gt; &lt;/div&gt;);const UserSubLayout = () =&gt; ( &lt;div className="user-sub-layout"&gt; &lt;aside&gt; &lt;UserNav /&gt; &lt;/aside&gt; &lt;div className="primary-content"&gt; &lt;Switch&gt; &lt;Route path="/users" exact component=&#123;BrowseUsersPage&#125; /&gt; &lt;Route path="/users/:userId" component=&#123;UserProfilePage&#125; /&gt; &lt;/Switch&gt; &lt;/div&gt; &lt;/div&gt;);const UserSubLayout = props =&gt; ( &lt;div className="user-sub-layout"&gt; &lt;aside&gt; &lt;UserNav /&gt; &lt;/aside&gt; &lt;div className="primary-content"&gt; &lt;Switch&gt; &lt;Route path=&#123;props.match.path&#125; exact component=&#123;BrowseUsersPage&#125; /&gt; &lt;Route path=&#123;`$&#123;props.match.path&#125;/:userId`&#125; component=&#123;UserProfilePage&#125; /&gt; &lt;/Switch&gt; &lt;/div&gt; &lt;/div&gt;); Match åŒ¹é…å¯¹è±¡Match å¯¹è±¡æä¾›äº†ä¸€ä¸‹å‡ ç§å±æ€§ params - (object) Key/value pairs parsed from the URL corresponding to the dynamic segments of the path isExact - (boolean) true if the entire URL was matched (no trailing characters) path - (string) The path pattern used to match. Useful for building nested s url - (string) The matched portion of the URL. Useful for building nested s match.path vs match.url å½“è·¯ç”±ä¸æºå¸¦å‚æ•°æ˜¯ä¸¤è€…çš„è¾“å‡ºæ˜¯ç›¸åŒçš„å­—ç¬¦ä¸²ï¼Œå°è¯•æ‰“å°è¿™ä¸¤è€…ã€‚ å½“è·¯ç”±åŒ¹é…åˆ°ä¾‹å¦‚ /users/5 æ—¶ï¼Œmatch.url å°†ä¼šè¾“å‡º â€œ/users/5â€ ; è€Œ match.path è¾“å‡º â€œ/users/:userIdâ€. Avoiding Match Collisions é¿å…åŒ¹é…å†²çª123456789101112131415const UserSubLayout = (&#123; match &#125;) =&gt; ( &lt;div className="user-sub-layout"&gt; &lt;aside&gt; &lt;UserNav /&gt; &lt;/aside&gt; &lt;div className="primary-content"&gt; &lt;Switch&gt; &lt;Route exact path=&#123;props.match.path&#125; component=&#123;BrowseUsersPage&#125; /&gt; &lt;Route path=&#123;`$&#123;match.path&#125;/add`&#125; component=&#123;AddUserPage&#125; /&gt; &lt;Route path=&#123;`$&#123;match.path&#125;/:userId/edit`&#125; component=&#123;EditUserPage&#125; /&gt; &lt;Route path=&#123;`$&#123;match.path&#125;/:userId`&#125; component=&#123;UserProfilePage&#125; /&gt; &lt;/Switch&gt; &lt;/div&gt; &lt;/div&gt;) path-to-regexp ç”¨äºæ ¡éªŒè·¯ç”±å‚æ•° 12345678var re = pathToRegexp('/:foo(\\d+)')// keys = [&#123; name: 'foo', ... &#125;]re.exec('/123')//=&gt; ['/123', '123']re.exec('/abc')//=&gt; null Authorized Route è·¯ç”±è®¤è¯ã€æƒé™ç®¡ç†æ ¹æ®ç”¨æˆ·ç™»å½•çŠ¶æ€ç®¡ç†å…¶æµè§ˆè·¯ç”±çš„æƒé™æ˜¯åº”ç”¨ä¸­å¾ˆå¸¸è§çš„åŠŸèƒ½ with the help of v4 docs 1234567891011121314class App extends React.Component &#123; render() &#123; return ( &lt;Provider store=&#123;store&#125;&gt; &lt;BrowserRouter&gt; &lt;Switch&gt; &lt;Route path="/auth" component=&#123;UnauthorizedLayout&#125; /&gt; &lt;AuthorizedRoute path="/app" component=&#123;PrimaryLayout&#125; /&gt; &lt;/Switch&gt; &lt;/BrowserRouter&gt; &lt;/Provider&gt; ) &#125;&#125; å¯ä»¥ç»“åˆ react reduxè®¾è®¡æƒé™ç®¡ç†åŠŸèƒ½ï¼Œ&lt;AuthorizedRoute&gt; ç»„ä»¶å…ˆæ£€æµ‹å½“å‰çš„ç™»å½•çŠ¶æ€ï¼Œå¦‚æœæ˜¯æ­£åœ¨ç™»å½•ï¼Œåˆ™æ˜¾ç¤º Loadingâ€¦ å¦‚æœå·²ç»ç™»å½•åˆ™ï¼Œåˆ™è·³è½¬åˆ°åˆ° &lt;PrimaryLayout&gt; ç»„ä»¶ä¸­ å¦‚æœæœªç™»å½•ï¼Œåˆ™è·³è½¬åˆ°ç™»å½•é¡µ 123456789101112131415161718192021222324class AuthorizedRoute extends React.Component &#123; componentWillMount() &#123; getLoggedUser() &#125; render() &#123; const &#123; component: Component, pending, logged, ...rest &#125; = this.props return ( &lt;Route &#123;...rest&#125; render=&#123;props =&gt; &#123; if (pending) return &lt;div&gt;Loading...&lt;/div&gt; return logged ? &lt;Component &#123;...this.props&#125; /&gt; : &lt;Redirect to=&quot;/auth/login&quot; /&gt; &#125;&#125; /&gt; ) &#125;&#125;const stateToProps = (&#123; loggedUserState &#125;) =&gt; (&#123; pending: loggedUserState.pending, logged: loggedUserState.logged&#125;)export default connect(stateToProps)(AuthorizedRoute) Other mentions å…¶ä»–&lt;Link&gt; vs &lt;NavLink&gt; è¿™ä¸¤ä¸ªåŠŸèƒ½ä¸€æ ·ï¼Œéƒ½æ˜¯è·¯ç”±è·³è½¬ï¼Œä½†æ˜¯NavLinkæœ‰ä¸€ä¸ªå±æ€§ç”¨æ¥æ˜¾ç¤ºè·³è½¬é€‰ä¸­çš„æ ·å¼ï¼ŒactiveStyleå±æ€§ï¼Œå†™æ˜¾ç¤ºé«˜äº®æ ·å¼çš„ï¼Œæ¥æ”¶ä¸€ä¸ªå¯¹è±¡{} åœ¨æˆ‘ä»¬è·¯ç”±å¯¼èˆªæœ‰ä¸€ä¸ªtoå±æ€§ toå±æ€§æ˜¯æˆ‘ä»¬è·¯ç”±çš„è¦è·³è½¬çš„è·¯å¾„: 123456789101112131415import React from 'react'import &#123; NavLink &#125; from 'react-router-dom'const PrimaryHeader = () =&gt; ( &lt;header className="primary-header"&gt; &lt;h1&gt;Welcome to our app!&lt;/h1&gt; &lt;nav&gt; &lt;NavLink to="/app" exact activeClassName="active"&gt;Home&lt;/NavLink&gt; &lt;NavLink to="/app/users" activeClassName="active"&gt;Users&lt;/NavLink&gt; &lt;NavLink to="/app/products" activeClassName="active"&gt;Products&lt;/NavLink&gt; &lt;/nav&gt; &lt;/header&gt;)export default PrimaryHeader Dynamic Routes åŠ¨æ€è·¯ç”±åœ¨ V4ä¸­æœ€å¥½çš„ä¸€éƒ¨åˆ†æ”¹å˜æ˜¯å¯ä»¥åœ¨æ‰€æœ‰åœ°æ–¹åŒ…å« &lt;Route&gt; ï¼Œ å®ƒåªæ˜¯ä¸€ä¸ª React ç»„ä»¶ã€‚ è·¯ç”±å°†ä¸å†æ˜¯ç¥å¥‡çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åœ¨ä»»ä½•åœ°æ–¹ï¼Œè¯•æƒ³ä¸€ä¸‹ï¼Œå½“æ»¡è¶³æ¡ä»¶æ—¶ï¼Œæ•´ä¸ªè·¯ç”±éƒ½å¯ä»¥è¢«è·¯ç”±åˆ°ã€‚ åœ¨è¿™äº›æ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç§»é™¤é‚£äº›è·¯ç”±ï¼Œç”šè‡³ï¼Œå¯ä»¥åµŒå¥—è·¯ç”±ã€‚ React Router 4 å˜å¾—æ›´å¥½ç”¨æ˜¯å› ä¸ºè¿™åªæ˜¯ä¸€ä¸ª Just Componentsâ„¢ã€‚]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>react</tag>
        <tag>react-router</tag>
        <tag>å£°æ˜å¼è·¯ç”±</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Nginxåå‘ä»£ç†]]></title>
    <url>%2F2017%2F11%2F18%2Fcl4s3gtfi0048wn9e482hgktj%2F</url>
    <content type="text"><![CDATA[å‚è€ƒèµ„æºï¼š Nginx ä»å¬è¯´åˆ°å­¦ä¼š Mac Nginx å®‰è£…ï¼ˆBrewï¼‰ ç”¨ nginx çš„åå‘ä»£ç†æœºåˆ¶è§£å†³å‰ç«¯è·¨åŸŸé—®é¢˜ ä»€ä¹ˆæ˜¯ Nginx ==Nginx== æ˜¯ä¸€æ¬¾è½»é‡çº§çš„ ==Web== æœåŠ¡å™¨/åå‘ä»£ç†æœåŠ¡å™¨åŠç”µå­é‚®ä»¶ ==ï¼ˆIMAP/POP3ï¼‰== ä»£ç†æœåŠ¡å™¨ï¼Œå¹¶åœ¨ä¸€ä¸ª ==BSD-like == åè®®ä¸‹å‘è¡Œã€‚å…¶ç‰¹ç‚¹æ˜¯å æœ‰å†…å­˜å°‘ï¼Œå¹¶å‘èƒ½åŠ›å¼ºï¼Œäº‹å®ä¸Š ==nginx== çš„å¹¶å‘èƒ½åŠ›ç¡®å®åœ¨åŒç±»å‹çš„ç½‘é¡µæœåŠ¡å™¨ä¸­è¡¨ç°è¾ƒå¥½ï¼Œä¸­å›½å¤§é™†ä½¿ç”¨ ==nginx== ç½‘ç«™ç”¨æˆ·æœ‰ï¼šç™¾åº¦ã€äº¬ä¸œã€æ–°æµªã€ç½‘æ˜“ã€è…¾è®¯ã€æ·˜å®ç­‰ã€‚â€”â€”ç™¾åº¦è¯æ¡ Nginx ä½¿ç”¨åŸºäºäº‹ä»¶é©±åŠ¨æ¶æ„ï¼Œä½¿å¾—å…¶å¯ä»¥æ”¯æŒæ•°ä»¥ç™¾ä¸‡çº§åˆ«çš„ TCP è¿æ¥ é«˜åº¦çš„æ¨¡å—åŒ–å’Œè‡ªç”±è½¯ä»¶è®¸å¯è¯æ˜¯çš„ç¬¬ä¸‰æ–¹æ¨¡å—å±‚å‡ºä¸ç©· Nginx æ˜¯ä¸€ä¸ªè·¨å¹³å°æœåŠ¡å™¨ï¼Œå¯ä»¥è¿è¡Œåœ¨ Linux, FreeBSD, Solaris, AIX, Mac OS, Windows ç­‰æ“ä½œç³»ç»Ÿä¸Š è¿™äº›ä¼˜ç§€çš„è®¾è®¡å¸¦æ¥çš„æå¤§çš„ç¨³å®šæ€§ã€‚ Web æœåŠ¡å™¨lighttpd Lighttpd æ˜¯ä¸€ä¸ªå…·æœ‰éå¸¸ä½çš„å†…å­˜å¼€é”€ï¼Œcpu å ç”¨ç‡ä½ï¼Œæ•ˆèƒ½å¥½ï¼Œä»¥åŠä¸°å¯Œçš„æ¨¡å—ç­‰ç‰¹ç‚¹ã€‚lighttpd æ˜¯ä¼—å¤š OpenSource è½»é‡çº§çš„ webserver ä¸­è¾ƒä¸ºä¼˜ç§€çš„ä¸€ä¸ªã€‚æ”¯æŒ FastCGI, CGI, Auth, è¾“å‡ºå‹ç¼©(output compress), URL é‡å†™,Alias ç­‰é‡è¦åŠŸèƒ½ã€‚ Lighttpd ä½¿ç”¨ fastcgi æ–¹å¼è¿è¡Œ PHP,å®ƒä¼šä½¿ç”¨å¾ˆå°‘çš„ PHP è¿›ç¨‹å“åº”å¾ˆå¤§çš„å¹¶å‘é‡ã€‚ Fastcgi çš„ä¼˜ç‚¹åœ¨äºï¼š ä»ç¨³å®šæ€§ä¸Šçœ‹, fastcgi æ˜¯ä»¥ç‹¬ç«‹çš„è¿›ç¨‹æ± è¿è¡Œæ¥ cgi,å•ç‹¬ä¸€ä¸ªè¿›ç¨‹æ­»æ‰,ç³»ç»Ÿå¯ä»¥å¾ˆè½»æ˜“çš„ä¸¢å¼ƒ,ç„¶åé‡æ–°åˆ†é…æ–°çš„è¿›ç¨‹æ¥è¿è¡Œé€»è¾‘. ä»å®‰å…¨æ€§ä¸Šçœ‹, fastcgi å’Œå®¿ä¸»çš„ server å®Œå…¨ç‹¬ç«‹, fastcgi æ€ä¹ˆ down ä¹Ÿä¸ä¼šæŠŠ server æå®, ä»æ€§èƒ½ä¸Šçœ‹, fastcgi æŠŠåŠ¨æ€é€»è¾‘çš„å¤„ç†ä» server ä¸­åˆ†ç¦»å‡ºæ¥, å¤§è´Ÿè·çš„ IO å¤„ç†è¿˜æ˜¯ç•™ç»™å®¿ä¸» server, è¿™æ ·å®¿ä¸» server å¯ä»¥ä¸€å¿ƒä¸€æ„ä½œ IO,å¯¹äºä¸€ä¸ªæ™®é€šçš„åŠ¨æ€ç½‘é¡µæ¥è¯´, é€»è¾‘å¤„ç†å¯èƒ½åªæœ‰ä¸€å°éƒ¨åˆ†,å¤§é‡çš„å›¾ç‰‡ç­‰é™æ€ IO å¤„ç†å®Œå…¨ä¸éœ€è¦é€»è¾‘ç¨‹åºçš„å‚ä¸ ä»æ‰©å±•æ€§ä¸Šè®², fastcgi æ˜¯ä¸€ä¸ªä¸­ç«‹çš„æŠ€æœ¯æ ‡å‡†, å®Œå…¨å¯ä»¥æ”¯æŒä»»ä½•è¯­è¨€å†™çš„å¤„ç†ç¨‹åº php,Java,Python Apache apache æ˜¯ä¸–ç•Œæ’åç¬¬ä¸€çš„ web æœåŠ¡å™¨, æ ¹æ® netcraft æ‰€ä½œçš„è°ƒæŸ¥,ä¸–ç•Œä¸Šç™¾åˆ†ä¹‹äº”åä»¥ä¸Šçš„ web æœåŠ¡å™¨åœ¨ä½¿ç”¨ apache. 1995 å¹´ 4 æœˆ, æœ€æ—©çš„ apache(0.6.2 ç‰ˆ)ç”± apache group å…¬å¸ƒå‘è¡Œ. apache groupæ˜¯ä¸€ä¸ªå®Œå…¨é€šè¿‡ internet è¿›è¡Œè¿ä½œçš„éç›ˆåˆ©æœºæ„, ç”±å®ƒæ¥å†³å®š apache web æœåŠ¡å™¨çš„æ ‡å‡†å‘è¡Œç‰ˆä¸­åº”è¯¥åŒ…å«å“ªäº›å†…å®¹.å‡†è®¸ä»»ä½•äººä¿®æ”¹éšé”™, æä¾›æ–°çš„ç‰¹å¾å’Œå°†å®ƒç§»æ¤åˆ°æ–°çš„å¹³å°ä¸Š, ä»¥åŠå…¶å®ƒçš„å·¥ä½œ. å½“æ–°çš„ä»£ç è¢«æäº¤ç»™ apache group æ—¶,è¯¥å›¢ä½“å®¡æ ¸å®ƒçš„å…·ä½“å†…å®¹, è¿›è¡Œæµ‹è¯• å¦‚æœè®¤ä¸ºæ»¡æ„, è¯¥ä»£ç å°±ä¼šè¢«é›†æˆåˆ° apache çš„ä¸»è¦å‘è¡Œç‰ˆä¸­ã€‚ apache çš„ç‰¹æ€§: å‡ ä¹å¯ä»¥è¿è¡Œåœ¨æ‰€æœ‰çš„è®¡ç®—æœºå¹³å°ä¸Šæ”¯æŒæœ€æ–°çš„ http/1.1 åè®® ç®€å•è€Œä¸”å¼ºæœ‰åŠ›çš„åŸºäºæ–‡ä»¶çš„é…ç½®(httpd.conf)æ”¯æŒé€šç”¨ç½‘å…³æ¥å£(cgi)æ”¯æŒè™šæ‹Ÿä¸»æœºæ”¯æŒ http è®¤è¯é›†æˆ perlé›†æˆçš„ä»£ç†æœåŠ¡å™¨å¯ä»¥é€šè¿‡ web æµè§ˆå™¨ç›‘è§†æœåŠ¡å™¨çš„çŠ¶æ€,å¯ä»¥è‡ªå®šä¹‰æ—¥å¿—æ”¯æŒæœåŠ¡å™¨ç«¯åŒ…å«å‘½ä»¤(ssi)æ”¯æŒå®‰å…¨ socket å±‚(ssl)å…·æœ‰ç”¨æˆ·ä¼šè¯è¿‡ç¨‹çš„è·Ÿè¸ªèƒ½åŠ›æ”¯æŒ fastcgiæ”¯æŒ Java Nginx Nginx æ˜¯ä¿„ç½—æ–¯äººç¼–å†™çš„ååˆ†è½»é‡çº§çš„ HTTP æœåŠ¡å™¨,Nginxï¼Œå®ƒçš„å‘éŸ³ä¸ºâ€œengine Xâ€ï¼Œæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ HTTP å’Œåå‘ä»£ç†æœåŠ¡å™¨ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ª IMAP/POP3/SMTP ä»£ç†æœåŠ¡å™¨ï¼Nginx æ˜¯ç”±ä¿„ç½—æ–¯äºº IgorSysoev ä¸ºä¿„ç½—æ–¯è®¿é—®é‡ç¬¬äºŒçš„ Rambler.ru ç«™ç‚¹å¼€å‘. Nginx ä»¥äº‹ä»¶é©±åŠ¨çš„æ–¹å¼ç¼–å†™ï¼Œæ‰€ä»¥æœ‰éå¸¸å¥½çš„æ€§èƒ½ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸é«˜æ•ˆçš„åå‘ä»£ç†ã€è´Ÿè½½å¹³è¡¡ã€‚å…¶æ‹¥æœ‰åŒ¹é…Lighttpd çš„æ€§èƒ½ï¼ŒåŒæ—¶è¿˜æ²¡æœ‰ Lighttpd çš„å†…å­˜æ³„æ¼é—®é¢˜ï¼Œè€Œä¸” Lighttpd çš„ mod_proxy ä¹Ÿæœ‰ä¸€äº›é—®é¢˜å¹¶ä¸”å¾ˆä¹…æ²¡æœ‰æ›´æ–°ã€‚ä½†æ˜¯ Nginx å¹¶ä¸æ”¯æŒ cgi æ–¹å¼è¿è¡Œï¼ŒåŸå› æ˜¯å¯ä»¥å‡å°‘å› æ­¤å¸¦æ¥çš„ä¸€äº›ç¨‹åºä¸Šçš„æ¼æ´ã€‚æ‰€ä»¥å¿…é¡»ä½¿ç”¨ FastCGI æ–¹å¼æ¥æ‰§è¡Œ PHP ç¨‹åºã€‚ nginx åšä¸º HTTP æœåŠ¡å™¨ï¼Œæœ‰ä»¥ä¸‹å‡ é¡¹åŸºæœ¬ç‰¹æ€§ï¼š å¤„ç†é™æ€æ–‡ä»¶ï¼Œç´¢å¼•æ–‡ä»¶ä»¥åŠè‡ªåŠ¨ç´¢å¼•ï¼›æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦ç¼“å†² æ— ç¼“å­˜çš„åå‘ä»£ç†åŠ é€Ÿï¼Œç®€å•çš„è´Ÿè½½å‡è¡¡å’Œå®¹é”™ FastCGIï¼Œç®€å•çš„è´Ÿè½½å‡è¡¡å’Œå®¹é”™æ¨¡å—åŒ–çš„ç»“æ„ã€‚åŒ…æ‹¬ gzipping, byte ranges, chunked responses,ä»¥åŠSSI-filter ç­‰ filterã€‚å¦‚æœç”± FastCGI æˆ–å…¶å®ƒä»£ç†æœåŠ¡å™¨å¤„ç†å•é¡µä¸­å­˜åœ¨çš„å¤šä¸ª SSIï¼Œåˆ™è¿™é¡¹å¤„ç†å¯ä»¥å¹¶è¡Œè¿è¡Œï¼Œè€Œä¸éœ€è¦ç›¸äº’ç­‰å¾…ã€‚Nginx ä¸“ä¸ºæ€§èƒ½ä¼˜åŒ–è€Œå¼€å‘ï¼Œæ€§èƒ½æ˜¯å…¶æœ€é‡è¦çš„è€ƒé‡,å®ç°ä¸Šéå¸¸æ³¨é‡æ•ˆç‡ã€‚å®ƒæ”¯æŒå†…æ ¸ Poll æ¨¡å‹ï¼Œèƒ½ç»å—é«˜è´Ÿè½½çš„è€ƒéªŒ,æœ‰æŠ¥å‘Šè¡¨æ˜èƒ½æ”¯æŒé«˜è¾¾50,000 ä¸ªå¹¶å‘è¿æ¥æ•°ã€‚ Nginx å…·æœ‰å¾ˆé«˜çš„ç¨³å®šæ€§ã€‚å…¶å®ƒ HTTP æœåŠ¡å™¨ï¼Œå½“é‡åˆ°è®¿é—®çš„å³°å€¼ï¼Œæˆ–è€…æœ‰äººæ¶æ„å‘èµ·æ…¢é€Ÿè¿æ¥æ—¶ï¼Œä¹Ÿå¾ˆå¯èƒ½ä¼šå¯¼è‡´æœåŠ¡å™¨ç‰©ç†å†…å­˜è€—å°½é¢‘ç¹äº¤æ¢ï¼Œå¤±å»å“åº”ï¼Œåªèƒ½é‡å¯æœåŠ¡å™¨ã€‚ä¾‹å¦‚å½“å‰ apache ä¸€æ—¦ä¸Šåˆ° 200 ä¸ªä»¥ä¸Šè¿›ç¨‹ï¼Œweb å“åº”é€Ÿåº¦å°±æ˜æ˜¾éå¸¸ç¼“æ…¢äº†ã€‚è€Œ Nginx é‡‡å–äº†åˆ†é˜¶æ®µèµ„æºåˆ†é…æŠ€æœ¯ï¼Œä½¿å¾—å®ƒçš„ CPU ä¸å†…å­˜å ç”¨ç‡éå¸¸ä½ã€‚nginx å®˜æ–¹è¡¨ç¤ºä¿æŒ 10,000 ä¸ªæ²¡æœ‰æ´»åŠ¨çš„è¿æ¥ï¼Œå®ƒåªå  2.5M å†…å­˜ï¼Œæ‰€ä»¥ç±»ä¼¼ DOS è¿™æ ·çš„æ”»å‡»å¯¹ nginx æ¥è¯´åŸºæœ¬ä¸Šæ˜¯æ¯«æ— ç”¨å¤„çš„ã€‚å°±ç¨³å®šæ€§è€Œè¨€,nginx æ¯” lighthttpd æ›´èƒœä¸€ç­¹ã€‚ Nginx æ”¯æŒçƒ­éƒ¨ç½²ã€‚å®ƒçš„å¯åŠ¨ç‰¹åˆ«å®¹æ˜“,å¹¶ä¸”å‡ ä¹å¯ä»¥åšåˆ° 7X24 ä¸é—´æ–­è¿è¡Œï¼Œå³ä½¿è¿è¡Œæ•°ä¸ªæœˆä¹Ÿä¸éœ€è¦é‡æ–°å¯åŠ¨ã€‚ä½ è¿˜èƒ½å¤Ÿåœ¨ä¸é—´æ–­æœåŠ¡çš„æƒ…å†µä¸‹ï¼Œå¯¹è½¯ä»¶ç‰ˆæœ¬è¿›è¡Œè¿›è¡Œå‡çº§ã€‚ ä¸‰ç§æœåŠ¡å™¨æ¯”è¾ƒ Nginx å®‰è£…Mac Nginx å®‰è£…ï¼ˆBrewï¼‰ Homebrew1$ man brew å®‰è£… Homebrew 1$ ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)" å¸è½½ 1$ ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/uninstall)" å…¶ä»–å¸¸ç”¨å‘½ä»¤ï¼š 123localhost:~ wany$ brew --version (æŸ¥çœ‹å½“å‰ç”µè„‘æ‰€å®‰è£…çš„brewç‰ˆæœ¬)localhost:~ wany$ brew update (æ›´æ–°ç”µè„‘ä¸­çš„brewç‰ˆæœ¬) é€šè¿‡ brew å®‰è£… Nginx 1$ sudo /usr/local/sbin/nginx æ³¨æ„äº‹é¡¹ï¼šå®‰è£… nignx, brew æ‰€å®‰è£…çš„è½¯ä»¶éƒ½ä¿å­˜åœ¨ :/usr/local/Cellar/nginx é…ç½®æ–‡ä»¶ä¿å­˜åˆ°äº†ï¼š/usr/local/etc/nginx/nginx.conf å»ºç«‹è½¯è¿æ¥ 1$ ln -s /usr/local/bin/nginx /usr/local/bin/nginx å¯åŠ¨ 1$ sudo nginx é‡å¯ 1$ sudo nginx -s reload Nginx åå‘ä»£ç†ç”¨ nginx çš„åå‘ä»£ç†æœºåˆ¶è§£å†³å‰ç«¯è·¨åŸŸé—®é¢˜ ä»€ä¹ˆæ˜¯è·¨åŸŸä»¥åŠäº§ç”Ÿçš„åŸå› è·¨åŸŸæ˜¯æŒ‡ a é¡µé¢æƒ³è·å– b é¡µé¢èµ„æºï¼Œå¦‚æœ aã€b é¡µé¢çš„åè®®ã€åŸŸåã€ç«¯å£ã€å­åŸŸåä¸åŒï¼Œæˆ–æ˜¯ a é¡µé¢ä¸º ip åœ°å€ï¼Œb é¡µé¢ä¸ºåŸŸååœ°å€ï¼Œæ‰€è¿›è¡Œçš„è®¿é—®è¡ŒåŠ¨éƒ½æ˜¯è·¨åŸŸçš„ï¼Œè€Œæµè§ˆå™¨ä¸ºäº†å®‰å…¨é—®é¢˜ä¸€èˆ¬éƒ½é™åˆ¶äº†è·¨åŸŸè®¿é—®ï¼Œä¹Ÿå°±æ˜¯ä¸å…è®¸è·¨åŸŸè¯·æ±‚èµ„æºã€‚ è·¨åŸŸæƒ…å†µå¦‚ä¸‹ï¼š è·¨åŸŸå¸¸è§çš„è§£å†³æ–¹æ³•ç›®å‰æ¥è®²æ²¡æœ‰ä¸ä¾é æœåŠ¡å™¨ç«¯æ¥è·¨åŸŸè¯·æ±‚èµ„æºçš„æŠ€æœ¯ 1.jsonp éœ€è¦ç›®æ ‡æœåŠ¡å™¨é…åˆä¸€ä¸ª callback å‡½æ•°ã€‚ 2.window.name+iframe éœ€è¦ç›®æ ‡æœåŠ¡å™¨å“åº” window.nameã€‚ 3.window.location.hash+iframe åŒæ ·éœ€è¦ç›®æ ‡æœåŠ¡å™¨ä½œå¤„ç†ã€‚ 4.html5 çš„ postMessage+ifrme è¿™ä¸ªä¹Ÿæ˜¯éœ€è¦ç›®æ ‡æœåŠ¡å™¨æˆ–è€…è¯´æ˜¯ç›®æ ‡é¡µé¢å†™ä¸€ä¸ª postMessageï¼Œä¸»è¦ä¾§é‡äºå‰ç«¯é€šè®¯ã€‚ 5.CORS éœ€è¦æœåŠ¡å™¨è®¾ç½® header ï¼šAccess-Control-Allow-Originã€‚ 6.nginx åå‘ä»£ç† è¿™ä¸ªæ–¹æ³•ä¸€èˆ¬å¾ˆå°‘æœ‰äººæåŠï¼Œä½†æ˜¯ä»–å¯ä»¥ä¸ç”¨ç›®æ ‡æœåŠ¡å™¨é…åˆï¼Œä¸è¿‡éœ€è¦ä½ æ­å»ºä¸€ä¸ªä¸­è½¬ nginx æœåŠ¡å™¨ï¼Œç”¨äºè½¬å‘è¯·æ±‚ã€‚ Nginx åå‘ä»£ç†è§£å†³è·¨åŸŸä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š è·¯å¾„ 12luoyecs-iMac:nginx luoyec$ pwd/usr/local/etc/nginx ä¿®æ”¹ nginx.conf 1234567891011121314151617listen 9000; #ç›‘å¬9000ç«¯å£å·ï¼Œ server_name localhost; #å½“å‰æœåŠ¡å™¨åŸŸåï¼Œä¸€èˆ¬æ˜¯å¼€å‘è€…æœ¬åœ°ç”µè„‘ #charset koi8-r; #access_log logs/host.access.log main; location / &#123; # root html; # æ ¹è·¯å¾„ # index index.html index.htm; #æ ¹è·¯å¾„ä¸‹çš„å…¥å£æ–‡ä»¶ proxy_pass http://localhost:3000; &#125; location /mobile/ &#123; # æ³¨æ„è¿™é‡Œå¯ä»¥å†™æ­£åˆ™è¡¨è¾¾å¼ï¼Œï¼ˆåŒ¹é…è§„åˆ™ï¼Œç”¨äºæ‹¦æˆªè¯·æ±‚ï¼ŒåŒ¹é…ä»»ä½•ä»¥ /proxy/html/å¼€å¤´çš„åœ°å€ï¼ŒåŒ¹é…ç¬¦åˆä»¥åï¼Œåœæ­¢å¾€ä¸‹æœç´¢æ­£åˆ™ï¼‰ rewrite ^/mobild/(.*)$ /$1 break; #ä»£è¡¨é‡å†™æ‹¦æˆªè¿›æ¥çš„è¯·æ±‚ï¼Œå¹¶ä¸”åªèƒ½å¯¹åŸŸååè¾¹çš„é™¤å»ä¼ é€’çš„å‚æ•°å¤–çš„å­—ç¬¦ä¸²èµ·ä½œç”¨ï¼Œä¾‹å¦‚www.c.com/proxy/html/api/msg?method=1&amp;para=2é‡å†™ã€‚åªå¯¹/proxy/html/api/msgé‡å†™ã€‚ proxy_pass http://www.daolimen.com; # æ—¢æ˜¯æŠŠè¯·æ±‚ä»£ç†åˆ°å…¶ä»–ä¸»æœº &#125; é‡å¯ nginx 1$ sudo nginx -s reload åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼šhttp://localhost:9000/ é…ç½®è¯´æ˜é¦–å…ˆæ‰¾åˆ° nginx.conf æˆ–è€… nginx.conf.default æˆ–è€…æ˜¯ default é‡Œé¢çš„è¿™éƒ¨ä»½ å…¶ä¸­ server ä»£è¡¨å¯åŠ¨çš„ä¸€ä¸ªæœåŠ¡ï¼Œlocation æ˜¯ä¸€ä¸ªå®šä½è§„åˆ™ã€‚ 12345location /ï½› #æ‰€æœ‰ä»¥/å¼€å¤´çš„åœ°å€ï¼Œå®é™…ä¸Šæ˜¯æ‰€æœ‰è¯·æ±‚root html ï¼ƒå»è¯·æ±‚../htmlæ–‡ä»¶å¤¹é‡Œçš„æ–‡ä»¶,å…¶ä¸­..çš„è·¯å¾„åœ¨nginxé‡Œé¢æœ‰å®šä¹‰ï¼Œå®‰è£…çš„æ—¶å€™ä¼šæœ‰é»˜è®¤è·¯index index.html index.htm ï¼ƒé¦–é¡µå“åº”åœ°å€ ä»ä¸Šé¢å¯ä»¥çœ‹å‡º location æ˜¯ nginx ç”¨æ¥è·¯ç”±çš„å…¥å£ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥ä¸‹æ¥è¦åœ¨ location é‡Œé¢å®Œæˆæˆ‘ä»¬çš„åå‘ä»£ç†ã€‚ å‡å¦‚æˆ‘ä»¬æˆ‘ä»¬æ˜¯ www.a.com/html/msg.html æƒ³è¯·æ±‚ www.b.com/api/?method=1&amp;para=2ï¼› æˆ‘ä»¬çš„ ajaxï¼š 1234567var url = 'http://www.b.com/api/msg?method=1&amp;para=2'ï¼› &lt;br&gt;$.ajax(&#123; type: "GET", url:url, success: function(res)&#123;..&#125;, ....&#125;) ä¸Šé¢çš„è¯·æ±‚å¿…ç„¶ä¼šé‡åˆ°è·¨åŸŸé—®é¢˜ï¼Œè¿™æ—¶æˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸€ä¸‹æˆ‘ä»¬çš„è¯·æ±‚ urlï¼Œè®©è¯·æ±‚å‘åœ¨ nginx çš„ä¸€ä¸ª url ä¸‹ã€‚ 123456789var url = &apos;http://www.b.com/api/msg?method=1&amp;para=2&apos;ï¼›var proxyurl ï¼ &apos;msg?method=1&amp;para=2&apos;ï¼›//å‡å¦‚å®é™…åœ°å€æ˜¯ www.c.com/proxy/html/api/msg?method=1&amp;para=2; www.c.comæ˜¯nginxä¸»æœºåœ°å€ $.ajax(&#123;type: &quot;GET&quot;,url:proxyurl,success: function(res)&#123;..&#125;,....&#125;) å†åœ¨åˆšæ‰çš„è·¯å¾„ä¸­åŒ¹é…åˆ°è¿™ä¸ªè¯·æ±‚ï¼Œæˆ‘ä»¬åœ¨ location ä¸‹é¢å†æ·»åŠ ä¸€ä¸ª locationã€‚ 1234location ^~/proxy/html/&#123;rewrite ^/proxy/html/(.*)$ /$1 break;proxy_pass http://www.b.com/;&#125; ä»¥ä¸‹åšä¸€ä¸ªè§£é‡Šï¼š &#39;^~ /proxy/html/ &#39; å°±åƒä¸Šé¢è¯´çš„ä¸€æ ·æ˜¯ä¸€ä¸ªåŒ¹é…è§„åˆ™ï¼Œç”¨äºæ‹¦æˆªè¯·æ±‚ï¼ŒåŒ¹é…ä»»ä½•ä»¥ /proxy/html/å¼€å¤´çš„åœ°å€ï¼ŒåŒ¹é…ç¬¦åˆä»¥åï¼Œåœæ­¢å¾€ä¸‹æœç´¢æ­£åˆ™ã€‚ rewrite ^/proxy/html/(.*)$ /$1 break; ä»£è¡¨é‡å†™æ‹¦æˆªè¿›æ¥çš„è¯·æ±‚ï¼Œå¹¶ä¸”åªèƒ½å¯¹åŸŸååè¾¹çš„é™¤å»ä¼ é€’çš„å‚æ•°å¤–çš„å­—ç¬¦ä¸²èµ·ä½œç”¨ï¼Œä¾‹å¦‚ www.c.com/proxy/html/api/msg?method=1&amp;para=2 é‡å†™ã€‚åªå¯¹/proxy/html/api/msg é‡å†™ã€‚ rewrite åé¢çš„å‚æ•°æ˜¯ä¸€ä¸ªç®€å•çš„æ­£åˆ™ ^/proxy/html/(.*)$ ,$1 ä»£è¡¨æ­£åˆ™ä¸­çš„ç¬¬ä¸€ä¸ª(),$2 ä»£è¡¨ç¬¬äºŒä¸ª()çš„å€¼,ä»¥æ­¤ç±»æ¨ã€‚ break ä»£è¡¨åŒ¹é…ä¸€ä¸ªä¹‹ååœæ­¢åŒ¹é…ã€‚ proxy_pass æ—¢æ˜¯æŠŠè¯·æ±‚ä»£ç†åˆ°å…¶ä»–ä¸»æœºï¼Œå…¶ä¸­ http://www.b.com/ å†™æ³•å’Œ http://www.b.comå†™æ³•çš„åŒºåˆ«å¦‚ä¸‹: ä¸å¸¦/ 1234location /html/&#123; proxy_pass http://b.com:8300;&#125; å¸¦/ 1234location /html/&#123; proxy_pass http://b.com:8300/;&#125; ä¸Šé¢ä¸¤ç§é…ç½®ï¼ŒåŒºåˆ«åªåœ¨äº proxy_pass è½¬å‘çš„è·¯å¾„åæ˜¯å¦å¸¦ â€œ/â€ã€‚ é’ˆå¯¹æƒ…å†µ 1ï¼Œå¦‚æœè®¿é—® url = http://server/html/test.jspï¼Œåˆ™è¢«nginxä»£ç†åï¼Œè¯·æ±‚è·¯å¾„ä¼šä¾¿é—®http://proxy_pass/html/test.jspï¼Œå°†test/ ä½œä¸ºæ ¹è·¯å¾„ï¼Œè¯·æ±‚ test/è·¯å¾„ä¸‹çš„èµ„æºã€‚ é’ˆå¯¹æƒ…å†µ 2ï¼Œå¦‚æœè®¿é—® url = http://server/html/test.jspï¼Œåˆ™è¢«nginxä»£ç†åï¼Œè¯·æ±‚è·¯å¾„ä¼šå˜ä¸º http://proxy_pass/test.jspï¼Œç›´æ¥è®¿é—®serverçš„æ ¹èµ„æºã€‚]]></content>
      <categories>
        <category>å·¥ç¨‹åŒ–</category>
      </categories>
      <tags>
        <tag>Nginx</tag>
        <tag>åå‘ä»£ç†</tag>
        <tag>è·¨åŸŸ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Eslintä»£ç æ£€æŸ¥åŠæ ¼å¼åŒ–]]></title>
    <url>%2F2017%2F11%2F11%2Fcl4s3gtds000wwn9e34why0od%2F</url>
    <content type="text"><![CDATA[èµ„æºåˆ—è¡¨ï¼šEslintå®˜ç½‘ï¼ˆä¸­æ–‡ï¼‰ Configure ESLint, Prettier, and Flow in VS Code for React Development Reactå¼€å‘ï¼Œåœ¨VS Codeä¸­é…ç½®ESLint, Prettier, and Flowï¼ˆä¸Šç¯‡è¯‘æ–‡ï¼‰ Airbnbâ€™s JavaScript Github Repo airbnb es6 å®˜æ–¹æ–‡æ¡£ airbnb es6 è§„èŒƒæ–‡æ¡£ï¼ˆä¸­æ–‡ï¼‰ Prettierå®˜ç½‘ babel-esling npmåº“ ä»£ç è§„èŒƒåŠæ ¼å¼åŒ–æœ¬æ–‡æ¡£ä½¿ç”¨create-react-appè„šæ‰‹æ¶åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼Œä»é›¶å¼€å§‹ç»§æ‰¿æ‰€éœ€è¦çš„å·¥å…·ï¼Œå¹¶å®Œæˆæ‰€æœ‰çš„é…ç½®ã€‚æ“ä½œç³»ç»Ÿä¸ºmacOSï¼ŒWindowsä¸‹å¿«æ·é”®åŠå®‰è£…æ–¹å¼å¯èƒ½æœ‰å·®å¼‚ï¼Œä¸è¿‡ä¸å½±å“å·¥å…·é›†æˆã€‚ é‡‡ç”¨eslint-config-airbnb es6ç‰ˆï¼Œå…·æœ‰å®Œæ•´çš„ä¸­è‹±æ–‡æ–‡æ¡£ï¼ˆè¯¦è§èµ„æºåˆ—è¡¨ï¼‰ï¼Œä»¥åŠåœ¨æ­¤åŸºç¡€ä¸Šå®šåˆ¶è§„åˆ™ã€‚ VSCodeæ‰©å±•æ’ä»¶å®‰è£…è¯·è‡ªè¡Œå®‰è£…ä¸€ä¸‹æ‰©å±•æ’ä»¶ï¼Œæš‚æ—¶ä¸å¿…æ·»åŠ ä»»ä½•é…ç½® Eslint Prettier JavaScript Formatter Babel ES6/ES7 Eslint ESLint æ˜¯ä¸€ä¸ªå¼€æºçš„ JavaScript ä»£ç æ£€æŸ¥å·¥å…·ï¼Œç”± Nicholas C. Zakasäº2013å¹´6æœˆåˆ›å»ºã€‚ä»£ç æ£€æŸ¥æ˜¯ä¸€ç§é™æ€çš„åˆ†æï¼Œå¸¸ç”¨äºå¯»æ‰¾æœ‰é—®é¢˜çš„æ¨¡å¼æˆ–è€…ä»£ç ï¼Œå¹¶ä¸”ä¸ä¾èµ–äºå…·ä½“çš„ç¼–ç é£æ ¼ã€‚å¯¹å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€æ¥è¯´éƒ½ä¼šæœ‰ä»£ç æ£€æŸ¥ï¼Œä¸€èˆ¬æ¥è¯´ç¼–è¯‘ç¨‹åºä¼šå†…ç½®æ£€æŸ¥å·¥å…·ã€‚ JavaScript æ˜¯ä¸€ä¸ªåŠ¨æ€çš„å¼±ç±»å‹è¯­è¨€ï¼Œåœ¨å¼€å‘ä¸­æ¯”è¾ƒå®¹æ˜“å‡ºé”™ã€‚å› ä¸ºæ²¡æœ‰ç¼–è¯‘ç¨‹åºï¼Œä¸ºäº†å¯»æ‰¾ JavaScriptä»£ç é”™è¯¯é€šå¸¸éœ€è¦åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸æ–­è°ƒé€‚ã€‚åƒ ESLint è¿™æ ·çš„å¯ä»¥è®©ç¨‹åºå‘˜åœ¨ç¼–ç çš„è¿‡ç¨‹ä¸­å‘ç°é—®é¢˜è€Œä¸æ˜¯åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ã€‚ ESLint çš„åˆè¡·æ˜¯ä¸ºäº†è®©ç¨‹åºå‘˜å¯ä»¥åˆ›å»ºè‡ªå·±çš„æ£€æµ‹è§„åˆ™ã€‚ESLint çš„æ‰€æœ‰è§„åˆ™éƒ½è¢«è®¾è®¡æˆå¯æ’å…¥çš„ã€‚ESLintçš„é»˜è®¤è§„åˆ™ä¸å…¶ä»–çš„æ’ä»¶å¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œè§„åˆ™æœ¬èº«å’Œæµ‹è¯•å¯ä»¥ä¾èµ–äºåŒæ ·çš„æ¨¡å¼ã€‚ä¸ºäº†ä¾¿äºäººä»¬ä½¿ç”¨ï¼ŒESLintå†…ç½®äº†ä¸€äº›è§„åˆ™ï¼Œå½“ç„¶ï¼Œä½ å¯ä»¥åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­è‡ªå®šä¹‰è§„åˆ™ã€‚ ESLint ä½¿ç”¨ Node.js ç¼–å†™ï¼Œè¿™æ ·æ—¢å¯ä»¥æœ‰ä¸€ä¸ªå¿«é€Ÿçš„è¿è¡Œç¯å¢ƒçš„åŒæ—¶ä¹Ÿä¾¿äºå®‰è£…ã€‚ Prettier Prettier ä¸€ä¸ª JavaScript æ ¼å¼åŒ–å·¥å…·. å®ƒçš„çµæ„Ÿæ¥æºäº refmtï¼Œå®ƒå¯¹äº ES6ã€ES7ã€ JSX å’Œ Flowçš„è¯­è¨€ç‰¹æ€§æœ‰ç€é«˜çº§çš„æ”¯æŒã€‚é€šè¿‡å°† JavaScript è§£æä¸º AST å¹¶ä¸”åŸºäº AST ç¾åŒ–å’Œæ‰“å°ï¼ŒPrettierä¼šä¸¢æ‰å‡ ä¹å…¨éƒ¨çš„åŸå§‹çš„ä»£ç é£æ ¼ï¼Œä»è€Œä¿è¯ JavaScript ä»£ç é£æ ¼çš„ä¸€è‡´æ€§ã€‚ è§£æå™¨(babel-eslint)Specifying ParserESLint é»˜è®¤ä½¿ç”¨Espreeä½œä¸ºå…¶è§£æå™¨ï¼Œä½ å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šä¸€ä¸ªä¸åŒçš„è§£æå™¨ï¼Œåªè¦è¯¥è§£æå™¨ç¬¦åˆä¸‹åˆ—è¦æ±‚ï¼š å®ƒå¿…é¡»æ˜¯æœ¬åœ°å®‰è£…çš„ä¸€ä¸ª npm æ¨¡å—ã€‚ å®ƒå¿…é¡»æœ‰å…¼å®¹ Esprima çš„æ¥å£ï¼ˆå®ƒå¿…é¡»è¾“å‡ºä¸€ä¸ª parse() æ–¹æ³•ï¼‰ å®ƒå¿…é¡»äº§å‡ºå…¼å®¹ Esprima çš„ AST å’Œ token å¯¹è±¡ã€‚ æ³¨æ„ï¼Œå³ä½¿æ»¡è¶³è¿™äº›å…¼å®¹æ€§ï¼Œä¹Ÿä¸èƒ½ä¿è¯ä¸€ä¸ªå¤–éƒ¨è§£æå™¨å¯ä»¥ä¸ ESLint æ­£å¸¸å·¥ä½œï¼ŒESLint ä¹Ÿä¸ä¼šä¿®å¤ä¸å…¶å®ƒè§£æå™¨ä¸å…¼å®¹çš„ç›¸å…³ bugã€‚ ä¸ºäº†è¡¨æ˜ä½¿ç”¨è¯¥ npm æ¨¡å—ä½œä¸ºä½ çš„è§£æå™¨ï¼Œä½ éœ€è¦åœ¨ä½ çš„ .eslintrc æ–‡ä»¶é‡ŒæŒ‡å®š parser é€‰é¡¹ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„é…ç½®æŒ‡å®šäº† Esprima ä½œä¸ºè§£æå™¨ï¼š 123456&#123; "parser": "esprima", "rules": &#123; "semi": "error" &#125;&#125; ä»¥ä¸‹è§£æå™¨ä¸ ESLint å…¼å®¹ï¼š Esprima Babel-ESLint - å¯¹Babelè§£æå™¨çš„åŒ…è£…ä½¿å…¶ä¸ ESLint å…¼å®¹ã€‚ typescript-eslint-parser(å®éªŒ) - ä¸€ä¸ªæŠŠ TypeScript è½¬æ¢ä¸º ESTree å…¼å®¹æ ¼å¼çš„è§£æå™¨ï¼Œè¿™æ ·å°±å®ƒå°±å¯ä»¥åœ¨ ESLint ä¸­ä½¿ç”¨äº†ã€‚è¿™æ ·çš„ç›®çš„æ˜¯å…è®¸é€šè¿‡ ESLint ï¼ˆå°½ç®¡ä¸ä¸€å®šè¦é€šè¿‡æ‰€æœ‰çš„ ESLint è§„åˆ™ï¼‰æ¥è§£æ TypeScript æ–‡ä»¶ã€‚ æ³¨æ„ï¼Œå½“ä½¿ç”¨è‡ªå®šä¹‰è§£æå™¨æ—¶ï¼Œä¸ºäº†ä½¿ ESLint åœ¨é ECMAScript 5 ç‰¹æ€§ä¸‹æ­£å¸¸å·¥ä½œï¼Œé…ç½®å±æ€§ parserOptions ä»ç„¶æ˜¯å¿…é¡»çš„ã€‚è§£æå™¨è¢«ä¼ å…¥ parserOptionsï¼Œå¯èƒ½ä¼šä¹Ÿå¯èƒ½ä¸ä¼šä½¿ç”¨å®ƒä»¬æ¥å†³å®šå¼€å¯å“ªä¸ªç‰¹å¾ã€‚ é¡¹ç›®åˆå§‹åŒ–åŠæ¨¡å—å®‰è£…åˆ›å»ºé¡¹ç›®ï¼š 12$create-react-app eslint_test$cd eslint_test å…¨å±€å®‰è£… eslint 1$ npm install -g eslint æŸ¥çœ‹å½“å‰eslint-config-airbnb æ‰€ä¾èµ–çš„æœ€æ–°åŒ…ï¼š 1234567$ npm info "eslint-config-airbnb@latest" peerDependencies&#123; eslint: '^4.9.0', 'eslint-plugin-import': '^2.7.0', 'eslint-plugin-jsx-a11y': '^6.0.2', 'eslint-plugin-react': '^7.4.0' &#125; å»ºè®®æ‰‹åŠ¨çš„æ–¹å¼å®‰è£…ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯eslint-plugin-jsx-a11yæŒ‡å®š5.1.1ç‰ˆæœ¬ï¼Œåœ¨æ›´å¥½ç‰ˆæœ¬ä¸­ï¼Œå­˜åœ¨bugï¼Œè¯¦è§#2930 1234$ yarn add eslint-plugin-import$ yarn add eslint-plugin-jsx-a11y@5.1.1$ yarn add eslint-plugin-react$ yarn add eslint-config-airbnb å®‰è£…$ yarn add babel-eslint 1$ yarn add babel-eslint å®‰è£… prettier-eslintyarn add prettier-eslint åˆ›å»º.eslintrcæ–‡ä»¶ï¼Œå…¶é…ç½®å¦‚ä¸‹ 12345&#123; "parser": "babel-eslint", "extends": "airbnb", "plugins": ["react", "jsx-a11y", "import"]&#125; VSCodeé€šç”¨è®¾ç½®åœ¨ä½¿ç”¨prettieræ—¶ï¼Œé»˜è®¤tableå®½åº¦æ˜¯ä¸¤ç©ºæ ¼ï¼Œè¿™é‡Œè®¾ç½®æˆå››ç©ºæ ¼ æ‰“å¼€è®¾ç½®ï¼Œmacä¸‹å¿«æ·é”®ä¸ºcmd + , &quot;prettier.tabWidth&quot;: 4//Tableå®½åº¦è®¾ä¸ºå››ä¸ªç©ºæ ¼ &quot;editor.formatOnSave&quot;: true,//ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç  &quot;javascript.format.enable&quot;: false,//ç¦ç”¨è‡ªå¸¦çš„jsæ ¼å¼åŒ– &quot;prettier.eslintIntegration&quot;: true,//ä½¿ç”¨&#39;prettier-eslint&#39; ä»£æ›¿ &#39;prettier&#39; è‡ªå®šä¹‰è§„åˆ™çº¢è‰²ä¸‹åˆ’çº¿æ³¢æµªï¼Œæ˜¯eslintçš„æç¤ºï¼Œå°†é¼ æ ‡ç§»åˆ°è¯¥å‡ºå¯ä»¥çœ‹åˆ°å…·ä½“çš„ä¿¡æ¯æç¤ºã€‚ æç¤ºæ˜¯å› ä¸ºeslint-config-airbnbæ¨èé‡‡ç”¨çš„æ˜¯.jsxä½œä¸ºjsxæ–‡ä»¶çš„åç¼€åä»¥åŠå½“å‰çš„ç»„ä»¶å¯ä»¥é‡‡ç”¨çº¯å‡½æ•°çš„å†™æ³•ã€‚ åœ¨è‡ªå®šä¹‰è§„åˆ™ä¸­ï¼Œæˆ‘ä»¬å¿½ç•¥æ–‡ä»¶åç¼€ä»¥åŠç¼©è¿›å®½åº¦è®¾ç½®ä¸º4ç©ºæ ¼ï¼Œå½“ç¼©è¿›ä¸æ»¡è¶³è¦æ±‚æ—¶ï¼Œeslintæç¤ºä¸ºerrorã€‚ 123456789101112131415161718192021222324252627282930313233&#123; "parser": "babel-eslint", "extends": "airbnb", "plugins": ["react", "jsx-a11y", "import"], "rules": &#123; "indent": [ "error", 4, &#123; "SwitchCase": 1, "VariableDeclarator": 1, "outerIIFEBody": 1, "FunctionDeclaration": &#123; "parameters": 1, "body": 1 &#125;, "FunctionExpression": &#123; "parameters": 1, "body": 1 &#125;, "CallExpression": &#123; "arguments": 1 &#125;, "ArrayExpression": 1, "ObjectExpression": 1, "ImportDeclaration": 1, "flatTernaryExpressions": false, "ignoredNodes": ["JSXElement", "JSXElement *"] &#125; ], "react/jsx-filename-extension": [1, &#123; "extensions": [".js", ".jsx"] &#125;] &#125;&#125; å½“eslintæ­£å¸¸å·¥ä½œçš„æ—¶å€™ï¼Œæ›´å¤šä¼˜ç‚¹ç­‰å¾…æŒ–æ˜ åç»­é‡‡ç”¨çš„eslint-config-airbnb æœ‰å®Œæ•´çš„è§„åˆ™æ–‡æ¡£ï¼Œä½†åœ¨å®é™…ç”Ÿäº§ä¸­ï¼Œå…·ä½“çš„è§„åˆ™éœ€è¦é‡æ–°é…ç½®ï¼Œè¿™éƒ¨åˆ†éœ€è¦å¤§å®¶å‚ä¸äº†ï¼Œåé¦ˆæäº¤ï¼Œç„¶åè¡¥å……å®Œå–„è§„åˆ™ã€‚ git commit æ—¶æ‰§è¡Œè„šæœ¬ï¼Œè‡ªåŠ¨æ ¼å¼åŒ–ä»£ç å¹¶æ£€æŸ¥ä¸ç¬¦åˆeslintè§„åˆ™ï¼Œä¸èƒ½æäº¤ã€‚ git commit è§„èŒƒåŒ–ï¼Œå¹¶è¾“å‡ºæˆæ–‡æ¡£ï¼Œé›†æˆ emoji è¡¨æƒ…ï¼Œè¿™æ˜¯ä¸‹ä¸€ä¸ªè®®é¢˜äº†ã€‚ Flowå·¥ä½œæµ Flow is a static type checker for your JavaScript code. It does a lot of work to make you more productive. Making you code faster, smarter, more confidently, and to a bigger scale. å®˜ç½‘ é…ç½®åœ¨ create react app ä¸­ä½¿ç”¨ï¼Œè¯¦è§å®˜æ–¹æ–‡æ¡£ã€‚ é‰´äºç›®å‰é¡¹ç›®çš„å¤æ‚åº¦ï¼Œæš‚ä¸é›†æˆã€‚]]></content>
      <categories>
        <category>Eslint</category>
      </categories>
      <tags>
        <tag>å·¥å…·</tag>
        <tag>ä»£ç æ£€æŸ¥</tag>
        <tag>vs code</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[58è„šæ‰‹æ¶åˆ†äº«è®²ä¹‰]]></title>
    <url>%2F2017%2F11%2F10%2Fcl4s3gtcz0002wn9en38bl77w%2F</url>
    <content type="text"><![CDATA[è½¬è‡ª ç›®å½•å¤§çº²ç¬¬ä¸€è®²å‰è¨€ å‡è®¾ï¼Œæ¥åˆ°ä¸€ä¸ªæ–°çš„é¡¹ç›®ï¼šæ¼”å”±ä¼šå”®ç¥¨ç³»ç»Ÿï¼Œåœ¨åšç³»ç»Ÿä¹‹å‰ï¼Œè¦è€ƒè™‘å¾ˆå¤šé—®é¢˜ é¡¹ç›®ç›®å½•å¦‚ä½•ç»„ç»‡ ä½¿ç”¨ä½•ç§ç±»åº“ devå’Œprodç¯å¢ƒå¦‚ä½•æ å›¢é˜Ÿå†…éƒ¨å…¶ä»–ç³»ç»Ÿéƒ½ç”¨äº†ä»€ä¹ˆ å¤šäººåˆä½œå¼€å‘ï¼Œå›¢é˜Ÿç¯å¢ƒå’Œä»£ç è§„èŒƒé—®é¢˜æ€ä¹ˆè§£å†³ æ˜¯å¦éœ€è¦å‡ºæ–‡æ¡£ï¼Œæ•™å…¶ä»–å›¢é˜Ÿæˆå‘˜é…ç½®ç¯å¢ƒï¼Œå®‰è£…ä¾èµ–ç­‰ æ¯ä¸€ä¸ªé¡¹ç›®çš†æ˜¯å¦‚æ­¤ï¼Œæ•ˆç‡ä½•åœ¨ æˆ‘ä»¬è¿™æ¬¡è„šæ‰‹æ¶æ˜¯ä»¥reactä¸ºä¾‹ï¼Œä¸»è¦æ˜¯è®²è§£å¼€å‘æ€è·¯ï¼Œå½“ç„¶ç”¨vueçš„å›¢é˜Ÿä¹Ÿå¯æ¨¡ä»¿ï¼Œæˆ–è€… åé¢æˆ‘ä»¬çš„å¼€æºè„šæ‰‹æ¶å¯ä»¥æä¾›åˆ›å»ºvueé¡¹ç›®çš„åŠŸèƒ½ ä¸ºä»€ä¹ˆä¸ç”¨create-react-app ä¸æ»¡è¶³å½“å‰å›¢é˜Ÿéœ€æ±‚ ä¸å¯ä»¥å®šåˆ¶åŒ–ï¼Œéœ€è¦äºŒæ¬¡ä¿®æ”¹é…ç½® æ²¡æœ‰å¼€å‘ç»„ä»¶çš„èƒ½åŠ›ï¼ˆåç»­æœ‰è®²è§£ç»„ä»¶å¼€å‘çš„é‡è¦æ€§ï¼‰ ä¸ºä½•ä¸è‡ªå·±å¼€å‘ä¸€ä¸ªç±»ä¼¼äº create-react-app æˆ–è€… vue-cliçš„å·¥å…·å‘¢ yeomanç®€å•ä»‹ç» yeoman æä¾›äº†ä¸€ä¸ªæˆ‘ä»¬å¼€å‘è„šæ‰‹æ¶çš„èƒ½åŠ› æŒ‰ç…§yeomançš„è§„èŒƒï¼Œæˆ‘ä»¬å¼€å‘ä¸€ä¸ªnpmåŒ…ï¼Œyeomanå°±ä¼šå¸®æˆ‘ä»¬æ‰§è¡Œè¿™ä¸ªnpmçš„åŠŸèƒ½ï¼ˆå…¶å®å°±æ˜¯æ‹¿nodeæ“ä½œä¸€äº›ç›¸å…³çš„æ–‡ä»¶ï¼‰ yeomançš„å®‰è£… install yo -g``` ä¼šç”Ÿæˆä¸€ä¸ªyoçš„å…¨å±€å‘½ä»¤123456789- æœ€æœ€åŸºç¡€çš„è„šæ‰‹æ¶åŠŸèƒ½ - æŠŠå…¨å±€ç¯å¢ƒnode_modulesåŒ…ä¸‹é¢çš„æ¨¡æ¿å·¥ç¨‹ copy åˆ°ä½ çš„å½“å‰é¡¹ç›®è·¯å¾„æ–‡ä»¶å¤¹ä¸‹&lt;img src=&quot;http://oyoee89se.bkt.clouddn.com/A4C21ECA-C440-4BF7-9E24-96C85A8FA4E6.png&quot; width=&quot;500&quot; /&gt;- ä¸‹é¢è®²ä¸€ä¸‹yoè¿™ä¸ªå‘½ä»¤ æ˜¯æ€ä¹ˆç”Ÿæˆåˆ°å…¨å±€å‘½ä»¤é‡Œé¢å»çš„#### å¯åŠ¨å‘½ä»¤åŸç†ç¤ºä¾‹- ```mkdir flash-cli &amp;&amp; cd ./flash-cli/ init``` åˆå§‹åŒ–package.json12345678910- æ·»åŠ  index.js æ–‡ä»¶ - ```#!/usr/bin/env node``` - linuxçš„ \*shell* è„šæœ¬ï¼Œéœ€åœ¨å¼€å¤´ä¸€è¡ŒæŒ‡å®šè„šæœ¬çš„è§£é‡Šç¨‹åºï¼Œæ­¤åœ°è§„å®šçš„è§£é‡Šç¨‹åºä¸ºnode - envçš„ä½œç”¨ï¼šå› ä¸ºè„šæœ¬è§£é‡Šå™¨åœ¨linuxä¸­å¯èƒ½è¢«å®‰è£…äºä¸åŒçš„ç›®å½•ï¼Œenvå¯ä»¥åœ¨ç³»ç»Ÿçš„PATHç›®å½•ä¸­æŸ¥æ‰¾ã€‚åŒæ—¶ï¼Œenvè¿˜è§„å®šä¸€äº›ç³»ç»Ÿç¯å¢ƒå˜é‡ - Macç³»ç»Ÿä¸‹æ‰§è¡Œ ```env``` å¯ä»¥çœ‹åˆ°log ``` javascript #!/usr/bin/env node console.log(&quot;Hello Flash!&quot;) package.json ä¿®æ”¹ 12345678910111213&#123; "name": "flash-cli", "version": "0.0.1", "description": "", "main": "index.js", "bin": &#123; "flash": "index.js" &#125;, "author": "æˆ˜æ¥¼", "license": "ISC"&#125; ç›®å½•ç»“æ„ link```123456- å°†æ­¤å·¥ç¨‹åŒ… æ·»åŠ åˆ° å…¨å±€node-modules ä¸‹è¿›è¡Œæœ¬åœ°è°ƒè¯• ï¼ˆnpm link ç›¸å½“äº npm install flash-cli -g ï¼Œnpm link å°†å½“å‰åŒ… ä»¥è½¯é“¾æ¥çš„å½¢å¼ æ”¾åœ¨å…¨å±€node_modulesç¯å¢ƒä¸‹ï¼‰- ```npm unlink``` å¯ä»¥å–æ¶ˆæ­¤è½¯é“¾æ¥ &lt;img src=&quot;http://oyoee89se.bkt.clouddn.com/7DDD68E3-E8FF-4470-915F-67C1AA819D0C.png&quot; width=&quot;500&quot; /&gt;- ```/usr/local/bin/flash -&gt; /usr/local/lib/node_modules/flash-cli/index.js ->link1- ä»»æ„ç›®å½•ä¸‹æ‰§è¡Œ ```flash ä¸‹é¢æˆ‘ä»¬è¿›ä¸€æ­¥çš„å®Œå–„æ­¤å·¥å…· ç®€å•çš„shelläº¤äº’å’Œæ–‡ä»¶æ“ä½œ å®ç°ç›®æ ‡åŠŸèƒ½ æ‰“å°æ¬¢è¿è¯­ ç”¨æˆ·è¾“å…¥å§“åã€é€‰æ‹©æ€§åˆ«ã€é€‰æ‹©çˆ±å¥½æ ‡ç­¾ã€è¾“å…¥åˆ›å»ºæ–‡ä»¶çš„æ–‡ä»¶å æ ¹æ®æ¨¡æ¿ç”Ÿæˆhtmlæ–‡ä»¶ æµè§ˆå™¨è‡ªåŠ¨æ‰“å¼€ç”Ÿæˆçš„æ–‡ä»¶ æ‰“å°ç»“æŸè¯­ å®ç°æ•ˆæœé¢„è§ˆ dependenciesä»‹ç» colors: å¯ä»¥åœ¨terminalæ‰“å°è‡ªå®šä¹‰æ ·å¼çš„å­— ejs: æ¨¡æ¿æ¸²æŸ“å·¥å…· inquirer: æä¾›terminalå’Œç”¨æˆ·äº¤äº’çš„èƒ½åŠ› mkdirp: ç”Ÿæˆæ–‡ä»¶å¤¹ or ç”ŸæˆæŒ‡å®šè·¯å¾„çš„æ–‡ä»¶å¤¹(è¯­æ³•ç³–) shelljs: æä¾›ç»™nodeè¿è¡Œshellå‘½ä»¤çš„èƒ½åŠ› å…¶ä»–nodeçš„çŸ¥è¯†ç‚¹ å½“å‰æ¨¡å—çš„å®Œæ•´ç»å¯¹è·¯å¾„12345678910 - ```fs.readFileSync(filename, [encoding])``` åŒæ­¥è¯»å–æ–‡ä»¶ - ```fs.writeFileSync(filename, data, [options])``` åŒæ­¥å†™å…¥æ–‡ä»¶ - ```process``` nodeè¿›ç¨‹å¯¹è±¡ - ```process.platform``` è·å–å½“å‰æ“ä½œç³»ç»Ÿè¯†åˆ«ç¬¦ - ```darwinã€win32ã€linux``` ç­‰ç³»ç»Ÿ - ```path``` nodeè·¯å¾„è§£ææ¨¡å— - ```open &lt;filePath&gt;``` macä¸‹ä½¿ç”¨é»˜è®¤å·¥å…·æ‰“å¼€æ–‡ä»¶ - ```start &lt;filePath&gt;``` windowsä¸‹ä½¿ç”¨é»˜è®¤å·¥å…·æ‰“å¼€æ–‡ä»¶- å®‰è£…ä¾èµ– - ```npm i colors ejs inquirer mkdirp shelljs --save åŸºäºå·²æœ‰ç›®å½•ç»“æ„æ–°å»ºtpl.htmlæ¨¡æ¿æ–‡ä»¶ å½“å‰ç›®å½•ç»“æ„ index.jsä¿®æ”¹å¦‚ä¸‹ å¼•å…¥nodeæ¨¡å— 123456789#!/usr/bin/env noderequire('colors');const fs = require('fs');const path = require('path');const inquirer = require('inquirer');const ejs = require('ejs');const mkdirp = require('mkdirp');const shelljs = require('shelljs'); æ‰“å°æ¬¢è¿è¯­ 12345```javascript//æ¬¢è¿è¯­console.log(&quot;\n&quot; + &quot;Hello World, I&apos;m flash-cli&quot;.magenta + &quot;\n&quot;);console.log(&quot;It&apos;s just a test&quot;.red + &quot;\n&quot;); å¸¸é‡å£°æ˜ åŒä¸€ä¸ªå­—ç¬¦ä¸² å°½é‡ä¸è¦å‡ºç°ä¸¤æ¬¡ 1234//å¸¸é‡const ENCODE = 'utf-8';const BUILD_PATH = './build';const BUILD_FILE_TYPE = '.html'; ç”¨æˆ·äº¤äº’ inquirer 123456789101112131415161718//ç”¨æˆ·äº¤äº’é—®é¢˜åˆ—è¡¨const question = [ ... &#123; type: 'input', name: 'fileName', default: 'index', message: 'è¯·è¾“å…¥ä½ è¦ç”Ÿæˆæ–‡ä»¶çš„åå­—' &#125; ...];//äº¤äº’inquirer.prompt(question).then(answer =&gt; &#123; const fileName = `$&#123;answer.fileName&#125;$&#123;BUILD_FILE_TYPE&#125;`;//æ–‡ä»¶å createFile(answer, fileName);//åˆ›å»ºæ–‡ä»¶ openFile(`$&#123;BUILD_PATH&#125;/$&#123;fileName&#125;`);//æ‰“å¼€åˆ›å»ºçš„æ–‡ä»¶&#125;); åˆ›å»ºæ–‡ä»¶ 12345let createFile = (data, fileName) =&gt; &#123; let tpl = fs.readFileSync(__dirname + '/tpl.html', ENCODE);//è¯»å–æ¨¡æ¿æ–‡ä»¶ mkdirp.sync(BUILD_PATH);//ç”Ÿæˆbuildç›®å½•æ–‡ä»¶å¤¹ fs.writeFileSync(`$&#123;BUILD_PATH&#125;/$&#123;fileName&#125;`, ejs.render(tpl, data), ENCODE); //å†™å…¥index.htmlæ–‡ä»¶&#125;; æ‰“å¼€æ‰€åˆ›å»ºçš„æ–‡ä»¶ 123456789101112let openFile = buildFilePath =&gt; &#123; //mac if(process.platform == 'darwin')&#123; shelljs.exec(`open $&#123;buildFilePath&#125;`); &#125; else if(process.platform == 'win32') &#123; //windows shelljs.exec(`start $&#123;buildFilePath&#125;`); &#125; else &#123; console.log('This platform is ' + process.platform); &#125; endTip(buildFilePath);&#125;; æ‰“å°ç»“æŸè¯­ 123const endTip = buildFilePath =&gt; &#123; console.log("\n" + "build file: " + (path.resolve(buildFilePath)).magenta + "\n");&#125;; æ•™ç¨‹ä»£ç ï¼šhttps://github.com/water-wheel/flash-cli è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»ä»æ­¥è¡Œé˜¶æ®µåˆ°äº†éª‘è‡ªè¡Œè½¦é˜¶æ®µäº† generator-flashçš„ç®€å•ä»‹ç» ä¸‹é¢æˆ‘ä»¬å…ˆçœ‹ä¸‹ç”¨yoå¼€å‘å‡ºæ¥çš„flashæ¡†æ¶çš„æ•ˆæœ flash githubåœ°å€: https://github.com/water-wheel/generator-flash yeoman generatorçš„ä½¿ç”¨ yeoman: http://yeoman.io/ yeomanæ˜¯ä»€ä¹ˆï¼Ÿ æ˜æ²³è¯´ å¦‚æœå‰ç«¯é¡¹ç›®æ˜¯å·¥å‚çš„äº§å“çš„è¯ï¼Œyeomanå°±åƒå·¥å‚çš„æµæ°´çº¿ï¼Œæ ‡å‡†åŒ–ã€å‚»ç“œåŒ–ã€æ‰¹é‡åŒ–äº§å“ç”Ÿäº§ï¼Œç”Ÿäº§è¿‡ç¨‹ä¹å‘³äº†ï¼Œä½†æ•ˆç‡æé«˜äº†ã€‚ yeomanæ˜¯å®šä¹‰äº†ä¸€å¥—ç”¨äºæé«˜å‰ç«¯å·¥ç¨‹å¸ˆæ•ˆç‡è§„èŒƒçš„å·¥ä½œæµå·¥å…· yeomançš„ä½¿ç”¨ åˆ›å»ºä¸€ä¸ªé¡¹ç›® generator-generator``` åˆ›å»º1- ```mkdir generator-flash &amp;&amp; cd generator-flash &amp;&amp; npm init dependencies 123456789101112131415161718192021222324252627282930- package.json ```json &#123; &quot;name&quot;: &quot;generator-flash&quot;, &quot;version&quot;: &quot;0.0.1&quot;, &quot;description&quot;: &quot;&quot;, &quot;files&quot;: [ &quot;generators&quot; ], &quot;keywords&quot;: [&quot;yeoman-generator&quot;], &quot;dependencies&quot;: &#123; &quot;yeoman-generator&quot;: &quot;^1.0.0&quot; &#125; &#125; ... &#123; &quot;name&quot;: &quot;generator-flash&quot;, &quot;version&quot;: &quot;0.0.1&quot;, &quot;description&quot;: &quot;&quot;, &quot;files&quot;: [ &quot;app&quot;, &quot;project&quot;, &quot;component&quot; ], &quot;keywords&quot;: [&quot;yeoman-generator&quot;], &quot;dependencies&quot;: &#123; &quot;yeoman-generator&quot;: &quot;^1.0.0&quot; &#125; &#125; æ”¯æŒä¸¤ç§ç›®å½•ç»“æ„ 1234567891011121314â”œâ”€â”€â”€package.jsonâ””â”€â”€â”€generators/ â”œâ”€â”€â”€app/ â”‚ â””â”€â”€â”€index.js â””â”€â”€â”€router/ â””â”€â”€â”€index.js â”œâ”€â”€â”€package.jsonâ”œâ”€â”€â”€app/â”‚ â””â”€â”€â”€index.jsâ””â”€â”€â”€router/ â””â”€â”€â”€index.js name```çš„ä½¿ç”¨ å’Œ ```yo name:router```çš„ä½¿ç”¨ å°†ç›´æ¥å”¤èµ·å¹¶è¿è¡Œ å…¶ä¸‹çš„index.jsæ–‡ä»¶123456789101112131415161718192021 - å¦‚æœæ˜¯ç¬¬äºŒç§ç›®å½•ç»“æ„ï¼Œåˆ™éœ€è¦åœ¨package.jsonçš„filesä¸­æ·»åŠ å¤šä¸ªappç›®å½•å’Œrouterç›®å½• - yeomanè§„å®šfileså¿…é¡»æ˜¯æ•°ç»„å½¢å¼- app/index.js ```javascript const Generator = require(&apos;yeoman-generator&apos;); module.exports = class extends Generator &#123; method1() &#123; this.log(&apos;method 1 just ran&apos;); &#125; method2() &#123; this.log(&apos;method 2 just ran&apos;); &#125; &#125;; ``` - method æŒ‰ç…§é¡ºåºæ‰§è¡Œ - Yeomanæ˜¯æŒ‰ç…§ä¼˜å…ˆçº§é¡ºåºä¾æ¬¡æ‰§è¡Œæ‰€å®šä¹‰çš„æ–¹æ³•ã€‚å½“ä½ å®šä¹‰çš„å‡½æ•°åå­—æ˜¯Yeomanå®šä¹‰çš„ä¼˜å…ˆçº§å‡½æ•°åæ—¶ï¼Œä¼šè‡ªåŠ¨å°†è¯¥å‡½æ•°åˆ—å…¥åˆ°æ‰€åœ¨ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­ï¼Œå¦åˆ™å°±ä¼šåˆ—å…¥åˆ° default ä¼˜å…ˆå±‚çº§é˜Ÿåˆ—ä¸­ã€‚ - ```initializingã€promptingã€configuring ã€default ã€writing ã€conflicts ã€install ã€end Prefix method name by an underscore (e.g. _private_method). å¼‚æ­¥æµç¨‹æ§åˆ¶ 1234567891011121314151617181920212223242526 asyncTask() &#123; var done = this.async(); getUserEmail(function (err, name) &#123; done(err); &#125;); &#125; ``` - The prompt module is provided by Inquirer.js ```javascript prompting() &#123; return this.prompt([&#123; type : 'input', name : 'name', message : 'Your project name', default : this.appname // Default to current folder name &#125;, &#123; type : 'confirm', name : 'cool', message : 'Would you like to enable the Cool feature?' &#125;]).then((answers) =&gt; &#123; this.log('app name', answers.name); this.log('cool feature', answers.cool); &#125;); &#125; generator.composeWith() æ‰§è¡Œå¦ä¸€ä¸ªgenerator 1this.composeWith('name:route'); è‡ªåŠ¨å®‰è£…ä¾èµ– this.npmInstall this.yarnInstall this.bowerInstall åˆå¹¶å®‰è£…this.installDependencies({npm: false, bower: true, yarn: true}) Template context this.sourceRoot() // returns â€˜./templatesâ€™ this.templatePath(â€˜index.jsâ€™);// returns â€˜./templates/index.jsâ€™ copy template this.fs.copyTpl(src, output, data) using ejs template syntax ç¬¬äºŒè®² æ•´ä½“æ¶æ„åˆ†æ æ¨¡æ¿å·¥ç¨‹çš„åˆ†ç±» generator-flashçš„æ‰§è¡Œæµç¨‹ æš´éœ²å°½å¯èƒ½å°‘é‡çš„é…ç½®æ–‡ä»¶ æ‰©å±•ä¸€èˆ¬webpacké…ç½®çš„å…¼å®¹æ€§ ä¸ºæ¨¡æ¿å·¥ç¨‹æ·»åŠ è¯­æ³•ç³– æ•°æ®mockåŠŸèƒ½çš„å¼€å‘ ç»„ä»¶ä¸­å…³äºreadmeçš„ç»Ÿä¸€åŒ– é»‘ç§‘æŠ€ æ•´ä½“æ¶æ„åˆ†æ å›¢é˜Ÿç›®çš„ è§£å†³å¤æ‚çš„ä¸”é‡å¤çš„é—®é¢˜ï¼Œç»™å›¢é˜Ÿå¸¦æ¥æ•ˆç‡æå‡ ä»å›¢é˜Ÿleaderçš„è§’åº¦çœ‹ï¼šæˆ‘ä»¬æ¯ä¸ªå›¢é˜Ÿæˆå‘˜ï¼Œåº”è¯¥å°½å¿«çš„å»å®Œæˆä¸šåŠ¡éœ€æ±‚ï¼Œè€Œä¸æ˜¯å¤©å¤©é…ç½®å¼€å‘ç¯å¢ƒï¼Œå¦‚æœæœ‰ç°æˆçš„ä»£ç å¯ç”¨ï¼Œå°±ä¸è¦é‡å¤é€ è½®å­ï¼Œæ‹¿æ¥å³ç”¨å°±å¥½ã€‚ æˆ‘ä»¬çš„ç›®çš„å°±æ˜¯è¦é‚£ä¸€å †é›¶ä»¶è¿‡æ¥ï¼Œç„¶åæ‹¼è£…æˆä¸€è¾†æ±½è½¦ï¼Œè€Œä¸éœ€è¦äº†è§£é›¶ä»¶çš„åˆ¶ä½œå·¥è‰º å‰¥ç¦»ç»„ä»¶ ç»„ä»¶å‰¥ç¦»é¡¹ç›®æ˜¯éå¸¸é‡è¦çš„ä¸€ä¸ªäº‹æƒ…ï¼Œå®ƒä½¿å¾—é¡¹ç›®ä¾èµ–æ¸…æ™°ï¼Œå¼€å‘æ›´å¿«æ· ä»£ç è§£è€¦ã€å¯å¤ç”¨æ€§å¼ºã€ç»´æŠ¤æ–¹ä¾¿å•ä¸€ ç»„ä»¶æœ€å¥½ç»´æŠ¤åˆ°å…¬å¸çš„npmç§æœä¸Šï¼Œæ²¡æœ‰npmç§æœçš„å»ºè®®ç»„ä»¶å åŠ ä¸ªå‰ç¼€ï¼Œå‘åˆ°npmä¸Š å‡å°‘å¼€å‘è€…çš„å­¦ä¹ æˆæœ¬ é¡¹ç›®çš„é…ç½®é¡¹è¶Šå°‘ å¯¹å¼€å‘äººå‘˜çš„ä¸Šæ‰‹æˆæœ¬å°±è¶Šä½ æŠŠwebpackçš„é…ç½®å†…æ•›è‡³npmåŒ…ä¸­ï¼Œä»…ç•™ä¸‹å‡ ä¸ªè·¯å¾„é…ç½®é¡¹ æ¶æ„å¯¹æ¯” ä¼ ç»Ÿæ¶æ„è®¾è®¡ æ–°æ¶æ„è®¾è®¡ æ¨¡æ¿å·¥ç¨‹çš„åˆ†ç±» æ ¹æ®å‰ç«¯æ¡†æ¶åˆ†ç±» React Vue JQuery æ ¹æ®åŠŸèƒ½æ‹†åˆ† project component common æ ¹æ®ä½¿ç”¨çš„ä¸»è¦åŠŸèƒ½æ’ä»¶åˆ† react + router react + router + redux react + mobx + typescript ç©¶å…¶ç»“æœï¼Œéƒ½æ˜¯è¦è¿›è¡Œæ¨¡æ¿æ–‡ä»¶çš„copyï¼Œåªä¸è¿‡ æ ¹æ®ç”¨æˆ·çš„é€‰æ‹©ä¸åŒï¼Œcopyçš„å†…å®¹ä¸åŒç½¢äº† ä¸‹é¢å…ˆå¸¦å¤§å®¶è¿‡ä¸€é generator-flash çš„æ‰§è¡Œæµç¨‹ï¼Œç„¶åå†ä»å¹³æ—¶é‡åˆ°çš„æ¯”è¾ƒå¤šçš„é—®é¢˜ä¸Šå¼€å§‹çœ‹ï¼Œä¸€ç³»åˆ—çš„å½±å“æ•ˆç‡çš„é—®é¢˜ï¼Œç„¶åå»è§£å†³ä»–ä»¬ generator-flashçš„æ‰§è¡Œæµç¨‹ æµç¨‹ (/app/index.js) æ£€æµ‹å½“å‰è„šæ‰‹æ¶ç‰ˆæœ¬ (/_libs/logo.js) æ‰“å°æ¬¢è¿è¯­ é€‰æ‹©åˆ›å»ºå·¥ç¨‹ç±»å‹ (projectã€component) é€‰æ‹©æŠ€æœ¯æ ˆ é¡¹ç›®åã€æè¿°ã€ä½œè€…åã€ä½œè€…é‚®ç®±ã€gitlab groupã€version reactçš„é¡¹ç›® æ˜¯å¦ä½¿ç”¨redux æ˜¯å¦è‡ªåŠ¨å®‰è£…ä¾èµ– æ ¹æ®ç”¨æˆ·é€‰æ‹© copy æ¨¡æ¿å·¥ç¨‹ è‡³ é¡¹ç›®ç›®å½• å®‰è£…ä¾èµ– æ‰“å°ç»“æŸè¯­ æš´éœ²å°½å¯èƒ½å°‘é‡çš„é…ç½®æ–‡ä»¶å‡ºæ¥ é—®é¢˜ï¼šé¡¹ç›®çš„webpacké…ç½®å¤æ‚ï¼Œé€šå¸¸æ˜¯æœ‰ä»å…¥é—¨åˆ°æ”¾å¼ƒä¸€è¯´çš„ï¼Œå¯è§å®ƒçš„å¤æ‚åº¦ä¹‹é«˜ï¼Œè€Œæš´éœ²å‡ºæ¥çš„é…ç½®é¡¹è¶Šå¤šï¼Œå¼€å‘è€…è‡ªå·±æ”¹åŠ¨çš„å¯èƒ½æ€§å°±è¶Šå¤§ï¼Œè€Œè„šæ‰‹æ¶å°±è¶Šä¸å¯æ§ è§£å†³ï¼š webpacké€šç”¨é…ç½® å’Œ ä¸ªæ€§åŒ–é…ç½®åˆ†ç¦» ç‰ˆæœ¬é”å®šã€ä¾èµ–å†…æ•›è‡³npm ç‰ˆæœ¬é”å®šï¼šæ•´ä¸ªå›¢é˜ŸæŠ€æœ¯æ¡†æ¶ç»Ÿä¸€ ä¾èµ–å†…æ•›ï¼šå›¢é˜ŸæŠ€æœ¯å‡çº§æ–¹ä¾¿ æ‰©å±•ä¸€èˆ¬webpacké…ç½®çš„å…¼å®¹æ€§ webpack å…·ä½“é…ç½®ä¸ç»†è®²äº†å“ˆï¼Œæ¨èç»™å¤§å®¶çœ‹ä¸€ä¸ªwebpackçš„è§†é¢‘è¯¾ç¨‹ï¼šhttps://m.qlchat.com/live/channel/channelPage/2000000172777118.htm é—®é¢˜ï¼šwebpackåœ¨å¤šé¡µåº”ç”¨å¼€å‘æ—¶å€™ï¼Œä¼šå‡ºç° entry å¤šå…¥å£è·¯å¾„çš„é…ç½®é—®é¢˜ï¼Œç›¸ä¿¡å¾ˆå¤šå‰ç«¯åŒå­¦ï¼Œæ²¡æœ‰ç©è¿‡webpackæ—¶å€™ï¼Œæˆ–è€…å¯¹webpackä¸€çŸ¥åŠè§£æ—¶å€™ï¼Œé…ç½®æ­¤å¤šé¡µé¢å…¥å£è·¯å¾„æ˜¯ç›¸å½“éº»çƒ¦çš„ä¸€ä»¶äº‹å„¿ æˆ‘ä»¬è‡ªå·±çš„è„šæ‰‹æ¶å®Œå…¨å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ è§£å†³ï¼š åŸç†ï¼šæŒ‰ç…§å®šä¹‰çš„è§„èŒƒå»å†™ç›®å½•ç»“æ„ï¼Œåœ¨è¿è¡Œä»£ç ä¹‹å‰ï¼Œå…ˆç”¨nodeè§£æä¸€éï¼Œå½“å‰çš„è·¯å¾„ï¼Œè‡ªåŠ¨è®¡ç®—å‡ºå½“å‰çš„ entry mapï¼Œå®Œç¾è§£å†³ ä»£ç ï¼šhttps://github.com/water-wheel/flash-scripts/blob/master/config/paths.js#L26 ä¸ºæ¨¡æ¿å·¥ç¨‹æ·»åŠ è¯­æ³•ç³– é—®é¢˜ï¼šåœ¨å›¢é˜Ÿä¸­ï¼Œæœ‰å¤šä¸ªä¸šåŠ¡çº¿ï¼Œæ¯ä¸ªä¸šåŠ¡çº¿ä¹Ÿéƒ½æœ‰å¤šä¸ªé¡¹ç›®ï¼Œæ¯ä¸ªé¡¹ç›®éƒ½ä¼šç”¨åˆ°çš„åŠŸèƒ½ï¼Œéƒ½éœ€è¦å¼€å‘äººå‘˜å¼€å‘ä¸€éï¼Œæˆ–è€…ä»å…¶ä»–é¡¹ç›®ä¸­copyä¸€ä»½å‡ºæ¥ï¼Œå¯¼è‡´äº†ä¸šåŠ¡ä»£ç ä¹±ä¸ƒå…«ç³Ÿï¼Œè€Œä¸”ä»£ç è´¨é‡å‚å·®ä¸ä¸€ è§£å†³ï¼šæˆ‘ä»¬é€šè¿‡è„šæ‰‹æ¶ï¼Œä¸ºæ¯ä¸ªé¡¹ç›®éƒ½å†…ç½®ä¸€äº›å·¥å…·æ–¹æ³•ï¼Œ ä¾‹å¦‚ä¸€äº›å·¥å…·å‡½æ•°ï¼šè·å–urlçš„å‚æ•°ã€åˆ¤æ–­å½“å‰å®¹å™¨ç±»å‹ã€ç›‘å¬é¡µé¢å›é€€ã€è·å–cookieå€¼ç­‰ reset.css scss mixinï¼šå…¼å®¹æ€§flexæ–¹æ¡ˆã€1åƒç´ çº¿è¾¹æ¡†ã€å•è¡Œï¼ˆå¤šè¡Œï¼‰æ–‡æœ¬æˆªæ–­ã€æ¸å˜ã€remè®¡ç®—å‡½æ•°ç­‰ å½“ç„¶å¦‚æœä½ ä»¬å›¢é˜Ÿæ˜¯hybridå¼€å‘æ—¶å€™ï¼Œé‡Œé¢è¿˜å¯ä»¥å†…ç½®ä¸€äº› jsBridge è¿›å» flashè„šæ‰‹æ¶çš„è¯­æ³•ç³–ä»£ç ï¼šhttps://github.com/water-wheel/generator-flash/tree/master/common æ•°æ®mockåŠŸèƒ½çš„å¼€å‘ é—®é¢˜ï¼šå‰åç«¯åˆ†ç¦»çš„é¡¹ç›®ï¼Œåç«¯æ¥å£å¼€å‘ç¼“æ…¢ï¼Œå‰ç«¯ä¸šåŠ¡ä¾èµ–åç«¯æ¥å£æ•°æ®ï¼Œå¦‚è‹¥æ˜¯å†™ä¸€ä¸ªå¸¸é‡çš„æ•°æ®æ¥mockï¼Œåˆ™ä¸Šçº¿å‰ éœ€è¦æ›´æ¢æ¥å£çš„urlï¼Œéœ€è¦å‰ç«¯å¼€å‘é‡æ–°è¿›è¡Œè‡ªæµ‹ï¼Œæ‰èƒ½äº¤ä»˜ è§£å†³ï¼š å¯ä¸€ä¸ªæœ¬åœ°æœåŠ¡æ¥ä½œä¸ºæ¥å£æœåŠ¡å™¨ å»ºä¸€ä¸ªmockæ–‡ä»¶å¤¹ æ¥æ”¾ç½® mockçš„æ¥å£æ•°æ®ï¼Œå’Œmockçš„configé…ç½®(type: get | post | delay ç­‰) ç›‘å¬mockæ–‡ä»¶å¤¹ï¼Œå¦‚æœæœ‰modifyï¼Œåˆ™é‡å¯mockæœåŠ¡æ¥æ›´æ–°æ¥å£æ•°æ® å…·ä½“è§£å†³æ–¹æ¡ˆï¼š åœ¨npm startæ—¶å€™ï¼Œæˆ‘ä»¬forkä¸€ä¸ªè¿›ç¨‹ï¼ŒæŠŠmock serverè·‘èµ·æ¥ï¼Œç„¶åç›‘å¬mockæ–‡ä»¶å¤¹ï¼Œå½“mockæ–‡ä»¶å¤¹å‘ç”Ÿä¿®æ”¹æ—¶å€™ï¼Œåˆ™é‡å¯è¿™ä¸ªè¿›ç¨‹ ä»£ç åœ°å€ï¼šhttps://github.com/water-wheel/flash-scripts/blob/master/scripts/mock.js mockæ¥å£æœåŠ¡ (è¯»å–æœ¬åœ°mockæ–‡ä»¶çš„é…ç½®å†…å®¹ å’Œ é…ç½®åˆ—è¡¨ï¼Œç¼“å­˜èµ·æ¥ï¼Œç„¶åå¯åŠ¨æœåŠ¡) ä»£ç å±•ç¤ºï¼šhttps://github.com/water-wheel/flash-scripts/blob/master/mock/worker.js ç»„ä»¶ä¸­å…³äºreadmeçš„ç»Ÿä¸€åŒ– é—®é¢˜ï¼šå³ä½¿æœ‰äº†è„šæ‰‹æ¶ å¸®æˆ‘ä»¬æŠŠç»„ä»¶çš„å·¥ç¨‹åˆ›å»ºå¥½ï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯ç»å¸¸é‡åˆ°å…¶ä»–äººå¼€å‘çš„ç»„ä»¶ï¼Œæˆ‘ä»¬æ— æ³•å¿«é€Ÿä½¿ç”¨çš„é—®é¢˜ ä¾‹å¦‚æˆ‘ä»¬çŸ¥é“æœ‰loadingè¿™ä¸ªç»„ä»¶ï¼Œä½†æ˜¯propsçš„å…¥å‚æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬åªèƒ½é€šè¿‡ä»£ç æ‰¾åˆ°ï¼Œæœ‰å¥½ä¸€ç‚¹å„¿çš„ï¼Œä½œè€…åœ¨readmeé‡Œé¢ å†™äº†loadingçš„ä½¿ç”¨æ–¹å¼ï¼Œä½†æ˜¯å¯èƒ½ä¸‹ä¸ªdialogçš„ç»„ä»¶ å°±åœ¨readmeé‡Œé¢ ä»¥å¦ä¸€ç§é£æ ¼å»å†™dialogçš„ç»„ä»¶ä½¿ç”¨äº†ï¼Œè¿™æ˜¯ä¸€ä»¶å¾ˆè›‹ç–¼çš„äº‹å„¿ è§£å†³æ–¹æ¡ˆï¼š è®©readmeé£æ ¼ å’Œ è§„èŒƒç»Ÿä¸€åŒ– è®©ä½¿ç”¨è€… åœ¨ç¬¬ä¸€æ—¶é—´èƒ½æ‰¾åˆ° æœ€ç®€å•çš„ä½¿ç”¨ç¤ºä¾‹ å’Œ é…ç½®å‚æ•°ï¼Œåªéœ€è¦copyè¿‡æ¥å°±èƒ½ç”¨ï¼Œä¸éœ€è¦å…³å¿ƒæºç æ˜¯æ€ä¹ˆå¼€å‘çš„ï¼Œå¦‚æœé‡åˆ°é—®é¢˜ï¼Œå°çª—ä¸‹ä½œè€…ï¼Œç«‹é©¬èƒ½å¾—åˆ°è§£å†³æ–¹æ³• æˆ‘ä»¬readmeçš„æ¨¡æ¿ ç¤ºä¾‹ï¼š toastï¼šhttps://github.com/water-wheel/toast loadingï¼šhttps://github.com/water-wheel/loading é»‘ç§‘æŠ€ figlet ç”Ÿæˆå­—ç¬¦å­— i figlet-cli -g```1- ```figlet OK FLASH tree ç”Ÿæˆç›®å½•ç»“æ„ i tree-cli -g```1- ```tree]]></content>
      <categories>
        <category>è„šæ‰‹æ¶</category>
      </categories>
      <tags>
        <tag>è„šæ‰‹æ¶</tag>
        <tag>åˆ†äº«</tag>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript:Promise]]></title>
    <url>%2F2017%2F11%2F09%2Fcl4s3gtem002hwn9e4wcbltvq%2F</url>
    <content type="text"><![CDATA[è°ƒè¡¨è¾¾ç¨‹åºå¼‚æ­¥å’Œç®¡ç†å¹¶å‘çš„ä¸¤ä¸ªä¸»è¦ç¼ºé™·:ç¼ºä¹é¡ºåºæ€§ å’Œå¯ä¿¡ä»»æ€§ã€‚ å®é™…ä¸Šï¼Œç»å¤§å¤šæ•° JavaScript/DOM å¹³å°æ–°å¢çš„å¼‚æ­¥ API éƒ½æ˜¯åŸºäº Promise æ„å»ºçš„ã€‚ ä»€ä¹ˆæ˜¯Promiseä»å¤–éƒ¨çœ‹ï¼Œç”±äº Promise å°è£…äº†ä¾èµ–äºæ—¶é—´çš„çŠ¶æ€â€”â€”ç­‰å¾…åº•å±‚å€¼çš„å®Œæˆæˆ–æ‹’ç»ï¼Œæ‰€ä»¥ Promise æœ¬èº«æ˜¯ä¸æ—¶é—´æ— å…³çš„ã€‚å› æ­¤ï¼ŒPromise å¯ä»¥æŒ‰ç…§å¯é¢„æµ‹çš„æ–¹å¼ç»„æˆ(ç»„åˆ)ï¼Œè€Œä¸ ç”¨å…³å¿ƒæ—¶åºæˆ–åº•å±‚çš„ç»“æœã€‚ åæ§åˆ¶åè½¬å›è°ƒæœ¬èº«å°±è¡¨è¾¾äº†ä¸€ç§æ§åˆ¶åè½¬ï¼Œæ‰€ä»¥å¯¹å›è°ƒæ¨¡å¼çš„åè½¬å®é™…å°±æ˜¯å¯¹åè½¬çš„åè½¬ã€‚ æ‰€ä»¥åæ§åˆ¶åè½¬â€”-æŠŠæ§åˆ¶è¿”è¿˜ç»™è°ƒç”¨ä»£ç ã€‚ ç»´åŸºç™¾ç§‘ï¼šå…³æ³¨ç‚¹åˆ†ç¦» å…³æ³¨ç‚¹åˆ†ç¦»ï¼ˆSeparation of concernsï¼ŒSOCï¼‰æ˜¯å¯¹åªä¸â€œç‰¹å®šæ¦‚å¿µã€ç›®æ ‡â€ï¼ˆå…³æ³¨ç‚¹ï¼‰ç›¸å…³è”çš„è½¯ä»¶ç»„æˆéƒ¨åˆ†è¿›è¡Œâ€œæ ‡è¯†ã€å°è£…å’Œæ“çºµâ€çš„èƒ½åŠ›ï¼Œå³æ ‡è¯†ã€å°è£…å’Œæ“çºµå…³æ³¨ç‚¹çš„èƒ½åŠ›ã€‚æ˜¯å¤„ç†å¤æ‚æ€§çš„ä¸€ä¸ªåŸåˆ™ã€‚ç”±äºå…³æ³¨ç‚¹æ··æ‚åœ¨ä¸€èµ·ä¼šå¯¼è‡´å¤æ‚æ€§å¤§å¤§å¢åŠ ï¼Œæ‰€ä»¥èƒ½å¤ŸæŠŠä¸åŒçš„å…³æ³¨ç‚¹åˆ†ç¦»å¼€æ¥ï¼Œåˆ†åˆ«å¤„ç†å°±æ˜¯å¤„ç†å¤æ‚æ€§çš„ä¸€ä¸ªåŸåˆ™ï¼Œä¸€ç§æ–¹æ³•ã€‚å…³æ³¨ç‚¹åˆ†ç¦»æ˜¯é¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡çš„æ ¸å¿ƒæ¦‚å¿µã€‚åˆ†ç¦»å…³æ³¨ç‚¹ä½¿å¾—è§£å†³ç‰¹å®šé¢†åŸŸé—®é¢˜çš„ä»£ç ä»ä¸šåŠ¡é€»è¾‘ä¸­ç‹¬ç«‹å‡ºæ¥ï¼Œä¸šåŠ¡é€»è¾‘çš„ä»£ç ä¸­ä¸å†å«æœ‰é’ˆå¯¹ç‰¹å®šé¢†åŸŸé—®é¢˜ä»£ç çš„è°ƒç”¨ï¼ˆå°†é’ˆå¯¹ç‰¹å®šé¢†åŸŸé—®é¢˜ä»£ç æŠ½è±¡åŒ–æˆè¾ƒå°‘çš„ç¨‹å¼ç ï¼Œä¾‹å¦‚å°†ä»£ç å°è£…æˆfunctionæˆ–æ˜¯classï¼‰ï¼Œä¸šåŠ¡é€»è¾‘åŒç‰¹å®šé¢†åŸŸé—®é¢˜çš„å…³ç³»é€šè¿‡ä¾§é¢æ¥å°è£…ã€ç»´æŠ¤ï¼Œè¿™æ ·åŸæœ¬åˆ†æ•£åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­çš„å˜åŠ¨å°±å¯ä»¥å¾ˆå¥½çš„ç®¡ç†èµ·æ¥ã€‚ å…·æœ‰ then æ–¹æ³•çš„é¸­å­ç±»å‹ æ ¹æ®ä¸€ä¸ªå€¼çš„å½¢æ€(å…·æœ‰å“ªäº›å±æ€§)å¯¹è¿™ä¸ªå€¼çš„ç±»å‹åšå‡ºä¸€äº›å‡å®šã€‚è¿™ç§ç±»å‹æ£€æŸ¥(type check)ä¸€èˆ¬ç”¨æœ¯è¯­é¸­å­ç±»å‹(duck typing)æ¥è¡¨ç¤ºâ€”â€”â€œå¦‚æœå®ƒçœ‹èµ·æ¥åƒåªé¸­å­ï¼Œå«èµ·æ¥åƒåªé¸­å­ï¼Œé‚£å®ƒä¸€å®šå°±æ˜¯åªé¸­å­â€ åœ¨ ES6 ä¹‹å‰ï¼Œç¤¾åŒºå·²ç»æœ‰ä¸€äº›è‘—åçš„é Promise åº“æ°å¥½æœ‰åä¸º then(..) çš„æ–¹ æ³•ã€‚è¿™äº›åº“ä¸­æœ‰ä¸€éƒ¨åˆ†é€‰æ‹©äº†é‡å‘½åè‡ªå·±çš„æ–¹æ³•ä»¥é¿å…å†²çª(è¿™çœŸç³Ÿç³•!)ã€‚è€Œå…¶ä»–çš„é‚£ äº›åº“åªæ˜¯å› ä¸ºæ— æ³•é€šè¿‡æ”¹å˜æ‘†è„±è¿™ç§å†²çªï¼Œå°±å¾ˆä¸å¹¸åœ°è¢«é™çº§è¿›å…¥äº†â€œä¸åŸºäº Promise çš„ ç¼–ç ä¸å…¼å®¹â€çš„çŠ¶æ€ã€‚ Promise API æ¦‚è¿°new Promise(..) æ„é€ å™¨1234var p = new Promise( function(resolve,reject)&#123; // resolve(..)ç”¨äºå†³è®®/å®Œæˆè¿™ä¸ªpromise// reject(..)ç”¨äºæ‹’ç»è¿™ä¸ªpromise&#125; ); then(..) å’Œ catch(..)then(..) æ¥å—ä¸€ä¸ªæˆ–ä¸¤ä¸ªå‚æ•°:ç¬¬ä¸€ä¸ªç”¨äºå®Œæˆå›è°ƒï¼Œç¬¬äºŒä¸ªç”¨äºæ‹’ç»å›è°ƒã€‚ ä¸ªæ‹’ç»å›è°ƒä½œä¸ºå‚æ•°ï¼Œå¹¶è‡ªåŠ¨æ›¿æ¢é»˜è®¤å®Œæˆ å›è°ƒã€‚æ¢å¥è¯è¯´ï¼Œå®ƒç­‰ä»·äº then(null,..): Promise.all([ .. ]) å’Œ Promise.race([ .. ])å¯¹ Promise.all([ .. ]) æ¥è¯´ï¼Œåªæœ‰ä¼ å…¥çš„æ‰€æœ‰ promise éƒ½å®Œæˆï¼Œè¿”å› promise æ‰èƒ½å®Œæˆã€‚ å¦‚æœæœ‰ä»»ä½• promise è¢«æ‹’ç»ï¼Œè¿”å›çš„ä¸» promise å°±ç«‹å³ä¼šè¢«æ‹’ç» å¯¹ Promise.race([ .. ]) æ¥è¯´ï¼Œåªæœ‰ç¬¬ä¸€ä¸ªå†³è®®çš„ promise(å®Œæˆæˆ–æ‹’ç»)å–èƒœï¼Œå¹¶ä¸”å…¶ å†³è®®ç»“æœæˆä¸ºè¿”å› promise çš„å†³è®®ã€‚ å°ç»“Promise éå¸¸å¥½ï¼Œè¯·ä½¿ç”¨ã€‚å®ƒä»¬è§£å†³äº†æˆ‘ä»¬å› åªç”¨å›è°ƒçš„ä»£ç è€Œå¤‡å—å›°æ‰°çš„æ§åˆ¶åè½¬é—®é¢˜ã€‚ å®ƒä»¬å¹¶æ²¡æœ‰æ‘ˆå¼ƒå›è°ƒï¼Œåªæ˜¯æŠŠå›è°ƒçš„å®‰æ’è½¬äº¤ç»™äº†ä¸€ä¸ªä½äºæˆ‘ä»¬å’Œå…¶ä»–å·¥å…·ä¹‹é—´çš„å¯ä¿¡ä»» çš„ä¸­ä»‹æœºåˆ¶ã€‚ Promise é“¾ä¹Ÿå¼€å§‹æä¾›(å°½ç®¡å¹¶ä¸å®Œç¾)ä»¥é¡ºåºçš„æ–¹å¼è¡¨è¾¾å¼‚æ­¥æµçš„ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•ï¼Œè¿™ æœ‰åŠ©äºæˆ‘ä»¬çš„å¤§è„‘æ›´å¥½åœ°è®¡åˆ’å’Œç»´æŠ¤å¼‚æ­¥ JavaScript ä»£ç ã€‚]]></content>
      <categories>
        <category>ä½ ä¸çŸ¥é“çš„JavaScript</category>
      </categories>
      <tags>
        <tag>Promise</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2017-10-21è¡¨é©±åŠ¨æ³•]]></title>
    <url>%2F2017%2F10%2F23%2Fcl4s3gtiz00b1wn9eip0p1ntr%2F</url>
    <content type="text"><![CDATA[è¡¨é©±åŠ¨æ³•æ˜¯ä¸€ç§ç¼–ç¨‹æ¨¡å¼(scheme)â€“ä»è¡¨é‡Œé¢æŸ¥æ‰¾ä¿¡æ¯è€Œä¸ä½¿ç”¨é€»è¾‘è¯­å¥ï¼ˆifå’Œcaseï¼‰ï¼Œäº‹å®ä¸Šï¼Œå‡¡æ˜¯èƒ½é€šè¿‡é€»è¾‘è¯­å¥æ¥é€‰æ‹©çš„äº‹ç‰©ï¼Œéƒ½å¯ä»¥é€šè¿‡æŸ¥è¡¨æ¥é€‰æ‹©ã€‚ è¡¨é©±åŠ¨æ³•ä½¿ç”¨æ€»åˆ™åœ¨é€‚å½“çš„ç¯å¢ƒä¸‹ï¼Œé‡‡ç”¨è¡¨é©±åŠ¨æ³•ï¼Œæ‰€ç”Ÿæˆçš„ä»£ç ä¼šæ¯”å¤æ‚çš„é€»è¾‘ä»£ç æ›´ç®€å•ã€æ›´å®¹æ˜“ä¿®æ”¹ï¼Œè€Œä¸”æ•ˆç‡æ›´é«˜ã€‚ ä½¿ç”¨è¡¨é©±åŠ¨æ³•çš„ä¸¤ä¸ªé—®é¢˜ å¿…é¡»è¦å›ç­”çš„æ˜¯æ€æ ·ä»è¡¨ä¸­æŸ¥è¯¢æ¡ç›®çš„é—®é¢˜ï¼Ÿï¼ˆä»è¡¨é‡ŒæŸ¥è¯¢è®°å½•çš„æ–¹æ³•ï¼šç›´æ¥è®¿é—®ã€ç´¢å¼•è®¿é—®ã€é˜¶æ¢¯è®¿é—®ï¼‰ ä½ åº”è¯¥åœ¨è¡¨é‡Œå­˜äº›ä»€ä¹ˆï¼Ÿ(æ•°æ®æˆ–è€…åŠ¨ä½œ) ç›´æ¥è®¿é—®è¡¨ è®¡ç®—æ¯ä¸ªæœˆä¸­çš„å¤©æ•°ï¼ŒæŠŠæ¯ä¸ªæœˆçš„å¤©æ•°å­˜åœ¨ä¸€å¼ è¡¨é‡Œ è®¡ç®—ä¿é™©è´¹ç‡ï¼Œè´¹ç‡éšç€å¹´é¾„ã€æ€§åˆ«ã€å©šå§»ä»¥åŠå¸çƒŸä¸å¦çš„ä¸åŒæƒ…å†µè€Œå˜åŒ–ã€‚ä½¿ç”¨é€»è¾‘æ§åˆ¶ç»“æ„ï¼Œä»£ç å˜å¾—å¾ˆå¤æ‚ä¸ç¹ç æ›´å¥½çš„åšæ³•æ˜¯æŠŠè¿™äº›è´¹ç‡å­˜å…¥æ‰€æœ‰å› ç´ ç´¢å¼•çš„æ•°ç»„é‡Œ çµæ´»çš„æ¶ˆæ¯æ ¼å¼åœ¨åŸºäºé€»è¾‘çš„æ–¹æ³•ä¸­ï¼Œå…¶æ¶ˆæ¯é˜…è¯»å­ç¨‹åºåŒ…å«ä¸€ä¸ªå¾ªç¯ï¼Œç”¨æ¥è¯»å…¥æ¶ˆæ¯ã€è§£é‡Šå…¶IDï¼Œä»¥åŠæ ¹æ®è¯¥IDè°ƒç”¨20ä¸ªå­ç¨‹åºä¸­çš„æŸä¸€ä¸ªã€‚ é‡‡ç”¨é¢å‘å¯¹è±¡çš„æ–¹æ³•ï¼Œé‚£ä¹ˆé—®é¢˜çš„é€»è¾‘å¯è¨€è¢«éšè—åœ¨å¯¹è±¡ç»§æ‰¿ç»“æ„é‡Œï¼Œä½†æ˜¯åŸºæœ¬ç»“æ„è¿˜æ˜¯åŒæ ·å¤æ‚ã€‚ é‡‡ç”¨è¡¨é©±åŠ¨æ³•ï¼šé‡‡ç”¨æ­¤æ–¹æ³•ï¼Œæ¯”å‰é¢ä¸¤ç§éƒ½æ›´ç»æµï¼Œå…¶ä¸­æ¶ˆæ¯çš„é˜…è¯»å­ç¨‹åºç”±ä¸€ä¸ªå¾ªç¯ç»„æˆï¼Œè¯¥å¾ªç¯å¤æ‚è¯»å…¥æ¯ä¸€ä¸ªæ¶ˆæ¯å¤´ï¼Œå¯¹å…¶IDè§£ç ï¼Œåœ¨Messageæ•°ç»„ä¸­æŸ¥è¯¢å…¶æ¶ˆæ¯æè¿°ï¼Œç„¶åæ¯æ¬¡è°ƒç”¨åŒä¸€ä¸ªå­ç¨‹åºæ¥è§£é‡Šè¯¥æ¶ˆæ¯ã€‚ æ„é€ é”®å€¼å¯¹æ„é€ é”®å€¼å¯¹çš„æ–¹æ³•ï¼š å¤åˆ¶ä¿¡æ¯ä»è€Œèƒ½å¤Ÿç›´æ¥ä½¿ç”¨é”®å€¼ è½¬æ¢é”®å€¼ä»¥ä½¿å…¶èƒ½å¤Ÿç›´æ¥ä½¿ç”¨ï¼šç”¨ä¸€ä¸ªå‡½æ•°å°†ageè½¬æ¢æˆå¦ä¸€ä¸ªæ•°å€¼ æŠŠé”®å€¼è½¬æ¢æå–æˆç‹¬ç«‹çš„å­ç¨‹åºï¼šå¦‚æœå¿…é¡»æ„é€ ä¸€äº›æ•°æ®æ¥è®©å®ƒä»¬åƒè¡¨é”®å€¼ä¸€æ ·ä½¿ç”¨ï¼Œé‚£ä¹ˆå°±æŠŠæ•°æ®åˆ°é”®å€¼çš„è½¬æ¢æ“ä½œæå–æˆç‹¬ç«‹çš„å­ç¨‹åºã€‚ ç´¢å¼•è®¿é—®è¡¨å½“ä½¿ç”¨ç´¢å¼•çš„æ—¶å€™ï¼Œå…ˆç”¨ä¸€ä¸ªåŸºæœ¬ç±»å‹ä»ä¸€å¼ ç´¢å¼•è¡¨ä¸­æŸ¥å‡ºä¸€ä¸ªé”®å€¼ï¼Œç„¶åå†åˆ©ç”¨è¿™ä¸€é”®å€¼æŸ¥å‡ºæ„Ÿå…´è¶£çš„ä¸»æ•°æ®ã€‚ é˜¶æ¢¯è®¿é—®è¡¨é˜¶æ¢¯ç»“æ„çš„åŸºæœ¬æƒ³æ³•æ˜¯ï¼Œè¡¨ä¸­çš„è®°å½•å¯¹äºä¸åŒçš„æ•°æ®èŒƒå›´æœ‰æ•ˆï¼Œè€Œä¸æ˜¯å¯¹ä¸åŒçš„æ•°æ®ç‚¹æœ‰æ•ˆã€‚ ä¸¾ä¾‹ï¼Œç­‰çº§åŒºé—´ï¼š å°ç»“ è¡¨æä¾›äº†ä¸€ç§å¤æ‚çš„é€»è¾‘å’Œç»§æ‰¿ç»“æ„çš„æ›¿æ¢æ–¹æ¡ˆã€‚å¦‚æœä½ å‘ç°è‡ªå·±å¯¹æŸä¸ªåº”ç”¨ç¨‹åºçš„é€»è¾‘æˆ–è€…ç»§æ‰¿æ ‘å…³ç³»æ„Ÿåˆ°å›°æƒ‘ï¼Œé‚£ä¹ˆé—®é—®è‡ªå·±æ˜¯å¦é€šè¿‡ä¸€ä¸ªå·®é€‰è¡¨æ¥åŠ ä»¥ç®€åŒ– ä½¿ç”¨è¡¨çš„ä¸€é¡¹å…³é”®å†³ç­–æ—¶å†³å®šå¦‚æœå»è®¿é—®è¡¨ã€‚ä½ å¯ä»¥é‡‡å–ç›´æ¥è®¿é—®ã€ç´¢å¼•è®¿é—®æˆ–è€…é˜¶æ¢¯è®¿é—®ã€‚ ä½¿ç”¨è¡¨è¾¾å¦ä¸€é¡¹å…³é”®å†³ç­–æ—¶å†³å®šåº”è¯¥æŠŠä»€ä¹ˆå†…å®¹æ”¾å…¥è¡¨ä¸­ã€‚]]></content>
      <categories>
        <category>ä»£ç å¤§å…¨</category>
      </categories>
      <tags>
        <tag>è¡¨é©±åŠ¨å‘</tag>
        <tag>æŸ¥è¯¢è¡¨</tag>
        <tag>ç´¢å¼•è®¿é—®</tag>
        <tag>é˜¶æ¢¯è®¿é—®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptå›è°ƒ]]></title>
    <url>%2F2017%2F10%2F13%2Fcl4s3gtev0031wn9ehlnqurnb%2F</url>
    <content type="text"><![CDATA[é¡ºåºä¸å¼‚æ­¥ å›è°ƒæ˜¯ç¼–å†™å’Œå¤„ç† JavaScript ç¨‹åºå¼‚æ­¥é€»è¾‘çš„æœ€å¸¸ç”¨ æ–¹å¼ã€‚ç¡®å®ï¼Œå›è°ƒæ˜¯è¿™é—¨è¯­è¨€ä¸­æœ€åŸºç¡€çš„å¼‚æ­¥æ¨¡å¼ æ‰€ä»¥ï¼Œå¦‚æœè¯´åŒæ­¥çš„å¤§è„‘è®¡åˆ’èƒ½å¤Ÿå¾ˆå¥½åœ°æ˜ å°„åˆ°åŒæ­¥ä»£ç è¯­å¥ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„å¤§è„‘åœ¨è§„åˆ’å¼‚ æ­¥ä»£ç æ–¹é¢åˆæ˜¯æ€æ ·çš„å‘¢?ç­”æ¡ˆæ˜¯ä»£ç (é€šè¿‡å›è°ƒ)è¡¨è¾¾å¼‚æ­¥çš„æ–¹å¼å¹¶ä¸èƒ½å¾ˆå¥½åœ°æ˜ å°„åˆ°åŒæ­¥çš„å¤§è„‘è®¡åˆ’è¡Œä¸ºã€‚ åµŒå¥—å›è°ƒä¸é“¾å¼å›è°ƒä¸€ç§å…¸å‹çš„å›è°ƒåœ°ç‹±ï¼š 123456789listen( "click", function handler(evt)&#123; setTimeout( function request()&#123; ajax( "http://some.url.1", function response(text)&#123; if (text == "hello") &#123;handler(); &#125; else if (text == "world") &#123; request();&#125; &#125; );&#125;, 500) ; &#125; ); å¤æ‚çš„å›è°ƒï¼Œå¯¹äºç¨‹åºçš„è°ƒè¯•å’Œè¿½è¸ªä»£ç†æ¥å¾ˆé«˜çš„å¤æ‚åº¦ã€‚ è¿™å°±æ˜¯å›è°ƒæ–¹å¼æœ€ä¸»è¦çš„ç¼ºé™·:å¯¹äºå®ƒä»¬åœ¨ä»£ç ä¸­è¡¨è¾¾å¼‚æ­¥çš„æ–¹å¼ï¼Œæˆ‘ä»¬çš„å¤§è„‘ éœ€è¦åŠªåŠ›æ‰èƒ½åŒæ­¥å¾—ä¸Šã€‚ æ§åˆ¶åè½¬ï¼šä¹Ÿå°±æ˜¯æŠŠè‡ªå·±ç¨‹åºä¸€éƒ¨åˆ†çš„æ‰§è¡Œæ§åˆ¶äº¤ç»™æŸ ä¸ªç¬¬ä¸‰æ–¹ã€‚åœ¨ä½ çš„ä»£ç å’Œç¬¬ä¸‰æ–¹å·¥å…·(ä¸€ç»„ä½ å¸Œæœ›æœ‰äººç»´æŠ¤çš„ä¸œè¥¿)ä¹‹é—´æœ‰ä¸€ä»½å¹¶æ²¡æœ‰æ˜ ç¡®è¡¨è¾¾çš„å¥‘çº¦ã€‚ åˆ©ç”¨ä»£ç çš„æ‰§è¡Œä¾èµ–äºï¼Œajax(..)è¿”å›çš„ç»“æœã€‚ çœç‚¹å›è°ƒä¸ºäº†æ›´ä¼˜é›…åœ°å¤„ç†é”™è¯¯ï¼Œæœ‰äº› API è®¾è®¡æä¾›äº†åˆ†ç¦»å›è°ƒ 1234567function success(data) &#123; console.log( data );&#125; function failure(err) &#123; console.error( err ); &#125; ajax( "http://some.url.1", success, failure ); S6 Promise APIä½¿ç”¨çš„å°±æ˜¯è¿™ç§åˆ†ç¦»å›è°ƒè®¾è®¡ã€‚ è¿˜æœ‰ä¸€ç§å¸¸è§çš„å›è°ƒæ¨¡å¼å«ä½œâ€œerror-first é£æ ¼â€ï¼ˆnodeé£æ ¼ï¼‰ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¿ç•™ç”¨ä½œé”™è¯¯å¯¹è±¡ï¼Œå¦‚æœæˆåŠŸï¼Œè¿™ä¸ªå‚æ•°ä¼šè¢«æ¸…ç©ºæˆ–è€…ç½®å‡ï¼ˆåé¢çš„å‚æ•°å°±æ˜¯æˆåŠŸæ•°æ®ï¼‰ã€‚ 123456789function response(err,data) &#123; // å‡ºé”™? if (err) &#123; console.error( err );&#125;// å¦åˆ™è®¤ä¸ºæˆåŠŸ else &#123; console.log( data ); &#125; &#125; ajax( "http://some.url.1", response ); å°ç»“ç¬¬ä¸€ï¼Œå¤§è„‘å¯¹äºäº‹æƒ…çš„è®¡åˆ’æ–¹å¼æ˜¯çº¿æ€§çš„ã€é˜»å¡çš„ã€å•çº¿ç¨‹çš„è¯­ä¹‰ï¼Œä½†æ˜¯å›è°ƒè¡¨è¾¾å¼‚æ­¥æµ ç¨‹çš„æ–¹å¼æ˜¯éçº¿æ€§çš„ã€éé¡ºåºçš„ï¼Œè¿™ä½¿å¾—æ­£ç¡®æ¨å¯¼è¿™æ ·çš„ä»£ç éš¾åº¦å¾ˆå¤§ã€‚éš¾äºç†è§£çš„ä»£ç  æ˜¯åä»£ç ï¼Œä¼šå¯¼è‡´å bugã€‚ ç¬¬äºŒï¼Œä¹Ÿæ˜¯æ›´é‡è¦çš„ä¸€ç‚¹ï¼Œå›è°ƒä¼šå—åˆ°æ§åˆ¶åè½¬çš„å½±å“ï¼Œå› ä¸ºå›è°ƒæš—ä¸­æŠŠæ§åˆ¶æƒäº¤ç»™ç¬¬ä¸‰ æ–¹(é€šå¸¸æ˜¯ä¸å—ä½ æ§åˆ¶çš„ç¬¬ä¸‰æ–¹å·¥å…·!)æ¥è°ƒç”¨ä½ ä»£ç ä¸­çš„ continuationã€‚è¿™ç§æ§åˆ¶è½¬ç§»å¯¼ è‡´ä¸€ç³»åˆ—éº»çƒ¦çš„ä¿¡ä»»é—®é¢˜ï¼Œæ¯”å¦‚å›è°ƒè¢«è°ƒç”¨çš„æ¬¡æ•°æ˜¯å¦ä¼šè¶…å‡ºé¢„æœŸã€‚]]></content>
      <categories>
        <category>ä½ ä¸çŸ¥é“çš„JavaScript</category>
      </categories>
      <tags>
        <tag>å›è°ƒ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptå¼‚æ­¥ï¼šç°åœ¨ä¸æœªæ¥]]></title>
    <url>%2F2017%2F10%2F13%2Fcl4s3gtes002vwn9e0wew9wpu%2F</url>
    <content type="text"><![CDATA[äº‹å®ä¸Šï¼Œç¨‹åºä¸­ç°åœ¨è¿è¡Œçš„éƒ¨åˆ†å’Œå°†æ¥è¿è¡Œçš„éƒ¨åˆ†ä¹‹é—´çš„å…³ç³»å°±æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„æ ¸å¿ƒã€‚ åˆ†å—çš„ç¨‹åºåœ¨å¼€å‘ä¸­ï¼Œä¼šæŠŠç¨‹åºæ‹†åˆ†æˆå¤šä¸ª.jsæ–‡ä»¶ï¼Œè¿™ç§æ‹†åˆ†ï¼Œæ„å‘³ç€åªæœ‰ä¸€ä¸ªæ˜¯ç°åœ¨æ‰§è¡Œçš„ï¼Œå…¶ä½™çš„è¦ç­‰åˆ°å°†æ¥æ‰èƒ½æ‰§è¡Œã€‚è€ƒè™‘ä½¿ç”¨Ajaxè¯·æ±‚ï¼š 1234// ajax(..)æ˜¯æŸä¸ªåº“ä¸­æä¾›çš„æŸä¸ªAjaxå‡½æ•° var data = ajax( "http://some.url.1" ); console.log( data );// å•Šå“¦!dataé€šå¸¸ä¸ä¼šåŒ…å«Ajaxç»“æœ æ ‡å‡†çš„Ajaxè¯·æ±‚ä¸æ˜¯åŒæ­¥å®Œæˆçš„ï¼Œæ„å‘³ç€ ajax(..) å‡½æ•°è¿˜æ²¡æœ‰è¿”å› ä»»ä½•å€¼å¯ä»¥èµ‹ç»™å˜é‡ dataï¼› å¦‚æœajax(..)èƒ½å¤Ÿé˜»å¡åˆ°å“åº”è¿”å›ï¼Œé‚£ä¹ˆè¿™ç§èµ‹å€¼æ˜¯å¯ä»¥å·¥ä½œçš„ã€‚å®é™…ä¸Šå¹¶ä¸æ˜¯ã€‚ ä½¿ç”¨å›è°ƒå‡½æ•°çš„æ–¹å¼ï¼š 123// ajax(..)æ˜¯æŸä¸ªåº“ä¸­æä¾›çš„æŸä¸ªAjaxå‡½æ•°ajax( "http://some.url.1", function myCallbackFunction(data)&#123;console.log( data ); // è€¶!è¿™é‡Œå¾—åˆ°äº†ä¸€äº›æ•°æ®! &#125; ); å¼‚æ­¥æ§åˆ¶å° å°¤å…¶è¦æå‡ºçš„æ˜¯ï¼Œåœ¨æŸäº›æ¡ä»¶ä¸‹ï¼ŒæŸäº›æµè§ˆå™¨çš„ console.log(..) å¹¶ä¸ä¼šæŠŠä¼ å…¥çš„å†…å®¹ç«‹ å³è¾“å‡ºã€‚å‡ºç°è¿™ç§æƒ…å†µçš„ä¸»è¦åŸå› æ˜¯ï¼Œåœ¨è®¸å¤šç¨‹åº(ä¸åªæ˜¯ JavaScript)ä¸­ï¼ŒI/O æ˜¯éå¸¸ä½ é€Ÿçš„é˜»å¡éƒ¨åˆ†ã€‚ console.log æ˜¯å¼‚æ­¥çš„ï¼Œæœ€å¥½çš„é€‰æ‹©æ˜¯åœ¨JavaScriptè°ƒè¯•å™¨ä¸­ä½¿ç”¨æ–­ç‚¹ï¼Œè€Œä¸è¦ä¾èµ–äºæ§åˆ¶å°è¾“å‡ºã€‚æ¬¡ä¼˜çš„æ–¹æ¡ˆæ˜¯æŠŠå¯¹è±¡åºåˆ—åŒ–åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œä»¥å¼º åˆ¶æ‰§è¡Œä¸€æ¬¡â€œå¿«ç…§â€ï¼Œæ¯”å¦‚é€šè¿‡ JSON.stringify(..) äº‹ä»¶å¾ªç¯ JavaScript å¼•æ“æœ¬èº«æ‰€åšçš„åª ä¸è¿‡æ˜¯åœ¨éœ€è¦çš„æ—¶å€™ï¼Œåœ¨ç»™å®šçš„ä»»æ„æ—¶åˆ»æ‰§è¡Œç¨‹åºä¸­çš„å•ä¸ªä»£ç å—!! JavaScriptè¿›å…¥äº†å…¶ä»–ç¯å¢ƒï¼Œæ¯”å¦‚nodejsï¼Œ åœ¨è¿™äº›ç¯å¢ƒä¸­éƒ½ç”¨ä¸€ä¸ªå…±åŒçš„ç‚¹ï¼ˆthreadï¼Œçº¿ç¨‹ï¼‰å³å®ƒä»¬éƒ½æä¾›äº†ä¸€ç§æœºåˆ¶æ¥å¤„ç†ç¨‹åºä¸­å¤šä¸ªå—çš„æ‰§è¡Œï¼Œä¸”æ‰§è¡Œæ¯ å—æ—¶è°ƒç”¨ JavaScript å¼•æ“ï¼Œè¿™ç§æœºåˆ¶è¢«ç§°ä¸ºäº‹ä»¶å¾ªç¯ã€‚ ç®€å•ä»£ç æ¨¡å¼äº‹ä»¶å¾ªç¯ï¼š 1234567891011121314// eventLoopæ˜¯ä¸€ä¸ªç”¨ä½œé˜Ÿåˆ—çš„æ•°ç»„ //(å…ˆè¿›ï¼Œå…ˆå‡º)var eventLoop = [ ];var event;//â€œæ°¸è¿œâ€æ‰§è¡Œ while (true) &#123;// ä¸€æ¬¡tickif (eventLoop.length &gt; 0) &#123;// æ‹¿åˆ°é˜Ÿåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªäº‹ä»¶ event = eventLoop.shift();// ç°åœ¨ï¼Œæ‰§è¡Œä¸‹ä¸€ä¸ªäº‹ä»¶ try &#123; event(); &#125; catch (err) &#123; reportError(err); &#125; &#125;&#125; å¾ªç¯çš„æ¯ä¸€è½®ç§°ä¸ºä¸€ä¸ª tickã€‚ å¯¹æ¯ä¸ª tick è€Œè¨€ï¼Œå¦‚æœåœ¨é˜Ÿåˆ—ä¸­æœ‰ç­‰å¾…äº‹ä»¶ï¼Œé‚£ä¹ˆå°±ä¼šä»é˜Ÿåˆ—ä¸­æ‘˜ä¸‹ä¸€ä¸ªäº‹ä»¶å¹¶æ‰§è¡Œã€‚è¿™ äº›äº‹ä»¶å°±æ˜¯ä½ çš„å›è°ƒå‡½æ•°ã€‚ å¹¶è¡Œçº¿ç¨‹ å¼‚æ­¥æ˜¯å…³äºç°åœ¨å’Œå°†æ¥çš„æ—¶é—´é—´éš™ï¼Œè€Œå¹¶è¡Œæ˜¯å…³äºèƒ½å¤ŸåŒæ—¶å‘ç”Ÿçš„äº‹æƒ…ã€‚ å¹¶è¡Œè®¡ç®—æœ€å¸¸è§çš„å·¥å…·å°±æ˜¯è¿›ç¨‹å’Œçº¿ç¨‹ã€‚è¿›ç¨‹å’Œçº¿ç¨‹ç‹¬ç«‹è¿è¡Œï¼Œå¹¶å¯èƒ½åŒæ—¶è¿è¡Œ:åœ¨ä¸åŒçš„å¤„ç†å™¨ï¼Œç”šè‡³ä¸åŒçš„è®¡ç®—æœºä¸Šï¼Œä½†å¤šä¸ªçº¿ç¨‹èƒ½å¤Ÿå…±äº«å•ä¸ªè¿›ç¨‹çš„å†…å­˜ã€‚ åœ¨ç¨‹åºä¸­å¤šçº¿ç¨‹çš„å…±äº«å†…å®¹ï¼ŒåŒæ—¶è®¿é—®åŒä¸€å—å†…å®¹ï¼Œä¼šé€ æˆç¨‹åºçš„ä¸­æ–­å’Œäº¤é”™è¿è¡Œï¼Œå¯èƒ½å¾—åˆ°å‡ºä¹æ„æ–™ã€ä¸ç¡®å®šçš„è¡Œä¸ºã€‚ åœ¨JavaScriptä¸­ä¸å…è®¸è·¨çº¿ç¨‹å…±äº«æ•°æ®ï¼Œè¿™æ„å‘³ç€ä¸éœ€è¦è€ƒè™‘å› ä¸ºçº¿ç¨‹ç«äº‰å†…å­˜å¼•èµ·çš„ä¸­æ–­å’Œäº¤é”™è¡Œä¸ºã€‚å½“ä¸åŒçš„å…ˆåæ‰§è¡Œé¡ºåºï¼ˆä¾‹å¦‚å¼‚æ­¥å‡½æ•°çš„æ‰§è¡Œå…ˆåé¡ºåºä¸åŒï¼‰ä¹Ÿä¼šå¯¼è‡´ç»“æœçš„ä¸åŒã€‚ å®Œæ•´è¿è¡Œä¸¾ä¾‹è¯´æ˜ä»€ä¹ˆæ˜¯å®Œæ•´æ€§ï¼š 123456789var a = 20; function foo() &#123; a = a + 1;&#125; function bar() &#123; a = a * 2;&#125;// ajax(..)æ˜¯æŸä¸ªåº“ä¸­æä¾›çš„æŸä¸ªAjaxå‡½æ•° ajax( "http://some.url.1", foo );ajax( "http://some.url.2", bar ); å‡½æ•°foo()å¼€å§‹æ‰§è¡Œåï¼Œå®ƒçš„æ‰€æœ‰ä»£ç éƒ½ä¼šåœ¨bar() ä¸­çš„ä»»æ„ä»£ç è¿è¡Œä¹‹å‰å®Œæˆï¼Œæˆ–è€…ç›¸åã€‚è¿™è¢«ç§°ä¸ºå®Œæ•´æ€§è¿è¡Œï¼ˆrun-to-completionï¼‰ç‰¹æ€§ ä½†æ˜¯è¿™ä¸èƒ½æ¶ˆé™¤å…¨éƒ½çš„ä¸ç¡®å®šæ€§ï¼Œä¾æ—§æœ‰ä¸¤ç§å¯èƒ½çš„æ‰§è¡Œç»“æœã€‚ ä½†æ˜¯ï¼Œè¿™ç§ä¸ç¡®å®šæ€§æ˜¯åœ¨å‡½æ•°(äº‹ ä»¶)é¡ºåºçº§åˆ«ä¸Šï¼Œè€Œä¸æ˜¯å¤šçº¿ç¨‹æƒ…å†µä¸‹çš„è¯­å¥é¡ºåºçº§åˆ«( åœ¨ JavaScript çš„ç‰¹æ€§ä¸­ï¼Œè¿™ç§å‡½æ•°é¡ºåºçš„ä¸ç¡®å®šæ€§å°±æ˜¯é€šå¸¸æ‰€è¯´çš„ç«æ€æ¡ä»¶(race condition)ï¼Œfoo() å’Œ bar() ç›¸äº’ç«äº‰ï¼Œçœ‹è°å…ˆè¿è¡Œã€‚å…·ä½“æ¥è¯´ï¼Œå› ä¸ºæ— æ³•å¯é é¢„æµ‹ a å’Œ b çš„æœ€ç»ˆç»“æœï¼Œæ‰€ä»¥æ‰æ˜¯ç«æ€æ¡ä»¶ã€‚ å¹¶å‘ è¿™é‡Œçš„â€œè¿›ç¨‹â€ä¹‹æ‰€ä»¥æ‰“ä¸Šå¼•å·ï¼Œæ˜¯å› ä¸ºè¿™å¹¶ä¸æ˜¯è®¡ç®—æœºç§‘å­¦æ„ä¹‰ä¸Šçš„çœŸæ­£ æ“ä½œç³»ç»Ÿçº§è¿›ç¨‹ã€‚è¿™æ˜¯è™šæ‹Ÿè¿›ç¨‹ï¼Œæˆ–è€…ä»»åŠ¡ï¼Œè¡¨ç¤ºä¸€ä¸ªé€»è¾‘ä¸Šç›¸å…³çš„è¿ç®—åº åˆ—ã€‚ éäº¤äº’ ä¸¤ä¸ªæˆ–å¤šä¸ªâ€œè¿›ç¨‹â€åœ¨åŒä¸€ä¸ªç¨‹åºå†…å¹¶å‘åœ°äº¤æ›¿è¿è¡Œå®ƒä»¬çš„æ­¥éª¤ / äº‹ä»¶æ—¶ï¼Œå¦‚æœè¿™äº›ä»»åŠ¡ å½¼æ­¤ä¸ç›¸å…³ï¼Œå°±ä¸ä¸€å®šéœ€è¦äº¤äº’ã€‚å¦‚æœè¿›ç¨‹é—´æ²¡æœ‰ç›¸äº’å½±å“çš„è¯ï¼Œä¸ç¡®å®šæ€§æ˜¯å®Œå…¨å¯ä»¥æ¥ å—çš„ã€‚ äº¤äº’ æ›´å¸¸è§çš„æƒ…å†µæ˜¯ï¼Œå¹¶å‘çš„â€œè¿›ç¨‹â€éœ€è¦ç›¸äº’äº¤æµï¼Œé€šè¿‡ä½œç”¨åŸŸæˆ– DOM é—´æ¥äº¤äº’ã€‚æ­£å¦‚å‰ é¢ä»‹ç»çš„ï¼Œå¦‚æœå‡ºç°è¿™æ ·çš„äº¤äº’ï¼Œå°±éœ€è¦å¯¹å®ƒä»¬çš„äº¤äº’è¿›è¡Œåè°ƒä»¥é¿å…ç«æ€çš„å‡ºç°ã€‚ åä½œè¿˜æœ‰ä¸€ç§å¹¶å‘åˆä½œæ–¹å¼ï¼Œç§°ä¸ºå¹¶å‘åä½œ(cooperative concurrency)ã€‚è¿™é‡Œçš„é‡ç‚¹ä¸å†æ˜¯é€šè¿‡ å…±äº«ä½œç”¨åŸŸä¸­çš„å€¼è¿›è¡Œäº¤äº’(å°½ç®¡æ˜¾ç„¶è¿™ä¹Ÿæ˜¯å…è®¸çš„!)ã€‚è¿™é‡Œçš„ç›®æ ‡æ˜¯å–åˆ°ä¸€ä¸ªé•¿æœŸè¿ è¡Œçš„â€œè¿›ç¨‹â€ï¼Œå¹¶å°†å…¶åˆ†å‰²æˆå¤šä¸ªæ­¥éª¤æˆ–å¤šæ‰¹ä»»åŠ¡ï¼Œä½¿å¾—å…¶ä»–å¹¶å‘â€œè¿›ç¨‹â€æœ‰æœºä¼šå°†è‡ªå·± çš„è¿ç®—æ’å…¥åˆ°äº‹ä»¶å¾ªç¯é˜Ÿåˆ—ä¸­äº¤æ›¿è¿è¡Œã€‚ 1234567var res = [];// response(..)ä»Ajaxè°ƒç”¨ä¸­å–å¾—ç»“æœæ•°ç»„ function response(data) &#123;// æ·»åŠ åˆ°å·²æœ‰çš„resæ•°ç»„ res = res.concat(// åˆ›å»ºä¸€ä¸ªæ–°çš„å˜æ¢æ•°ç»„æŠŠæ‰€æœ‰dataå€¼åŠ å€ data.map( function(val)&#123;return val * 2; &#125;)); &#125;// ajax(..)æ˜¯æŸä¸ªåº“ä¸­æä¾›çš„æŸä¸ªAjaxå‡½æ•° ajax( "http://some.url.1", response ); ajax( "http://some.url.2", response ); è¿™é‡Œçš„é—®é¢˜åœ¨äºå¦‚æœè¿”å›çš„dataæ•°ç»„å¾ˆåºå¤§ï¼Œé‚£ä¹ˆéœ€è¦ä¸€æ®µæ—¶é—´ç”¨äºæ‰§è¡Œresæ•°ç»„å†™å…¥æ“ä½œï¼Œè¿™è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é˜»å¡ã€‚ é‚£ä¹ˆï¼Œå¯ä»¥åˆ›å»ºä¸€ç§åè°ƒæ€§æ›´å‹å¥½ä¸”ä¸ä¼šéœ¸å æ—¶é—´å¾ªç¯é˜Ÿåˆ—çš„å¹¶å‘ç³»ç»Ÿï¼Œè¿™æ ·å¯ä»¥å¼‚æ­¥å¤„ç†è¿™äº›ç»“æœï¼Œæ¯æ¬¡å¤„ç†ä¹‹åè¿”å›äº‹ä»¶å¾ªç¯ï¼Œè®©å…¶ä»–äº‹ä»¶æœ‰æœºä¼šè¿›è¡Œã€‚ 1234567891011121314var res = [];// response(..)ä»Ajaxè°ƒç”¨ä¸­å–å¾—ç»“æœæ•°ç»„ function response(data) &#123;// ä¸€æ¬¡å¤„ç†1000ä¸ªvar chunk = data.splice( 0, 1000 );// æ·»åŠ åˆ°å·²æœ‰çš„resç»„ res = res.concat(// åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„æŠŠchunkä¸­æ‰€æœ‰å€¼åŠ å€ chunk.map( function(val)&#123;return val * 2; &#125;));// è¿˜æœ‰å‰©ä¸‹çš„éœ€è¦å¤„ç†å—? if (data.length &gt; 0) &#123;// å¼‚æ­¥è°ƒåº¦ä¸‹ä¸€æ¬¡æ‰¹å¤„ç† setTimeout( function()&#123; response( data ); &#125;, 0 );&#125; &#125;// ajax(..)æ˜¯æŸä¸ªåº“ä¸­æä¾›çš„æŸä¸ªAjaxå‡½æ•° ajax( "http://some.url.1", response ); ajax( "http://some.url.2", response ); æˆ‘ä»¬æŠŠæ•°æ®é›†åˆæ”¾åœ¨æœ€å¤šåŒ…å« 1000 æ¡é¡¹ç›®çš„å—ä¸­ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±ç¡®ä¿äº†â€œè¿›ç¨‹â€è¿è¡Œæ—¶ é—´ä¼šå¾ˆçŸ­ï¼Œå³ä½¿è¿™æ„å‘³ç€éœ€è¦æ›´å¤šçš„åç»­â€œè¿›ç¨‹â€ï¼Œå› ä¸ºäº‹ä»¶å¾ªç¯é˜Ÿåˆ—çš„äº¤æ›¿è¿è¡Œä¼šæé«˜ ç«™ç‚¹ /App çš„å“åº”(æ€§èƒ½)ã€‚ setTimeout(..0)ï¼šå¯ä»¥æ¨¡æ‹Ÿå¼‚æ­¥è°ƒåº¦ï¼Œä½†å¹¶ä¸ç›´æ¥æŠŠé¡¹ç›®æ’å…¥åˆ°äº‹ä»¶å¾ªç¯é˜Ÿåˆ—ã€‚å½“æœ‰ä¸¤ä¸ªå®šæ—¶å™¨ä¸º0æ—¶ï¼Œå¹¶ä¸èƒ½é¡ºåºå¤„ç†ã€‚ ä»»åŠ¡ åœ¨ES6ä¸­ï¼Œæœ‰ä¸€ä¸ªæ–°çš„æ¦‚å¿µå»ºç«‹åœ¨äº‹ä»¶å¾ªç¯é˜Ÿåˆ—ä¹‹ä¸Šï¼Œå«ä½œä»»åŠ¡é˜Ÿåˆ—(job queue)ã€‚è¿™ä¸ªæ¦‚å¿µç»™å¤§å®¶å¸¦æ¥çš„æœ€å¤§å½±å“å¯èƒ½æ˜¯ Promise çš„å¼‚æ­¥ç‰¹æ€§ã€‚ while å¾ªç¯å®ç°çš„æŒç»­è¿è¡Œçš„å¾ªç¯ï¼Œå¾ªç¯çš„æ¯ä¸€è½®ç§°ä¸ºä¸€ä¸ª tickã€‚ å¯¹æ¯ä¸ª tick è€Œè¨€ï¼Œå¦‚æœåœ¨é˜Ÿåˆ—ä¸­æœ‰ç­‰å¾…äº‹ä»¶ï¼Œé‚£ä¹ˆå°±ä¼šä»é˜Ÿåˆ—ä¸­æ‘˜ä¸‹ä¸€ä¸ªäº‹ä»¶å¹¶æ‰§è¡Œã€‚è¿™ äº›äº‹ä»¶å°±æ˜¯ä½ çš„å›è°ƒå‡½æ•°ã€‚ ä»»åŠ¡é˜Ÿåˆ—çš„æ¦‚å¿µï¼š åœ¨äº‹ä»¶å¾ªç¯çš„æ¯ä¸ª tick ä¸­ï¼Œå¯èƒ½å‡ºç°çš„å¼‚æ­¥åŠ¨ä½œä¸ä¼šå¯¼è‡´ä¸€ä¸ªå®Œæ•´çš„æ–°äº‹ä»¶ æ·»åŠ åˆ°äº‹ä»¶å¾ªç¯é˜Ÿåˆ—ä¸­ï¼Œè€Œä¼šåœ¨å½“å‰ tick çš„ä»»åŠ¡é˜Ÿåˆ—æœ«å°¾æ·»åŠ ä¸€ä¸ªé¡¹ç›®(ä¸€ä¸ªä»»åŠ¡)ã€‚ Promise çš„å¼‚æ­¥ç‰¹æ€§æ˜¯åŸºäºä»»åŠ¡çš„ è¯­å¥é¡ºåºç”±äºJavaScriptå¼•æ“éœ€è¦ç¼–è¯‘ä»£ç ï¼Œæ‰€ä»¥è¯­å¥çš„æ‰§è¡Œé¡ºåºå¹¶ä¸æ€»æ˜¯æŒ‰é¡ºåºçš„ï¼Œåœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œè¿™ç§ä¼˜åŒ–å¯¹äºç¨‹åºçš„æ‰§è¡Œå¹¶æ²¡æœ‰å½±å“ã€‚ ç¼–è¯‘å™¨è¯­å¥é‡æ’åºå‡ ä¹å°±æ˜¯å¹¶å‘å’Œäº¤äº’çš„å¾®å‹éšå–»ã€‚ è¿™å¯ä»¥ç†è§£ä¸ºæœ€å°å•å…ƒçš„å¼‚æ­¥æ‰§è¡Œã€‚ å°ç»“ å°½ç®¡ç¨‹åºæ˜¯ä¸€å—ä¸€å—æ‰§è¡Œçš„ï¼Œä½†æ˜¯æ‰€æœ‰è¿™äº›å—å…±äº«å¯¹ç¨‹åºä½œç”¨åŸŸå’ŒçŠ¶æ€çš„è®¿ é—®ï¼Œæ‰€ä»¥å¯¹çŠ¶æ€çš„ä¿®æ”¹éƒ½æ˜¯åœ¨ä¹‹å‰ç´¯ç§¯çš„ä¿®æ”¹ä¹‹ä¸Šè¿›è¡Œçš„ã€‚ ä¸€æ—¦æœ‰äº‹ä»¶éœ€è¦è¿è¡Œï¼Œäº‹ä»¶å¾ªç¯å°±ä¼šè¿è¡Œï¼Œç›´åˆ°é˜Ÿåˆ—æ¸…ç©ºã€‚äº‹ä»¶å¾ªç¯çš„æ¯ä¸€è½®ç§°ä¸ºä¸€ä¸ª tickã€‚ç”¨æˆ·äº¤äº’ã€IO å’Œå®šæ—¶å™¨ä¼šå‘äº‹ä»¶é˜Ÿåˆ—ä¸­åŠ å…¥äº‹ä»¶ã€‚ ä»»æ„æ—¶åˆ»ï¼Œä¸€æ¬¡åªèƒ½ä»é˜Ÿåˆ—ä¸­å¤„ç†ä¸€ä¸ªäº‹ä»¶ã€‚æ‰§è¡Œäº‹ä»¶çš„æ—¶å€™ï¼Œå¯èƒ½ç›´æ¥æˆ–é—´æ¥åœ°å¼•å‘ä¸€ ä¸ªæˆ–å¤šä¸ªåç»­äº‹ä»¶ã€‚ å¹¶å‘æ˜¯æŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶é“¾éšæ—¶é—´å‘å±•äº¤æ›¿æ‰§è¡Œï¼Œä»¥è‡³äºä»æ›´é«˜çš„å±‚æ¬¡æ¥çœ‹ï¼Œå°±åƒæ˜¯åŒæ—¶ åœ¨è¿è¡Œ(å°½ç®¡åœ¨ä»»æ„æ—¶åˆ»åªå¤„ç†ä¸€ä¸ªäº‹ä»¶)ã€‚ é€šå¸¸éœ€è¦å¯¹è¿™äº›å¹¶å‘æ‰§è¡Œçš„â€œè¿›ç¨‹â€(æœ‰åˆ«äºæ“ä½œç³»ç»Ÿä¸­çš„è¿›ç¨‹æ¦‚å¿µ)è¿›è¡ŒæŸç§å½¢å¼çš„äº¤ äº’åè°ƒï¼Œæ¯”å¦‚éœ€è¦ç¡®ä¿æ‰§è¡Œé¡ºåºæˆ–è€…éœ€è¦é˜²æ­¢ç«æ€å‡ºç°ã€‚è¿™äº›â€œè¿›ç¨‹â€ä¹Ÿå¯ä»¥é€šè¿‡æŠŠè‡ªèº« åˆ†å‰²ä¸ºæ›´å°çš„å—ï¼Œä»¥ä¾¿å…¶ä»–â€œè¿›ç¨‹â€æ’å…¥è¿›æ¥ã€‚ é¡¹ç›®æ€»ç»“åœ¨å®é™…å¼€å‘ä¸­ï¼Œç»å¸¸é‡åˆ°æ•°æ®é‡å¤æ”¹å†™çš„é—®é¢˜ï¼Œè¿™ç§çŠ¶æ€çš„ç«äº‰å¾€å¾€å¾ˆéš¾é¢„è§ï¼Œå¤„ç†å¯¹ä¸šåŠ¡é€»è¾‘çš„æ¢³ç†ä¹‹å¤–ï¼Œè¿˜éœ€è¦å¯¹è¯­è¨€çš„åº•å±‚æœ‰è¾ƒå¥½çš„ç†è§£ã€‚ä»¥ä¾¿äºä¿®å¤ä¸€äº›éš¾ä»¥è§£å†³çš„BUGã€‚]]></content>
      <categories>
        <category>ä½ ä¸çŸ¥é“çš„JavaScript</category>
      </categories>
      <tags>
        <tag>å¼‚æ­¥</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript åŸç”Ÿå‡½æ•°]]></title>
    <url>%2F2017%2F10%2F11%2Fcl4s3gte8001nwn9ehneisfnr%2F</url>
    <content type="text"><![CDATA[åŸç”Ÿå‡½æ•°å¸¸ç”¨çš„åŸç”Ÿå‡½æ•°æœ‰ï¼š String() Number() Boolean() Array() Object() Function() RegExp() Data() Error() Symbol() å°è£…å¯¹è±¡é€šè¿‡æ„é€ å‡½æ•°ï¼ˆå¦‚ new String(â€˜abcâ€™)ï¼‰åˆ›å»ºå‡ºæ¥çš„æ˜¯å°è£…äº†çš„åŸºæœ¬ç±»å‹å€¼ï¼ˆå¦‚ â€œabcâ€ï¼‰çš„å°è£…å¯¹è±¡ã€‚ å†…éƒ¨å±æ€§12345678910111213141516Object.prototype.toString.call( [1,2,3] ); // "[object Array]" Object.prototype.toString.call( /regex-literal/i ); // "[object RegExp]" Object.prototype.toString.call( null ); // "[object Null]" Object.prototype.toString.call( undefined ); // "[object Undefined]" Object.prototype.toString.call( "abc" ); // "[object String]" Object.prototype.toString.call( 42 ); // "[object Number]" Object.prototype.toString.call( true ); // "[object Boolean]" å°è£…å¯¹è±¡åŒ…è£… ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸éœ€è¦ç›´æ¥ä½¿ç”¨å°è£…å¯¹è±¡ã€‚æœ€å¥½çš„åŠæ³•æ˜¯è®© JavaScript å¼•æ“è‡ªå·±å†³å®šä»€ ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨å°è£…å¯¹è±¡ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯åº”è¯¥ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨ â€œabcâ€ å’Œ 42 è¿™æ ·çš„åŸºæœ¬ç±»å‹ å€¼ï¼Œè€Œénew String(â€œabcâ€)å’Œnew Number(42)ã€‚ å¦‚æœæƒ³è¦è‡ªè¡Œå°è£…åŸºæœ¬ç±»å‹å€¼ï¼Œå¯ä»¥ä½¿ç”¨ Object(..) å‡½æ•°(ä¸å¸¦ new å…³é”®å­—): 12345678910var a = "abc"; var b = new String( a ); var c = Object( a ); typeof a; // "string" typeof b; // "object" typeof c; // "object" b instanceof String; // true c instanceof String; // true Object.prototype.toString.call( b ); // "[object String]" Object.prototype.toString.call( c ); // "[object String]" æ‹†å°å¦‚æœæƒ³è¦å¾—åˆ°å°è£…å¯¹è±¡ä¸­çš„åŸºæœ¬ç±»å‹å€¼ï¼Œå¯ä»¥ä½¿ç”¨ valueOf() å‡½æ•°: 123456var a = new String( "abc" ); var b = new Number( 42 ); var c = new Boolean( true ); a.valueOf(); // "abc" b.valueOf(); // 42 c.valueOf(); // true Symbol(..)ç¬¦å·(Symbol)ã€‚ç¬¦å·æ˜¯å…·æœ‰å”¯ä¸€æ€§çš„ç‰¹æ®Šå€¼(å¹¶ éç»å¯¹)ï¼Œç”¨å®ƒæ¥å‘½åå¯¹è±¡å±æ€§ä¸å®¹æ˜“å¯¼è‡´é‡å ç¬¦å·å¹¶éå¯¹è±¡ï¼Œè€Œæ˜¯ä¸€ç§ç®€å•çš„æ ‡é‡åŸºæœ¬ç±»å‹ã€‚ å°ç»“JavaScript ä¸ºåŸºæœ¬æ•°æ®ç±»å‹å€¼æä¾›äº†å°è£…å¯¹è±¡ï¼Œç§°ä¸ºåŸç”Ÿå‡½æ•°(å¦‚ Stringã€Numberã€Boolean ç­‰)ã€‚å®ƒä»¬ä¸ºåŸºæœ¬æ•°æ®ç±»å‹å€¼æä¾›äº†è¯¥å­ç±»å‹æ‰€ç‰¹æœ‰çš„æ–¹æ³•å’Œå±æ€§(å¦‚:String#trim() å’Œ Array#concat(..))ã€‚ å¯¹äºç®€å•æ ‡é‡åŸºæœ¬ç±»å‹å€¼ï¼Œæ¯”å¦‚ â€œabcâ€ï¼Œå¦‚æœè¦è®¿é—®å®ƒçš„ length å±æ€§æˆ– String.prototype æ–¹æ³•ï¼ŒJavaScript å¼•æ“ä¼šè‡ªåŠ¨å¯¹è¯¥å€¼è¿›è¡Œå°è£…(å³ç”¨ç›¸åº”ç±»å‹çš„å°è£…å¯¹è±¡æ¥åŒ…è£…å®ƒ)æ¥å® ç°å¯¹è¿™äº›å±æ€§å’Œæ–¹æ³•çš„è®¿é—®ã€‚]]></content>
      <categories>
        <category>ä½ ä¸çŸ¥é“çš„JavaScript</category>
      </categories>
      <tags>
        <tag>å°è£…</tag>
        <tag>è§£å°</tag>
        <tag>åŸç”Ÿå‡½æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript å€¼]]></title>
    <url>%2F2017%2F10%2F11%2Fcl4s3gter002swn9ep79liokq%2F</url>
    <content type="text"><![CDATA[æ•°ç»„ æ•°ç»„å¯ä»¥å®¹çº³ä»»ä½•ç±»å‹çš„å€¼ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€ æ•°å­—ã€å¯¹è±¡(object)ï¼Œç”šè‡³æ˜¯å…¶ä»–æ•°ç»„(å¤šç»´æ•°ç»„å°±æ˜¯é€šè¿‡è¿™ç§æ–¹å¼æ¥å®ç°çš„) ä½¿ç”¨ delete è¿ç®—ç¬¦å¯ä»¥å°†å•å…ƒä»æ•°ç»„ä¸­åˆ é™¤ï¼Œä½†æ˜¯è¯·æ³¨æ„ï¼Œå•å…ƒåˆ é™¤åï¼Œæ•° ç»„çš„ length å±æ€§å¹¶ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚ å¯ä»¥é€šè¿‡ä¸‹æ ‡å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œç´¢å¼•ï¼Œä½†æ˜¯åŒæ—¶ï¼Œæ•°ç»„ä¹Ÿæ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ç‚¹æ“ä½œç¬¦ä»¥åŠ[â€˜â€™]è·å–æ•°ç»„å…ƒç´ ï¼š 123456var a = [ ];a[0] = 1;a["foobar"] = 2;a.length;a["foobar"];a.foobar; éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“ä½¿ç”¨[â€˜1â€™]æ•°å­—å­—ç¬¦ä¸²çš„æ€§è´¨ï¼Œä¼šè¢«å¼ºåˆ¶ç±»å‹è½¬æ¢æˆåè¿›åˆ¶æ•°å­—ã€‚ åœ¨æ•°ç»„ä¸­åŠ å…¥å­—ç¬¦ä¸²é”®å€¼ / å±æ€§å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚å»ºè®®ä½¿ç”¨å¯¹è±¡æ¥å­˜æ”¾é”®å€¼ / å±æ€§å€¼ï¼Œ ç”¨æ•°ç»„æ¥å­˜æ”¾æ•°å­—ç´¢å¼•å€¼ã€‚ ç±»æ•°ç»„æœ‰æ—¶éœ€è¦å°†ç±»æ•°ç»„(ä¸€ç»„é€šè¿‡æ•°å­—ç´¢å¼•çš„å€¼)è½¬æ¢ä¸ºçœŸæ­£çš„æ•°ç»„ï¼Œè¿™ä¸€èˆ¬é€šè¿‡æ•°ç»„å·¥å…·å‡½æ•°(å¦‚ indexOf(..)ã€concat(..)ã€forEach(..) ç­‰)æ¥å®ç°ã€‚ Array.from() æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„å¤æœ¬ 12345Array.from('dsdgarg')(7) ["d", "s", "d", "g", "a", "r", "g"]Array.from([1,2])(2) [1, 2] å­—ç¬¦ä¸²åœ¨JavaScriptä¸­å­—ç¬¦ä¸²ä¸å­—ç¬¦ä¸²æ•°ç»„ä¸æ˜¯ä¸€å›äº‹ï¼Œå°½ç®¡è¿™ä¸¤è€…å¾ˆç›¸ä¼¼ã€‚ 12var a = "foo";var b = ["f","o","o"] éƒ½æœ‰lengthå±æ€§ä»¥åŠindexOf()æ–¹æ³•å’Œconcat(â€¦) æ–¹æ³• éƒ½å¯ä»¥é€šè¿‡b[1]è·å–å…ƒç´ ï¼Œ ä½†æ˜¯ä½ç‰ˆæœ¬çš„IEä¸­éœ€è¦é€šè¿‡a. chartAt(1)æ–¹æ³•è·å–æŒ‡å®šä¸‹æ ‡çš„å­—ç¬¦ ä¸€ä¸ªæœ‰è¶£çš„äº‹æƒ…ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•æ¥å¤„ç†å­—ç¬¦ä¸² 12345678a.join; // undefined a.map; // undefined var c = Array.prototype.join.call( a, "-" ); var d = Array.prototype.map.call( a, function(v)&#123; return v.toUpperCase() + "."; &#125; ).join( "" ); c; // "f-o-o" d; // "F.O.O." å­—ç¬¦ä¸²åè½¬çš„ä¾‹å­ï¼Œæ•°ç»„æœ‰ä¸€ä¸ªæ–¹æ³•reverse() 123456a.reverse;b.reverse();b;// undefined// ["!","o","O","f"]// ["f","O","o","!"] ä¸€ä¸ªå˜é€š(ç ´è§£)çš„åŠæ³•æ˜¯å…ˆå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°ç»„ï¼Œå¾…å¤„ç†å®Œåå†å°†ç»“æœè½¬æ¢å›å­—ç¬¦ä¸²: 12345var c = a// å°†açš„å€¼è½¬æ¢ä¸ºå­—ç¬¦æ•°ç»„ .split( "" )// å°†æ•°ç»„ä¸­çš„å­—ç¬¦è¿›è¡Œå€’è½¬ .reverse()// å°†æ•°ç»„ä¸­çš„å­—ç¬¦æ‹¼æ¥å›å­—ç¬¦ä¸² .join( "" );c; // "oof" è¿™ç§æ–¹æ³•çš„ç¡®ç®€å•ç²—æš´ï¼Œä½†å¯¹ç®€å•çš„å­—ç¬¦ä¸²å´å®Œå…¨é€‚ç”¨ã€‚ä¸Šè¿°æ–¹æ³•å¯¹äºåŒ…å«å¤æ‚å­—ç¬¦(Unicodeï¼Œå¦‚æ˜Ÿå·ã€å¤šå­—èŠ‚å­—ç¬¦ç­‰)çš„ å­—ç¬¦ä¸²å¹¶ä¸é€‚ç”¨ã€‚ æ•°å­— JavaScript åªæœ‰ä¸€ç§æ•°å€¼ç±»å‹:number(æ•°å­—)ï¼ŒåŒ…æ‹¬â€œæ•´æ•°â€å’Œå¸¦å°æ•°çš„åè¿›åˆ¶æ•° æŒ‡æ•°æ ¼å¼æ˜¾ç¤ºï¼ŒtoExponential() å‡½æ•° 1234567var a = 5E10; a; // 50000000000 a.toExponential(); // "5e+10" var b = a * a; b; // 2.5e+21 var c = 1 / a; c; // 2e-11 tofixed(..) æ–¹æ³•å¯æŒ‡å®šå°æ•°éƒ¨åˆ†çš„æ˜¾ç¤ºä½æ•°: 123456var a = 42.59; a.toFixed( 0 ); // "43" a.toFixed( 1 ); // "42.6" a.toFixed( 2 ); // "42.59" a.toFixed( 3 ); // "42.590" a.toFixed( 4 ); // "42.5900" toPrecision(..) æ–¹æ³•ç”¨æ¥æŒ‡å®šæœ‰æ•ˆæ•°ä½çš„æ˜¾ç¤ºä½æ•°:: 1234567var a = 42.59; a.toPrecision( 1 ); // "4e+1" a.toPrecision( 2 ); // "43" a.toPrecision( 3 ); // "42.6" a.toPrecision( 4 ); // "42.59" a.toPrecision( 5 ); // "42.590" a.toPrecision( 6 ); // "42.5900" è¾ƒå°çš„æ•°å€¼0.1 + 0.2 === 0.3; // false ç›¸åŠ çš„ç»“æœæ˜¯ä¸€ä¸ªæ¯”è¾ƒæ¥è¿‘çš„æ•°å­—0.30000000000000004ï¼Œé‚£ä¹ˆå¦‚ä½•åˆ¤æ–­ç›¸åŠ æ˜¯ç›¸ç­‰çš„å‘¢ï¼Ÿ è®¾ç½®ä¸€ä¸ªè¯¯å·®èŒƒå›´å€¼ï¼š ä» ES6 å¼€å§‹ï¼Œè¯¥å€¼å®šä¹‰åœ¨ Number.EPSILON ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨ï¼Œä¹Ÿå¯ä»¥ä¸º ES6 ä¹‹å‰çš„ç‰ˆæœ¬å†™ polyfill: 123 if (!Number.EPSILON) &#123; Number.EPSILON = Math.pow(2,-52);&#125; ä½¿ç”¨ Number.EPSILON æ¥æ¯”è¾ƒä¸¤ä¸ªæ•°å­—æ˜¯å¦ç›¸ç­‰ 1234567function numbersCloseEnoughToEqual(n1,n2) &#123; return Math.abs( n1 - n2 ) &lt; Number.EPSILON;&#125; var a = 0.1 + 0.2; var b = 0.3; numbersCloseEnoughToEqual( a, b ); numbersCloseEnoughToEqual( 0.0000001, 0.0000002 ); // false æ•°çš„æé™èŒƒå›´ 1.798e+308 5e-324ï¼ˆä¸æ˜¯è´Ÿæ•°ï¼Œä½†æ— é™æ¥è¿‘0ï¼‰ æ•´æ•°çš„å®‰å…¨èŒƒå›´èƒ½å¤Ÿè¢«â€œå®‰å…¨â€å‘ˆç°çš„æœ€å¤§æ•´æ•°æ˜¯ 2^53 - 1ï¼Œå³ 9007199254740991ï¼Œåœ¨ ES6 ä¸­è¢«å®šä¹‰ä¸º Number.MAX_SAFE_INTEGERã€‚æœ€å°æ•´æ•°æ˜¯ -9007199254740991ï¼Œåœ¨ ES6 ä¸­è¢«å®šä¹‰ä¸º Number. MIN_SAFE_INTEGERã€‚ æ•´æ•°çš„æ£€æµ‹Number.isInteger(..)æ–¹æ³•ï¼š 1234567891011//ES6ä¹‹å‰ if (!Number.isInteger) &#123; Number.isInteger = function(num) &#123; return typeof num == "number" &amp;&amp; num % 1 == 0; &#125;;&#125;//ES6è¯­æ³•Number.isInteger( 42 ); // true Number.isInteger( 42.000 ); // true Number.isInteger( 42.3 ); // false æ£€æµ‹ä¸€ä¸ªå€¼æ˜¯å¦æ˜¯å®‰å…¨çš„æ•´æ•°ï¼Œnumber.isSafeInteger(..) æ–¹æ³•: 123456789101112if (!Number.isSafeInteger) &#123; Number.isSafeInteger = function(num) &#123; return Number.isInteger( num ) &amp;&amp; Math.abs( num ) &lt;= Number.MAX_SAFE_INTEGER;&#125;; &#125;Number.isSafeInteger( Number.MAX_SAFE_INTEGER );Number.isSafeInteger( Math.pow( 2, 53 ) );Number.isSafeInteger( Math.pow( 2, 53 ) - 1 );// true// false// true ä¸€äº›ç‰¹æ®Šçš„å€¼ nullï¼šæŒ‡çš„æ˜¯ç©ºå€¼ï¼Œæˆ–è€…æ›¾ç»èµ‹å€¼ï¼Œä½†ç°åœ¨æ²¡æœ‰å€¼ï¼Œåˆå§‹åŒ–æ—¶ä¼šèµ‹å€¼æˆnullä»¥ä¾¿äºå’ŒundefinedåŒºåˆ† undefinedï¼šæŒ‡çš„æ˜¯æ²¡æœ‰å€¼ï¼Œä»æœªèµ‹å€¼ voidè¿ç®—ç¬¦ï¼šé€šè¿‡voidè¿ç®—ç¬¦å¯ä»¥è®©è¡¨è¾¾å¼è¿”å›undefined NaNï¼šä¸æ˜¯æ•°å­—çš„æ•°å­—ï¼Œå¦‚æœæ•°å­¦è¿ç®—çš„æ“ä½œæ•°ä¸æ˜¯æ•°å­—ç±»å‹ï¼Œå°±æ— æ³•è¿”å›ä¸€ä¸ªæœ‰æ•ˆçš„æ•°å­—ï¼Œè¿™ç§æƒ…å†µä¸‹è¿”å›å€¼ä¸ºNaNï¼Œæ¨èä½¿ç”¨ES6ä¸­çš„Number.isNan(..)æ–¹æ³•ï¼Œä»¥é¿å…ä¸€äº›å†å²é—ç•™çš„é—®é¢˜ -0+0: è½¬æ¢è®©äººè¿·æƒ‘ï¼Œè¿˜æ˜¯æŸ¥æ–‡æ¡£å§ å€¼å’Œå¼•ç”¨ å¼•ç”¨å°±åƒä¸€ç§ç‰¹æ®Šçš„æŒ‡ é’ˆï¼Œæ˜¯æ¥æŒ‡å‘å˜é‡çš„æŒ‡é’ˆ(åˆ«å)ã€‚å¦‚æœå‚æ•°ä¸å£°æ˜ä¸ºå¼•ç”¨çš„è¯ï¼Œå‚æ•°å€¼æ€»æ˜¯é€šè¿‡å€¼å¤åˆ¶ çš„æ–¹å¼ä¼ é€’ï¼Œå³ä¾¿å¯¹å¤æ‚çš„å¯¹è±¡å€¼ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ ç®€å•å€¼(å³æ ‡é‡åŸºæœ¬ç±»å‹å€¼ï¼Œscalar primitive)æ€»æ˜¯é€šè¿‡å€¼å¤åˆ¶çš„æ–¹å¼æ¥èµ‹å€¼/ä¼ é€’ï¼ŒåŒ…æ‹¬ nullã€undefinedã€å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å’Œ ES6 ä¸­çš„ symbolã€‚ å¤åˆå€¼(compound value)â€”â€”å¯¹è±¡(åŒ…æ‹¬æ•°ç»„å’Œå°è£…å¯¹è±¡ï¼Œå‚è§ç¬¬3ç« )å’Œå‡½æ•°ï¼Œåˆ™æ€» æ˜¯é€šè¿‡å¼•ç”¨å¤åˆ¶çš„æ–¹å¼æ¥èµ‹å€¼ / ä¼ é€’ã€‚ ç”±äºå¼•ç”¨æŒ‡å‘çš„æ˜¯å€¼æœ¬èº«è€Œéå˜é‡ï¼Œæ‰€ä»¥ä¸€ä¸ªå¼•ç”¨æ— æ³•æ›´æ”¹å¦ä¸€ä¸ªå¼•ç”¨çš„æŒ‡å‘ã€‚ 123456var a = [1,2,3]; var b = a; a; // [1,2,3] b; // [1,2,3]// ç„¶åb = [4,5,6]; a; // [1,2,3] b; // [4,5,6] å¼•ç”¨æŒ‡å‘çš„å€¼æœ¬èº«ï¼Œæ‰€ä»¥åœ¨å‡½æ•°å‚æ•°ä¼ é€’çš„æ—¶å€™ï¼š 12345678910function foo(x) &#123; x.push( 4 ); x; // [1,2,3,4]// ç„¶åx = [4,5,6]; x.push( 7 );x; // [4,5,6,7]&#125;var a = [1,2,3];foo( a );a; // æ˜¯[1,2,3,4]ï¼Œä¸æ˜¯[4,5,6,7] æˆ‘ä»¬æ— æ³•è‡ªè¡Œå†³å®šä½¿ç”¨å€¼å¤åˆ¶è¿˜æ˜¯å¼•ç”¨å¤åˆ¶ï¼Œä¸€åˆ‡ç”±å€¼çš„ç±»å‹æ¥å†³å®šã€‚ å€¼å¤åˆ¶å¦‚æœé€šè¿‡å€¼å¤åˆ¶çš„æ–¹å¼æ¥ä¼ é€’å¤åˆå€¼(å¦‚æ•°ç»„)ï¼Œå°±éœ€è¦ä¸ºå…¶åˆ›å»ºä¸€ä¸ªå¤æœ¬ï¼Œè¿™æ ·ä¼ é€’çš„ å°±ä¸å†æ˜¯åŸå§‹å€¼ã€‚ä¾‹å¦‚: 1foo( a.slice() ); slice(..)ä¸å¸¦å‚æ•°ä¼šè¿”å›å½“å‰æ•°ç»„çš„ä¸€ä¸ªæµ…å‰¯æœ¬ï¼Œç”±äºä¼ é€’ç»™å‡½æ•°çš„æ˜¯æŒ‡å‘è¯¥å‰¯æœ¬çš„å¼•ç”¨ï¼Œæ‰€ä»¥åœ¨å‡½æ•°ä¸­çš„æ“ä½œä¸ä¼šå½±å“åˆ°aæŒ‡å‘çš„æ•°ç»„ã€‚ ç›¸åçš„ï¼Œå¦‚æœè¦å°†åŸºæœ¬æ•°æ®ç±»å‹çš„å€¼ä¼ é€’åˆ°å‡½æ•°å†…ï¼Œå¹¶ä¸”ä¿®æ”¹ä¹‹ï¼Œå°±éœ€è¦å°†è¯¥å€¼å°è£…å¥—ä¸€ä¸ªå¤åˆå€¼ï¼ˆå¯¹è±¡æˆ–è€…æ•°ç»„ç­‰ï¼‰ä¸­ï¼Œç„¶åé€šè¿‡å¼•ç”¨å¤åˆ¶çš„æ–¹å¼ä¼ é€’ å°ç»“null ç±»å‹åªæœ‰ä¸€ä¸ªå€¼ nullï¼Œundefined ç±»å‹ä¹Ÿåªæœ‰ä¸€ä¸ªå€¼ undefinedã€‚æ‰€æœ‰å˜é‡åœ¨èµ‹å€¼ä¹‹ å‰é»˜è®¤å€¼éƒ½æ˜¯ undefinedã€‚void è¿ç®—ç¬¦è¿”å› undefinedã€‚ æ•°å­—ç±»å‹æœ‰å‡ ä¸ªç‰¹æ®Šå€¼ï¼ŒåŒ…æ‹¬ NaN(æ„æŒ‡â€œnot a numberâ€ï¼Œæ›´ç¡®åˆ‡åœ°è¯´æ˜¯â€œinvalid numberâ€)ã€+Infinityã€-Infinity å’Œ -0ã€‚ ç®€å•æ ‡é‡åŸºæœ¬ç±»å‹å€¼(å­—ç¬¦ä¸²å’Œæ•°å­—ç­‰)é€šè¿‡å€¼å¤åˆ¶æ¥èµ‹å€¼ / ä¼ é€’ï¼Œè€Œå¤åˆå€¼(å¯¹è±¡ç­‰) é€šè¿‡å¼•ç”¨å¤åˆ¶æ¥èµ‹å€¼ / ä¼ é€’ã€‚JavaScript ä¸­çš„å¼•ç”¨å’Œå…¶ä»–è¯­è¨€ä¸­çš„å¼•ç”¨ / æŒ‡é’ˆä¸åŒï¼Œå®ƒä»¬ä¸ èƒ½æŒ‡å‘åˆ«çš„å˜é‡ / å¼•ç”¨ï¼Œåªèƒ½æŒ‡å‘å€¼ã€‚]]></content>
      <categories>
        <category>ä½ ä¸çŸ¥é“çš„JavaScript</category>
      </categories>
      <tags>
        <tag>ç±»å‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptç±»å‹]]></title>
    <url>%2F2017%2F10%2F10%2Fcl4s3gtf1003dwn9ejzpzhxb4%2F</url>
    <content type="text"><![CDATA[ç±»å‹ è¦æ­£ç¡®åˆç†åœ°è¿›è¡Œç±»å‹è½¬æ¢(å‚è§ç¬¬ 4 ç« )ï¼Œæˆ‘ä»¬å¿…é¡»æŒæ¡ JavaScript ä¸­çš„å„ä¸ªç±»å‹åŠå…¶å†… åœ¨è¡Œä¸ºã€‚å‡ ä¹æ‰€æœ‰çš„ JavaScript ç¨‹åºéƒ½ä¼šæ¶‰åŠæŸç§å½¢å¼çš„å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå¤„ç†è¿™äº›æƒ…å†µæ—¶ æˆ‘ä»¬éœ€è¦æœ‰å……åˆ†çš„æŠŠæ¡å’Œè‡ªä¿¡ã€‚ å†…ç½®ç±»å‹JavaScript æœ‰ä¸ƒç§å†…ç½®ç±»å‹ï¼ˆä¹Ÿç§°åŸºæœ¬ç±»å‹ï¼‰: â€¢ ç©ºå€¼(null)â€¢ æœªå®šä¹‰(undefined)â€¢ å¸ƒå°”å€¼(boolean)â€¢ æ•°å­—(number)â€¢ å­—ç¬¦ä¸²(string)â€¢ å¯¹è±¡(object)â€¢ ç¬¦å·(symbolï¼ŒES6ä¸­æ–°å¢) typeofè¿ç®—ç¬¦ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œnullç±»å‹æ¯”è¾ƒç‰¹æ®Š typeof null === â€œobjectâ€; // true æ‰€ä»¥éœ€è¦å¤åˆæ¡ä»¶æ¥æ£€æµ‹nullå€¼ç±»å‹ï¼š 12var a = null(!a &amp;&amp; typeof a === 'object'); //true è¿˜æœ‰ä¸€ç§æƒ…å†µ 1typeof function a() &#123; /* ... */&#125; === 'function' //true functionå®é™…ä¸Šæ˜¯objectçš„ä¸€ä¸ªâ€˜å­ç±»å‹â€™ å‡½æ•°ä¸ä»…æ˜¯å¯¹è±¡ï¼Œè¿˜å¯ä»¥æ‹¥æœ‰å±æ€§ã€‚ä¾‹å¦‚: 123 function a(b,c) &#123; /* .. */&#125; å‡½æ•°å¯¹è±¡çš„ length å±æ€§æ˜¯å…¶å£°æ˜çš„å‚æ•°çš„ä¸ªæ•°: 1a.length; // 2 å› ä¸ºè¯¥å‡½æ•°å£°æ˜äº†ä¸¤ä¸ªå‘½åå‚æ•°ï¼Œb å’Œ cï¼Œæ‰€ä»¥å…¶ length å€¼ä¸º 2ã€‚ æ•°ç»„ä¹Ÿæ˜¯objectçš„ä¸€ä¸ªâ€˜å­ç±»å‹â€™ 1typeof [1,2,3] === "object"; // true å€¼å’Œç±»å‹ JavaScript ä¸åšâ€œç±»å‹å¼ºåˆ¶â€;ä¹Ÿå°±æ˜¯è¯´ï¼Œè¯­è¨€å¼•æ“ä¸è¦æ±‚å˜é‡æ€»æ˜¯ æŒæœ‰ä¸å…¶åˆå§‹å€¼åŒç±»å‹çš„å€¼ã€‚ä¸€ä¸ªå˜é‡å¯ä»¥ç°åœ¨è¢«èµ‹å€¼ä¸ºå­—ç¬¦ä¸²ç±»å‹å€¼ï¼Œéšååˆè¢«èµ‹å€¼ä¸º æ•°å­—ç±»å‹å€¼ã€‚ å½“å˜é‡æœªæŒæœ‰å€¼çš„æ—¶å€™ä¸ºundefinedï¼Œæ­¤æ—¶typeofè¿”å›â€˜undefinedâ€™ 12var a;typeof a; // "undefined" undefinedï¼ˆå£°æ˜æœªèµ‹å€¼ï¼‰ä¸undeclaredï¼ˆæœªå£°æ˜ï¼‰123var a; a; // undefined b; // ReferenceError: b is not defined ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œtypeofè¿ç®—ç¬¦å¯¹ä¸¤ç§æƒ…å†µéƒ½ä¸€æ ·çš„ç»“æœï¼š 123var a; typeof a; // "undefined" typeof b; // "undefined" typeof Undeclaredé¡¶å±‚çš„å…¨å±€å˜é‡å£°æ˜ var DEBUG = true åªåœ¨ debug.js æ–‡ä»¶ä¸­æ‰æœ‰ï¼Œè€Œè¯¥æ–‡ä»¶åªåœ¨å¼€å‘å’Œæµ‹è¯•æ—¶æ‰è¢«åŠ è½½åˆ°æµè§ˆå™¨ï¼Œåœ¨ç”Ÿäº§ç¯ å¢ƒä¸­ä¸äºˆåŠ è½½ã€‚ é—®é¢˜æ˜¯å¦‚ä½•åœ¨ç¨‹åºä¸­æ£€æŸ¥å…¨å±€å˜é‡ DEBUG æ‰ä¸ä¼šå‡ºç° ReferenceError é”™è¯¯ã€‚è¿™æ—¶ typeof çš„ å®‰å…¨é˜²èŒƒæœºåˆ¶å°±æˆäº†æˆ‘ä»¬çš„å¥½å¸®æ‰‹: 123456789//è¿™æ ·ä¼šæŠ›å‡ºé”™è¯¯if (DEBUG) &#123; console.log( "Debugging is starting" )&#125;//è¿™æ ·æ˜¯å®‰å…¨çš„if (typeof DEBUG !== 'undefined') &#123; console.log('Debugging is starting')&#125; è¿™ä¸ä»…å¯¹ç”¨æˆ·å®šä¹‰çš„å˜é‡æœ‰ç”¨ï¼Œä¹Ÿå¯¹å†…å»ºçš„APIæœ‰å¸®åŠ©ï¼š 123if(typeof atob === 'undefined') &#123; atob = function() &#123; /* ... */ &#125;&#125; é™¤äº†ä½¿ç”¨typeofè¿ç®—ç¬¦ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨windowå…¨å±€å¯¹è±¡ï¼Œå› ä¸ºè®¿é—®ä¸å­˜åœ¨çš„å¯¹è±¡å±æ€§ä¸ä¼šæœ‰ReferenceErroré”™è¯¯ã€‚é—®é¢˜åœ¨äºï¼Œå…¨å±€å¯¹è±¡å¹¶ä¸æ€»æ˜¯windowï¼Œä¾‹å¦‚åœ¨æœåŠ¡å™¨ç«¯ï¼Œnode.jsç­‰ 123456 if (window.DEBUG) &#123; // ..&#125; if (!window.atob) &#123; // ..&#125; æ€»ä¹‹ï¼Œtypeofçš„å®‰å…¨é˜²èŒƒæœºåˆ¶ä¸ºæˆ‘ä»¬æä¾›äº†æ›´å¤šé€‰æ‹© å°ç»“JavaScript æœ‰ ä¸ƒ ç§ å†… ç½® ç±» å‹:nullã€undefinedã€booleanã€numberã€stringã€object å’Œsymbolï¼Œå¯ä»¥ä½¿ç”¨ typeof è¿ç®—ç¬¦æ¥æŸ¥çœ‹ã€‚ å˜é‡æ²¡æœ‰ç±»å‹ï¼Œä½†å®ƒä»¬æŒæœ‰çš„å€¼æœ‰ç±»å‹ã€‚ç±»å‹å®šä¹‰äº†å€¼çš„è¡Œä¸ºç‰¹å¾ã€‚ å¾ˆå¤šå¼€å‘äººå‘˜å°† undefined å’Œ undeclared æ··ä¸ºä¸€è°ˆï¼Œä½†åœ¨ JavaScript ä¸­å®ƒä»¬æ˜¯ä¸¤ç äº‹ã€‚ undefined æ˜¯å€¼çš„ä¸€ç§ã€‚undeclared åˆ™è¡¨ç¤ºå˜é‡è¿˜æ²¡æœ‰è¢«å£°æ˜è¿‡ã€‚é—æ†¾çš„æ˜¯ï¼ŒJavaScript å´å°†å®ƒä»¬æ··ä¸ºä¸€è°ˆï¼Œåœ¨æˆ‘ä»¬è¯•å›¾è®¿é—® â€œundeclaredâ€ å˜é‡æ—¶è¿™æ ·æŠ¥ é”™:ReferenceError: a is not definedï¼Œå¹¶ä¸”typeofå¯¹undefinedå’Œundeclaredå˜é‡éƒ½è¿”å› â€œundefinedâ€ã€‚ ç„¶è€Œï¼Œé€šè¿‡ typeof çš„å®‰å…¨é˜²èŒƒæœºåˆ¶(é˜»æ­¢æŠ¥é”™)æ¥æ£€æŸ¥ undeclared å˜é‡ï¼Œæœ‰æ—¶æ˜¯ä¸ªä¸é”™çš„ åŠæ³•ã€‚]]></content>
      <categories>
        <category>ä½ ä¸çŸ¥é“çš„JavaScript</category>
      </categories>
      <tags>
        <tag>ç±»å‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¡Œä¸ºå§”æ‰˜]]></title>
    <url>%2F2017%2F10%2F08%2Fcl4s3gtix00aywn9eim79396m%2F</url>
    <content type="text"><![CDATA[[[Prototype]] æœºåˆ¶å°±æ˜¯æŒ‡å¯¹è±¡ä¸­çš„ä¸€ä¸ªå†…éƒ¨é“¾æ¥å¼•ç”¨ å¦ä¸€ä¸ªå¯¹è±¡ã€‚JavaScript ä¸­è¿™ä¸ªæœºåˆ¶çš„æœ¬è´¨å°±æ˜¯å¯¹è±¡ä¹‹é—´çš„å…³è”å…³ç³» é¢å‘å§”æ‰˜çš„è®¾è®¡æ¨¡å¼ä¸ºäº†æ›´å¥½åœ°å­¦ä¹ å¦‚ä½•æ›´ç›´è§‚åœ°ä½¿ç”¨ [[Prototype]]ï¼Œæˆ‘ä»¬å¿…é¡»è®¤è¯†åˆ°å®ƒä»£è¡¨çš„æ˜¯ä¸€ç§ä¸åŒäºç±»(å‚è§ç¬¬ 4 ç« )çš„è®¾è®¡æ¨¡å¼ã€‚ ç±»ç†è®ºç±»è®¾è®¡æ¨¡å¼é¼“åŠ±ä½ åœ¨ç»§æ‰¿æ—¶ä½¿ç”¨æ–¹æ³•é‡å†™(å’Œå¤šæ€) å§”æ‰˜ç†è®º123456789101112131415161718192021222324252627Task = &#123; setID: function(ID) &#123; this.id = ID &#125;, outputID: function() &#123; console.log(this.id) &#125;&#125;//è®©XYZå§”æ‰˜TaskXYZ = Object.create(Task)XYZ.prepareTask = function(ID, Label) &#123; this.setID(ID) this.lable = Label&#125;XYZ.outputTaskDetails = function() &#123; this.outputID() console.log(this.lable)&#125;XYZ.prepareTask(1222, 'hh')XYZ.outputTaskDetails()/** * 1222 * hh */ å°†XYZå§”æ‰˜ç»™Taskï¼Œ å½“XYZå¯¹è±¡æ‰§è¡ŒsetIDæ–¹å¼æ—¶ï¼Œè¯¥å¯¹è±¡æœ¬èº«å¹¶æ²¡æœ‰è¯¥æ–¹æ³•ï¼Œä¼šæ²¿ç€åŸå‹é“¾æŸ¥æ‰¾åˆ°Taskå¯¹è±¡ä¸Šï¼Œ this.id = IDå…¶å®æ˜¯éšå¼ç»‘å®šã€‚å½“å‰çš„thisç»‘å®šè¿™XYZå¹¶ä¸æ˜¯Task æ‰“å°XYZä¸Taskå¯¹è±¡çš„å±æ€§ï¼Œå¦‚ä¸‹ï¼š 1234567&#123; prepareTask: [Function], outputTaskDetails: [Function], id: 1222, lable: 'hh' &#125; &#123; setID: [Function: setID], outputID: [Function: outputID] &#125; å§”æ‰˜è¡Œä¸ºæ„å‘³ç€æŸäº›å¯¹è±¡(XYZ)åœ¨æ‰¾ä¸åˆ°å±æ€§æˆ–è€…æ–¹æ³•å¼•ç”¨æ—¶ä¼šæŠŠè¿™ä¸ªè¯·æ±‚å§”æ‰˜ç»™å¦ä¸€ä¸ªå¯¹è±¡(Task)ã€‚ è¿™ç§è®¾è®¡æ¨¡å¼éœ€è¦æ³¨æ„çš„å‡ ä¸ªé—®é¢˜ï¼š å§”æ‰˜ä¸­æœ€å¥½æŠŠçŠ¶æ€ä¿å­˜åœ¨å§”æ‰˜è€…(XYZã€ABC)è€Œä¸æ˜¯å§”æ‰˜ç›®æ ‡(Task)ä¸Šã€‚å¦‚ä¸Šä¾‹å­ä¸­ï¼Œidä¸labeléƒ½å±äºå¯¹è±¡XYZ è¿›è¡Œé¿å…åœ¨ä¸åŒçº§åˆ«ä¸­ä½¿ç”¨ç›¸åŒçš„æ–¹æ³•æˆ–å±æ€§å‘½åï¼Œæå€¡æ›´æœ‰æè¿°æ€§çš„æ–¹æ³•åï¼Œå°¤å…¶æ˜¯è¦å†™æ¸…ç›¸åº”å¯¹è±¡è¡Œä¸ºçš„ç±»å‹ã€‚ ä½¿ç”¨thisçš„éšå¼ç»‘å®šï¼Œå°†éœ€è¦çš„å±æ€§ç»‘å®šåˆ°å§”æ‰˜è€…èº«ä¸Šï¼Œå°¤å…¶æ˜¯å¯¹äºä¸€äº›ç§æœ‰çš„æ•°æ®å±æ€§ï¼Œè¿™å¹¶ä¸éœ€è¦ä¿å­˜åœ¨å§”æ‰˜ç›®æ ‡ä¸Šã€‚ äº’ç›¸å§”æ‰˜ï¼ˆç¦æ­¢ï¼‰ä½ æ— æ³•åœ¨ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šäº’ç›¸(åŒå‘)å§”æ‰˜çš„å¯¹è±¡ä¹‹é—´åˆ›å»ºå¾ªç¯å§”æ‰˜ã€‚å¦‚æœä½ æŠŠ B å…³è”åˆ° A ç„¶åè¯•ç€æŠŠ A å…³è”åˆ° Bï¼Œå°±ä¼šå‡ºé”™ã€‚ ä¹‹æ‰€ä»¥è¦ç¦æ­¢äº’ç›¸å§”æ‰˜ï¼Œæ˜¯å› ä¸ºå¼•æ“çš„å¼€å‘è€…ä»¬å‘ç°åœ¨è®¾ç½®æ—¶æ£€æŸ¥(å¹¶ç¦æ­¢!)ä¸€æ¬¡æ— é™ å¾ªç¯å¼•ç”¨è¦æ›´åŠ é«˜æ•ˆï¼Œå¦åˆ™æ¯æ¬¡ä»å¯¹è±¡ä¸­æŸ¥æ‰¾å±æ€§æ—¶éƒ½éœ€è¦è¿›è¡Œæ£€æŸ¥ã€‚ æ¯”è¾ƒæ€ç»´æ¨¡å‹å¯¹æ¯”JavaScriptä¸­é¢å‘å¯¹è±¡ä¸å¯¹è±¡å…³è”ä¸¤ç§è®¾è®¡æ¨¡å¼ï¼š 12345678910111213function Foo(who) &#123; this.me = who;&#125;Foo.prototype.identify = function() &#123;return "I am " + this.me; &#125;;function Bar(who) &#123; Foo.call( this, who ); &#125; Bar.prototype = Object.create( Foo.prototype );Bar.prototype.speak = function() &#123;alert( "Hello, " + this.identify() + "." );&#125;;var b1 = new Bar( "b1" );var b2 = new Bar( "b2" ); b1.speak();b2.speak(); å­ç±» Bar ç»§æ‰¿äº†çˆ¶ç±» Fooï¼Œç„¶åç”Ÿæˆäº† b1 å’Œ b2 ä¸¤ä¸ªå®ä¾‹ã€‚b1 å§”æ‰˜äº† Bar.prototypeï¼Œåè€…å§”æ‰˜äº† Foo.prototypeã€‚ 12345678910111213141516171819Foo = &#123; init: function(who) &#123; this.me = who; &#125;, identify: function() &#123; return "I am " + this.me;&#125; &#125;;Bar = Object.create( Foo );Bar.speak = function() &#123; alert( "Hello, " + this.identify() + "." );&#125;;var b1 = Object.create( Bar );b1.init( "b1" );var b2 = Object.create( Bar );b2.init( "b2" );b1.speak();b2.speak(); å¯¹è±¡å…³è”é£æ ¼ä»£ç çš„æ€ç»´æ¨¡å‹ å¯¹è±¡ä¹‹é—´çš„å…³è”å…³ç³»ã€‚ å°ç»“è¡Œä¸ºå§”æ‰˜è®¤ä¸ºå¯¹è±¡ä¹‹é—´æ˜¯å…„å¼Ÿå…³ç³»ï¼Œäº’ç›¸å§”æ‰˜ï¼Œè€Œä¸æ˜¯çˆ¶ç±»å’Œå­ç±»çš„å…³ç³»ã€‚JavaScript çš„ [[Prototype]] æœºåˆ¶æœ¬è´¨ä¸Šå°±æ˜¯è¡Œä¸ºå§”æ‰˜æœºåˆ¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©åœ¨ JavaScript ä¸­åŠª åŠ›å®ç°ç±»æœºåˆ¶(å‚è§ç¬¬ 4 å’Œç¬¬ 5 ç« )ï¼Œä¹Ÿå¯ä»¥æ‹¥æŠ±æ›´è‡ªç„¶çš„ [[Prototype]] å§”æ‰˜æœºåˆ¶ã€‚ å½“ä½ åªç”¨å¯¹è±¡æ¥è®¾è®¡ä»£ç æ—¶ï¼Œä¸ä»…å¯ä»¥è®©è¯­æ³•æ›´åŠ ç®€æ´ï¼Œè€Œä¸”å¯ä»¥è®©ä»£ç ç»“æ„æ›´åŠ æ¸…æ™°ã€‚ å¯¹è±¡å…³è”(å¯¹è±¡ä¹‹å‰äº’ç›¸å…³è”)æ˜¯ä¸€ç§ç¼–ç é£æ ¼ï¼Œå®ƒå€¡å¯¼çš„æ˜¯ç›´æ¥åˆ›å»ºå’Œå…³è”å¯¹è±¡ï¼Œä¸æŠŠå®ƒä»¬æŠ½è±¡æˆç±»ã€‚å¯¹è±¡å…³è”å¯ä»¥ç”¨åŸºäº [[Prototype]] çš„è¡Œä¸ºå§”æ‰˜éå¸¸è‡ªç„¶åœ°å®ç°ã€‚]]></content>
      <categories>
        <category>ä½ ä¸çŸ¥é“çš„JavaScript</category>
      </categories>
      <tags>
        <tag>åŸå‹é“¾</tag>
        <tag>å§”æ‰˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŸå‹]]></title>
    <url>%2F2017%2F10%2F08%2Fcl4s3gti80095wn9evq7dn2my%2F</url>
    <content type="text"><![CDATA[Prototype JavaScript ä¸­çš„å¯¹è±¡æœ‰ä¸€ä¸ªç‰¹æ®Šçš„ [[Prototype]] å†…ç½®å±æ€§ï¼Œå…¶å®å°±æ˜¯å¯¹äºå…¶ä»–å¯¹è±¡çš„å¼•ç”¨ã€‚å‡ ä¹æ‰€æœ‰çš„å¯¹è±¡åœ¨åˆ›å»ºæ—¶ [[Prototype]] å±æ€§éƒ½ä¼šè¢«èµ‹äºˆä¸€ä¸ªéç©ºçš„å€¼ã€‚ ä½¿ç”¨forâ€¦inâ€¦ï¼Œä¼šæŸ¥æ‰¾å¯¹è±¡çš„æ•´æ¡åŸå‹é“¾ã€‚å› æ­¤ï¼Œå½“ä½ é€šè¿‡å„ç§è¯­æ³•è¿›è¡Œå±æ€§æŸ¥æ‰¾æ—¶éƒ½ä¼šæŸ¥æ‰¾ [[Prototype]] é“¾ï¼Œç›´åˆ°æ‰¾åˆ°å±æ€§æˆ–è€…æŸ¥æ‰¾å®Œæ•´æ¡åŸå‹é“¾ã€‚ Object.prototypeæ‰€æœ‰æ™®é€šçš„ [[Prototype]] é“¾æœ€ç»ˆéƒ½ä¼šæŒ‡å‘å†…ç½®çš„ Object.prototypeã€‚ å±æ€§è®¾ç½®å’Œå±è”½åœ¨äºåŸå‹é“¾ä¸Šå±‚æ—¶myObject.foo = â€œbarâ€ä¼šå‡ºç°çš„ä¸‰ç§æƒ…å†µã€‚ å¦‚æœåœ¨[[Prototype]]é“¾ä¸Šå±‚å­˜åœ¨åä¸ºfooçš„æ™®é€šæ•°æ®è®¿é—®å±æ€§(å‚è§ç¬¬3ç« )å¹¶ä¸”æ²¡ æœ‰è¢«æ ‡è®°ä¸ºåªè¯»(writable:false)ï¼Œé‚£å°±ä¼šç›´æ¥åœ¨ myObject ä¸­æ·»åŠ ä¸€ä¸ªåä¸º foo çš„æ–° å±æ€§ï¼Œå®ƒæ˜¯å±è”½å±æ€§ã€‚ å¦‚æœåœ¨[[Prototype]]é“¾ä¸Šå±‚å­˜åœ¨fooï¼Œä½†æ˜¯å®ƒè¢«æ ‡è®°ä¸ºåªè¯»(writable:false)ï¼Œé‚£ä¹ˆ æ— æ³•ä¿®æ”¹å·²æœ‰å±æ€§æˆ–è€…åœ¨ myObject ä¸Šåˆ›å»ºå±è”½å±æ€§ã€‚å¦‚æœè¿è¡Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä»£ç ä¼š æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚å¦åˆ™ï¼Œè¿™æ¡èµ‹å€¼è¯­å¥ä¼šè¢«å¿½ç•¥ã€‚æ€»ä¹‹ï¼Œä¸ä¼šå‘ç”Ÿå±è”½ã€‚ å¦‚æœåœ¨[[Prototype]]é“¾ä¸Šå±‚å­˜åœ¨fooå¹¶ä¸”å®ƒæ˜¯ä¸€ä¸ªsetter(å‚è§ç¬¬3ç« )ï¼Œé‚£å°±ä¸€å®šä¼š è°ƒç”¨è¿™ä¸ª setterã€‚foo ä¸ä¼šè¢«æ·»åŠ åˆ°(æˆ–è€…è¯´å±è”½äº)myObjectï¼Œä¹Ÿä¸ä¼šé‡æ–°å®šä¹‰ foo è¿™ ä¸ª setterã€‚ æœ‰äº›æƒ…å†µä¸‹ä¼šéšå¼äº§ç”Ÿå±è”½ï¼Œä¸€å®šè¦å½“å¿ƒã€‚æ€è€ƒä¸‹é¢çš„ä»£ç : 123456789101112var anotherObject = &#123; a:2&#125;;var myObject = Object.create( anotherObject ); anotherObject.a; // 2 myObject.a; // 2 anotherObject.hasOwnProperty( "a" ); // true myObject.hasOwnProperty( "a" ); // false myObject.a++; // éšå¼å±è”½! anotherObject.a; // 2 myObject.a; // 3 myObject.hasOwnProperty( "a" ); // true ++ æ“ä½œç›¸å½“äº myObject.a = myObject.a + 1ã€‚å› æ­¤ ++ æ“ä½œé¦–å…ˆä¼šé€šè¿‡ [[Prototype]] æŸ¥æ‰¾å±æ€§ a å¹¶ä» anotherObject.a è·å–å½“å‰å±æ€§å€¼ 2ï¼Œç„¶åç»™è¿™ä¸ªå€¼åŠ  1ï¼Œæ¥ç€ç”¨ [[Put]] å°†å€¼ 3 èµ‹ç»™ myObject ä¸­æ–°å»ºçš„å±è”½å±æ€§ a â€œç±»â€ JavaScript å’Œé¢å‘ç±»çš„è¯­è¨€ä¸åŒï¼Œå®ƒå¹¶æ²¡æœ‰ç±»æ¥ä½œä¸ºå¯¹è±¡çš„æŠ½è±¡æ¨¡å¼æˆ–è€…è¯´è“å›¾ã€‚JavaScript ä¸­åªæœ‰å¯¹è±¡ã€‚å®é™…ä¸Šï¼ŒJavaScript æ‰æ˜¯çœŸæ­£åº”è¯¥è¢«ç§°ä¸ºâ€œé¢å‘å¯¹è±¡â€çš„è¯­è¨€ï¼Œå› ä¸ºå®ƒæ˜¯å°‘æœ‰çš„å¯ä»¥ä¸é€šè¿‡ç±»ï¼Œç›´æ¥åˆ›å»ºå¯¹è±¡çš„è¯­è¨€ã€‚ JavaScript ä¼šåœ¨ä¸¤ ä¸ªå¯¹è±¡ä¹‹é—´åˆ›å»ºä¸€ä¸ªå…³è”ï¼Œè¿™æ ·ä¸€ä¸ªå¯¹è±¡å°±å¯ä»¥é€šè¿‡å§”æ‰˜è®¿é—®å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å’Œå‡½æ•°ã€‚ å§”æ‰˜ æ„é€ å‡½æ•°â€ä½¿ç”¨ new è°ƒç”¨æ—¶ï¼Œå®ƒå°±ä¼šæ„é€ ä¸€ä¸ªå¯¹è±¡å¹¶èµ‹å€¼ ç»™ aï¼Œè¿™çœ‹èµ·æ¥åƒæ˜¯ new çš„ä¸€ä¸ªå‰¯ä½œç”¨(æ— è®ºå¦‚ä½•éƒ½ä¼šæ„é€ ä¸€ä¸ªå¯¹è±¡)ã€‚è¿™ä¸ªè°ƒç”¨æ˜¯ä¸€ä¸ªæ„ é€ å‡½æ•°è°ƒç”¨ï¼Œä½†æ˜¯ NothingSpecial æœ¬èº«å¹¶ä¸æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚ æ¢å¥è¯è¯´ï¼Œåœ¨ JavaScript ä¸­å¯¹äºâ€œæ„é€ å‡½æ•°â€æœ€å‡†ç¡®çš„è§£é‡Šæ˜¯ï¼Œæ‰€æœ‰å¸¦ new çš„å‡½æ•°è°ƒç”¨ã€‚ å‡½æ•°ä¸æ˜¯æ„é€ å‡½æ•°ï¼Œä½†æ˜¯å½“ä¸”ä»…å½“ä½¿ç”¨ new æ—¶ï¼Œå‡½æ•°è°ƒç”¨ä¼šå˜æˆâ€œæ„é€ å‡½æ•°è°ƒç”¨â€ã€‚ å›é¡¾â€œæ„é€ å‡½æ•°â€ä¸€äº›éšæ„çš„å¯¹è±¡å±æ€§å¼•ç”¨ï¼Œæ¯”å¦‚ a1.constructorï¼Œå®é™…ä¸Šæ˜¯ä¸è¢«ä¿¡ä»»çš„ï¼Œå®ƒä»¬ä¸ä¸€ å®šä¼šæŒ‡å‘é»˜è®¤çš„å‡½æ•°å¼•ç”¨ã€‚æ­¤å¤–ï¼Œå¾ˆå¿«æˆ‘ä»¬å°±ä¼šçœ‹åˆ°ï¼Œç¨ä¸ç•™ç¥ a1.constructor å°±å¯èƒ½ä¼š æŒ‡å‘ä½ æ„æƒ³ä¸åˆ°çš„åœ°æ–¹ã€‚ a1.constructor æ˜¯ä¸€ä¸ªéå¸¸ä¸å¯é å¹¶ä¸”ä¸å®‰å…¨çš„å¼•ç”¨ã€‚é€šå¸¸æ¥è¯´è¦å°½é‡é¿å…ä½¿ç”¨è¿™äº›å¼•ç”¨ã€‚ å°ç»“å¦‚æœè¦è®¿é—®å¯¹è±¡ä¸­å¹¶ä¸å­˜åœ¨çš„ä¸€ä¸ªå±æ€§ï¼Œ[[Get]] æ“ä½œ(å‚è§ç¬¬ 3 ç« )å°±ä¼šæŸ¥æ‰¾å¯¹è±¡å†…éƒ¨[[Prototype]] å…³è”çš„å¯¹è±¡ã€‚è¿™ä¸ªå…³è”å…³ç³»å®é™…ä¸Šå®šä¹‰äº†ä¸€æ¡â€œåŸå‹é“¾â€(æœ‰ç‚¹åƒåµŒå¥—çš„ä½œç”¨åŸŸé“¾)ï¼Œåœ¨æŸ¥æ‰¾å±æ€§æ—¶ä¼šå¯¹å®ƒè¿›è¡Œéå†ã€‚ æ‰€æœ‰æ™®é€šå¯¹è±¡éƒ½æœ‰å†…ç½®çš„ Object.prototypeï¼ŒæŒ‡å‘åŸå‹é“¾çš„é¡¶ç«¯(æ¯”å¦‚è¯´å…¨å±€ä½œç”¨åŸŸ)ï¼Œå¦‚ æœåœ¨åŸå‹é“¾ä¸­æ‰¾ä¸åˆ°æŒ‡å®šçš„å±æ€§å°±ä¼šåœæ­¢ã€‚toString()ã€valueOf() å’Œå…¶ä»–ä¸€äº›é€šç”¨çš„åŠŸèƒ½ éƒ½å­˜åœ¨äº Object.prototype å¯¹è±¡ä¸Šï¼Œå› æ­¤è¯­è¨€ä¸­æ‰€æœ‰çš„å¯¹è±¡éƒ½å¯ä»¥ä½¿ç”¨å®ƒä»¬ã€‚ å…³è”ä¸¤ä¸ªå¯¹è±¡æœ€å¸¸ç”¨çš„æ–¹æ³•æ˜¯ä½¿ç”¨ new å…³é”®è¯è¿›è¡Œå‡½æ•°è°ƒç”¨ï¼Œåœ¨è°ƒç”¨çš„ 4 ä¸ªæ­¥éª¤(ç¬¬ 2 ç« )ä¸­ä¼šåˆ›å»ºä¸€ä¸ªå…³è”å…¶ä»–å¯¹è±¡çš„æ–°å¯¹è±¡ã€‚ä½¿ç”¨ new è°ƒç”¨å‡½æ•°æ—¶ä¼šæŠŠæ–°å¯¹è±¡çš„ .prototype å±æ€§å…³è”åˆ°â€œå…¶ä»–å¯¹è±¡â€ã€‚å¸¦ new çš„å‡½æ•°è°ƒç”¨ é€šå¸¸è¢«ç§°ä¸ºâ€œæ„é€ å‡½æ•°è°ƒç”¨â€ï¼Œå°½ç®¡å®ƒä»¬å®é™…ä¸Šå’Œä¼ ç»Ÿé¢å‘ç±»è¯­è¨€ä¸­çš„ç±»æ„é€ å‡½æ•°ä¸ä¸€æ ·ã€‚ è™½ç„¶è¿™äº› JavaScript æœºåˆ¶å’Œä¼ ç»Ÿé¢å‘ç±»è¯­è¨€ä¸­çš„â€œç±»åˆå§‹åŒ–â€å’Œâ€œç±»ç»§æ‰¿â€å¾ˆç›¸ä¼¼ï¼Œä½† æ˜¯ JavaScript ä¸­çš„æœºåˆ¶æœ‰ä¸€ä¸ªæ ¸å¿ƒåŒºåˆ«ï¼Œé‚£å°±æ˜¯ä¸ä¼šè¿›è¡Œå¤åˆ¶ï¼Œå¯¹è±¡ä¹‹é—´æ˜¯é€šè¿‡å†…éƒ¨çš„ [[Prototype]] é“¾å…³è”çš„ã€‚]]></content>
      <categories>
        <category>ä½ ä¸çŸ¥é“çš„JavaScript</category>
      </categories>
      <tags>
        <tag>åŸå‹</tag>
        <tag>åŸå‹é“¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ··åˆå¯¹è±¡â€œç±»â€]]></title>
    <url>%2F2017%2F10%2F06%2Fcl4s3gtiq00adwn9efnbiz3af%2F</url>
    <content type="text"><![CDATA[ä»‹ç»é¢å‘ç±»çš„è®¾è®¡æ¨¡å¼:å®ä¾‹åŒ–(instantiation)ã€ç»§æ‰¿(inheritance)å’Œ (ç›¸å¯¹)å¤šæ€(polymorphism)ã€‚ ç±»ç†è®ºç±» / ç»§æ‰¿æè¿°äº†ä¸€ç§ä»£ç çš„ç»„ç»‡ç»“æ„å½¢å¼â€”â€”ä¸€ç§åœ¨è½¯ä»¶ä¸­å¯¹çœŸå®ä¸–ç•Œä¸­é—®é¢˜é¢†åŸŸçš„å»ºæ¨¡æ–¹æ³•ã€‚ â€œç±»â€è®¾è®¡æ¨¡å¼ç±»å¹¶ä¸æ˜¯å¿…é¡»çš„ç¼–ç¨‹åŸºç¡€ï¼Œè€Œæ˜¯ä¸€ç§å¯é€‰ çš„ä»£ç æŠ½è±¡ã€‚ JavaScript æä¾›äº†ä¸€äº›è¿‘ä¼¼ç±»çš„è¯­æ³•ã€‚ æ€»ç»“ä¸€ä¸‹ï¼Œåœ¨è½¯ä»¶è®¾è®¡ä¸­ç±»æ˜¯ä¸€ç§å¯é€‰çš„æ¨¡å¼ï¼Œä½ éœ€è¦è‡ªå·±å†³å®šæ˜¯å¦åœ¨ JavaScript ä¸­ä½¿ç”¨ å®ƒã€‚ ç±»çš„æœºåˆ¶ æ„é€ ï¼šç±»å®ä¾‹æ˜¯ç”±ä¸€ä¸ªç‰¹æ®Šçš„ç±»æ–¹æ³•æ„é€ çš„ï¼Œè¿™ä¸ªæ–¹æ³•åé€šå¸¸å’Œç±»åç›¸åŒï¼Œè¢«ç§°ä¸ºæ„é€ å‡½æ•°ã€‚è¿™ä¸ªæ–¹æ³•çš„ä»»åŠ¡å°±æ˜¯åˆå§‹åŒ–å®ä¾‹éœ€è¦çš„æ‰€æœ‰ä¿¡æ¯(çŠ¶æ€)ã€‚ ç±»çš„ç»§æ‰¿ï¼šåŒç†ï¼Œå®šä¹‰å¥½ä¸€ä¸ªå­ç±»ä¹‹åï¼Œç›¸å¯¹äºçˆ¶ç±»æ¥è¯´å®ƒå°±æ˜¯ä¸€ä¸ªç‹¬ç«‹å¹¶ä¸”å®Œå…¨ä¸åŒçš„ç±»ã€‚å­ç±»ä¼š åŒ…å«çˆ¶ç±»è¡Œä¸ºçš„åŸå§‹å‰¯æœ¬ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥é‡å†™æ‰€æœ‰ç»§æ‰¿çš„è¡Œä¸ºç”šè‡³å®šä¹‰æ–°è¡Œä¸ºã€‚ å¤šæ€ï¼š ä»»ä½•æ–¹æ³•éƒ½å¯ä»¥å¼•ç”¨ç»§æ‰¿å±‚æ¬¡ä¸­é«˜å±‚çš„æ–¹æ³•(æ— è®ºé«˜å±‚çš„æ–¹æ³•åå’Œå½“å‰æ–¹æ³•åæ˜¯å¦ç›¸åŒ)ã€‚ å¦ä¸€ä¸ªæ–¹é¢æ˜¯ï¼Œåœ¨ç»§æ‰¿é“¾çš„ä¸åŒå±‚æ¬¡ä¸­ä¸€ä¸ªæ–¹æ³•åå¯ä»¥è¢«å¤šæ¬¡å®šä¹‰ï¼Œå½“è°ƒç”¨æ–¹æ³•æ—¶ ä¼šè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„å®šä¹‰ã€‚ å¤šé‡ç»§æ‰¿ï¼šæœ‰äº›é¢å‘ç±»çš„è¯­è¨€å…è®¸ä½ ç»§æ‰¿å¤šä¸ªâ€œçˆ¶ç±»â€ã€‚å¤šé‡ç»§æ‰¿æ„å‘³ç€æ‰€æœ‰çˆ¶ç±»çš„å®šä¹‰éƒ½ä¼šè¢«å¤åˆ¶ åˆ°å­ç±»ä¸­ã€‚ æ··å…¥ï¼šä¸€ä¸ªå¯¹è±¡å¹¶ä¸ä¼šè¢«å¤åˆ¶åˆ°å…¶ä»–å¯¹ è±¡ï¼Œå®ƒä»¬ä¼šè¢«å…³è”èµ·æ¥ã€‚ç”±äºåœ¨å…¶ä»–è¯­è¨€ä¸­ç±»è¡¨ç°å‡ºæ¥çš„éƒ½æ˜¯å¤åˆ¶è¡Œä¸ºï¼Œå› æ­¤ JavaScript å¼€å‘è€…ä¹Ÿæƒ³å‡ºäº†ä¸€ä¸ªæ–¹æ³•æ¥ æ¨¡æ‹Ÿç±»çš„å¤åˆ¶è¡Œä¸ºï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯æ··å…¥ã€‚ æ··å…¥JavaScript å¼€å‘è€…ä¹Ÿæƒ³å‡ºäº†ä¸€ä¸ªæ–¹æ³•æ¥ æ¨¡æ‹Ÿç±»çš„å¤åˆ¶è¡Œä¸ºï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯æ··å…¥ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä¼šçœ‹åˆ°ä¸¤ç§ç±»å‹çš„æ··å…¥:æ˜¾å¼å’Œéšå¼ã€‚ æ˜¾å¼æ··å…¥123456789101112131415161718192021// éå¸¸ç®€å•çš„ mixin(..) ä¾‹å­ :function mixin( sourceObj, targetObj ) &#123;for (var key in sourceObj) &#123;// åªä¼šåœ¨ä¸å­˜åœ¨çš„æƒ…å†µä¸‹å¤åˆ¶ if (!(key in targetObj)) &#123; targetObj[key] = sourceObj[key]; &#125;&#125;return targetObj; &#125;var Vehicle = &#123; engines: 1, ignition: function() &#123; console.log( "Turning on my engine." );&#125;,drive: function() &#123; this.ignition(); console.log( "Steering and moving forward!" ); &#125;&#125;;var Car = mixin( Vehicle, &#123; wheels: 4,drive: function() &#123; Vehicle.drive.call( this ); console.log( "Rolling on all " + this.wheels + " wheels!" );&#125; &#125; ); å‡½æ•°å®é™…ä¸Šæ²¡æœ‰ è¢«å¤åˆ¶ï¼Œå¤åˆ¶çš„æ˜¯å‡½æ•°å¼•ç”¨ æ··åˆå¤åˆ¶12345678910111213// å¦ä¸€ç§æ··å…¥å‡½æ•°ï¼Œå¯èƒ½æœ‰é‡å†™é£é™© function mixin( sourceObj, targetObj ) &#123;for (var key in sourceObj) &#123; targetObj[key] = sourceObj[key];&#125;return targetObj; &#125;var Vehicle = &#123; // ...&#125;;// é¦–å…ˆåˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡å¹¶æŠŠ Vehicle çš„å†…å®¹å¤åˆ¶è¿›å»var Car = mixin( Vehicle, &#123; &#125; );// ç„¶åæŠŠæ–°å†…å®¹å¤åˆ¶åˆ° Car ä¸­ mixin( &#123;wheels: 4,drive: function() &#123; // ...&#125;&#125;, Car ); éšå¼æ··å…¥123456789101112131415var Something = &#123; cool: function() &#123;this.greeting = "Hello World";this.count = this.count ? this.count + 1 : 1; &#125;&#125;;Something.cool(); Something.greeting; // "Hello World" Something.count; // 1var Another = &#123;cool: function() &#123;// éšå¼æŠŠ Something æ··å…¥ AnotherSomething.cool.call( this ); &#125;&#125;;Another.cool();Another.greeting; // "Hello World" Another.count; // 1(countä¸æ˜¯å…±äº«çŠ¶æ€) å°ç»“æ··å…¥æ¨¡å¼(æ— è®ºæ˜¾å¼è¿˜æ˜¯éšå¼)å¯ä»¥ç”¨æ¥æ¨¡æ‹Ÿç±»çš„å¤åˆ¶è¡Œä¸ºï¼Œä½†æ˜¯é€šå¸¸ä¼šäº§ç”Ÿä¸‘é™‹å¹¶ä¸”è„† å¼±çš„è¯­æ³•ï¼Œæ¯”å¦‚æ˜¾å¼ä¼ªå¤šæ€(OtherObj.methodName.call(this, â€¦))ï¼Œè¿™ä¼šè®©ä»£ç æ›´åŠ éš¾ æ‡‚å¹¶ä¸”éš¾ä»¥ç»´æŠ¤ã€‚ æ€»åœ°æ¥è¯´ï¼Œåœ¨ JavaScript ä¸­æ¨¡æ‹Ÿç±»æ˜¯å¾—ä¸å¿å¤±çš„ï¼Œè™½ç„¶èƒ½è§£å†³å½“å‰çš„é—®é¢˜ï¼Œä½†æ˜¯å¯èƒ½ä¼šåŸ‹ ä¸‹æ›´å¤šçš„éšæ‚£ã€‚]]></content>
      <categories>
        <category>ä½ ä¸çŸ¥é“çš„JavaScript</category>
      </categories>
      <tags>
        <tag>ä½œç”¨åŸŸ</tag>
        <tag>é—­åŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºthis]]></title>
    <url>%2F2017%2F10%2F06%2Fcl4s3gthr0089wn9e0iy3px1i%2F</url>
    <content type="text"><![CDATA[å…³äºthis ä»»ä½•è¶³å¤Ÿå…ˆè¿›æŠ€æœ¯å’Œé­”æ³•æ— å¼‚ å®é™…ä¸Šï¼ŒJavaScriptä¸­thisçš„æœºåˆ¶å¹¶æ²¡æœ‰é‚£ä¹ˆå…ˆè¿›ï¼Œä½†æ˜¯å¼€å‘è€…å¾€å¾€æŠŠç†è§£è¿‡ç¨‹å¤æ‚åŒ–ï¼Œæ¯«æ— ç–‘é—®ï¼Œåœ¨ç¼ºä¹æ¸…æ™°è®¤è¯†çš„æƒ…å†µä¸‹ï¼Œthiså¯¹ä½ æ¥è¯´å®Œå…¨æ˜¯ä¸€ç§é­”æ³•ã€‚ ä¸ºä»€ä¹ˆè¦ç”¨åˆ°thisï¼šå¦‚æœä¸ä½¿ç”¨thisï¼Œé‚£å°±éœ€è¦ç»™å‡½æ•°ä¼ å…¥ä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œè€Œthisæä¾›äº†ä¸€ç§æ›´ä¼˜é›…çš„æ–¹å¼æ¥éšå¼â€œä¼ é€’â€ä¸€ä¸ªå¯¹è±¡å¼•ç”¨ï¼Œå› æ­¤å¯ä»¥è®©APIè®¾è®¡å¾—æ›´åŠ ç®€æ´æ˜“äºå¤ç”¨ã€‚ thisæ˜¯ä»€ä¹ˆå¤ªæ‹˜æ³¥äºâ€œthisâ€çš„å­—é¢æ„æ€å°±ä¼šäº§ç”Ÿä¸€äº›è¯¯è§£ã€‚æœ‰ä¸¤ç§å¸¸è§çš„å¯¹äº this çš„è§£é‡Šï¼Œä½†æ˜¯å®ƒ ä»¬éƒ½æ˜¯é”™è¯¯çš„ã€‚ å­¦ä¹  this çš„ç¬¬ä¸€æ­¥æ˜¯æ˜ç™½ this æ—¢ä¸æŒ‡å‘å‡½æ•°è‡ªèº«ä¹Ÿä¸æŒ‡å‘å‡½æ•°çš„è¯æ³•ä½œç”¨åŸŸï¼Œä½ ä¹Ÿè®¸è¢« è¿™æ ·çš„è§£é‡Šè¯¯å¯¼è¿‡ï¼Œä½†å…¶å®å®ƒä»¬éƒ½æ˜¯é”™è¯¯çš„ã€‚this å®é™…ä¸Šæ˜¯åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶å‘ç”Ÿçš„ç»‘å®šï¼Œå®ƒæŒ‡å‘ä»€ä¹ˆå®Œå…¨å–å†³äºå‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨ã€‚ thiså…¨é¢è§£ææ¯ä¸ªå‡½æ•°çš„ this æ˜¯åœ¨è°ƒç”¨ æ—¶è¢«ç»‘å®šçš„ï¼Œå®Œå…¨å–å†³äºå‡½æ•°çš„è°ƒç”¨ä½ç½®(ä¹Ÿå°±æ˜¯å‡½æ•°çš„è°ƒç”¨æ–¹æ³•)ã€‚ è°ƒç”¨ä½ç½® è°ƒç”¨ä½ç½®å°±æ˜¯å‡½æ•°åœ¨ä»£ç ä¸­è¢«è°ƒç”¨çš„ ä½ç½®(è€Œä¸æ˜¯å£°æ˜çš„ä½ç½®)ã€‚ ç»‘å®šè§„åˆ™é»˜è®¤ç»‘å®š123function foo() &#123; console.log( this.a );&#125;var a = 2; foo(); // 2 å‡½æ•°è°ƒç”¨æ—¶åº”ç”¨äº† this çš„é»˜è®¤ç»‘å®šï¼Œå› æ­¤ this æŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œæ³¨æ„åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå…¨å±€å¯¹è±¡æ— æ³•ä½¿ç”¨é»˜è®¤ç»‘å®šï¼Œå› æ­¤thisä¼šç»‘å®šåˆ°undefined éšå¼ç»‘å®š12345function foo() &#123; console.log( this.a );&#125;var obj = &#123; a: 2,foo: foo &#125;; obj.foo(); // 2 éšå¼ç»‘å®šè§„åˆ™ä¼šæŠŠå‡½æ•°è°ƒç”¨ä¸­çš„ this ç»‘å®šåˆ°è¿™ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ã€‚å› ä¸ºè°ƒ ç”¨ foo() æ—¶ this è¢«ç»‘å®šåˆ° objï¼Œå› æ­¤ this.a å’Œ obj.a æ˜¯ä¸€æ ·çš„ã€‚ éšå¼ä¸¢å¤±ä¸€ä¸ªæœ€å¸¸è§çš„ this ç»‘å®šé—®é¢˜å°±æ˜¯è¢«éšå¼ç»‘å®šçš„å‡½æ•°ä¼šä¸¢å¤±ç»‘å®šå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¼šåº”ç”¨é»˜è®¤ç»‘å®šï¼Œä»è€ŒæŠŠ this ç»‘å®šåˆ°å…¨å±€å¯¹è±¡æˆ–è€… undefined ä¸Šï¼Œå–å†³äºæ˜¯å¦æ˜¯ä¸¥æ ¼æ¨¡å¼ã€‚ 123456function foo() &#123; console.log( this.a );&#125;var obj = &#123; a: 2,foo: foo &#125;;var bar = obj.foo; // å‡½æ•°åˆ«å!var a = "oops, global"; // aæ˜¯å…¨å±€å¯¹è±¡çš„å±æ€§ bar(); // "oops, global" è™½ç„¶ bar æ˜¯ obj.foo çš„ä¸€ä¸ªå¼•ç”¨ï¼Œä½†æ˜¯å®é™…ä¸Šï¼Œå®ƒå¼•ç”¨çš„æ˜¯ foo å‡½æ•°æœ¬èº«ï¼Œå› æ­¤æ­¤æ—¶çš„ bar() å…¶å®æ˜¯ä¸€ä¸ªä¸å¸¦ä»»ä½•ä¿®é¥°çš„å‡½æ•°è°ƒç”¨ï¼Œå› æ­¤åº”ç”¨äº†é»˜è®¤ç»‘å®šã€‚ æ˜¾å¼ç»‘å®šä½¿ç”¨å‡½æ•°çš„ call(..) å’Œ apply(..) æ–¹æ³• è¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢?å®ƒä»¬çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒä»¬ä¼šæŠŠè¿™ä¸ªå¯¹è±¡ç»‘å®šåˆ° thisï¼Œæ¥ç€åœ¨è°ƒç”¨å‡½æ•°æ—¶æŒ‡å®šè¿™ä¸ª thisã€‚å› ä¸ºä½ å¯ä»¥ç›´æ¥æŒ‡å®š this çš„ç»‘å®šå¯¹è±¡ï¼Œå› æ­¤æˆ‘ ä»¬ç§°ä¹‹ä¸ºæ˜¾å¼ç»‘å®šã€‚ 12345function foo() &#123; console.log( this.a );&#125;var obj = &#123; a:2 &#125;; foo.call( obj ); // 2 è£…ç®±ï¼šå¦‚æœä½ ä¼ å…¥äº†ä¸€ä¸ªåŸå§‹å€¼(å­—ç¬¦ä¸²ç±»å‹ã€å¸ƒå°”ç±»å‹æˆ–è€…æ•°å­—ç±»å‹)æ¥å½“ä½œ this çš„ç»‘å®šå¯¹ è±¡ï¼Œè¿™ä¸ªåŸå§‹å€¼ä¼šè¢«è½¬æ¢æˆå®ƒçš„å¯¹è±¡å½¢å¼(ä¹Ÿå°±æ˜¯new String(..)ã€new Boolean(..)æˆ–è€… new Number(..))ã€‚ ç¡¬ç»‘å®š123456789function foo() &#123; console.log( this.a );&#125;var obj = &#123; a:2&#125;;var bar = function() &#123; foo.call( obj );&#125;; bar(); // 2 setTimeout( bar, 100 ); // 2// ç¡¬ç»‘å®šçš„ bar ä¸å¯èƒ½å†ä¿®æ”¹å®ƒçš„ this bar.call( window ); // 2 Function.prototype. bindï¼š 1234567function foo(something) &#123; console.log( this.a, something ); return this.a + something;&#125; thiså…¨é¢è§£æ | 89var obj = &#123; a:2&#125;;var bar = foo.bind( obj );var b = bar( 3 ); // 2 3 console.log( b ); // 5 newç»‘å®šåœ¨ JavaScript ä¸­ï¼Œæ„é€ å‡½æ•°åªæ˜¯ä¸€äº› ä½¿ç”¨ new æ“ä½œç¬¦æ—¶è¢«è°ƒç”¨çš„å‡½æ•°ã€‚å®ƒä»¬å¹¶ä¸ä¼šå±äºæŸä¸ªç±»ï¼Œä¹Ÿä¸ä¼šå®ä¾‹åŒ–ä¸€ä¸ªç±»ã€‚å®é™…ä¸Šï¼Œ å®ƒä»¬ç”šè‡³éƒ½ä¸èƒ½è¯´æ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ç±»å‹ï¼Œå®ƒä»¬åªæ˜¯è¢« new æ“ä½œç¬¦è°ƒç”¨çš„æ™®é€šå‡½æ•°è€Œå·²ã€‚ ä½¿ç”¨ new æ¥è°ƒç”¨å‡½æ•°ï¼Œæˆ–è€…è¯´å‘ç”Ÿæ„é€ å‡½æ•°è°ƒç”¨æ—¶ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œä¸‹é¢çš„æ“ä½œã€‚ åˆ›å»º(æˆ–è€…è¯´æ„é€ )ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ã€‚ è¿™ä¸ªæ–°å¯¹è±¡ä¼šè¢«æ‰§è¡Œ[[åŸå‹]]è¿æ¥ã€‚ è¿™ä¸ªæ–°å¯¹è±¡ä¼šç»‘å®šåˆ°å‡½æ•°è°ƒç”¨çš„thisã€‚ å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å…¶ä»–å¯¹è±¡ï¼Œé‚£ä¹ˆnewè¡¨è¾¾å¼ä¸­çš„å‡½æ•°è°ƒç”¨ä¼šè‡ªåŠ¨è¿”å›è¿™ä¸ªæ–°å¯¹è±¡ã€‚ 1234function foo(a) &#123; this.a = a;&#125;var bar = new foo(2); console.log( bar.a ); // 2 ä½¿ç”¨ new æ¥è°ƒç”¨ foo(..) æ—¶ï¼Œæˆ‘ä»¬ä¼šæ„é€ ä¸€ä¸ªæ–°å¯¹è±¡å¹¶æŠŠå®ƒç»‘å®šåˆ° foo(..) è°ƒç”¨ä¸­çš„ this ä¸Šã€‚new æ˜¯æœ€åä¸€ç§å¯ä»¥å½±å“å‡½æ•°è°ƒç”¨æ—¶ this ç»‘å®šè¡Œä¸ºçš„æ–¹æ³•ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º new ç»‘å®šã€‚ åˆ¤æ–­this å‡½æ•°æ˜¯å¦åœ¨newä¸­è°ƒç”¨(newç»‘å®š)?å¦‚æœæ˜¯çš„è¯thisç»‘å®šçš„æ˜¯æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚ var bar = new foo() å‡½æ•°æ˜¯å¦é€šè¿‡callã€apply(æ˜¾å¼ç»‘å®š)æˆ–è€…ç¡¬ç»‘å®šè°ƒç”¨?å¦‚æœæ˜¯çš„è¯ï¼Œthisç»‘å®šçš„æ˜¯ æŒ‡å®šçš„å¯¹è±¡ã€‚ var bar = foo.call(obj2) å‡½æ•°æ˜¯å¦åœ¨æŸä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ä¸­è°ƒç”¨(éšå¼ç»‘å®š)?å¦‚æœæ˜¯çš„è¯ï¼Œthisç»‘å®šçš„æ˜¯é‚£ä¸ªä¸Š ä¸‹æ–‡å¯¹è±¡ã€‚ var bar = obj1.foo() å¦‚æœéƒ½ä¸æ˜¯çš„è¯ï¼Œä½¿ç”¨é»˜è®¤ç»‘å®šã€‚å¦‚æœåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå°±ç»‘å®šåˆ°undefinedï¼Œå¦åˆ™ç»‘å®šåˆ° å…¨å±€å¯¹è±¡ã€‚ var bar = foo() å°ç»“ ç”±newè°ƒç”¨?ç»‘å®šåˆ°æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚ ç”±callæˆ–è€…apply(æˆ–è€…bind)è°ƒç”¨?ç»‘å®šåˆ°æŒ‡å®šçš„å¯¹è±¡ã€‚ ç”±ä¸Šä¸‹æ–‡å¯¹è±¡è°ƒç”¨?ç»‘å®šåˆ°é‚£ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ã€‚ é»˜è®¤:åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ç»‘å®šåˆ°undefinedï¼Œå¦åˆ™ç»‘å®šåˆ°å…¨å±€å¯¹è±¡ã€‚ ä¸€å®šè¦æ³¨æ„ï¼Œæœ‰äº›è°ƒç”¨å¯èƒ½åœ¨æ— æ„ä¸­ä½¿ç”¨é»˜è®¤ç»‘å®šè§„åˆ™ã€‚å¦‚æœæƒ³â€œæ›´å®‰å…¨â€åœ°å¿½ç•¥ this ç»‘ å®šï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªDMZå¯¹è±¡ï¼Œæ¯”å¦‚Ã¸ = Object.create(null)ï¼Œä»¥ä¿æŠ¤å…¨å±€å¯¹è±¡ã€‚ ES6 ä¸­çš„ç®­å¤´å‡½æ•°å¹¶ä¸ä¼šä½¿ç”¨å››æ¡æ ‡å‡†çš„ç»‘å®šè§„åˆ™ï¼Œè€Œæ˜¯æ ¹æ®å½“å‰çš„è¯æ³•ä½œç”¨åŸŸæ¥å†³å®š thisï¼Œå…·ä½“æ¥è¯´ï¼Œç®­å¤´å‡½æ•°ä¼šç»§æ‰¿å¤–å±‚å‡½æ•°è°ƒç”¨çš„ this ç»‘å®š(æ— è®º this ç»‘å®šåˆ°ä»€ä¹ˆ)ã€‚è¿™ å…¶å®å’ŒES6ä¹‹å‰ä»£ç ä¸­çš„self = thisæœºåˆ¶ä¸€æ ·ã€‚]]></content>
      <categories>
        <category>ä½ ä¸çŸ¥é“çš„JavaScript</category>
      </categories>
      <tags>
        <tag>ä½œç”¨åŸŸ</tag>
        <tag>é—­åŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½œç”¨åŸŸé—­åŒ…]]></title>
    <url>%2F2017%2F10%2F04%2Fcl4s3gthn0081wn9ee256qmvp%2F</url>
    <content type="text"><![CDATA[é­”æœ¯å¸ˆçš„å¹•åè—ç€ä¸€ä¸ªäººï¼Œæˆ‘ä»¬å°†è¦æ­å¼€ä»–çš„ä¼ªè£… å¯ç¤º JavaScriptä¸­é—­åŒ…æ— å¤„ä¸åœ¨ï¼Œä½ åªéœ€è¦èƒ½å¤Ÿè¯†åˆ«å¹¶æ‹¥æŠ±å®ƒã€‚ é—­åŒ…æ˜¯åŸºäºè¯æ³•ä½œç”¨åŸŸä¹¦å†™ä»£ç æ—¶æ‰€äº§ç”Ÿçš„è‡ªç„¶ç»“æœï¼Œä½ ç”šè‡³ä¸éœ€è¦ä¸ºäº†åˆ©ç”¨å®ƒä»¬è€Œæœ‰æ„ è¯†åœ°åˆ›å»ºé—­åŒ…ã€‚é—­åŒ…çš„åˆ›å»ºå’Œä½¿ç”¨åœ¨ä½ çš„ä»£ç ä¸­éšå¤„å¯è§ã€‚ä½ ç¼ºå°‘çš„æ˜¯æ ¹æ®ä½ è‡ªå·±çš„æ„æ„¿ æ¥è¯†åˆ«ã€æ‹¥æŠ±å’Œå½±å“é—­åŒ…çš„æ€ç»´ç¯å¢ƒã€‚ å®è´¨é—®é¢˜ä¸€ä¸ªé—­åŒ…çš„ç›´æ¥å®šä¹‰ï¼Œå½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å–Šä½ æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œ ä»¥ä¸‹çš„ä¾‹å­æ˜¯é—­åŒ…å—ï¼Ÿ 1234567891011function foo () &#123; var a = 2 function bar () &#123; console.log(a) //2 &#125; bar()&#125;foo() è¿™æ˜¯é—­åŒ…å—?æŠ€æœ¯ä¸Šæ¥è®²ï¼Œä¹Ÿè®¸æ˜¯ã€‚ä½†æ ¹æ®å‰é¢çš„å®šä¹‰ï¼Œç¡®åˆ‡åœ°è¯´å¹¶ä¸æ˜¯ã€‚æˆ‘è®¤ä¸ºæœ€å‡†ç¡®åœ°ç”¨æ¥è§£é‡Š bar() å¯¹ a çš„å¼•ç”¨çš„æ–¹æ³•æ˜¯è¯æ³•ä½œç”¨åŸŸçš„æŸ¥æ‰¾è§„åˆ™ï¼Œè€Œè¿™äº›è§„åˆ™åªæ˜¯é—­åŒ…çš„ä¸€éƒ¨åˆ†ã€‚(ä½†å´ æ˜¯éå¸¸é‡è¦çš„ä¸€éƒ¨åˆ†!) ä»¥ä¸‹ä»£ç æ¸…æ™°å±•ç¤ºäº†é—­åŒ…: 123456789101112function foo () &#123; var a = 2 function bar () &#123; console.log(a) &#125; return bar&#125;bar baz = foo()baz() //2 ,è¿™å°±æ˜¯é—­åŒ…çš„æ•ˆæœ å‡½æ•°barï¼ˆï¼‰çš„è¯æ³•ä½œç”¨åŸŸèƒ½å¤Ÿè®¿é—®fooï¼ˆï¼‰çš„å†…éƒ¨ä½œç”¨åŸŸï¼Œç„¶åå°†barï¼ˆï¼‰å‡½æ•°æœ¬èº«å½“åšä¸€ä¸ªå€¼ç±»å‹æ¥è¿›è¡Œä¼ é€’ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œbarï¼ˆï¼‰å‡½æ•°åœ¨è‡ªå·±å®šä¹‰çš„è¯æ³•ä½œç”¨åŸŸä»¥å¤–çš„åœ°æ–¹æ‰§è¡Œã€‚ é—­åŒ…é˜»æ­¢äº†fooï¼ˆï¼‰çš„å†…å­˜å›æ”¶ å¼•ç”³å‡ºæ¥çš„ä¸€ç‚¹ï¼Œæ— è®ºä½¿ç”¨ä½•ç§æ–¹å¼å¯¹å‡½æ•°ç±»å‹çš„å€¼è¿›è¡Œä¼ é€’ï¼Œå½“å‡½æ•°åœ¨åˆ«å¤„è¢«è°ƒç”¨æ—¶éƒ½å¯ä»¥è§‚å¯Ÿåˆ°é—­åŒ… 12345678910111213(function foo() &#123; var a = 2 function bar() &#123; console.log(a) &#125; barz(bar)&#125;)() //ç«‹å³æ‰§è¡Œfunction barz(fn) &#123; fn()&#125; æŠŠå†…éƒ¨å‡½æ•° baz ä¼ é€’ç»™ barï¼Œå½“è°ƒç”¨è¿™ä¸ªå†…éƒ¨å‡½æ•°æ—¶(ç°åœ¨å«ä½œ fn)ï¼Œå®ƒæ¶µç›–çš„ foo() å†…éƒ¨ä½œç”¨åŸŸçš„é—­åŒ…å°±å¯ä»¥è§‚å¯Ÿåˆ°äº†ï¼Œå› ä¸ºå®ƒèƒ½å¤Ÿè®¿é—® aã€‚ ä¹Ÿå¯ä»¥æ˜¯é—´æ¥çš„ä¼ é€’å‡½æ•°ï¼š 12345678910111213var fnfunction foo() &#123; var a = 2 function baz() &#123; console.log(a) &#125; fn = baz //å°†bazåˆ†é…ç»™å…¨å±€å˜é‡&#125;function bar() &#123; fn() //é—­åŒ…&#125;foo()bar() æ— è®ºé€šè¿‡ä½•ç§æ‰‹æ®µå°†å†…éƒ¨å‡½æ•°ä¼ é€’åˆ°æ‰€åœ¨è¯æ³•ä½œç”¨åŸŸä»¥å¤–ï¼Œå®ƒéƒ½ä¼šæŒæœ‰å¯¹åŸå§‹å®šä¹‰ä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œæ— è®ºåœ¨ä½•å¤„æ‰§è¡Œ è¿™ä¸ªå‡½æ•°éƒ½ä¼šä½¿ç”¨é—­åŒ…ã€‚ é—­åŒ…å°ç»“æœ¬è´¨ä¸Šæ— è®ºä½•æ—¶ä½•åœ°ï¼Œå¦‚æœå°†å‡½æ•°(è®¿é—®å®ƒä»¬å„è‡ªçš„è¯æ³•ä½œç”¨åŸŸ)å½“ä½œç¬¬ä¸€ çº§çš„å€¼ç±»å‹å¹¶åˆ°å¤„ä¼ é€’ï¼Œä½ å°±ä¼šçœ‹åˆ°é—­åŒ…åœ¨è¿™äº›å‡½æ•°ä¸­çš„åº”ç”¨ã€‚åœ¨å®šæ—¶å™¨ã€äº‹ä»¶ç›‘å¬å™¨ã€ Ajaxè¯·æ±‚ã€è·¨çª—å£é€šä¿¡ã€Web Workersæˆ–è€…ä»»ä½•å…¶ä»–çš„å¼‚æ­¥(æˆ–è€…åŒæ­¥)ä»»åŠ¡ä¸­ï¼Œåªè¦ä½¿ ç”¨äº†å›è°ƒå‡½æ•°ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨ä½¿ç”¨é—­åŒ…! å¾ªç¯å’Œé—­åŒ… è¾“å‡ºç»“æœä¸º5æ¬¡6ï¼Œå»¶è¿Ÿå‡½æ•°ä¼šåœ¨å¾ªç¯ç»“æŸæ—¶æ‰æ‰§è¡Œï¼Œå³ä½¿å°†å»¶æ—¶æ—¶é—´è®¾ä¸º0ï¼Œä¹Ÿä¼šç­‰å¾…å¾ªç¯ç»“æŸä¹‹åæ‰æ‰§è¡Œã€‚å®ƒä»¬éƒ½è¢«å°é—­åœ¨ä¸€ä¸ªå…±äº«çš„å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œå› æ­¤å®é™…ä¸Šåªæœ‰ä¸€ä¸ª iã€‚ ä»¥ä¸‹æ–¹æ³•æ˜¯å¦å¯è¡Œï¼Ÿ 12345for (var i=1; i&lt;=5; i++) &#123; (function() &#123;setTimeout( function timer() &#123; console.log( i ); &#125;, i*1000 ); &#125;)();&#125; ä¾ç„¶æ˜¯è¾“å‡º5æ¬¡6ï¼Œè¿™ä¸ªIIFEåªæ˜¯ä¸€ä¸ªä»€ä¹ˆéƒ½æ²¡æœ‰çš„ç©ºä½œç”¨åŸŸï¼Œéœ€è¦åŒ…å«ä¸€ç‚¹å®è´¨æ€§å†…å®¹æ‰èƒ½ä¸ºæˆ‘ä»¬æ‰€ç”¨ï¼Œå®ƒéœ€è¦æœ‰è‡ªå·±çš„å˜é‡ 123456for (var i=1; i&lt;=5; i++) &#123; (function() &#123;var j = i;setTimeout( function timer() &#123; console.log( j ); &#125;, j*1000 );&#125;)(); &#125; okï¼Œå†å¯¹IIFEè¿›è¡Œæ”¹è¿›ï¼ 12345for (var i=1; i&lt;=5; i++) &#123; (function(j) &#123;setTimeout( function timer() &#123; console.log( j ); &#125;, j*1000 ); &#125;)( i );&#125; åœ¨è¿­ä»£å†…ä½¿ç”¨ IIFE ä¼šä¸ºæ¯ä¸ªè¿­ä»£éƒ½ç”Ÿæˆä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸï¼Œä½¿å¾—å»¶è¿Ÿå‡½æ•°çš„å›è°ƒå¯ä»¥å°†æ–°çš„ä½œç”¨åŸŸå°é—­åœ¨æ¯ä¸ªè¿­ä»£å†…éƒ¨ï¼Œæ¯ä¸ªè¿­ä»£ä¸­éƒ½ä¼šå«æœ‰ä¸€ä¸ªå…·æœ‰æ­£ç¡®å€¼çš„å˜é‡ä¾›æˆ‘ä»¬è®¿é—®ã€‚ é‡è¿”å—ä½œç”¨åŸŸä»”ç»†æ€è€ƒæˆ‘ä»¬å¯¹å‰é¢çš„è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬ä½¿ç”¨IIFeåœ¨æ¯æ¬¡è¿­ä»£æ—¶éƒ½åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸï¼Œæ¢å¥è¯è¯´ï¼Œæ¯æ¬¡è¿­ä»£æˆ‘ä»¬éƒ½éœ€è¦ä¸€ä¸ªå—ä½œç”¨åŸŸã€‚ ä½¿ç”¨letï¼Œå¯ä»¥ç”¨æ¥åŠ«æŒå—ä½œç”¨åŸŸï¼Œå¹¶ä¸”åœ¨è¿™ä¸ªå—ä½œç”¨åŸŸä¸­å£°æ˜ä¸€ä¸ªå˜é‡ã€‚ æœ¬è´¨ä¸Šè¿™æ˜¯å°†ä¸€ä¸ªå—è½¬æ¢æˆä¸€ä¸ªå¯ä»¥è¢«å…³é—­çš„ä½œç”¨åŸŸ å› æ­¤ï¼Œä¸Šé¢çš„å¾ªç¯é—­åŒ…å¯ä»¥å†™æˆï¼š 12345for (var i=1; i&lt;=5; i++) &#123;let j = i; // æ˜¯çš„ï¼Œé—­åŒ…çš„å—ä½œç”¨åŸŸ! setTimeout( function timer() &#123; console.log( j ); &#125;, j*1000 );&#125; for å¾ªç¯å¤´éƒ¨çš„ let å£°æ˜è¿˜ä¼šæœ‰ä¸€ ä¸ªç‰¹æ®Šçš„è¡Œä¸ºã€‚è¿™ä¸ªè¡Œä¸ºæŒ‡å‡ºå˜é‡åœ¨å¾ªç¯è¿‡ç¨‹ä¸­ä¸æ­¢è¢«å£°æ˜ä¸€æ¬¡ï¼Œæ¯æ¬¡è¿­ä»£éƒ½ä¼šå£°æ˜ã€‚éš åçš„æ¯ä¸ªè¿­ä»£éƒ½ä¼šä½¿ç”¨ä¸Šä¸€ä¸ªè¿­ä»£ç»“æŸæ—¶çš„å€¼æ¥åˆå§‹åŒ–è¿™ä¸ªå˜é‡ã€‚å› æ­¤å¯ä»¥æ”¹å†™æˆ: 1234for (let i=1; i&lt;=5; i++) &#123; setTimeout( function timer() &#123; console.log( i ); &#125;, i*1000 );&#125; æ¨¡å—ä¸€ä¸ªæ¨¡å—çš„ä¾‹å­ï¼š 123456789101112131415161718192021222324252627function CoolModult() &#123; var something = 'cool' var anoter = [1,2,3] function doSomething() &#123; console.log(something) &#125; function doAnohter() &#123; console.log(anoter.join(' ! ')) &#125; return &#123; doSomething: doSomething, doAnohter: doAnohter &#125;&#125;var foo = CoolModult()foo.doSomething()foo.doAnohter()/*cool1 ! 2 ! 3*/ é¦–å…ˆï¼ŒCoolModule() åªæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¿…é¡»è¦é€šè¿‡è°ƒç”¨å®ƒæ¥åˆ›å»ºä¸€ä¸ªæ¨¡å—å®ä¾‹ã€‚å¦‚æœä¸æ‰§è¡Œ å¤–éƒ¨å‡½æ•°ï¼Œå†…éƒ¨ä½œç”¨åŸŸå’Œé—­åŒ…éƒ½æ— æ³•è¢«åˆ›å»ºã€‚ å…¶æ¬¡ï¼ŒCoolModule() è¿”å›ä¸€ä¸ªç”¨å¯¹è±¡å­—é¢é‡è¯­æ³• { key: value, â€¦ } æ¥è¡¨ç¤ºçš„å¯¹è±¡ã€‚ å¼•ç”³å‡ºæ¥çš„ï¼Œæ¨¡å—æ¨¡å¼éœ€è¦å…·å¤‡ä¸¤ä¸ªå¿…è¦æ¡ä»¶ï¼š å¿…é¡»æœ‰å¤–éƒ¨çš„å°é—­å‡½æ•°ï¼Œè¯¥å‡½æ•°å¿…é¡»è‡³å°‘è¢«è°ƒç”¨ä¸€æ¬¡ï¼ˆæ¯æ¬¡è°ƒç”¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ¨¡å—å®ä¾‹ï¼‰ å°é—­å‡½æ•°å¿…é¡»è¿”å›è‡³å°‘ä¸€ä¸ªå†…éƒ¨å‡½æ•°ï¼Œè¿™æ ·çš„å†…éƒ¨å‡½æ•°æ‰èƒ½åœ¨ç§æœ‰ä½œç”¨äºä¸­å½¢æˆé—­åŒ…ï¼Œå¹¶ä¸”å¯ä»¥è®¿é—®æˆ–è€…ä¿®æ”¹ç§æœ‰çŠ¶æ€ æ”¹å†™ä¸ºå•ä¾‹æ¨¡å¼123456789101112131415161718192021var foo = (function CoolModult() &#123; var something = 'cool' var anoter = [1,2,3] function doSomething() &#123; console.log(something) &#125; function doAnohter() &#123; console.log(anoter.join(' ! ')) &#125; return &#123; doSomething: doSomething, doAnohter: doAnohter &#125;&#125;)()foo.doSomething()foo.doAnohter() å°†æ¨¡å—å‡½æ•°è½¬æ¢æˆäº† IIFE(å‚è§ç¬¬ 3 ç« )ï¼Œç«‹å³è°ƒç”¨è¿™ä¸ªå‡½æ•°å¹¶å°†è¿”å›å€¼ç›´æ¥èµ‹å€¼ç»™ å•ä¾‹çš„æ¨¡å—å®ä¾‹æ ‡è¯†ç¬¦ fooã€‚ ç°ä»£çš„æ¨¡å—æœºåˆ¶12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455var MyModules = (function Manager() &#123; var modules = &#123;&#125; function define(name, deps, impl) &#123; for (var i = 0; i &lt; deps.length; i++) &#123; deps[i] = modules[deps[i]] &#125; modules[name] = impl.apply(impl, deps) &#125; function get(name) &#123; return modules[name] &#125; return &#123; define: define, get: get &#125;&#125;)()MyModules.define('bar', [], function() &#123; function hello(who) &#123; return 'Let me introduce: ' + who &#125; return &#123; hello: hello &#125;&#125;)MyModules.define('foo', ['bar'], function()&#123; var hungry = 'hippo' function awesome() &#123; console.log(bar.hello(hungry).toUpperCase()) &#125; return &#123; awesome: awesome &#125;&#125;)var bar = MyModules.get('bar')var foo = MyModules.get('foo')console.log( bar.hello('hippo'))foo.awesome()/** * Let me introduce: hippo * LET ME INTRODUCE: HIPPO */ è¿™æ®µä»£ç çš„æ ¸å¿ƒæ˜¯modules[name] = impl.apply(impl, deps)ã€‚ä¸ºäº†æ¨¡å—çš„å®šä¹‰å¼•å…¥äº†åŒ…è£… å‡½æ•°(å¯ä»¥ä¼ å…¥ä»»ä½•ä¾èµ–)ï¼Œå¹¶ä¸”å°†è¿”å›å€¼ï¼Œä¹Ÿå°±æ˜¯æ¨¡å—çš„ APIï¼Œå‚¨å­˜åœ¨ä¸€ä¸ªæ ¹æ®åå­—æ¥ç®¡ ç†çš„æ¨¡å—åˆ—è¡¨ä¸­ã€‚ æœªæ¥çš„æ¨¡å—æœºåˆ¶123456789101112131415161718192021bar.jsfunction hello(who) &#123;return "Let me introduce: " + who;&#125;export hello; foo.js// ä»…ä» "bar" æ¨¡å—å¯¼å…¥ hello() import hello from "bar";var hungry = "hippo";function awesome() &#123; console.log( hello( hungry ).toUpperCase() );&#125;export awesome;baz.js// å¯¼å…¥å®Œæ•´çš„ "foo" å’Œ "bar" æ¨¡å— 56 | ç¬¬ 5 ç«  module foo from "foo"; module bar from "bar"; console.log( bar.hello( "rhino" ) ); // Let me introduce: rhino foo.awesome(); // LET ME INTRODUCE: HIPPO import å¯ä»¥å°†ä¸€ä¸ªæ¨¡å—ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ª API å¯¼å…¥åˆ°å½“å‰ä½œç”¨åŸŸä¸­ï¼Œå¹¶åˆ†åˆ«ç»‘å®šåœ¨ä¸€ä¸ªå˜é‡ ä¸Š(åœ¨æˆ‘ä»¬çš„ä¾‹å­é‡Œæ˜¯ hello)ã€‚module ä¼šå°†æ•´ä¸ªæ¨¡å—çš„ API å¯¼å…¥å¹¶ç»‘å®šåˆ°ä¸€ä¸ªå˜é‡ä¸Š(åœ¨ æˆ‘ä»¬çš„ä¾‹å­é‡Œæ˜¯ foo å’Œ bar)ã€‚export ä¼šå°†å½“å‰æ¨¡å—çš„ä¸€ä¸ªæ ‡è¯†ç¬¦(å˜é‡ã€å‡½æ•°)å¯¼å‡ºä¸ºå…¬ å…± APIã€‚è¿™äº›æ“ä½œå¯ä»¥åœ¨æ¨¡å—å®šä¹‰ä¸­æ ¹æ®éœ€è¦ä½¿ç”¨ä»»æ„å¤šæ¬¡ã€‚ æ¨¡å—æ–‡ä»¶ä¸­çš„å†…å®¹ä¼šè¢«å½“ä½œå¥½åƒåŒ…å«åœ¨ä½œç”¨åŸŸé—­åŒ…ä¸­ä¸€æ ·æ¥å¤„ç†ï¼Œå°±å’Œå‰é¢ä»‹ç»çš„å‡½æ•°é—­ åŒ…æ¨¡å—ä¸€æ ·ã€‚ å°ç»“ å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œï¼Œè¿™æ—¶ å°±äº§ç”Ÿäº†é—­åŒ…ã€‚ æ¨¡å—æœ‰ä¸¤ä¸ªä¸»è¦ç‰¹å¾: ä¸ºåˆ›å»ºå†…éƒ¨ä½œç”¨åŸŸè€Œè°ƒç”¨äº†ä¸€ä¸ªåŒ…è£…å‡½æ•°; åŒ…è£…å‡½æ•°çš„è¿”å› å€¼å¿…é¡»è‡³å°‘åŒ…æ‹¬ä¸€ä¸ªå¯¹å†…éƒ¨å‡½æ•°çš„å¼•ç”¨ï¼Œè¿™æ ·å°±ä¼šåˆ›å»ºæ¶µç›–æ•´ä¸ªåŒ…è£…å‡½æ•°å†…éƒ¨ä½œç”¨åŸŸçš„é—­ åŒ…ã€‚]]></content>
      <categories>
        <category>ä½ ä¸çŸ¥é“çš„JavaScript</category>
      </categories>
      <tags>
        <tag>ä½œç”¨åŸŸ</tag>
        <tag>é—­åŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æå‡]]></title>
    <url>%2F2017%2F10%2F03%2Fcl4s3gtik009wwn9eu0r3gn8v%2F</url>
    <content type="text"><![CDATA[å‰é¢çš„ç« èŠ‚ï¼Œè¯¦ç»†è®¨è®ºäº†ä½œç”¨åŸŸçš„æ¦‚å¿µï¼Œä»¥åŠæ ¹æ®å£°æ˜çš„ä½ç½®å’Œæ–¹å¼å°†å˜é‡åˆ†é…ç»™ ä½œç”¨åŸŸçš„ç›¸å…³åŸç†ã€‚å‡½æ•°ä½œç”¨åŸŸå’Œå—ä½œç”¨åŸŸçš„è¡Œä¸ºæ˜¯ä¸€æ ·çš„ï¼Œå¯ä»¥æ€»ç»“ä¸º:ä»»ä½•å£°æ˜åœ¨ æŸä¸ªä½œç”¨åŸŸå†…çš„å˜é‡ï¼Œéƒ½å°†é™„å±äºè¿™ä¸ªä½œç”¨åŸŸã€‚ ç¼–è¯‘è¿‡ç¨‹å› æ­¤ï¼Œæ­£ç¡®çš„æ€è€ƒæ€è·¯æ˜¯ï¼ŒåŒ…æ‹¬å˜é‡å’Œå‡½æ•°åœ¨å†…çš„æ‰€æœ‰å£°æ˜éƒ½ä¼šåœ¨ä»»ä½•ä»£ç è¢«æ‰§è¡Œå‰é¦–å…ˆ è¢«å¤„ç†ã€‚å½“ä½ çœ‹åˆ°var a = 2;æ—¶ï¼Œå¯èƒ½ä¼šè®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªå£°æ˜ã€‚ä½†JavaScriptå®é™…ä¸Šä¼šå°†å…¶çœ‹æˆä¸¤ä¸ª å£°æ˜:var a;å’Œa = 2;ã€‚ç¬¬ä¸€ä¸ªå®šä¹‰å£°æ˜æ˜¯åœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡Œçš„ã€‚ç¬¬äºŒä¸ªèµ‹å€¼å£°æ˜ä¼šè¢«ç•™åœ¨ åŸåœ°ç­‰å¾…æ‰§è¡Œé˜¶æ®µã€‚ æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªä»£ç ç‰‡æ®µä¼šä»¥å¦‚ä¸‹å½¢å¼è¿›è¡Œå¤„ç†: 12var a;a = 2; console.log( a ); å…¶ä¸­ç¬¬ä¸€éƒ¨åˆ†æ˜¯ç¼–è¯‘ï¼Œè€Œç¬¬äºŒéƒ¨åˆ†æ˜¯æ‰§è¡Œã€‚ ç±»ä¼¼åœ°ï¼Œæˆ‘ä»¬çš„ç¬¬äºŒä¸ªä»£ç ç‰‡æ®µå®é™…æ˜¯æŒ‰ç…§ä»¥ä¸‹æµç¨‹å¤„ç†çš„: 12var a; console.log( a ); a = 2; åªæœ‰å£°æ˜æœ¬èº«ä¼šè¢«æå‡ï¼Œè€Œèµ‹å€¼æˆ–å…¶ä»–è¿è¡Œé€»è¾‘ä¼šç•™åœ¨åŸåœ°ã€‚å¦‚æœæå‡æ”¹å˜ äº†ä»£ç æ‰§è¡Œçš„é¡ºåºï¼Œä¼šé€ æˆéå¸¸ä¸¥é‡çš„ç ´åã€‚ ä¾‹å­ï¼š 1234foo();function foo() &#123;console.log( a ); // undefined var a = 2;&#125; fooå‡½æ•°çš„å£°æ˜è¢«æå‡äº†ï¼Œå› æ­¤è¯¥å‡½æ•°å¯ä»¥è¢«æ‰§è¡Œã€‚å› æ­¤è¿™æ®µä»£ç å®é™…ä¸Šä¼šè¢«ç†è§£ä¸ºä¸‹ é¢çš„å½¢å¼: 1234function foo() &#123; var a; console.log( a ); // undefineda = 2; &#125;foo(); å¯ä»¥çœ‹åˆ°ï¼Œå‡½æ•°å£°æ˜ä¼šè¢«æå‡ï¼Œä½†æ˜¯å‡½æ•°è¡¨è¾¾å¼å´ä¸ä¼šè¢«æå‡ã€‚ 1234foo(); // ä¸æ˜¯ ReferenceError, è€Œæ˜¯ TypeError!var foo = function bar() &#123; // ...&#125;; å› ä¸ºæ­¤æ—¶foo() ç”±äºå¯¹ undefined å€¼è¿›è¡Œå‡½æ•°è°ƒç”¨è€Œå¯¼è‡´éæ³•æ“ä½œï¼Œ å› æ­¤æŠ›å‡º TypeError å¼‚å¸¸ã€‚ åŒæ—¶ä¹Ÿè¦è®°ä½ï¼Œå³ä½¿æ˜¯å…·åçš„å‡½æ•°è¡¨è¾¾å¼ï¼Œåç§°æ ‡è¯†ç¬¦åœ¨èµ‹å€¼ä¹‹å‰ä¹Ÿæ— æ³•åœ¨æ‰€åœ¨ä½œç”¨åŸŸä¸­æå‡ä½¿ç”¨: 1234 foo(); // TypeError bar(); // ReferenceErrorvar foo = function bar() &#123; // ...&#125;; è¿™ä¸ªä»£ç ç‰‡æ®µç»è¿‡æå‡åï¼Œå®é™…ä¸Šä¼šè¢«ç†è§£ä¸ºä»¥ä¸‹å½¢å¼: 123456var foo;foo(); // TypeError bar(); // ReferenceErrorfoo = function() &#123;var bar = ...self... // ...&#125; å‡½æ•°ä¼˜å…ˆå‡½æ•°å£°æ˜å’Œå˜é‡å£°æ˜éƒ½ä¼šè¢«æå‡ã€‚ä½†æ˜¯ä¸€ä¸ªå€¼å¾—æ³¨æ„çš„ç»†èŠ‚(è¿™ä¸ªç»†èŠ‚å¯ä»¥å‡ºç°åœ¨æœ‰å¤šä¸ªâ€œé‡å¤â€å£°æ˜çš„ä»£ç ä¸­)æ˜¯å‡½æ•°ä¼šé¦–å…ˆè¢«æå‡ï¼Œç„¶åæ‰æ˜¯å˜é‡ã€‚ è€ƒè™‘ä»¥ä¸‹ä»£ç ï¼š 1234567891011foo() //1var foofunction foo() &#123; console.log(1)&#125;foo = function() &#123; console.log(2)&#125; ä¼šè¾“å‡º 1 è€Œä¸æ˜¯ 2 !è¿™ä¸ªä»£ç ç‰‡æ®µä¼šè¢«å¼•æ“ç†è§£ä¸ºå¦‚ä¸‹å½¢å¼: 123456function foo() &#123; console.log( 1 );&#125;foo(); // 1foo = function() &#123; console.log( 2 );&#125;; ä¸€ä¸ªæ™®é€šå—å†…éƒ¨çš„å‡½æ•°å£°æ˜é€šå¸¸ä¼šè¢«æå‡åˆ°æ‰€åœ¨ä½œç”¨åŸŸçš„é¡¶éƒ¨ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸ä¼šåƒä¸‹é¢çš„ä»£ ç æš—ç¤ºçš„é‚£æ ·å¯ä»¥è¢«æ¡ä»¶åˆ¤æ–­æ‰€æ§åˆ¶: 123456foo(); // "b"var a = true; if (a) &#123;function foo() &#123; console.log("a"); &#125; &#125;else &#123;function foo() &#123; console.log("b"); &#125;&#125; ä½†æ˜¯éœ€è¦æ³¨æ„è¿™ä¸ªè¡Œä¸ºå¹¶ä¸å¯é ï¼Œåœ¨ JavaScript æœªæ¥çš„ç‰ˆæœ¬ä¸­æœ‰å¯èƒ½å‘ç”Ÿæ”¹å˜ï¼Œå› æ­¤åº”è¯¥ å°½å¯èƒ½é¿å…åœ¨å—å†…éƒ¨å£°æ˜å‡½æ•°ã€‚ (åˆ¤æ–­è¯­å¥å¹¶ä¸å…·æœ‰ä½œç”¨åŸŸ) å°ç»“æˆ‘ä»¬ä¹ æƒ¯å°†var a = 2;çœ‹ä½œä¸€ä¸ªå£°æ˜ï¼Œè€Œå®é™…ä¸ŠJavaScriptå¼•æ“å¹¶ä¸è¿™ä¹ˆè®¤ä¸ºã€‚å®ƒå°†var aå’Œa = 2å½“ä½œä¸¤ä¸ªå•ç‹¬çš„å£°æ˜ï¼Œç¬¬ä¸€ä¸ªæ˜¯ç¼–è¯‘é˜¶æ®µçš„ä»»åŠ¡ï¼Œè€Œç¬¬äºŒä¸ªåˆ™æ˜¯æ‰§è¡Œé˜¶æ®µçš„ä»»åŠ¡ã€‚ è¿™æ„å‘³ç€æ— è®ºä½œç”¨åŸŸä¸­çš„å£°æ˜å‡ºç°åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œéƒ½å°†åœ¨ä»£ç æœ¬èº«è¢«æ‰§è¡Œå‰é¦–å…ˆè¿›è¡Œå¤„ç†ã€‚ å¯ä»¥å°†è¿™ä¸ªè¿‡ç¨‹å½¢è±¡åœ°æƒ³è±¡æˆæ‰€æœ‰çš„å£°æ˜(å˜é‡å’Œå‡½æ•°)éƒ½ä¼šè¢«â€œç§»åŠ¨â€åˆ°å„è‡ªä½œç”¨åŸŸçš„ æœ€é¡¶ç«¯ï¼Œè¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºæå‡ã€‚ å£°æ˜æœ¬èº«ä¼šè¢«æå‡ï¼Œè€ŒåŒ…æ‹¬å‡½æ•°è¡¨è¾¾å¼çš„èµ‹å€¼åœ¨å†…çš„èµ‹å€¼æ“ä½œå¹¶ä¸ä¼šæå‡ã€‚ è¦æ³¨æ„é¿å…é‡å¤å£°æ˜ï¼Œç‰¹åˆ«æ˜¯å½“æ™®é€šçš„ var å£°æ˜å’Œå‡½æ•°å£°æ˜æ··åˆåœ¨ä¸€èµ·çš„æ—¶å€™ï¼Œå¦åˆ™ä¼šå¼•èµ·å¾ˆå¤šå±é™©çš„é—®é¢˜!]]></content>
      <categories>
        <category>ä½ ä¸çŸ¥é“çš„JavaScript</category>
      </categories>
      <tags>
        <tag>ä½œç”¨åŸŸ</tag>
        <tag>æå‡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è°ˆé¡¹ç›®ä¸­å¦‚ä½•é€‰æ‹©æ¡†æ¶å’Œåº“]]></title>
    <url>%2F2017%2F10%2F03%2Fcl4s3gtj200b9wn9e9jq10ue7%2F</url>
    <content type="text"><![CDATA[è°ˆé¡¹ç›®ä¸­å¦‚ä½•é€‰æ‹©æ¡†æ¶å’Œåº“ æ¦‚è¦ï¼šæˆ‘ä»¬åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œæ ¹æ®é¡¹ç›®çš„ä¸åŒçš„æƒ…å†µï¼Œæˆ‘ä»¬åœ¨åšæŠ€æœ¯é€‰å‹çš„æ—¶å€™ä¼šæœ‰æ‰€ä¸åŒï¼Œå½“ç„¶æˆ‘ä»¬åœ¨æ¡†æ¶å’Œåº“æ–¹é¢ä¹Ÿä¼šæœ‰æ‰€ä¸åŒï¼Œå“ªå…·ä½“å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿå…‹å†›å°†å’Œå¤§å®¶è°ˆä¸€è°ˆé¡¹ç›®ä¸­å¦‚ä½•é€‰æ‹©æ¡†æ¶å’Œåº“ã€‚ åŸºæœ¬çš„å‰æï¼šæˆæœ¬ä¸æ•ˆç‡ å®ç°ç›®æ ‡çš„æˆæœ¬å’Œæ•ˆç‡ ç”¨ç¬¬ä¸‰æ–¹åº“ä»¥åŠè‡ªå·±é€ è½®å­ï¼Ÿ è‰¯å¥½çš„æ¶æ„è®¾è®¡æ¯”ä»£ç æ›´é‡è¦ å›¢é˜Ÿåä½œçš„æˆæœ¬å’Œæ•ˆç‡ ä¸èƒ½è¢«å›¢é˜Ÿæ¥æ”¶çš„æ–¹æ¡ˆä¸æ˜¯å¥½æ–¹æ¡ˆï¼Ÿ åç»­è¿­ä»£çš„æˆæœ¬å’Œæ•ˆç‡ å…¼é¡¾å¯ç»´æŠ¤æ€§ä»¥åŠå¯è¿­ä»£æ€§çš„æ¶æ„è®¾è®¡ï¼Œè¿™æ„å‘³ç€åœ¨é¡¹ç›®ä¹‹åˆéœ€è¦èŠ±æ‰æ—¶é—´æˆæœ¬ è½®å­çš„é€‰æ‹© å¯¹äºéœ€è¦ç”¨è½®å­çš„äººå’Œé€ è½®å­çš„äººï¼Œéƒ½éœ€è¦å…³æ³¨çš„é—®é¢˜æ˜¯ï¼Œè¿™ä¸ªè½®å­è§£å†³çš„é—®é¢˜æ˜¯ä»€ä¹ˆï¼Œç—›ç‚¹æ˜¯ä»€ä¹ˆã€‚åœ¨é¡¹ç›®ä¸­ï¼Œæœ€å¤§çš„ç“¶é¢ˆåœ¨å“ªï¼Ÿè½®å­å¯¹äºé¡¹ç›®æ˜¯å¦åŒ¹é…ã€‚ å„ç§ç»´åº¦çš„æ¯”è¾ƒ æ¨¡å¼ã€ä½“é‡ã€æ€§èƒ½ã€å‰æ™¯ã€æ™®åŠç‡ã€å±€é™æ€§ã€æ´»è·ƒæ€§ã€å¥‘åˆåº¦ã€æˆç†Ÿåº¦ã€å­¦ä¹ æˆæœ¬ã€å‘¨è¾¹èµ„æºã€æ–‡æ¡£è´¨é‡ åœ¨ä¸åŒç‰¹ç‚¹çš„é¡¹ç›®ä¸­ï¼Œæƒé‡æ˜¯ä¸ä¸€æ ·çš„ã€‚ é€‰æ‹©çš„åŸåˆ™å¦¥é€‚æ€§åœ¨åŸåˆ™ é¿å…è¿‡åº¦å®è·µï¼Œå¼•å…¥äº†æš‚æ—¶ç”¨ä¸åˆ°çš„æŠ€æœ¯ åº“çš„é€‰æ‹© ç¼©å°ä¾èµ–èŒƒå›´å’Œç¨³å®šæ–¹å‘ä¾èµ– é¿é‡è¶‹è½»ã€é¿ç¹é€ç®€ã€ä»¥ç®€è·ç¹ã€é¿è™šå°±å® å¯æ›¿ä»£æ€§ ä¸»æ¡†æ¶çš„é€‰æ‹© æ²¡æœ‰ä¸äºŒæ³•åˆ™ æ‹¥æŠ±æœªæ¥ ç»éªŒä»·å€¼é«˜ æ¶æ„çš„ä¼˜åŠ¿ä¸ºé‡ ç†µè½¯ä»¶ç†µï¼Œè½¯ä»¶åœ¨ç»è¿‡å„ç§ä¿®æ”¹ä¹‹åï¼Œæ— åºç¨‹åº¦ä¼šä¸Šå‡ã€‚åœ¨å‰æœŸï¼Œé¦–å…ˆåœ¨é€‰æ‹©çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰äº›å·¥å…·import codsæ’ä»¶ã€‚åŒ…åˆ†æå·¥å…·ï¼Œåˆ†æåŒ…æ‰€å æ¯”é‡ã€‚ åº“é€‰æ‹©ï¼š æ‰©å±•è¯­è¨€ç±» åŸºç¡€åŠŸèƒ½ å…¼å®¹é—®é¢˜ å°‘é‡æˆç†Ÿçš„ç»„ä»¶]]></content>
      <categories>
        <category>å¼€å‘å®è·µåˆ†äº«</category>
      </categories>
      <tags>
        <tag>å‰ç«¯æ—©è¯»è¯¾</tag>
        <tag>æ¶æ„è®¾è®¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‡½æ•°ä½œç”¨åŸŸå’Œå—ä½œç”¨åŸŸ]]></title>
    <url>%2F2017%2F10%2F03%2Fcl4s3gthx008jwn9ecv50aylj%2F</url>
    <content type="text"><![CDATA[æœ¬ç« è®¨è®ºçš„é—®é¢˜æ˜¯ï¼Œæ˜¯å¦åªæœ‰å‡½æ•°ä¼šç”Ÿæˆæ–°çš„ä½œç”¨åŸŸï¼Œåœ¨Javasä¸­å…¶ä»–çš„ç»“æ„èƒ½ç”Ÿæˆä½œç”¨åŸŸå—ï¼Ÿ å‡½æ•°ä¸­çš„ä½œç”¨åŸŸè€ƒè™‘ä¸€ä¸‹ä»£ç ï¼š12345678910111213function foo(a)&#123; var b = 2 //ä¸€äº›ä»£ç  function bar ()&#123; //... &#125; //æ›´å¤šçš„ä»£ç  var c = 3&#125; åœ¨è¿™ä¸ªä»£ç ç‰‡æ®µä¸­ï¼Œfooï¼ˆâ€¦ï¼‰ çš„ä½œç”¨åŸŸæ°”æ³¡ä¸­åŒ…å«äº†æ ‡è¯†ç¬¦aã€bã€cå’Œbarï¼Œæ— è®ºæ ‡å¿—æœå£°æ˜å‡ºç°åœ¨ä½œç”¨åŸŸä¸­çš„ä½•å¤„ï¼Œè¿™ä¸ªæ ‡è¯†ç¬¦æ‰€ä»£è¡¨çš„å˜é‡æˆ–å‡½æ•°éƒ½å°†å±äºæ‰€å¤„ä½œç”¨åŸŸçš„æ°”æ³¡ã€‚ æ‰€ä»¥ï¼Œè¿™äº›åœ¨fooä¸­å®šä¹‰çš„æ ‡è¯†ç¬¦æ— æ³•ä»å…¨å±€ä½œç”¨åŸŸä¸­è¿›è¡Œè®¿é—®ï¼Œè¿™ä¼šå¯¼è‡´ReferenceError æ€»ç»“ä¸€ä¸‹å‡½æ•°ä½œç”¨åŸŸï¼Œå±äºè¿™ä¸ªå‡½æ•°çš„å…¨å±€å˜é‡éƒ½å¯ä»¥åœ¨æ•´ä¸ªå‡½æ•°çš„èŒƒå›´å†…ä½¿ç”¨ä»¥åŠå¤ç”¨ã€‚ä½†ä¸æ­¤åŒæ—¶ï¼Œå¦‚æœä¸ç»†å¿ƒå¤„ç†é‚£äº›å¯ä»¥åœ¨æ•´ä¸ªä½œç”¨åŸŸèŒƒå›´å†…è¢«è®¿é—®çš„å˜é‡ï¼Œå¯èƒ½å¯¼è‡´æ„æƒ³ä¸åˆ°çš„é—®é¢˜ã€‚ éšè—å†…éƒ¨å®ç°å¯¹å‡½æ•°çš„ä¼ ç»Ÿè®¤çŸ¥å°±æ˜¯å…ˆå£°æ˜ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åå†å‘é‡Œé¢æ·»åŠ ä»£ç ã€‚ä½†åè¿‡æ¥æƒ³ä¹Ÿå¯ä»¥å¸¦æ¥ ä¸€äº›å¯ç¤ºï¼šä»æ‰€å†™çš„ä»£ç ä¸­æŒ‘é€‰å‡ºä»»æ„ä¸€ä¸ªç‰‡æ®µï¼Œç„¶ååˆ©ç”¨å‡½æ•°å£°æ˜å¯¹å®ƒè¿›è¡ŒåŒ…è£…ï¼Œå®é™…ä¸Šå°±æ˜¯æŠŠä»£ç éšè—èµ·æ¥äº†ã€‚ è¿™å…¶å®å°±æ˜¯åœ¨è¿™ä¸ªä»£ç ç‰‡æ®µå‘¨å›´åˆ›å»ºäº†ä¸€ä¸ªä½œç”¨åŸŸæ°”æ³¡ï¼Œä¹Ÿå°±æ˜¯è¯´ä»»ä½•å£°æ˜ï¼ˆå˜é‡æˆ–è€…å‡½æ•°ï¼‰éƒ½å°†ç»‘å®šåœ¨è¿™ä¸ªæ–°åˆ›å»ºçš„åŒ…è£…å‡½æ•°çš„ä½œç”¨åŸŸä¸­ã€‚ å‡ºå‘ç‚¹ä»¥åŠç›®çš„ï¼Œä¸ºä»€ä¹ˆè¦å¯¹ä»£ç è¿›è¡Œéšè—ï¼šåº”è¯¥æœ€å°é™åº¦çš„æš´éœ²å¿…è¦å†…å®¹ï¼Œè€Œå°†å…¶ä»–å†…å®¹éƒ½â€œéšè—èµ·æ¥â€ï¼Œè¿™ç±»ä¼¼äºæŸä¸ªæ¨¡å—æˆ–è€…å¯¹è±¡çš„APIè®¾è®¡ã€‚ è§„é¿å†²çªâ€œéšè—â€ä½œç”¨åŸŸä¸­çš„å˜é‡å’Œå‡½æ•°æ‰€å¸¦æ¥çš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œæ˜¯å¯ä»¥é¿å…åŒåæ ‡è¯†ç¬¦ä¹‹é—´çš„å†²çªã€‚ 12345678function foo() &#123; function bar(a) &#123;i = 3; //ä¿®æ”¹forå¾ªç¯æ‰€å±ä½œç”¨åŸŸä¸­çš„i console.log( a + i ); &#125;for (var i=0; i&lt;10; i++) &#123;bar( i * 2 ); // ç³Ÿç³•ï¼Œæ— é™å¾ªç¯äº†!&#125; &#125;foo(); è¿™æ®µä»£ç çš„é—®é¢˜åœ¨äºï¼Œå‡½æ•°barä¿®æ”¹äº†å˜é‡iï¼Œè¿™ä¼šå¯¼è‡´forå¾ªç¯æ²¡æ³•æ»¡è¶³ç»ˆæ­¢çš„æ¡ä»¶ï¼Œå‡ºç°æ— é™å¾ªç¯ã€‚ è§£å†³è¿™é—®é¢˜çš„å‡ ç§æ–¹æ³•ï¼š å°†å‡½æ•°barä¸­çš„iï¼Œå£°æ˜ä¸ºvar i= 3ï¼› è¿™ä¸ªiå°±æ˜¯ä¹‹å‰æè¿‡çš„â€œé®è”½å˜é‡â€ï¼ŒåŠåœ¨å½“å‰ä½œç”¨åŸŸå’Œä¸Šå±‚ä½œç”¨åŸŸé‡å¤å®šä¹‰çš„å˜é‡ï¼Œå±è”½ä¸Šå±‚çš„ä½œç”¨åŸŸå®šä¹‰çš„å˜é‡ã€‚ ä½†æ˜¯æ›´å¥½çš„æ–¹æ³•ï¼Œæ˜¯åº”è¯¥è®²ä½œç”¨åŸŸâ€œéšè—â€èµ·æ¥ï¼Œå†…éƒ¨å£°æ˜æ˜¯å”¯ä¸€æœ€ä½³çš„é€‰æ‹©ã€‚ ä»¥ä¸‹æ˜¯åœ¨è½¯ä»¶å¼€å‘ä¸­å¸¸è§çš„éœ€è¦è¿›è¡Œå†²çªç®¡ç†çš„æƒ…å†µï¼š å…¨å±€å‘½åç©ºé—´å˜é‡å†²çªçš„ä¸€ä¸ªå…¸å‹ä¾‹å­å­˜åœ¨äºå…¨å±€ä½œç”¨åŸŸä¸­ã€‚å½“ç¨‹åºä¸­åŠ è½½äº†å¤šä¸ªç¬¬ä¸‰æ–¹åº“æ—¶ï¼Œå¦‚æœå®ƒ ä»¬æ²¡æœ‰å¦¥å–„åœ°å°†å†…éƒ¨ç§æœ‰çš„å‡½æ•°æˆ–å˜é‡éšè—èµ·æ¥ï¼Œå°±ä¼šå¾ˆå®¹æ˜“å¼•å‘å†²çªã€‚ è¿™äº›åº“é€šå¸¸ä¼šåœ¨å…¨å±€ä½œç”¨åŸŸä¸­å£°æ˜ä¸€ä¸ªåå­—è¶³å¤Ÿç‹¬ç‰¹çš„å˜é‡ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±è¢«ç”¨ä½œåº“çš„å‘½åç©ºé—´ï¼Œæ‰€æœ‰éœ€è¦æš´éœ²ç»™å¤–ç•Œçš„åŠŸèƒ½éƒ½ä¼šæˆä¸ºè¿™ä¸ªå¯¹è±¡ï¼ˆå‘½åç©ºé—´çš„ï¼‰å±æ€§ã€‚ ä¾‹å¦‚ï¼š123456789var MyreallyCoolLibrary = &#123; awesome: &quot;stuff&quot;, dosometing: functino () &#123; //... &#125;, doAnoterhThing: fucntion() &#123; //.. &#125;&#125; æ¨¡å—ç®¡ç†å¦å¤–ä¸€ç§é¿å…å†²çªçš„åŠæ³•å’Œç°ä»£çš„æ¨¡å—æœºåˆ¶å¾ˆæ¥è¿‘ï¼Œå°±æ˜¯ä»ä¼—å¤šæ¨¡å—ç®¡ç†å™¨ä¸­æŒ‘é€‰ä¸€ä¸ªæ¥ ä½¿ç”¨ã€‚ä½¿ç”¨è¿™äº›å·¥å…·ï¼Œä»»ä½•åº“éƒ½æ— éœ€å°†æ ‡è¯†ç¬¦åŠ å…¥åˆ°å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œè€Œæ˜¯é€šè¿‡ä¾èµ–ç®¡ç†å™¨ çš„æœºåˆ¶å°†åº“çš„æ ‡è¯†ç¬¦æ˜¾å¼åœ°å¯¼å…¥åˆ°å¦å¤–ä¸€ä¸ªç‰¹å®šçš„ä½œç”¨åŸŸä¸­ã€‚ ä¸¤ç§æ¨¡å¼çš„å…±æ€§æ˜¾è€Œæ˜“è§ï¼Œè¿™äº›å·¥å…·å¹¶æ²¡æœ‰èƒ½å¤Ÿè¿åè¯æ³•ä½œç”¨åŸŸè§„åˆ™çš„â€œç¥å¥‡â€åŠŸèƒ½ã€‚å®ƒä»¬åªæ˜¯åˆ©ç”¨ä½œç”¨ åŸŸçš„è§„åˆ™å¼ºåˆ¶æ‰€æœ‰æ ‡è¯†ç¬¦éƒ½ä¸èƒ½æ³¨å…¥åˆ°å…±äº«ä½œç”¨åŸŸä¸­ï¼Œè€Œæ˜¯ä¿æŒåœ¨ç§æœ‰ã€æ— å†²çªçš„ä½œç”¨åŸŸ ä¸­ï¼Œè¿™æ ·å¯ä»¥æœ‰æ•ˆè§„é¿æ‰æ‰€æœ‰çš„æ„å¤–å†²çªã€‚ å‡½æ•°ä½œç”¨åŸŸè™½ç„¶åˆ©ç”¨å‡½æ•°å¯ä»¥ç”Ÿæˆä½œç”¨åŸŸï¼Œä½†è¿™ç§æ–¹æ³•æœ‰ä¸¤ä¸ªå¼Šç«¯ï¼Œé¦–å…ˆå¿…é¡»å£°æ˜ä¸€ä¸ªå…·åå‡½æ•°fooï¼Œè¿™æ„å‘³ç€è¿™ä¸ªåç§°æœ¬èº«â€œæ±¡æŸ“â€äº†æ‰€åœ¨çš„ä½œç”¨åŸŸï¼Œè¿™æ˜¯ä¸å¿…è¦çš„ã€‚å…¶å®ï¼Œå¿…é¡»æ˜¾ç¤ºåœ°é€šè¿‡å‡½æ•°åï¼ˆfooï¼ˆï¼‰ï¼‰è°ƒç”¨è¿™ä¸ªå‡½æ•°æ‰èƒ½è¿è¡Œå…¶ä¸­ä»£ç ã€‚ ä¸ºè§£å†³ä»¥ä¸Šé—®é¢˜ï¼ŒJavasæä¾›äº†æ–¹æ¡ˆï¼š 12345678var a = 2(function foo() &#123; var a = 3 console.log(a) //3&#125;)()console.log(a) //2 å°†å‡½æ•°ç”¨ï¼ˆï¼‰åŒ…è£¹èµ·æ¥ï¼Œè¿™ä¼šå°†å‡½æ•°å½“åšå‡½æ•°è¡¨è¾¾å¼è€Œä¸æ˜¯ä¸€ä¸ªæ ‡å‡†çš„å‡½æ•°å£°æ˜æ¥å¤„ç†ã€‚ å¦‚æœ function æ˜¯å£°æ˜ä¸­ çš„ç¬¬ä¸€ä¸ªè¯ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜ï¼Œå¦åˆ™å°±æ˜¯ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼ã€‚ å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼çš„åŒºåˆ«å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼ä¹‹é—´æœ€é‡è¦çš„åŒºåˆ«æ˜¯å®ƒä»¬çš„åç§°æ ‡è¯†ç¬¦å°†ä¼šç»‘å®šåœ¨ä½•å¤„ æ¯”è¾ƒä¸€ä¸‹å‰é¢ä¸¤ä¸ªä»£ç ç‰‡æ®µã€‚ç¬¬ä¸€ä¸ªç‰‡æ®µä¸­ foo è¢«ç»‘å®šåœ¨æ‰€åœ¨ä½œç”¨åŸŸä¸­ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡foo() æ¥è°ƒç”¨å®ƒã€‚ç¬¬äºŒä¸ªç‰‡æ®µä¸­ foo è¢«ç»‘å®šåœ¨å‡½æ•°è¡¨è¾¾å¼è‡ªèº«çš„å‡½æ•°ä¸­è€Œä¸æ˜¯æ‰€åœ¨ä½œç”¨åŸŸä¸­ã€‚æ¢å¥è¯è¯´ï¼Œ(function foo(){ .. })ä½œä¸ºå‡½æ•°è¡¨è¾¾å¼æ„å‘³ç€fooåªèƒ½åœ¨..æ‰€ä»£è¡¨çš„ä½ç½®ä¸­ è¢«è®¿é—®ï¼Œå¤–éƒ¨ä½œç”¨åŸŸåˆ™ä¸è¡Œã€‚foo å˜é‡åè¢«éšè—åœ¨è‡ªèº«ä¸­æ„å‘³ç€ä¸ä¼šéå¿…è¦åœ°æ±¡æŸ“å¤–éƒ¨ä½œ ç”¨åŸŸã€‚ å‚è€ƒï¼šè¯¦è§£Javascript å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼çš„åŒºåˆ« åŒ¿åå’Œå…·å123 setTimeout( function() &#123; console.log("I waited 1 second!");&#125;, 1000 ); è¿™å«åšåŒ¿åå‡½æ•°è¡¨è¾¾å¼ï¼Œå› ä¸ºå£°æ˜ä¹Ÿåç§°æ ‡è¯†ç¬¦ã€‚å‡½æ•°è¡¨è¾¾å¼å¯ä»¥æ˜¯åŒ¿åçš„ï¼Œè€Œå‡½æ•°å£°æ˜åˆ™ä¸å¯ä»¥çœç•¥å‡½æ•°åâ€”â€”åœ¨ JavaScript çš„è¯­æ³•ä¸­è¿™æ˜¯éæ³•çš„ã€‚ åŒ¿åå‡½æ•°ä¹¦å†™èµ·æ¥ç®€å•ä¾¿æ·ï¼Œä½†æ˜¯æœ‰å‡ ä¸ªç¡®å®šéœ€è¦è€ƒè™‘ï¼š åŒ¿åå‡½æ•°åœ¨æ ˆè¿½è¸ªä¸­ä¸ä¼šæ˜¾ç¤ºå‡ºæœ‰æ„ä¹‰çš„å‡½æ•°åï¼Œè°ƒè¯•å˜å¾—å›°éš¾ å¦‚æœæ²¡æœ‰å‡½æ•°åï¼Œå½“å‡½æ•°éœ€è¦å¼•ç”¨è‡ªèº«æ—¶åªèƒ½ä½¿ç”¨å·²ç»è¿‡æœŸçš„arguments.calleeå¼•ç”¨ï¼Œ æ¯”å¦‚åœ¨é€’å½’ä¸­ã€‚å¦ä¸€ä¸ªå‡½æ•°éœ€è¦å¼•ç”¨è‡ªèº«çš„ä¾‹å­ï¼Œæ˜¯åœ¨äº‹ä»¶è§¦å‘åäº‹ä»¶ç›‘å¬å™¨éœ€è¦è§£ç»‘ è‡ªèº«ã€‚ åŒ¿åå‡½æ•°çœç•¥äº†å¯¹äºä»£ç å¯è¯»æ€§/å¯ç†è§£æ€§è€Œè¨€å¾ˆé‡è¦çš„å‡½æ•°åï¼Œä¸€ä¸ªæè¿°æ€§çš„åç§°å¯ä»¥è®©ä»£ç ä¸è¨€è‡ªæ˜ã€‚ è¡Œå†…å‡½æ•°è¡¨è¾¾å¼è¡Œå†…å‡½æ•°è¡¨è¾¾å¼éå¸¸å¼ºå¤§ä¸”æœ‰ç”¨â€”â€”åŒ¿åå’Œå…·åä¹‹é—´çš„åŒºåˆ«å¹¶ä¸ä¼šå¯¹è¿™ç‚¹æœ‰ä»»ä½•å½±å“ã€‚ç»™å‡½ æ•°è¡¨è¾¾å¼æŒ‡å®šä¸€ä¸ªå‡½æ•°åå¯ä»¥æœ‰æ•ˆè§£å†³ä»¥ä¸Šé—®é¢˜ã€‚å§‹ç»ˆç»™å‡½æ•°è¡¨è¾¾å¼å‘½åæ˜¯ä¸€ä¸ªæœ€ä½³å®è·µ: 123setTimeout( function timeoutHandler() &#123; // &lt;-- å¿«çœ‹ï¼Œæˆ‘æœ‰åå­—äº†! console.log( "I waited 1 second!" );&#125;, 1000 ); ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼1234567var a = 2 (function foo() &#123; var a = 3 console.log(a) //3 &#125;)()console.log(a) //2 ç”±äºå‡½æ•°è¢«åŒ…å«åœ¨ä¸€å¯¹ï¼ˆï¼‰å†…éƒ¨ï¼Œä¸€æ¬¡æˆä¸ºä¸€ä¸ªè¡¨è¾¾å¼ï¼Œé€šè¿‡åœ¨æ¬§å¨åŠ ä¸Šå¦ä¸€ä¸ªï¼ˆï¼‰å¯ä»¥ç«‹å³æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œæ¯”å¦‚ (function foo(){ .. })()ã€‚ç¬¬ä¸€ä¸ª ( ) å°†å‡½æ•°å˜æˆè¡¨ è¾¾å¼ï¼Œç¬¬äºŒä¸ª ( ) æ‰§è¡Œäº†è¿™ä¸ªå‡½æ•°ã€‚ IIFEï¼ˆç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ï¼‰è¿™ç§æ¨¡å¼å¾ˆå¸¸è§ï¼Œå‡ å¹´å‰ç¤¾åŒºç»™å®ƒè§„å®šäº†ä¸€ä¸ªæœ¯è¯­:IIFEï¼Œä»£è¡¨ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ (Immediately Invoked Function Expression); å‡½æ•°åå¯¹ IIFE å½“ç„¶ä¸æ˜¯å¿…é¡»çš„ï¼ŒIIFE æœ€å¸¸è§çš„ç”¨æ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªåŒ¿åå‡½æ•°è¡¨è¾¾å¼ã€‚è™½ç„¶ä½¿ ç”¨å…·åå‡½æ•°çš„ IIFE å¹¶ä¸å¸¸è§ï¼Œä½†å®ƒå…·æœ‰ä¸Šè¿°åŒ¿åå‡½æ•°è¡¨è¾¾å¼çš„æ‰€æœ‰ä¼˜åŠ¿ï¼Œå› æ­¤ä¹Ÿæ˜¯ä¸€ä¸ªå€¼ å¾—æ¨å¹¿çš„å®è·µã€‚ 1234var a = 2; (function IIFE() &#123;var a = 3; console.log( a ); // 3 &#125;)(); console.log( a ); // 2 ç›¸è¾ƒäºä¼ ç»Ÿçš„ IIFE å½¢å¼ï¼Œå¾ˆå¤šäººéƒ½æ›´å–œæ¬¢å¦ä¸€ä¸ªæ”¹è¿›çš„å½¢å¼:(function(){ .. }())ï¼Œ ç¬¬ä¸€ç§å½¢å¼ä¸­å‡½æ•°è¡¨è¾¾å¼è¢«åŒ…å«åœ¨( )ä¸­ï¼Œç„¶ååœ¨åé¢ç”¨å¦ä¸€ä¸ª()æ‹¬ å·æ¥è°ƒç”¨ã€‚ç¬¬äºŒç§å½¢å¼ä¸­ç”¨æ¥è°ƒç”¨çš„()æ‹¬å·è¢«ç§»è¿›äº†ç”¨æ¥åŒ…è£…çš„( )æ‹¬å·ä¸­ã€‚è¿™ä¸¤ç§å½¢å¼åœ¨åŠŸèƒ½ä¸Šæ˜¯ä¸€è‡´çš„ã€‚é€‰æ‹©å“ªä¸ªå…¨å‡­ä¸ªäººå–œå¥½ã€‚ IIFE çš„å¦ä¸€ä¸ªéå¸¸æ™®éçš„è¿›é˜¶ç”¨æ³•æ˜¯æŠŠå®ƒä»¬å½“ä½œå‡½æ•°è°ƒç”¨å¹¶ä¼ é€’å‚æ•°è¿›å»ã€‚ 123456var a = 2;(function IIFE( global ) &#123;var a = 3;console.log( a ); // 3 console.log( global.a ); // 2 &#125;)( window ); console.log( a ); // 2 IIFE è¿˜æœ‰ä¸€ç§å˜åŒ–çš„ç”¨é€”æ˜¯å€’ç½®ä»£ç çš„è¿è¡Œé¡ºåºï¼Œå°†éœ€è¦è¿è¡Œçš„å‡½æ•°æ”¾åœ¨ç¬¬äºŒä½ï¼Œåœ¨ IIFE æ‰§è¡Œä¹‹åå½“ä½œå‚æ•°ä¼ é€’è¿›å»ã€‚ 123456var a = 2(function IIFE( def ) &#123; def( window );&#125;)(function def( global ) &#123;var a = 3;console.log( a ); // 3 console.log( global.a ); // 2&#125;); å‡½æ•°è¡¨è¾¾å¼ def å®šä¹‰åœ¨ç‰‡æ®µçš„ç¬¬äºŒéƒ¨åˆ†ï¼Œç„¶åå½“ä½œå‚æ•°(è¿™ä¸ªå‚æ•°ä¹Ÿå«ä½œ def)è¢«ä¼ é€’è¿› IIFE å‡½æ•°å®šä¹‰çš„ç¬¬ä¸€éƒ¨åˆ†ä¸­ã€‚æœ€åï¼Œå‚æ•° def(ä¹Ÿå°±æ˜¯ä¼ é€’è¿›å»çš„å‡½æ•°)è¢«è°ƒç”¨ï¼Œå¹¶å°† window ä¼ å…¥å½“ä½œ global å‚æ•°çš„å€¼ã€‚ å—çº§ä½œç”¨åŸŸå—ä½œç”¨åŸŸæ˜¯ä¸€ä¸ªç”¨æ¥å¯¹ä¹‹å‰çš„æœ€å°æˆæƒåŸåˆ™è¿›è¡Œæ‰©å±•çš„å·¥å…·ï¼Œå°†ä»£ç ä»åœ¨å‡½æ•°ä¸­éšè—ä¿¡æ¯ æ‰©å±•ä¸ºåœ¨å—ä¸­éšè—ä¿¡æ¯ã€‚ try/catchéå¸¸å°‘æœ‰äººä¼šæ³¨æ„åˆ° JavaScript çš„ ES3 è§„èŒƒä¸­è§„å®š try/catch çš„ catch åˆ†å¥ä¼šåˆ›å»ºä¸€ä¸ªå—ä½œç”¨åŸŸï¼Œå…¶ä¸­å£°æ˜çš„å˜é‡ä»…åœ¨ catch å†…éƒ¨æœ‰æ•ˆã€‚ 123456try &#123;undefined(); // æ‰§è¡Œä¸€ä¸ªéæ³•æ“ä½œæ¥å¼ºåˆ¶åˆ¶é€ ä¸€ä¸ªå¼‚å¸¸&#125;catch (err) &#123;console.log( err ); // èƒ½å¤Ÿæ­£å¸¸æ‰§è¡Œ! &#125; console.log( err ); // ReferenceError: err not found errä»…ä»…å­˜åœ¨äºcatchåˆ†å¥å†…éƒ¨ï¼Œå½“è§†å›¾ä»åˆ«å¤„å¼•ç”¨å®ƒæ—¶ä¼šæŠ›å‡ºé”™è¯¯ letletå…³é”®å­—å¯ä»¥å°†å˜é‡ç»‘å®šåˆ°ä»»æ„ä½œç”¨åŸŸä¸­ï¼Œé€šå¸¸æ˜¯{â€¦}å†…éƒ¨ï¼Œæ¢å¥è¯è¯´ï¼Œletä¸ºå…¶ç”Ÿå‘½çš„å˜é‡éšå¼ç”Ÿæˆæ‰€åœ¨å—ä½œç”¨åŸŸ 123456var foo = true;if (foo) &#123;let bar = foo * 2;bar = something( bar ); console.log( bar ); &#125; console.log( bar ); // ReferenceError å˜é‡æå‡ï¼šæå‡æ˜¯æŒ‡å£°æ˜ä¼šè¢«è§†ä¸ºå­˜åœ¨äºå…¶æ‰€å‡ºç°çš„ä½œç”¨åŸŸçš„æ•´ä¸ªèŒƒå›´å†… consté™¤äº† let ä»¥å¤–ï¼ŒES6 è¿˜å¼•å…¥äº† constï¼ŒåŒæ ·å¯ä»¥ç”¨æ¥åˆ›å»ºå—ä½œç”¨åŸŸå˜é‡ï¼Œä½†å…¶å€¼æ˜¯å›ºå®šçš„ (å¸¸é‡)ã€‚ä¹‹åä»»ä½•è¯•å›¾ä¿®æ”¹å€¼çš„æ“ä½œéƒ½ä¼šå¼•èµ·é”™è¯¯ã€‚ å°ç»“å‡½æ•°æ˜¯ JavaScript ä¸­æœ€å¸¸è§çš„ä½œç”¨åŸŸå•å…ƒã€‚æœ¬è´¨ä¸Šï¼Œå£°æ˜åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„å˜é‡æˆ–å‡½æ•°ä¼šåœ¨æ‰€å¤„çš„ä½œç”¨åŸŸä¸­â€œéšè—â€èµ·æ¥ï¼Œè¿™æ˜¯æœ‰æ„ä¸ºä¹‹çš„è‰¯å¥½è½¯ä»¶çš„è®¾è®¡åŸåˆ™ã€‚ ä½†å‡½æ•°ä¸æ˜¯å”¯ä¸€çš„ä½œç”¨åŸŸå•å…ƒã€‚å—ä½œç”¨åŸŸæŒ‡çš„æ˜¯å˜é‡å’Œå‡½æ•°ä¸ä»…å¯ä»¥å±äºæ‰€å¤„çš„ä½œç”¨åŸŸï¼Œä¹Ÿå¯ä»¥å±äºæŸä¸ªä»£ç å—(é€šå¸¸æŒ‡{ .. }å†…éƒ¨)ã€‚ ä» ES3 å¼€å§‹ï¼Œtry/catch ç»“æ„åœ¨ catch åˆ†å¥ä¸­å…·æœ‰å—ä½œç”¨åŸŸã€‚ åœ¨ ES6 ä¸­å¼•å…¥äº† let å…³é”®å­—(var å…³é”®å­—çš„è¡¨äº²)ï¼Œç”¨æ¥åœ¨ä»»æ„ä»£ç å—ä¸­å£°æ˜å˜é‡ã€‚if (..) { let a = 2; }ä¼šå£°æ˜ä¸€ä¸ªåŠ«æŒäº†ifçš„{ .. }å—çš„å˜é‡ï¼Œå¹¶ä¸”å°†å˜é‡æ·»åŠ åˆ°è¿™ä¸ªå—ä¸­ã€‚]]></content>
      <categories>
        <category>ä½ ä¸çŸ¥é“çš„JavaScript</category>
      </categories>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
        <tag>ä½œç”¨åŸŸ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯æ³•ä½œç”¨åŸŸ]]></title>
    <url>%2F2017%2F10%2F03%2Fcl4s3gtj000b6wn9enzsiyqzx%2F</url>
    <content type="text"><![CDATA[ä½œç”¨åŸŸå…±æœ‰ä¸¤ç§ä¸»è¦çš„å·¥ä½œæ¨¡å‹ã€‚ç¬¬ä¸€ç§æ˜¯æœ€ä¸ºæ™®éçš„ï¼Œè¢«å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€æ‰€é‡‡ç”¨çš„è¯æ³• ä½œç”¨åŸŸï¼Œæˆ‘ä»¬ä¼šå¯¹è¿™ç§ä½œç”¨åŸŸè¿›è¡Œæ·±å…¥è®¨è®ºã€‚å¦å¤–ä¸€ç§å«ä½œåŠ¨æ€ä½œç”¨åŸŸï¼Œä»æœ‰ä¸€äº›ç¼–ç¨‹è¯­ è¨€åœ¨ä½¿ç”¨(æ¯”å¦‚ Bash è„šæœ¬ã€Perl ä¸­çš„ä¸€äº›æ¨¡å¼ç­‰)ã€‚ è¯æ³•é˜¶æ®µè¯æ³•ä½œç”¨åŸŸæ˜¯ç”±ä½ åœ¨å†™ä»£ç æ—¶å°†å˜é‡å’Œå—ä½œç”¨åŸŸå†™åœ¨å“ªé‡Œæ¥å†³å®šçš„ï¼Œå› æ­¤å½“è¯æ³•åˆ†æå™¨å¤„ç†ä»£ç æ—¶ä¼šä¿æŒä½œç”¨åŸŸä¸å˜ã€‚ è€ƒè™‘ä¸€ä¸‹ä»£ç ï¼š1234567891011function foo(a) &#123; var b = a * 2 function bar (c) &#123; console.log(a, b, c) &#125; bar(b * 3)&#125;foo(2) åœ¨è¿™ä¸ªä¾‹å­ä¸­æœ‰ä¸‰ä¸ªé€çº§åµŒå¥—çš„ä½œç”¨åŸŸï¼Œä¸ºäº†å¸®åŠ©ç†è§£ï¼Œå¯ä»¥å°†ä»–ä»¬æƒ³è±¡æˆå‡ ä¸ªé€çº§åŒ…å«çš„æ°”æ³¡ã€‚ åŒ…å«æ•´ä¸ªå…¨å±€ä½œç”¨åŸŸï¼Œå…¶ä¸­åªæœ‰ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼š foo åŒ…å«ç€fooæ‰€åˆ›å»ºçš„ä½œç”¨åŸŸï¼Œå…¶ä¸­æœ‰ä¸‰ä¸ªæ ‡è¯†ç¬¦ï¼š aã€barå’Œb åŒ…å«ç€ç”±baræ‰€å¸¸è§çš„ä½œç”¨åŸŸï¼Œå…¶ä¸­åªæœ‰ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼š c ä¸‹ä¸€ç« ä¼šè®¨è®ºä¸åŒç±»å‹çš„ä½œç”¨åŸŸï¼Œä½†ç°åœ¨åªæ˜¯ç®€å•çš„å‡è®¾æ²¡ä¸€ä¸ªå‡½æ•°éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸæ°”æ³¡barçš„æ°”æ³¡ä½ç½®è¢«å®Œå…¨åŒ…å«åœ¨fooæ‰€åˆ›å»ºçš„æ°”æ³¡ä¸­ï¼Œå”¯ä¸€çš„åŸå› å°±æ˜¯æˆ‘ä»¬å¸Œæœ›å®šä¹‰å‡½æ•°barçš„ä½ç½® æŸ¥æ‰¾ä½œç”¨åŸŸæ°”æ³¡çš„ç»“æ„å’Œç›¸äº’ä½ç½®å…³ç³»ç»™å¼•æ“æä¾›äº†è¶³å¤Ÿçš„ä½ç½®ä¿¡æ¯ï¼Œå¼•æ“ç”¨è¿™äº›ä¿¡æ¯æ¥æŸ¥æ‰¾æ ‡è¯†ç¬¦çš„ä½ç½®ã€‚få¼•æ“ä¼šä»æœ€å†…éƒ¨çš„ä½œç”¨åŸŸä¸­æŸ¥æ‰¾ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ä¼šä¾æ¬¡æ²¿ç€ä¸Šä¸€çº§æ‰€åµŒå¥—çš„ä½œç”¨åŸŸä¸­æŸ¥æ‰¾ã€‚ ä½œç”¨åŸŸæŸ¥æ‰¾ä¼šåœ¨æ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„æ ‡è¯†ç¬¦æ—¶åœæ­¢ã€‚ å¤šå±‚çš„åµŒå¥—ä½œç”¨åŸŸä¸­å¯ä»¥å®šä¹‰åŒåçš„ æ ‡è¯†ç¬¦ï¼Œè¿™å«ä½œâ€œé®è”½æ•ˆåº”â€(å†…éƒ¨çš„æ ‡è¯†ç¬¦â€œé®è”½â€äº†å¤–éƒ¨çš„æ ‡è¯†ç¬¦)ã€‚ æ¬ºéª—è¯æ³•é‡ä½¿ç”¨ eval(..) æˆ– withï¼Œé‚£ä¹ˆè¿è¡Œèµ·æ¥ä¸€å®šä¼šå˜å¾—éå¸¸æ…¢ã€‚æ— è®ºå¼•æ“å¤šèª æ˜ï¼Œè¯•å›¾å°†è¿™äº›æ‚²è§‚æƒ…å†µçš„å‰¯ä½œç”¨é™åˆ¶åœ¨æœ€å°èŒƒå›´å†…ï¼Œä¹Ÿæ— æ³•é¿å…å¦‚æœæ²¡æœ‰è¿™äº›ä¼˜åŒ–ï¼Œä»£ ç ä¼šè¿è¡Œå¾—æ›´æ…¢è¿™ä¸ªäº‹å®ã€‚ evalJavaScript ä¸­çš„ eval(..) å‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ºå‚æ•°ï¼Œå¹¶å°†å…¶ä¸­çš„å†…å®¹è§†ä¸ºå¥½åƒåœ¨ä¹¦ å†™æ—¶å°±å­˜åœ¨äºç¨‹åºä¸­è¿™ä¸ªä½ç½®çš„ä»£ç ã€‚æ¢å¥è¯è¯´ï¼Œå¯ä»¥åœ¨ä½ å†™çš„ä»£ç ä¸­ç”¨ç¨‹åºç”Ÿæˆä»£ç å¹¶ è¿è¡Œï¼Œå°±å¥½åƒä»£ç æ˜¯å†™åœ¨é‚£ä¸ªä½ç½®çš„ä¸€æ ·ã€‚ withwith é€šå¸¸è¢«å½“ä½œé‡å¤å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ä¸­çš„å¤šä¸ªå±æ€§çš„å¿«æ·æ–¹å¼ï¼Œå¯ä»¥ä¸éœ€è¦é‡å¤å¼•ç”¨å¯¹è±¡ æœ¬èº«ã€‚ å°ç»“JavaScript ä¸­æœ‰ä¸¤ä¸ªæœºåˆ¶å¯ä»¥â€œæ¬ºéª—â€è¯æ³•ä½œç”¨åŸŸ:eval(..) å’Œ withã€‚å‰è€…å¯ä»¥å¯¹ä¸€æ®µåŒ… å«ä¸€ä¸ªæˆ–å¤šä¸ªå£°æ˜çš„â€œä»£ç â€å­—ç¬¦ä¸²è¿›è¡Œæ¼”ç®—ï¼Œå¹¶å€Ÿæ­¤æ¥ä¿®æ”¹å·²ç»å­˜åœ¨çš„è¯æ³•ä½œç”¨åŸŸ(åœ¨ è¿è¡Œæ—¶)ã€‚åè€…æœ¬è´¨ä¸Šæ˜¯é€šè¿‡å°†ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨å½“ä½œä½œç”¨åŸŸæ¥å¤„ç†ï¼Œå°†å¯¹è±¡çš„å±æ€§å½“ä½œä½œ ç”¨åŸŸä¸­çš„æ ‡è¯†ç¬¦æ¥å¤„ç†ï¼Œä»è€Œåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„è¯æ³•ä½œç”¨åŸŸ(åŒæ ·æ˜¯åœ¨è¿è¡Œæ—¶)ã€‚ è¿™ä¸¤ä¸ªæœºåˆ¶çš„å‰¯ä½œç”¨æ˜¯å¼•æ“æ— æ³•åœ¨ç¼–è¯‘æ—¶å¯¹ä½œç”¨åŸŸæŸ¥æ‰¾è¿›è¡Œä¼˜åŒ–ï¼Œå› ä¸ºå¼•æ“åªèƒ½è°¨æ…åœ°è®¤ ä¸ºè¿™æ ·çš„ä¼˜åŒ–æ˜¯æ— æ•ˆçš„ã€‚ä½¿ç”¨è¿™å…¶ä¸­ä»»ä½•ä¸€ä¸ªæœºåˆ¶éƒ½å°†å¯¼è‡´ä»£ç è¿è¡Œå˜æ…¢ã€‚ä¸è¦ä½¿ç”¨å®ƒä»¬ã€‚]]></content>
      <categories>
        <category>ä½ ä¸çŸ¥é“çš„JavaScript</category>
      </categories>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
        <tag>ä½œç”¨åŸŸ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆ]]></title>
    <url>%2F2017%2F10%2F03%2Fcl4s3gthl007wwn9e1lkfy41y%2F</url>
    <content type="text"><![CDATA[å‡ ä¹æ‰€æœ‰ç¼–ç¨‹è¯­è¨€æœ€åŸºæœ¬çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œå°±æ˜¯èƒ½å¤Ÿå‚¨å­˜å˜é‡å½“ä¸­çš„å€¼ï¼Œå¹¶ä¸”èƒ½åœ¨ä¹‹åå¯¹è¿™ä¸ª å€¼è¿›è¡Œè®¿é—®æˆ–ä¿®æ”¹ã€‚äº‹å®ä¸Šï¼Œæ­£æ˜¯è¿™ç§å‚¨å­˜å’Œè®¿é—®å˜é‡çš„å€¼çš„èƒ½åŠ›å°†çŠ¶æ€å¸¦ç»™äº†ç¨‹åºã€‚ éœ€è¦ä¸€å¥—è®¾è®¡è‰¯å¥½çš„è§„åˆ™æ¥å­˜å‚¨å˜é‡ï¼Œä»¥ä¾¿èƒ½å¤Ÿæ–¹ä¾¿çš„æ‰¾åˆ°è¿™äº›å˜é‡ï¼Œè¿™å¥—è§„åˆ™ç§°ä¸ºä½œç”¨åŸŸã€‚ ç¼–è¯‘åŸç†åœ¨ä¼ ç»Ÿç¼–è¯‘è¯­è¨€çš„æµç¨‹ä¸­ï¼Œç¨‹åºä¸­çš„ä¸€æ®µæºä»£ç åœ¨æ‰§è¡Œä¹‹å‰ä¼šç»å†ä¸‰ä¸ªæ­¥éª¤ï¼Œç»Ÿç§°ä¸ºâ€œç¼– è¯‘â€ã€‚ åˆ†è¯/è¯æ³•åˆ†æ è§£æ/è¯­æ³•åˆ†æ ä»£ç ç”Ÿæˆ æ¯”èµ·é‚£äº›ç¼–è¯‘è¿‡ç¨‹åªæœ‰ä¸‰ä¸ªæ­¥éª¤çš„è¯­è¨€çš„ç¼–è¯‘å™¨ï¼ŒJavaScript å¼•æ“è¦å¤æ‚å¾—å¤šã€‚ å¤§éƒ¨åˆ†æƒ…å†µä¸‹ç¼–è¯‘å‘ç”Ÿåœ¨ä»£ç æ‰§è¡Œå‰çš„å‡ å¾®ç§’(ç”šè‡³æ›´çŸ­!)çš„æ—¶ é—´å†…ã€‚åœ¨æˆ‘ä»¬æ‰€è¦è®¨è®ºçš„ä½œç”¨åŸŸèƒŒåï¼ŒJavaScript å¼•æ“ç”¨å°½äº†å„ç§åŠæ³•(æ¯”å¦‚ JITï¼Œå¯ä»¥å»¶ è¿Ÿç¼–è¯‘ç”šè‡³å®æ–½é‡ç¼–è¯‘)æ¥ä¿è¯æ€§èƒ½æœ€ä½³ã€‚ å˜é‡çš„èµ‹å€¼å˜é‡çš„èµ‹å€¼æ“ä½œä¼šæ‰§è¡Œä¸¤ä¸ªåŠ¨ä½œï¼Œé¦–å…ˆç¼–è¯‘å™¨ä¼šåœ¨å½“å‰ä½œç”¨åŸŸä¸­å£°æ˜ä¸€ä¸ªå˜é‡(å¦‚ æœä¹‹å‰æ²¡æœ‰å£°æ˜è¿‡)ï¼Œç„¶ååœ¨è¿è¡Œæ—¶å¼•æ“ä¼šåœ¨ä½œç”¨åŸŸä¸­æŸ¥æ‰¾è¯¥å˜é‡ï¼Œå¦‚æœèƒ½å¤Ÿæ‰¾åˆ°å°±ä¼šå¯¹ å®ƒèµ‹å€¼ã€‚ å¼•æ“ã€ç¼–è¯‘å™¨ã€ä½œç”¨åŸŸä¹‹é—´çš„å…³ç³» å¼•æ“è´Ÿè´£æ•´ä¸ªJAvaScriptç¨‹åºçš„ç¼–è¯‘ä»¥åŠæ‰§è¡Œè¿‡ç¨‹ ç¼–è¯‘å™¨ï¼Œå¤æ‚è¯­æ³•åˆ†æä»¥åŠä»£ç ç”Ÿæˆç­‰è„æ´»ç´¯æ´» ä½œç”¨åŸŸï¼Œå¤æ‚æ‰‹æœºå¹¶ç»´æŠ¤ç”±æ‰€æœ‰å£°æ˜çš„æ ‡è¯†ç¬¦ç»„æˆçš„ä¸€ç³»åˆ—æŸ¥è¯¢ï¼Œå¹¶å®æ–½ä¸€å¥—éå¸¸ä¸¥æ ¼çš„è§„åˆ™ï¼Œç¡®å®šå½“å‰æ‰§è¡Œçš„ä»£ç å¯¹è¿™äº›æ ‡è¯†ç¬¦çš„è®¿é—®æƒé™ã€‚ ç¼–è¯‘å™¨é‡åˆ°ä¸€ä¸ªå˜é‡æ˜¯å¦‚ä½•è§£æçš„ é‡åˆ°var aï¼Œç¼–è¯‘å™¨è¯¢é—®ä½œç”¨åŸŸæ˜¯å¦å·²ç»æœ‰äº†ä¸€ä¸ªè¯¥åç§°çš„å˜é‡å­˜åœ¨äºåŒä¸€ä¸ªä½œç”¨åŸŸçš„é›†åˆä¸­ï¼Œå¦‚æœæ˜¯ï¼Œç¼–è¯‘å™¨ä¼šå¿½ç•¥è¯¥å£°æ˜ï¼Œç»§ç»­è¿›è¡Œç¼–è¯‘ã€‚å¦åˆ™ï¼Œä»–ä¼šè¦æ±‚ä½œç”¨åŸŸåœ¨å½“å‰ä½œç”¨åŸŸä¸­å£°æ˜ä¸€ä¸ªæ–°çš„å˜é‡ï¼Œå¹¶å‘½åä¸ºa æ¥ä¸‹ç¼–è¯‘å™¨ä¼šä¸ºå¼•æ“ç”Ÿæˆè¿è¡Œæ—¶æ‰€éœ€çš„ä»£ç ï¼Œå¦‚æœå½“å‰çš„ä½œç”¨åŸŸé›†åˆä¸­å­˜åœ¨ä¸€ä¸ªå˜é‡aï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ä¼šä½¿ç”¨è¿™ä¸ªå˜é‡ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™ä¼šç»§ç»­æŸ¥æ‰¾è¯¥å˜é‡ã€‚ LHSã€RHSå¦‚æœæŸ¥æ‰¾çš„ç›®çš„æ˜¯å¯¹å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œå°±ä¼šä½¿ç”¨ LHS æŸ¥è¯¢ï¼›å¦‚æœç›®çš„æ˜¯è·å–å˜é‡çš„å€¼ï¼Œå°±ä¼šç”¨ RHS æŸ¥è¯¢ã€‚ ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š 123console.log(a) //RHSï¼Œåªéœ€è¦æŸ¥è¯¢å¹¶è·å–açš„å€¼a = 2 //LHSï¼Œè¿™å¹¶ä¸å…³å¿ƒå½“å‰çš„å€¼æ˜¯ä»€ä¹ˆï¼Œåªæƒ³ä¸ºaèµ‹å€¼ä¸€ä¸ª2 åœ¨å‡½æ•°è°ƒç”¨ä¸­ï¼š 12345function foo(a) &#123; console.log(a)&#125;foo(2) æœ€åä¸€è¡Œ foo(..) å‡½æ•°çš„è°ƒç”¨éœ€è¦å¯¹ foo è¿›è¡Œ RHS å¼•ç”¨ï¼Œæ„å‘³ç€â€œå»æ‰¾åˆ° foo çš„å€¼ï¼Œå¹¶æŠŠ å®ƒç»™æˆ‘â€ã€‚ ä¸ºäº†ç»™å‚æ•°aï¼ˆéšå¼çš„ï¼‰èµ‹å€¼ï¼Œéœ€è¦è¿›è¿›è¡Œä¸€æ¬¡LHSæŸ¥è¯¢ æ‰“å°è¾“å‡ºè¯­å¥ä¸­ï¼Œä¼šå¯¹ console å¯¹è±¡è¿›è¡Œ RHS æŸ¥è¯¢ï¼Œå¹¶ä¸”æ£€æŸ¥ å¾—åˆ°çš„å€¼ä¸­æ˜¯å¦æœ‰ä¸€ä¸ªå«ä½œ log çš„æ–¹æ³•ã€‚ ä½œç”¨åŸŸåµŒå¥—éå†åµŒå¥—ä½œç”¨åŸŸçš„è§„åˆ™å¾ˆç®€å•ï¼šå¼•æ“ä»å½“å‰çš„æ‰§è¡Œä½œç”¨åŸŸå¼€å§‹æŸ¥æ‰¾å˜é‡ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±å‘ä¸Šä¸€çº§ç»§ç»­ç»§ç»­æŸ¥æ‰¾ï¼Œå½“æŠµè¾¾æœ€å¤–å±‚çš„å…¨å±€ä½œç”¨åŸŸæ˜¯ï¼Œæ— è®ºæ‰¾åˆ°è¿˜æ˜¯æ²¡æ‰¾åˆ°ï¼ŒæŸ¥æ‰¾è¿‡ç¨‹éƒ½ä¼šåœæ­¢ã€‚ å¼‚å¸¸å¦‚æœ RHS æŸ¥è¯¢åœ¨æ‰€æœ‰åµŒå¥—çš„ä½œç”¨åŸŸä¸­éå¯»ä¸åˆ°æ‰€éœ€çš„å˜é‡ï¼Œå¼•æ“å°±ä¼šæŠ›å‡º ReferenceError å¼‚å¸¸ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒReferenceError æ˜¯éå¸¸é‡è¦çš„å¼‚å¸¸ç±»å‹ã€‚ ç›¸è¾ƒä¹‹ä¸‹ï¼Œå½“å¼•æ“æ‰§è¡Œ LHS æŸ¥è¯¢æ—¶ï¼Œå¦‚æœåœ¨é¡¶å±‚(å…¨å±€ä½œç”¨åŸŸ)ä¸­ä¹Ÿæ— æ³•æ‰¾åˆ°ç›®æ ‡å˜é‡ï¼Œå…¨å±€ä½œç”¨åŸŸä¸­å°±ä¼šåˆ›å»ºä¸€ä¸ªå…·æœ‰è¯¥åç§°çš„å˜é‡ï¼Œå¹¶å°†å…¶è¿”è¿˜ç»™å¼•æ“ï¼Œå‰ææ˜¯ç¨‹åºè¿è¡Œåœ¨é â€œä¸¥æ ¼æ¨¡å¼â€ä¸‹ã€‚ å°ç»“ ä½œç”¨åŸŸæ˜¯ä¸€å¥—è§„åˆ™ï¼Œç”¨äºç¡®å®šåœ¨ä½•å¤„ä»¥åŠå¦‚ä½•æŸ¥æ‰¾å˜é‡ï¼ˆæ ‡è¯†ç¬¦ï¼‰ã€‚ å¦‚æœæŸ¥æ‰¾çš„ç›®çš„æ˜¯å¯¹å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œå°±ä¼šä½¿ç”¨ LHS æŸ¥è¯¢ï¼›å¦‚æœç›®çš„æ˜¯è·å–å˜é‡çš„å€¼ï¼Œå°±ä¼šç”¨ RHS æŸ¥è¯¢ã€‚èµ‹å€¼æ“ä½œä¼šå¯¼è‡´ LHS æŸ¥è¯¢ã€‚ = æ“ä½œç¬¦æˆ–è°ƒç”¨å‡½æ•°æ—¶ä¼ å…¥å‚æ•°çš„æ“ä½œéƒ½ä¼šå¯¼è‡´å…³è”ä½œç”¨åŸŸçš„èµ‹å€¼æ“ä½œ, å³éƒ½ä¼šå¯¼è‡´ LHS æŸ¥è¯¢ã€‚ JavaScript å¼•æ“é¦–å…ˆä¼šåœ¨ä»£ç æ‰§è¡Œå‰å¯¹å…¶è¿›è¡Œç¼–è¯‘ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œåƒvar a = 2 è¿™æ ·çš„å£°æ˜ä¼šè¢«åˆ†è§£æˆä¸¤ä¸ªç‹¬ç«‹çš„æ­¥éª¤ï¼šé¦–å…ˆï¼Œvar aåœ¨å…¶ä½œç”¨åŸŸä¸­å£°æ˜æ–°å˜é‡ã€‚è¿™ä¼šåœ¨æœ€å¼€å§‹çš„é˜¶æ®µï¼Œä¹Ÿå°±æ˜¯ä»£ç æ‰§è¡Œå‰è¿›è¡Œã€‚æ¥ä¸‹æ¥ï¼Œa = 2ä¼šæŸ¥è¯¢ï¼ˆLHSæŸ¥è¯¢ï¼‰å˜é‡ a å¹¶å¯¹å…¶è¿›è¡Œèµ‹å€¼ã€‚ LHS å’Œ RHS æŸ¥è¯¢éƒ½ä¼šåœ¨å½“å‰æ‰§è¡Œä½œç”¨åŸŸä¸­å¼€å§‹ï¼Œå¦‚æœæœ‰éœ€è¦ï¼ˆä¹Ÿå°±æ˜¯è¯´å®ƒä»¬æ²¡æœ‰æ‰¾åˆ°æ‰€éœ€çš„æ ‡è¯†ç¬¦ï¼‰ï¼Œå°±ä¼šå‘ä¸Šçº§ä½œç”¨åŸŸç»§ç»­æŸ¥æ‰¾ç›®æ ‡æ ‡è¯†ç¬¦ï¼Œè¿™æ ·æ¯æ¬¡ä¸Šå‡ä¸€çº§ä½œç”¨åŸŸï¼Œæœ€ååˆ°è¾¾å…¨å±€ä½œç”¨åŸŸï¼Œæ— è®ºæ‰¾åˆ°æˆ–æ²¡æ‰¾åˆ°éƒ½å°†åœæ­¢ã€‚ä¸æˆåŠŸçš„ RHS å¼•ç”¨ä¼šå¯¼è‡´æŠ›å‡º ReferenceError å¼‚å¸¸ã€‚ä¸æˆåŠŸçš„ LHS å¼•ç”¨ä¼šå¯¼è‡´è‡ªåŠ¨éšå¼åœ°åˆ›å»ºä¸€ä¸ªå…¨å±€å˜é‡ï¼ˆéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰ï¼Œè¯¥å˜é‡ä½¿ç”¨ LHS å¼•ç”¨çš„ç›®æ ‡ä½œä¸ºæ ‡è¯†ç¬¦ï¼Œæˆ–è€…æŠ›å‡º ReferenceError å¼‚å¸¸ï¼ˆä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰ã€‚]]></content>
      <categories>
        <category>ä½ ä¸çŸ¥é“çš„JavaScript</category>
      </categories>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
        <tag>ä½œç”¨åŸŸ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç¤¼ç‰©è¯´åˆ†äº«]]></title>
    <url>%2F2017%2F09%2F25%2Fcl4s3gtiv00arwn9e1l8mze26%2F</url>
    <content type="text"><![CDATA[æ­¤æ¬¡ä¸ºæ—¶ä¸¤å°æ—¶çš„åˆ†äº«ï¼Œæ”¶è·æœ€å¤§çš„ä¸¤ç‚¹ï¼š å‡ ä¹æ‰€æœ‰çš„ä¸šåŠ¡éƒ½å¯ä»¥æµç¨‹åŒ–ã€æ¨¡å—åŒ–ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ç½‘ä¸Šç›´æ¥æ‰¾åˆ°è§£å†³æ–¹æ¡ˆ è·¨é¢†åŸŸæˆä¸ºå¸¸æ€ï¼šå•ä¸€çš„çŸ¥è¯†ä½“ç³»å·²ç»ä¸è¶³ä»¥æ”¯æ’‘]]></content>
      <categories>
        <category>ç»éªŒåˆ†äº«</category>
      </categories>
      <tags>
        <tag>æˆé•¿</tag>
        <tag>å¤§ç‰›</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è·¯ç”±åè®®ä¸åº”ç”¨åè®®]]></title>
    <url>%2F2017%2F09%2F19%2Fcl4s3gtj600blwn9e29o6aabe%2F</url>
    <content type="text"><![CDATA[è·¯ç”±åè®®åœ¨äº’è”ç½‘ä¸–ç•Œä¸­ï¼Œå¤¹æ‚ç€å¤æ‚çš„LANå’Œå¹¿åŸŸç½‘ã€‚ç„¶è€Œï¼Œå†å¤æ‚çš„ç½‘ç»œç»“æ„ä¸­ï¼Œä¹Ÿéœ€è¦é€šè¿‡åˆç†çš„è·¯ç”±å°†æ•°æ®å‘é€åˆ°ç›®æ ‡ä¸»æœºã€‚è€Œå†³å®šè¿™ä¸ªè·¯ç”±çš„ï¼Œæ­£æ˜¯æ§åˆ¶æ¨¡å—ã€‚ è·¯ç”±æ§åˆ¶çš„å®šä¹‰IPåœ°å€ä¸è·¯ç”±æ§åˆ¶è·¯ç”±å™¨æ ¹æ®è·¯ç”±æ§åˆ¶è¡¨ï¼ˆRouting Tableï¼‰è½¬å‘æ•°æ®åŒ…ã€‚å®ƒæ ¹æ®æ‰€å—åˆ°çš„æ•°æ®åŒ…ä¸­ç›®æ ‡ä¸»æœºçš„IPåœ°å€ä¸è·¯ç”±æ§åˆ¶è¡¨çš„æ¯”è¾ƒå¾—å‡ºä¸‹ä¸€ä¸ªåº”è¯¥æ¥æ”¶çš„è·¯ç”±å™¨ã€‚ é™æ€è·¯ç”±ä¸åŠ¨æ€ç•™è·¯ç”±é™æ€è·¯ç”±æ˜¯æŒ‡äº‹å…ˆè®¾ç½®å¥½è·¯ç”±å™¨å’Œä¸»æœºä¸­å¹¶å°†è·¯ç”±ä¿¡æ¯å›ºå®šçš„ä¸€ç§æ–¹æ³•ï¼Œè€ŒåŠ¨æ€è·¯ç”±æ˜¯æŒ‡è®©è·¯ç”±åè®®åœ¨è¿è¡Œè¿‡ç¨‹ä¸­è‡ªåŠ¨è®¾ç½®æ§åˆ¶ä¿¡æ¯çš„ä¸€ç§æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•éƒ½æœ‰ä»–ä»¬å„è‡ªçš„åˆ©å¼Šã€‚ è·¯ç”±ç®—æ³•è·ç¦»å‘é‡ç®—æ³•æ˜¯æŒ‡æ ¹æ®è·ç¦»ï¼ˆä»£ä»·ï¼‰å’Œæ–¹å‘å†³å®šç›®æ ‡ç½‘ç»œæˆ–ç›®æ ‡ä¸»æœºä½ç½®çš„ä¸€ç§æ–¹æ³•ã€‚ é“¾è·¯çŠ¶æ€ç®—æ³•é‚£ åº”ç”¨åè®® åº”ç”¨å±‚åè®®æ¦‚è¦TCPå’ŒIPç­‰ä¸‹å±‚åè®®æ˜¯ä¸ä¾èµ–ä¸ä¸Šå±‚åº”ç”¨ç±»å‹ã€å®ç”¨æ€§éå¸¸å¹¿çš„åè®®ã€‚è€Œåº”ç”¨åè®®åˆ™æ˜¯ä¸ºäº†å®ç°æŸäº›åº”ç”¨è€Œè®¾è®¡å’Œåˆ›é€ çš„åè®®ã€‚ å¼€å‘è€…åªè¦å…³å¿ƒé€‰ç”¨å“ªç§åº”ç”¨åè®®ã€å¦‚ä½•å¼€å‘å³å¯ï¼Œè€Œä¸å¿…æ‹…å¿ƒåº”ç”¨ä¸­çš„æ•°æ®è¯¥ä»¥ä½•ç§æ–¹å¼å‘é€åˆ°ç›®æ ‡ä¸»æœºç­‰é—®é¢˜ã€‚ åº”ç”¨å±‚åè®®ç›¸å½“äºOSIä¸­ç¬¬5ã€6ã€7å±‚çš„åè®® è¿œç¨‹ç™»å½•TELNETTELNETåˆ©ç”¨TCPçš„ä¸€æ¡è¿æ¥ï¼Œé€šè¿‡è¿™ä¸€æ¡è¿æ¥æƒ³ä¸»æœºå‘é€æ–‡å­—å‘½ä»¤å¹¶åœ¨ä¸»æœºä¸Šæ‰§è¡Œã€‚æœ¬åœ°ç”¨æˆ·å¥½åƒç›´æ¥ä¸è¿œç«¯ä¸»æœºå†…éƒ¨çš„Shellç›¸è¿ä¼¼çš„ï¼Œç›´æ¥åœ¨æœ¬åœ°æ“ä½œã€‚ SSHSSHæ˜¯åŠ å¯†çš„è¿œç¨‹ç™»å½•ç³»ç»Ÿã€‚TELNETä¸­ç™»å½•æ—¶æ— é¡»å¯†ç å°±èƒ½å‘é€å®¹æ˜“é€ æˆé€šä¿¡çªƒå¬å’Œéæ³•å…¥ä¾µçš„å¾®ä¿¡ã€‚ SSHå¯ä»¥æä¾›ï¼š å¯ä»¥ä½¿ç”¨æ›´å¼ºçš„è®¤è¯æœºåˆ¶ å¯ä»¥è½¬å‘æ–‡ä»¶ å¯ä»¥ä½¿ç”¨ç«¯å£è½¬å‘åŠŸèƒ½ æ–‡ä»¶ä¼ è¾“FTPæ˜¯ä¸¤ä¸ªç›¸è¿è®¡ç®—æœºä¹‹é—´è¿›è¡Œæ–‡ä»¶ä¼ è¾“æ˜¯ä½¿ç”¨çš„åè®®ã€‚ ç”µå­é‚®ä»¶WWW ä¸‡ç»´ç½‘ï¼ˆWWWï¼ŒWorld Wide Webï¼‰æ˜¯å°†äº’è”ç½‘ä¸­çš„ä¿¡æ¯ä»¥è¶…æ–‡æœ¬å½¢å¼å±•ç°çš„ç³»ç»Ÿï¼Œä¹Ÿå«Webã€‚ åŸºæœ¬æ¦‚å¿µ wwwå®šä¹‰äº†ä¸‰ä¸ªé‡è¦æ¦‚å¿µï¼Œä»–ä»¬åˆ†åˆ«æ˜¯è®¿é—®ä¿¡æ¯çš„æ‰‹æ®µä¸ä½ç½®ï¼ˆURIï¼ŒUniform Resource Identifierï¼‰ã€ä¿¡æ¯çš„è¡¨ç°å½¢å¼ï¼ˆHTMLï¼ŒHyperText Markup Languageï¼‰ä»¥åŠä¿¡æ¯è½¬å‘ï¼ˆHTTPï¼ŒHyperTyxt Transfer Protocolï¼‰ç­‰æ“ä½œã€‚ RULï¼šæ˜¯ä¸€ç§å¯ä»¥ç”¨äºWWWä¹‹å¤–çš„é«˜æ•ˆè¯†åˆ«ç ï¼Œä»–è¢«ç”¨äºä¸»é¡µåœ°å€ã€ç”µå­é‚®ä»¶ã€ç”µè¯å·ç ç­‰å„ç§ç»„åˆä¸­ã€‚ HTMLï¼šæ˜¯æè¿°webç½‘é¡µçš„ä¸€ç§è¯­è¨€ï¼ŒæŒ‡å®šæµè§ˆå™¨æ˜¾ç¤ºçš„å†…å®¹ï¼ŒåŒ…æ‹¬å›¾åƒã€åŠ¨ç”»ã€éŸ³é¢‘ã€è§†é¢‘ç­‰ HTTPï¼šHTTPè¿æ¥ä¸€ä¸ªTCPäº†è§£ï¼Œç„¶ååœ¨è¿™ä¸ªTCPè¿æ¥ä¸Šè¿›è¡Œè¯·æ±‚å’Œåº”ç­”æ•°æ®æŠ¥æ–‡çš„å‘é€ã€‚]]></content>
      <categories>
        <category>å›¾è§£TCP/IP</category>
      </categories>
      <tags>
        <tag>å›¾è§£TCP/IP</tag>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[TCPä¸UDP]]></title>
    <url>%2F2017%2F09%2F19%2Fcl4s3gtg00057wn9e3f1w96i7%2F</url>
    <content type="text"><![CDATA[TCPæä¾›å¯é çš„é€šä¿¡ä¼ è¾“ï¼Œè€ŒUDPåˆ™å¸¸è¢«ç”¨äºè®©å¹¿æ’­å’Œç»†èŠ‚æ§åˆ¶äº¤ç»™åº”ç”¨å’Œé€šä¿¡ä¼ è¾“ã€‚æ€»ä¹‹ï¼Œæ ¹æ®é€šä¿¡çš„å…·ä½“ç‰¹å¾ï¼Œé€‰æ‹©åˆé€‚çš„ä¼ è¾“å±‚åè®®æ˜¯éå¸¸é‡è¦çš„ã€‚ ä¼ è¾“å±‚å®šä¹‰IPé¦–éƒ¨ä¸­æœ‰ä¸€ä¸ªåè®®å­—æ®µï¼Œç”¨æ¥æ ‡è¯†ç½‘ç»œå±‚ï¼ˆIPï¼‰çš„ä¸Šä¸€å±‚é‡‡ç”¨çš„æ˜¯å“ªä¸€ç§ä¼ è¾“å±‚åè®®ï¼Œæ ¹æ®è¿™ä¸ªå­—æ®µçš„åè®®å·ï¼Œå°±å¯ä»¥è¯†åˆ«IPä¼ è¾“çš„æ•°æ®éƒ¨åˆ†ç©¶ç«Ÿæ˜¯TCPçš„å†…å®¹è¿˜æ˜¯UDPçš„å†…å®¹ã€‚ é€šä¿¡å¤„ç† ä¸¤ç§ä¼ è¾“å±‚åè®®TCPå’ŒUDPTCPæ˜¯é¢å‘è¿æ¥çš„ã€å¯é çš„æµåè®®ã€‚æ‰€è°“æµå°±æ˜¯æŒ‡ä¸é—´æ–­çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥ç±»æ¯”æ°´æµã€‚ TCPé€šè¿‡æ ¡éªŒå’Œã€åºåˆ—å·ã€ç¡®è®¤åº”ç­”ã€é‡å‘æ§åˆ¶ã€è¿æ¥ç®¡ç†ä»¥åŠçª—å£ç­‰æœºåˆ¶å®ç°å¯é æ€§ä¼ è¾“ã€‚ UDPUDPæ˜¯ä¸å…·æœ‰å¯é æ€§çš„æ•°æ®æŠ¥åè®®ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè™½ç„¶å¯ä»¥ä¿è¯å‘é€æ¶ˆæ¯çš„å¤§å°ï¼Œå´ä¸èƒ½ä¿è¯æ¶ˆæ¯ä¸€å®šåˆ°è¾¾ã€‚ åº”ç”¨åœºæ™¯ï¼š åŒ…æ€»é‡è¾ƒå°‘çš„é€šä¿¡ï¼ˆDNSã€SNMPï¼‰ç­‰ è§†é¢‘ã€éŸ³é¢‘ç­‰å¤šåª’ä½“é€šä¿¡ï¼ˆå³ä½¿é€šä¿¡ï¼‰ é™å®šäºLANç­‰ç‰¹å®šç½‘ç»œä¸­çš„åº”ç”¨é€šä¿¡ å¹¿æ’­é€šä¿¡ï¼ˆå¹¿æ’­ã€å¤šæ’­ï¼‰ å¥—æ¥å­—ï¼ˆSoketï¼‰åœ¨åº”ç”¨ç¨‹åºä¸­åˆ©ç”¨å¥—æ¥å­—ï¼Œå¯ä»¥è®¾ç½®å¯¹ç«¯çš„IPåœ°å€ã€ç«¯å£å·ã€å¹¶å®ç°æ•°æ®çš„å‘é€ä¸æ¥æ”¶ ç«¯å£å·å®šä¹‰ç«¯å£å·ç”¨æ¥è¯†åˆ«åŒä¸€å°è®¡ç®—æœºä¸­è¿›è¡Œé€šä¿¡çš„ä¸åŒåº”ç”¨ç¨‹åºï¼Œä¸€æ¬¡ï¼Œå®ƒä¹Ÿè¢«ç§°ä¸ºç¨‹åºåœ°å€ã€‚ æ ¹æ®ç«¯å£å·è¯†åˆ«åº”ç”¨ä¼ è¾“å±‚åˆ©ç”¨ç«¯å£å·è¯†åˆ«æœ¬æœºä¸­æ­£åœ¨è¿›è¡Œé€šä¿¡çš„åº”ç”¨ç¨‹åºã€‚ ç«¯å£å·å¦‚ä½•ç¡®å®š æ ‡å‡†æ—¢å®šçš„ç«¯å£å· æ—¶åºåˆ†é…æ³•ï¼šä¾‹å¦‚æ¯éœ€è¦ä¸€ä¸ªæ–°çš„ç«¯å£å·å°±åœ¨ä¹‹å‰çš„åˆ†é…çš„å·ç çš„åŸºç¡€ä¸ŠåŠ 1 ç«¯å£ä¸åè®®ç«¯å£å·ç”±å…¶ä½¿ç”¨çš„ä¼ è¾“å±‚åè®®å†³å®šï¼Œå› æ­¤ï¼Œä¸åŒçš„ä¼ è¾“åè®®å¯ä»¥ä½¿ç”¨ç›¸åŒçš„ç«¯å£å·ã€‚ æ•°æ®åˆ°è¾¾IPå±‚åï¼Œä¼šå…ˆæ£€æŸ¥IPé¦–éƒ¨ä¸­çš„åè®®å·ï¼Œå†ä¼ ç»™ç›¸åº”åè®®çš„æ¨¡å—ã€‚å¦‚æœæ˜¯TCPåˆ™ä¼ ç»™TCPæ¨¡å—ï¼Œç”±ä¼ è¾“åè®®å„è‡ªç‹¬ç«‹å¤„ç†ã€‚ è¿æ¥ç®¡ç†UDPæ˜¯ä¸€ç§é¢å‘æ— è¿æ¥çš„é€šä¿¡åè®®ï¼Œå› æ­¤ä¸æ£€æŸ¥å¯¹ç«¯æ˜¯å¦å¯ç”¨ç—›æ®´æ›´æ–°ï¼Œç›´æ¥å°†UDPåŒ…å‘é€å‡ºå»ã€‚TCPç›¸åã€‚ UDPé¦–éƒ¨æ ¼å¼ æºç«¯å£å·ï¼ˆSource Portï¼‰ï¼šè¡¨ç¤ºå‘é€ç«¯å£å·ï¼Œå­—æ®µé•¿16ä½ã€‚ ç›®æ ‡ç«¯å£å·ï¼ˆDestination Portï¼‰ï¼šè¡¨ç¤ºæ¥æ”¶ç«¯å£å·ï¼Œå­—æ®µé•¿åº¦16ä½ã€‚ åŒ…é•¿åº¦ï¼ˆLengthï¼‰ï¼šè¯¥å­—æ®µä¿å­˜äº†UDPé¦–éƒ¨çš„é•¿åº¦è·Ÿæ•°æ®çš„é•¿åº¦ä¹‹å’Œã€‚å•ä½å­—èŠ‚ä¸º8 æ ¡éªŒå’Œï¼ˆChecksumï¼‰ï¼šæ ¡éªŒå’Œæ˜¯ä¸ºäº†æä¾›å¯é çš„UDPé¦–éƒ¨å’Œæ•°æ®è€Œè®¾è®¡çš„ã€‚ TCPé¦–éƒ¨æ ¼å¼ æºç«¯å£å·ï¼ˆSource Portï¼‰ï¼šè¡¨ç¤ºå‘é€ç«¯ç«¯å£å·ï¼Œå­—æ®µé•¿16ä½ ç›®æ ‡ç«¯å£å·ï¼ˆDestination Portï¼‰ï¼šè¡¨ç¤ºæ¥å—ç«¯å£å·ï¼Œå­—æ®µé•¿åº¦16ä½ã€‚ åºåˆ—å·ï¼ˆSequence Numberï¼‰:æ˜¯æŒ‡å‘é€æ•°æ®çš„ä½ç½®ã€‚æ¯å‘é€ä¸€æ¬¡æ•°æ®ï¼Œå°±ç´¯åŠ ä¸€æ¬¡è¯¥æ•°æ®å­—èŠ‚æ•°çš„å¤§å° ç¡®è®¤åº”ç­”å·ï¼ˆAcknowledgement Numberï¼‰ï¼šä¸‹ä¸€æ¬¡åº”è¯¥æ”¶åˆ°çš„æ•°æ®çš„åºåˆ—å·ã€‚ æ•°æ®åç§»ï¼ˆData Offsetï¼‰ï¼šè¡¨ç¤ºTCPæ‰€ä¼ è¾“çš„æ•°æ®éƒ¨åˆ†åº”è¯¥ä»TCPåŒ…çš„å“ªä¸ªä½å¼€å§‹è®¡ç®—ã€‚ä¹Ÿå¯çœ‹ä½œTCPé¦–éƒ¨çš„é•¿åº¦ã€‚ ä¿ç•™ï¼ˆReservedï¼‰ï¼šä¸º ä»¥åæ‰©å±• æ§åˆ¶ä½ï¼ˆControl Flagï¼‰: å­—æ®µé•¿8ä½ï¼Œæ¯ä¸€ä½ä»å·¦è‡³å³åˆ†åˆ«ä¸º CWRã€ECEã€URGã€ACKã€PSHã€RSTã€SYNã€FINã€‚ çª—å£å¤§å°ï¼ˆWindow Sizeï¼‰ï¼šç”¨äºé€šçŸ¥ä»å†œè€•ç›¸åŒTCPé¦–éƒ¨çš„ç¡®è®¤åº”ç­”å·æ‰€æŒ‡ä½ç½®å¼€å§‹èƒ½å¤Ÿæ¥å—çš„æ•°æ®å¤§å°ã€‚TCPä¸å…è®¸å‘é€è¶…è¿‡æ­¤å¤„æ‰€è¡¨ç¤ºå¤§å°çš„æ•°æ®ã€‚ æ ¡éªŒå’Œï¼ˆChecksumï¼‰ï¼šå¦‚æœè®¡ç®—æ ¡éªŒå’Œå­—æ®µåœ¨å†…çš„æ‰€æœ‰æ•°æ®çš„16ä½å’Œä»¥åï¼Œå¾—å‡ºçš„ç»“æœæ˜¯â€œ16ä½å…¨éƒ¨ä¸º1â€è¯´æ˜æ‰€æ”¶åˆ°çš„æ•°æ®æ—¶æ­£ç¡®çš„ã€‚ ç´§æ€¥æŒ‡é’ˆï¼ˆUrgent Pointerï¼‰ï¼šç´§æ€¥æŒ‡é’ˆæŒ‡å‡ºäº†ç´§æ€¥æ•°æ®çš„æœ«å°¾åœ¨æŠ¥æ–‡æ®µä¸­çš„ä½ç½®ã€‚ é€‰é¡¹ï¼ˆOptionsï¼‰ï¼šç”¨äºæé«˜TCPä¼ è¾“æ€§èƒ½ã€‚]]></content>
      <categories>
        <category>å›¾è§£TCP/IP</category>
      </categories>
      <tags>
        <tag>å›¾è§£TCP/IP</tag>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IPåè®®ç›¸å…³æŠ€æœ¯]]></title>
    <url>%2F2017%2F09%2F18%2Fcl4s3gte2001fwn9e8dk4drxi%2F</url>
    <content type="text"><![CDATA[IPï¼ˆInternet Protocalï¼‰æ—¨åœ¨è®©æœ€ç»ˆç›®æ ‡ä¸»æœºæ”¶åˆ°æ•°æ®åŒ…ï¼Œä½†æ˜¯åœ¨è¿™ä¸€è¿‡ç¨‹ä¸­ä»…ä»…IPæ˜¯æ— æ³•å®ç°é€šä¿¡çš„ã€‚å¿…é¡»è¿˜æœ‰èƒ½å¤Ÿè§£æä¸»æœºåç§°å’ŒMACåœ°å€çš„åŠŸèƒ½ï¼Œä»¥åŠæ•°æ®åŒ…åœ¨å‘é€è¿‡ç¨‹ä¸­å¼‚å¸¸æƒ…å†µå¤„ç†çš„åŠŸèƒ½ã€‚ DNSDNS(Domain Name System)ï¼Œå°†å­—ç¬¦ä¸²è‡ªåŠ¨è½¬æˆå…·ä½“çš„IPåœ°å€ ä¸»æœºè¯†åˆ«ç ï¼šæ˜¯æŒ‡ä¸ºæ¯å°è®¡ç®—æœºèµ‹ä»¥å”¯ä¸€çš„ä¸»æœºåï¼Œåœ¨è¿›è¡Œç½‘ç»œé€šä¿¡æ—¶å¯ä»¥ç›´æ¥ä½¿ç”¨ä¸»æœºåç§°è€Œæ— éœ€è¾“å…¥ä¸€å¤§ä¸²çš„IPåœ°å€ã€‚å¹¶ä¸”æ­¤æ—¶ï¼Œç³»ç»Ÿå¿…é¡»è‡ªåŠ¨å°†ä¸»æœºåè½¬æ¢æˆå…·ä½“çš„IPåœ°å€ã€‚ åŸŸåçš„æ„æˆ åŸŸåæœåŠ¡å™¨æ˜¯æŒ‡ç®¡ç†åŸŸåçš„ä¸»æœºå’Œå“åº”çš„è½¯ä»¶ï¼Œä»–å¯ä»¥ç®¡ç†æ‰€åœ¨åˆ†å±‚çš„ç›¸å…³ä¿¡æ¯ã€‚ è§£æå™¨è¿›è¡ŒDNSæŸ¥è¯¢çš„ä¸»æœºå’Œè½¯ä»¶å«åšDNSè§£æå™¨ï¼Œç”¨æˆ·ä½¿ç”¨çš„å·¥ä½œç«™å’Œä¸ªäººç”µè„‘éƒ½å±äºè§£æå™¨ DNSæŸ¥è¯¢è§£æå™¨ä¸ºäº†è°ƒæŸ¥IPåœ°å€ï¼Œå‘åŸŸåæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢å¤„ç†ã€‚é¦–å…ˆåœ¨è‡ªå·±çš„æ•°æ®åº“ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœæ²¡æœ‰åˆ™å†å‘ä¸Šä¸€å±‚æ ¹åŸŸåæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢å¤„ç†ã€‚ DNSå¦‚åŒäº’è”ç½‘ä¸­çš„åˆ†å¸ƒå¼æ•°æ®åº“ARPåªè¦ç¡®å®šäº†IPåœ°å€ï¼Œå°±å¯ä»¥å‘è¿™ä¸ªç›®æ ‡åœ°å€å‘é€IPæ•°æ®ï¼Œç„¶è€Œï¼Œåœ¨åº•å±‚æ•°æ®é“¾è·¯å±‚ï¼Œè¿›è¡Œå®é™…é€šä¿¡æ—¶æœ‰å¿…è¦äº†è§£æ¯ä¸ªIPåœ°å€æ‰€å¯¹åº”çš„MACåœ°å€ã€‚ æ¦‚è¦ARPæ˜¯ä¸€ç§è§£å†³åœ°å€é—®é¢˜çš„åè®®ï¼Œä»¥ç›®æ ‡åœ°å€ä¸ºçº¿ç´¢ï¼Œç”¨æ¥å®šä½ä¸‹ä¸€ä¸ªåº”è¯¥æ¥å—æ•°æ®åˆ†åŒ…çš„ç½‘ç»œè®¾å¤‡å¯¹åº”çš„MACåœ°å€ã€‚å¦‚æœç›®æ ‡ä¸åœ¨åŒä¸€ä¸ªé“¾è·¯ä¸Šæ—¶ï¼Œå¯ä»¥é€šè¿‡ARPæŸ¥æ‰¾ä¸‹ä¸€çº§è·¯ç”±å™¨è°ƒè½¬çš„MACåœ°å€ã€‚ä¸è¿‡ARPåªé€‚ç”¨äºIPv4. RARPRARPï¼ˆReverse Address Resolution Protocalï¼‰æ˜¯å°†ARPåè¿‡æ¥ï¼Œä»MACåœ°å€å®šä½IPåœ°å€çš„ä¸€ç§åè®®ã€‚ ä»£ç†ARPé‡‡ç”¨ARPï¼ˆProxy ARPï¼‰çš„è·¯ç”±å™¨å¯ä»¥å°†ARPè¯·æ±‚è½¬å‘ç»™é‚»è¿‘çš„ç½‘æ®µã€‚ ICMPå…¶ä¸»è¦åŠŸèƒ½ï¼Œç¡®å®šIPåŒ…æ˜¯å¦æˆåŠŸé€è¾¾ç›®çš„åœ°å€ï¼Œé€šçŸ¥åœ¨å‘é€è¿‡ç¨‹å½“ä¸­IPåŒ…è¢«ä¸¢å¼ƒçš„åŸå› ï¼Œæ”¹å–„ç½‘ç»œè®¾ç½®ç­‰ã€‚ DHCPå®ç°å³æ’å³ç”¨ èƒ½å¤Ÿè‡ªåŠ¨è®¾ç½®IPåœ°å€ã€ç»Ÿä¸€ç®¡ç†IPåœ°å€åˆ†é…ï¼Œç”±æ­¤äº§ç”Ÿäº†DHCPï¼ˆDynamic Host Configuration Protocalï¼‰ã€‚åªè¦è®¡ç®—æœºè¿æ¥äº†ç½‘ç»œï¼Œå°±å¯ä»¥è¿›è¡ŒTCP/IP é€šä¿¡ã€‚ NATæ¦‚å¿µ NATï¼ˆNetwork Address Translatorï¼‰ç”¨äºç½‘ç»œä¸­ä½¿ç”¨ç§æœ‰åœ°å€ï¼Œåœ¨è¿æ¥äº’è”ç½‘æ—¶è½¬è€Œä½¿ç”¨å…¨å±€IPåœ°å€çš„æŠ€æœ¯ã€‚ IPéš§é“ IPéš§é“ä¸ºäº†IPv4ä¸IPv6ä¹‹é—´çš„ç›¸äº’é€šä¿¡ã€‚ IPéš§é“å¯ä»¥å°†é‚£äº›ä»ç½‘ç»œAå‘é€è¿‡æ¥çš„IPv6åŒ…ç»Ÿå’Œä¸ºä¸€ä¸ªæ•°æ®ï¼Œå†ä¸ºä¹‹è¿½åŠ ä¸€ä¸ªIPv4çš„é¦–éƒ¨ä»¥åè½¬å‘ç»™ç½‘ç»œCï¼ˆé‡‡ç”¨IPv4çš„ç½‘ç»œï¼‰]]></content>
      <categories>
        <category>å›¾è§£TCP/IP</category>
      </categories>
      <tags>
        <tag>å›¾è§£TCP/IP</tag>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IPåè®®]]></title>
    <url>%2F2017%2F09%2F18%2Fcl4s3gtdz001awn9eofmahtzr%2F</url>
    <content type="text"><![CDATA[åºIPä½œä¸ºæ•´ä¸ªTCP/IPä¸­è‡³å…³é‡è¦çš„åè®®ï¼Œä¸»è¦å¤æ‚æ•°æ®åŒ…å‘é€ç»™æœ€ç»ˆç›®æ ‡è®¡ç®—æœºã€‚å› æ­¤ï¼ŒIPèƒ½å¤Ÿè®©ä¸–ç•Œä¸Šä»»ä½•ä¸¤å°è®¡ç®—æœºä¹‹é—´è¿›è¡Œé€šä¿¡ã€‚ IPç›¸å½“äºOSIå‚è€ƒæ¨¡å‹çš„ç¬¬3å±‚ ç½‘ç»œå±‚çš„ä¸»è¦ä½œç”¨æ˜¯â€œå®ç°ç»ˆç«¯èŠ‚ç‚¹ä¹‹é—´çš„é€šä¿¡â€ï¼Œè¿™ç§ç»ˆç«¯èŠ‚ç‚¹ä¹‹é—´çš„é€šä¿¡ä¹Ÿå«â€œç‚¹å¯¹ç‚¹ï¼ˆend to endï¼‰é€šä¿¡â€ã€‚ ç½‘ç»œå±‚çš„ä¸‹ä¸€å±‚â€“æ•°æ®é“¾è·¯å±‚çš„ä¸»è¦ä½œç”¨å°±æ˜¯äº’è¿åŒä¸€ç§æ•°æ®é“¾è·¯çš„èŠ‚ç‚¹ä¹‹é—´è¿›è¡ŒåŒ…ä¼ é€’ã€‚è€Œä¸€æ—¦è·¨è¶Šå¤šç§æ•°æ®é“¾è·¯ï¼Œå°±éœ€è¦å€ŸåŠ©ç½‘ç»œå±‚ã€‚ ç½‘ç»œå±‚å¯ä»¥è·¨è¶Šä¸åŒçš„æ•°æ®é“¾è·¯ï¼Œå³ä½¿æ˜¯åœ¨ä¸åŒçš„æ•°æ®é“¾è·¯ä¸Šä¹Ÿèƒ½å®ç°ä¸¤ç«¯èŠ‚ç‚¹çš„æ•°æ®åŒ…ä¼ è¾“ã€‚ ä¸»æœºä¸èŠ‚ç‚¹é‚£äº›é…æœ‰IPåœ°å€çš„è®¾å¤‡å«â€œä¸»æœºâ€ï¼Œæ—¢é…æœ‰IPåœ°å€åˆå…·æœ‰è·¯ç”±æ§åˆ¶èƒ½åŠ›çš„è®¾å¤‡å«åšè·¯ç”±å™¨ã€‚ ç½‘ç»œå±‚ä¸æ•°æ®é“¾è·¯å±‚çš„å…³ç³» IPåŸºç¡€çŸ¥è¯† IPå¤§è‡´åˆ†ä¸ºä¸‰å¤§æ¨¡å—ï¼Œåˆ†åˆ«æ˜¯IPå¯»å€ã€è·¯ç”±ä»¥åŠIPåˆ†åŒ…ã€ç»„åŒ… IPåœ°å€å±äºç½‘ç»œå±‚åœ°å€ IPåœ°å€ç”¨äºåœ¨â€œè¿æ¥åˆ°ç½‘ç»œä¸­æ‰€æœ‰ä¸»æœºä¸­è¯†åˆ«å‡ºè¿›è¡Œé€šä¿¡çš„ç›®æ ‡åœ°å€ã€‚â€ï¼Œ å› æ­¤ï¼Œåœ¨TCP/ IP é€šä¿¡ä¸­æ‰€æœ‰ä¸»æœºæˆ–è·¯ç”±å™¨å¿…é¡»è®¾å®šè‡ªå·±çš„IPåœ°å€ã€‚ è·¯ç”±æ§åˆ¶ å‘é€æ•°æ®è‡³æœ€ç»ˆç›®æ ‡åœ°å€ è·¯ç”±æ§åˆ¶è¡¨ IPå±äºé¢å‘æ— è¿æ¥ IPé¢å‘æ— è¿æ¥ï¼Œå³åœ¨å‘åŒ…ä¹‹å‰ï¼Œä¸éœ€è¦å»ºç«‹ä¸å¯¹ç«¯ç›®æ ‡åœ°å€ä¹‹é—´çš„è¿æ¥ã€‚è€Œé¢å‘æœ‰è¿æ¥çš„æƒ…å†µï¼Œéœ€è¦äº‹å…ˆå»ºç«‹è¿æ¥ï¼Œå¦‚æœå¯¹ç«¯ä¸»æœºå…³æœºä¸ä¸å­˜åœ¨ï¼Œä¹Ÿå°±ä¸å¯èƒ½å»ºç«‹è¿æ¥ã€‚ IPåœ°å€çš„åŸºç¡€çŸ¥è¯†IPåœ°å€çš„å®šä¹‰ IPåœ°å€ï¼ˆIPv4åœ°å€ï¼‰ç”±32ä½æ­£æ•´æ•°æ¥è¡¨ç¤ºã€‚TCP/IP é€šä¿¡è¦æ±‚å°†è¿™æ ·çš„IPåœ°å€åˆ†é…ç»™æ¯ä¸ªå‚ä¸é€šä¿¡çš„ä¸»æœºã€‚ IPåœ°å€ç”±ç½‘ç»œå’Œä¸»æœºä¸¤éƒ¨åˆ†æ ‡è¯†ç»„æˆIPåœ°å€ç”±â€œç½‘ç»œæ ‡è¯†ï¼ˆç½‘ç»œåœ°å€ï¼‰â€å’Œâ€œä¸»æœºæ ‡å¿—ï¼ˆä¸»æœºåœ°å€ï¼‰â€ä¸¤éƒ¨åˆ†ç»„æˆã€‚ ç½‘ç»œæ ‡å¿—åœ¨æ•°æ®é“¾è·¯ä¸­æ¯ä¸ªé…ç½®ä¸åŒçš„å€¼ï¼Œç½‘ç»œæ ‡å¿—å¿…é¡»ä¿è¯ç›¸äº’è¿æ¥çš„æ¯ä¸ªæ®µçš„åœ°å€ä¸é‡å¤ã€‚ IPåœ°å€çš„åˆ†ç±»IPåœ°å€åˆ†ä¸ºå››ä¸ªçº§åˆ«ï¼Œåˆ†åˆ«ä¸ºAã€Bã€Cã€Dç±»ï¼Œå®ƒæ ¹æ®IPåœ°å€ä¸­ä»ç¬¬ä¸€ä½åˆ°ç¬¬å››ä½çš„æ¯”ç‰¹åˆ—é˜Ÿå…¶ç½‘ç»œæ ‡è¯†å’Œä¸»æœºæ ‡è¯†åŒºåˆ†ã€‚ Aç±»åœ°å€Aç±»åœ°å€æ˜¯ä»¥é¦–ä½ä¸ºâ€œ0â€å¼€å¤´çš„åœ°å€ã€‚0.0.0.0~127.0.0.0æ˜¯Aç±»ç½‘ç»œåœ°å€ã€‚ Bç±»åœ°å€Bç±»IPåœ°å€æ˜¯å‰ä¸¤ä½ä¸ºâ€œ10â€çš„åœ°å€ã€‚128.0.0.1~191.255.0.0 Cç±»åœ°å€å‰ä¸¤ä½ä¸ºâ€œ110â€çš„åœ°å€ï¼Œ 192.168.0.0~239.255.255.0 Dç±»åœ°å€å‰ä¸¤ä½ä¸ºâ€œ1110â€çš„åœ°å€ï¼Œ224.0.0.0~239.255.255.255ï¼ŒDç±»åœ°å€æ²¡æœ‰ä¸»æœºæ ‡è¯†ï¼Œå¸¸è¢«ç”¨äºå¤šæ’­ å…³äºåˆ†é…IPä¸»æœºåœ°å€çš„æ³¨æ„äº‹é¡¹è¦ç”¨æ¯”ç‰¹ä½æ ‡è¯†ä¸»æœºåœ°å€æ—¶ï¼Œä¸å¯ç”¨å…¨éƒ¨ä¸º0æˆ–è€…å…¨éƒ¨ä¸º1ï¼Œå…¨éƒ¨ä¸º0çš„æƒ…å†µæ˜¯è¡¨ç¤ºå¯¹åº”çš„ç½‘ç»œåœ°å€æˆ–IPåœ°å€ä¸å¯è·çŸ¥çš„æƒ…å†µä¸‹æ‰ä½¿ç”¨ã€‚å…¨éƒ¨ä¸º1çš„ä¸»æœºåœ°å€ï¼Œé€šå¸¸ä½œä¸ºå¹¿æ’­åœ°å€ã€‚ å¹¿æ’­åœ°å€å°†IPåœ°å€ä¸­ä¸»æœºåœ°å€å…¨éƒ¨è®¾ç½®ä¸º1ï¼Œå¦‚ 172.20.255.255 æœ¬åœ°å¹¿æ’­ï¼šåœ¨æœ¬ç½‘ç»œå†…çš„å¹¿æ’­ ç›´æ¥å¹¿æ’­ï¼šåœ¨ä¸åŒç½‘ç»œä¹‹é—´çš„å¹¿æ’­å«ç›´æ¥å¹¿æ’­ IPå¤šæ’­å­ç½‘æ©ç åˆ†ç±»é€ æˆæµªè´¹ï¼Ÿéšç€äº’è”ç½‘çš„è¦†ç›–èŒƒå›´é€æ¸å¢å¤§ï¼Œç½‘ç»œåœ°å€è¶Šæ¥è¶Šä¸è¶³åº”å¯¹éœ€æ±‚ï¼Œç›´æ¥ä½¿ç”¨ABCç±»åœ°å€å°±æ˜¾å¾—å¾ˆæµªè´¹ã€‚ å­ç½‘ä¸å­ç½‘æ©ç ç°åœ¨ï¼Œä¸€ä¸ªIPåœ°å€çš„ç½‘ç»œæ ‡å¿—å’Œä¸»æœºæ ‡è¯†å·²ç»ä¸å†å—é™äºè¯¥åœ°å€çš„ç±»åˆ«ï¼Œè€Œæ˜¯ç”±ä¸€ä¸ªå«â€œå­ç½‘æ©ç â€çš„è¯†åˆ«ç é€šè¿‡å­ç½‘ç½‘ç»œåœ°å€ç»†åˆ†å‡ºåˆ«ABCç±»æ›´å°ç²’åº¦çš„ç½‘ç»œã€‚ è·¯ç”±æ§åˆ¶æ•°æ®åŒ…éœ€è¦è·¯ç”±å™¨æŒæœ‰çš„æ§åˆ¶è¡¨æŒ‡æ˜çœŸæ­£å‘é€çš„ç›®æ ‡åœ°å€ã€‚ è¿™ç§æ§åˆ¶è¡¨æœ‰ä¸¤ç§è·å¾—é€”å¾„ï¼š ç®¡ç†å‘˜æ‰‹åŠ¨å½•å…¥ï¼ˆé™æ€è·¯ç”±ï¼‰ è·¯ç”±å™¨ä¸å…¶ä»–è·¯ç”±å™¨ç›¸äº’äº¤äº’ä¿¡æ¯æ—¶è‡ªåŠ¨åˆ·æ–°ï¼ˆåŠ¨æ€è·¯ç”±ï¼‰ IPåœ°å€ä¸è·¯ç”±æ§åˆ¶IPåœ°å€çš„ç½‘ç»œåœ°å€éƒ¨åˆ†ç”¨äºè¿›è¡Œè·¯ç”±æ§åˆ¶ã€‚ è·¯ç”±æ§åˆ¶è¡¨ä¸­è®°å½•ç€ç½‘ç»œåœ°å€ä¸ä¸‹ä¸€æ­¥åº”è¯¥å‘é€è‡³è·¯ç”±å™¨çš„åœ°å€ã€‚åœ¨å‘é€IPåŒ…æ—¶ï¼Œé¦–å…ˆyaoquedingIPåŒ…é¦–éƒ¨ä¸­çš„ç›®æ ‡åœ°å€ï¼Œå†ä»è·¯ç”±æ§åˆ¶è¡¨ä¸­æ‰¾åˆ°ä¸è¯¥åœ°å€å…·æœ‰ç›¸åŒç½‘ç»œåœ°å€çš„è®°å½•ï¼Œæ ¹æ®è¯¥è®°å½•å°†IPåŒ…è½¬å‘ç»™ç›¸åº”çš„ä¸‹ä¸€ä¸ªè·¯ç”±å™¨ã€‚ é»˜è®¤è·¯ç”± é»˜è®¤è·¯ç”±æ ‡è®°ä¸º0.0.0.0ï¼Œæ ‡è¯†ä¸€å¼ è·¯ç”±è¡¨ä¸­åŒ…å«æ‰€æœ‰çš„ç½‘ç»œåŠå…¶å­ç½‘ç»œä¿¡æ¯ã€‚ ä¸»æœºè·¯ç”± æ•´ä¸ªIPåœ°å€çš„æ‰€æœ‰ä½éƒ½å‚ä¸è·¯ç”±ï¼Œè¿™æ„å‘³ç€è¦åŸºäºä¸»æœºåœ¨ç½‘å¡ä¸Šé…ç½®çš„IPåœ°å€æœ¬èº«ã€‚ ç¯å›åœ°å€ ä½¿ç”¨ç‰¹æ®Šçš„IPåœ°å€ 127.0.0.1ä½œä¸ºç¯å›åœ°å€ï¼Œæ­¤æ—¶ï¼Œæ•°æ®åŒ…ä¸ä¼šæµå‘ç½‘ç»œ è·¯ç”±æ§åˆ¶è¡¨çš„èšåˆåˆ©ç”¨ç½‘ç»œåœ°å€çš„æ¯”ç‰¹åˆ†å¸ƒå¯ä»¥æœ‰æ•ˆåœ°è¿›è¡Œåˆ†å±‚é…ç½®ï¼Œå¯¹å†…å³æœ‰å¤šä¸ªå­ç½‘æ©ç ï¼Œå¯¹å¤–å‘ˆç°å‡ºåŒä¸€ä¸ªç½‘ç»œåœ°å€ã€‚è¿™æ ·å¯ä»¥æ›´å¥½çš„æ„å»ºç½‘ç»œï¼Œé€šè¿‡è·¯ç”±ä¿¡æ¯çš„èšåˆå¯ä»¥æœ‰æ•ˆåœ°å‡å°è·¯ç”±è¡¨çš„æ¡ç›® IPv6æ˜¯ä¸ºäº†æ ¹æœ¬è§£å†³IPv4åœ°å€è€—å°½çš„é—®é¢˜è€Œè¢«æ ‡å‡†åŒ–çš„ç½‘é™…åè®®ã€‚ IPv4é¦–éƒ¨ é€šè¿‡IPè¿›è¡Œé€šä¿¡æ—¶ï¼Œéœ€è¦åœ¨æ•°æ®å‰é¢åŠ ä¸ŠIPé¦–éƒ¨ä¿¡æ¯ã€‚IPé¦–éƒ¨ä¸­åŒ…å«ç€ç”¨äºIPåè®®è¿›è¡Œå‘åŒ…æ§åˆ¶æ—¶æ‰€æœ‰çš„å¿…è¦ä¿¡æ¯ã€‚]]></content>
      <categories>
        <category>å›¾è§£TCP/IP</category>
      </categories>
      <tags>
        <tag>å›¾è§£TCP/IP</tag>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®é“¾è·¯]]></title>
    <url>%2F2017%2F09%2F15%2Fcl4s3gtii009swn9ell8ixb74%2F</url>
    <content type="text"><![CDATA[æ•°æ®é“¾è·¯çš„ä½œç”¨æ•°æ®é“¾è·¯å±‚çš„åè®®å®šä¹‰äº†é€šè¿‡é€šä¿¡åª’ä»‹äº’è¿çš„è®¾å¤‡ä¹‹é—´ä¼ è¾“çš„è§„èŒƒã€‚é€šä¿¡åª’ä»‹åŒ…æ‹¬åŒç»çº¿ç”µç¼†ã€åŒè½´ç”µç¼†ã€å…‰çº¤ã€ç”µæ³¢ä»¥åŠçº¢å¤–çš„ä»‹è´¨ã€‚æ­¤å¤–ï¼Œå„ä¸ªè®¾å¤‡ä¹‹é—´æœ‰æ—¶ä¹Ÿä¼šé€šè¿‡äº¤æ¢æœºã€ç½‘æ¡¥ã€ä¸­ç»§å™¨ç­‰ä¸­è½¬æ•°æ®ã€‚ æ•°æ®é“¾è·¯çš„ç›¸å…³æŠ€æœ¯MACåœ°å€MACåœ°å€ç”¨äºè¯†åˆ«æ•°æ®é“¾è·¯ä¸­äº’è¿çš„èŠ‚ç‚¹ã€‚ ä¾‹å¤–æƒ…å†µâ€“MACåœ°å€ä¸ä¸€å®šæ˜¯å”¯ä¸€çš„åªè¦ä¸åœ¨åŒä¸€ä¸ªæ•°æ®é“¾è·¯å°±ä¸ä¼šå‡ºç°é—®é¢˜ã€‚ å‚å•†è¯†åˆ«ç å®ƒå¯ä»¥åˆ†æå‡ºå±€åŸŸç½‘ä¸­çš„åŒ…æ˜¯ç”±å“ªä¸ªå‚å•†çš„ç½‘å¡å‘å‡ºçš„ã€‚ å…±äº«ä»‹è´¨å‹ç½‘ç»œ å…±äº«ä»‹è´¨å‹ç½‘ç»œæ˜¯æŒ‡å¤šä¸ªè®¾å¤‡å…±äº«ä¸€ä¸ªé€šä¿¡ä»‹è´¨çš„ä¸€ç§ç½‘ç»œã€‚åœ¨è¿™ç§æ–¹å¼ä¸‹ï¼Œè®¾å¤‡ä¹‹é—´ä½¿ç”¨åŒä¸€ä¸ªè½½æ³¢é€šä¿¡ä¿¡é“è¿›è¡Œå‘é€å’Œæ¥æ”¶ã€‚ äº‰ç”¨æ–¹å¼ ä»¤ç‰Œä¼ é€’æ–¹å¼ éå…±äº«ä»‹è´¨ç½‘ç»œåœ¨è¿™ç§æ–¹å¼ä¸‹ï¼Œç½‘ç»œä¸­æ¯ä¸ªç«™ç›´è¿äº¤æ¢æœºï¼Œç”±äº¤æ¢æœºè´Ÿè´£è½¬å‘æ•°æ®å¸§ã€‚å‘é€ç«¯ä¸æ¥æ”¶ç«¯å¹¶ä¸å…±äº«é€šä¿¡ä»‹è´¨ï¼Œå› æ­¤å¾ˆå¤šæƒ…å†µä¸‹é‡‡ç”¨å…¨åŒå·¥é€šä¿¡æ–¹å¼ã€‚ åŠåŒå·¥ä¸å…¨åŒå·¥åŠåŒå·¥æ˜¯æŒ‡ï¼Œåªå‘é€æˆ–åªæ¥æ”¶çš„é€šä¿¡æ–¹å¼ï¼Œç±»ä¼¼äºæ— çº¿ç”µæ”¶å‘å™¨ã€‚å…¨åŒæ ï¼šåœ¨ä½¿ç”¨äº¤æ¢æœºä¸åŒç»çº¿ç”µç¼†ï¼ˆæˆ–å…‰çº¤ç”µç¼†ï¼‰çš„æƒ…å†µä¸‹ï¼Œæ—¢å¯ä»¥é€šè¿‡äº¤äº’æœºç«¯å£ä¸è®¡ç®—æœºä¹‹é—´è¿›è¡Œä¸€å¯¹ä¸€çš„è¿æ¥ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç›¸è¿ç”µç¼†å†…éƒ¨çš„æ”¶å‘çº¿è·¯åˆ†åˆ«è¿›è¡Œæ¥æ”¶å’Œå‘é€æ•°æ®ã€‚ æ ¹æ®MACåœ°å€è½¬å‘ä»¥å¤ªç½‘äº¤äº’æœºå°±æ˜¯æŒæœ‰å¤šä¸ªç«¯å£çš„ç½‘æ¡¥ï¼Œå®ƒä»¬æ ¹æ®æ•°æ®é“¾è·¯ä¸­æ¯ä¸ªå¸§çš„ç›®æ ‡MACåœ°å€ï¼Œå†³å®šå“ªä¸ªç½‘ç»œæ¥å£å‘é€æ•°æ®ã€‚ ç¯è·¯æ£€æµ‹æŠ€æœ¯ ç”Ÿæˆæ ‘æ–¹å¼ æºè·¯ç”±æ³• VLANå¯¹VLANè¿›è¡Œäº†æ‰©å±•ï¼Œä¸å¿…é‡æ–°ä¿®æ”¹å¸ƒçº¿ï¼Œåªè¦ä¿®æ”¹ç½‘æ®µå³å¯ã€‚ ä»¥å¤ªç½‘ä»¥å¤ªç½‘å¸§æ ¼å¼ä»¥å¤ªç½‘å‰ç«¯æœ‰ä¸€ä¸ªå«åšå‰å¯¼ç çš„éƒ¨åˆ†ï¼Œå®ƒç”±0ã€1æ•°å­—äº¤æ›¿ç»„åˆè€Œæˆï¼Œæ ‡è¯†ä¸€ä¸ªä»¥å¤ªç½‘å¸§çš„å¼€å§‹ï¼Œä¹Ÿæ˜¯å¯¹ç«¯ç½‘å¡èƒ½å¤Ÿç¡®ä¿å…¶åŒæ­¥çš„æ ‡å¿—ã€‚ ä»¥å¤ªç½‘å¸§æœ¬ä½“æ˜¯ä»¥å¤ªç½‘çš„é¦–éƒ¨ï¼Œå®ƒæ€»å…±14ä¸ªå­—èŠ‚ï¼Œåˆ†åˆ«æ˜¯6ä¸ªå­—èŠ‚çš„ç›®æ ‡MACåœ°å€ã€6ä¸ªå­—èŠ‚çš„æºMACåœ°å€ä»¥åŠ2ä¸ªå­—èŠ‚çš„ä¸Šå±‚åè®®ç±»å‹ã€‚ æ— çº¿é€šä¿¡]]></content>
      <categories>
        <category>å›¾è§£TCP/IP</category>
      </categories>
      <tags>
        <tag>å›¾è§£TCP/IP</tag>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[TCP/IP åŸºç¡€çŸ¥è¯†]]></title>
    <url>%2F2017%2F09%2F12%2Fcl4s3gtfz0052wn9e68zl3ljc%2F</url>
    <content type="text"><![CDATA[TCPï¼ˆTransmission Control Protocoolï¼‰å’ŒIPï¼ˆInternet Protocolï¼‰æ˜¯äº’è”ç½‘çš„ä¼—å¤šé€šä¿¡åè®®ä¸­æœ€ä¸ºè‘—åçš„ã€‚æœ¬ç« ä»‹ç»TCP/IP çš„å‘å±•å†ç¨‹åŠå…¶åè®®æ¦‚å†µã€‚ TCP/IP å‡ºç°çš„èƒŒæ™¯åŠå…¶å†å²ä»å†›ç”¨æŠ€æœ¯çš„åº”ç”¨è°ˆèµ·ARPANETçš„è¯ç”ŸTCP/IP çš„è¯ç”ŸUNIXç³»ç»Ÿçš„æ™®åŠåŠä¸äº’è”ç½‘çš„æ‰©å¼ å•†ç”¨äº’è”ç½‘æœåŠ¡çš„å¯è’™TCP/IP çš„æ ‡å‡†åŒ– TCP/IP åè®®åˆ†å±‚æ¨¡å‹ ç¡¬ä»¶ï¼ˆç‰©ç†å±‚ï¼‰TCP/IPçš„æœ€åº•å±‚å¤æ‚æ•°æ®ä¼ è¾“çš„ç¡¬ä»¶ã€‚è¿™ç§ç¡¬ä»¶å°±ç›¸å½“äºä»¥å¤ªç½‘æˆ–ç”µè¯çº¿ç­‰ç‰©ç†å±‚è®¾å¤‡ã€‚ ç½‘ç»œæ¥å£å±‚ï¼ˆæ•°æ®é“¾è·¯å±‚ï¼‰ç½‘ç»œæ¥å£å±‚åˆ©ç”¨ä»¥å¤ªç½‘ä¸­çš„æ•°æ®é“¾è·¯å±‚è¿›è¡Œé€šä¿¡ï¼Œå› æ­¤å±äºæ¥å£å±‚ã€‚é©±åŠ¨ç¨‹åºæ˜¯åœ¨æ“ä½œç³»ç»Ÿä¸ç¡¬ä»¶ä¹‹é—´èµ·æ¡¥æ¢ä½œç”¨çš„è½¯ä»¶ã€‚ äº’è”ç½‘å±‚ï¼ˆç½‘ç»œå±‚ï¼‰äº’è”ç½‘å±‚ä½¿ç”¨IPåè®®ï¼Œå®ƒç›¸åŒäºOSIæ¨¡å‹ä¸­çš„ç¬¬ä¸‰å±‚ç½‘ç»œå±‚ã€‚IPåè®®åŸºäºIPåœ°å€è½¬å‘åˆ†åŒ…æ•°æ®ã€‚ IPIPæ˜¯è·¨è¶Šç½‘ç»œäº§é€æ•°æ®åŒ…ï¼Œæ˜¯æ•´ä¸ªäº’è”ç½‘éƒ½èƒ½æ”¶åˆ°æ•°æ®çš„åè®®ã€‚IPåè®®ä½¿æ•°æ®èƒ½å¤Ÿå‘é€åˆ°åœ°çƒå¦ä¸€ç«¯ï¼Œè¿™æœŸé—´å®ƒä½¿ç”¨IPåœ°å€ä½œä¸ºä¸»æœºçš„æ ‡è¯†ã€‚ ICMPIPæ•°æ®åŒ…åœ¨å‘é€é€”ä¸­ä¸€æ—¦å‘ç”Ÿå¼‚å¸¸å¯¼è‡´æ— æ³•åˆ°åº•å¯¹ç«¯ç›®æ ‡åœ°å€æ—¶ï¼Œéœ€è¦ç»™å‘é€ç«¯ä¸€ä¸ªå‘ç”Ÿå¼‚å¸¸çš„é€šçŸ¥ã€‚ICMPå°±æ˜¯ä¸ºäº†ä¸€åŠŸèƒ½è€Œå®šåˆ¶çš„ï¼Œå®ƒæœ‰æ—¶ä¹Ÿè¢«ç”¨ä½œè¯Šæ–­ç½‘ç»œçš„å¥åº·çŠ¶å†µã€‚ ARPä»åˆ†ç»„æ•°æ®åŒ…IPåœ°å€ä¸­è§£æå‡ºç‰©ç†åœ°å€ï¼ˆMACåœ°å€ï¼‰çš„ä¸€ç§åè®®ã€‚ ä¼ è¾“å±‚ä¼ è¾“å±‚æœ€ä¸»è¦çš„åŠŸèƒ½å°±æ˜¯èƒ½å¤Ÿè®©åº”ç”¨ç¨‹åºä¹‹é—´å®ç°é€šä¿¡ã€‚åœ¨è®¡ç®—æœºå†…éƒ¨ï¼Œé€šè¿‡åº”ç”¨ç¨‹åºç«¯å£å·æ¥åŒºåˆ†å“ªäº›ç¨‹åºæ­£åœ¨è¿›è¡Œé€šä¿¡ã€‚ TCPTCPæ˜¯ä¸€ç§é¢å‘æœ‰é“¾æ¥çš„ä¼ è¾“å±‚åè®®ï¼Œå®ƒæ—¢å¯ä»¥ä¿è¯ä¸¤ç«¯é€šä¿¡ä¸»æœºä¹‹é—´çš„é€šä¿¡å¯è¾¾ï¼Œè¿˜å¯ä»¥æ­£ç¡®å¤„ç†ä¼ è¾“è¿‡ç¨‹ä¸­ä¸¢åŒ…ã€ä¼ è¾“é¡ºåºä¹±æ‰çš„å¼‚å¸¸æƒ…å†µã€‚æ­¤å¤–TCPè¿˜èƒ½å¤Ÿæœ‰æ•ˆåˆ©ç”¨å¸¦å®½ï¼Œç¯èŠ‚ç½‘ç»œæ‹¥å µã€‚ ç¼ºç‚¹æ˜¯ï¼Œä¸ºäº†å»ºç«‹è¿æ¥å’Œæ–­å¼€è¿æ¥ï¼Œéœ€è¦è‡³å°‘7æ¬¡çš„æ‰‹åŒ…å’Œå‘åŒ…ï¼Œå¯¼è‡´ç½‘ç»œæµé‡çš„æµªè´¹ã€‚è¿™å¹¶ä¸é€‚ç”¨äºè§†é¢‘ä¼šè®®ç­‰åœºåˆä½¿ç”¨ã€‚ UDPå®ƒæ˜¯ä¸€ç§é¢å‘æ— è¿æ¥çš„ä¼ è¾“å±‚åè®®ã€‚UDPä¸å…³æ³¨ç«¯æ˜¯å¦çœŸçš„æ”¶åˆ°äº†ä¼ é€è¿‡å»çš„æ•°æ®ã€‚ UDPå¸¸ç”¨äºåˆ†ç»„æ•°æ®è¾ƒå°‘æˆ–å¤šæ’­ã€å¹¿æ’­é€šä¿¡ä»¥åŠä½¿ç”¨é€šä¿¡ç­‰å¤šåª’ä½“é¢†åŸŸã€‚ åº”ç”¨å±‚ï¼ˆä¼šè¯å±‚ä»¥ä¸Šçš„åˆ†å±‚ï¼‰-ç”µå­é‚®ä»¶ï¼ˆE-Mailï¼‰ SMTPåè®® æ–‡ä»¶ä¼ è¾“ï¼ˆFTPï¼‰ åœ¨FTPä¸­è¿›è¡Œæ–‡ä»¶ä¼ è¾“æ—¶ä¼šå»ºç«‹ä¸¤ä¸ªTCPé“¾æ¥ï¼Œåˆ†åˆ«æ˜¯å‘é€ä¼ è¾“è¯·æ±‚æ—¶æ‰€è¦ç”¨åˆ°çš„æ§åˆ¶é“¾æ¥ä¸å®é™…ä¼ è¾“æ•°æ®æ—¶æ‰€è¦ç”¨åˆ°çš„æ•°æ®è¿æ¥ã€‚ è¿œç¨‹ç™»å½•ï¼ˆTELNETä¸SSHï¼‰ ç½‘ç»œç®¡ç†ï¼ˆSNMPï¼‰ TCP/IP åˆ†å±‚æ¨¡å‹ä¸é€šä¿¡ç¤ºä¾‹æ•°æ®åŒ…é¦–éƒ¨ æ¯ä¸ªåˆ†å±‚ä¸­ï¼Œéƒ½ä¼šå¯¹æ‰€å‘é€çš„æ•°æ®é™„ä»¶ä¸€ä¸ªé¦–éƒ¨ï¼Œåœ¨è¿™ä¸ªé¦–éƒ¨ä¸­åŒ…å«äº†è¯¥å±‚å¿…è¦çš„ä¿¡æ¯ï¼Œå¦‚å‘é€ç›®æ ‡åœ°å€ä»¥åŠåè®®ç›¸å…³çš„ä¿¡æ¯ã€‚ åœ¨æ•°æ®åŒ…çš„é¦–éƒ¨ï¼Œæ˜ç¡®è¡¨æ˜äº†åè®®åº”è¯¥å¦‚ä½•è¯»å–æ•°æ®ï¼Œåè¿‡æ¥ï¼Œçœ‹åˆ°é¦–éƒ¨ï¼Œä¹Ÿå°±èƒ½å¤Ÿäº†è§£åè®®å¿…è¦çš„ä¿¡æ¯ä»¥åŠæ‰€è¦å¤„ç†çš„å†…å®¹ã€‚ å‘é€æ•°æ®åŒ…ä»¥ä¸€å°é‚®ä»¶çš„å‘é€ä¸ºä¾‹å­ï¼š åº”ç”¨ç¨‹åºå¤„ç†ï¼šé¼ æ ‡ç‚¹å‡»é€å°±å¼€å§‹äº†TCP/IPçš„é€šä¿¡äº† TCPæ¨¡å—çš„å¤„ç†ï¼šTCPæ ¹æ®åº”ç”¨çš„æŒ‡ç¤ºï¼Œè´Ÿè´£å»ºç«‹è¿æ¥ã€å‘é€æ•°æ®ä»¥åŠæ–­å¼€è¿æ¥ã€‚TCPæä¾›å°†åº”ç”¨å±‚å‘æ¥çš„æ•°æ®é¡ºåˆ©å‘é€è‡³å¯¹ç«¯çš„å¯é ä¼ è¾“ IPæ¨¡å—çš„å¤„ç†ï¼šIPå°†TCPä¼ è¿‡æ¥çš„TCPé¦–éƒ¨å’ŒTCPæ•°æ®åˆèµ·æ¥å½“åšè‡ªå·±çš„æ•°æ®ï¼Œå¹¶åœ¨TCPé¦–éƒ¨çš„å‰ç«¯åŠ ä¸Šè‡ªå·±çš„IPé¦–éƒ¨ ç½‘ç»œæ¥å£ï¼ˆä»¥å¤ªç½‘é©±åŠ¨çš„å¤„ç†ï¼‰ï¼šç»™TPä¼ è¿‡æ¥çš„IPåŒ…é™„åŠ ä¸Šä»¥å¤ªç½‘é¦–éƒ¨å¹¶è¿›è¡Œå‘é€å¤„ç† ç»è¿‡æ•°æ®é“¾è·¯çš„åŒ… æ•°æ®åŒ…çš„æ¥æ”¶å¤„ç†åŒ…çš„æ¥å—æµç¨‹æ˜¯å‘é€è·¯ç¨‹é€†åºè¿‡ç¨‹ã€‚]]></content>
      <categories>
        <category>å›¾è§£TCP/IP</category>
      </categories>
      <tags>
        <tag>å›¾è§£TCP/IP</tag>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç½‘ç»œåŸºç¡€çŸ¥è¯†]]></title>
    <url>%2F2017%2F09%2F11%2Fcl4s3gtiw00auwn9ezhfgow73%2F</url>
    <content type="text"><![CDATA[æœ¬ç« æ€»ç»“äº†æ·±å…¥ç†è§£TCP/IPæ‰€å¿…å¤‡çš„åŸºç¡€çŸ¥è¯†ï¼Œå…¶ä¸­åŒ…æ‹¬è®¡ç®—æœºä¸ç½‘ç»œå‘å±•çš„å†å²åŠå…¶æ ‡å‡†åŒ–è¿‡ç¨‹ã€OSIå‚è€ƒæ¨¡å‹ã€ç½‘ç»œæ¦‚å¿µçš„æœ¬è´¨ã€ç½‘ç»œæ„å»ºçš„è®¾å¤‡ç­‰ã€‚ è®¡ç®—æœºç½‘ç»œå‡ºç°çš„èƒŒæ™¯ä»ç‹¬ç«‹æ¨¡å¼åˆ°ç½‘ç»œäº’è”æ¨¡å¼ è®¡ç®—æœºç½‘ç»œï¼Œæ ¹æ®å…¶è§„æ¨¡å¯åˆ†ä¸ºWANï¼ˆWide Area Networkï¼Œ å¹¿åŸŸç½‘ï¼‰å’ŒLANï¼ˆLocal Area Networï¼Œ å±€åŸŸç½‘ï¼‰ åˆ†ç»„äº¤æ¢åè®® åˆ†ç»„äº¤æ¢æ˜¯æŒ‡å°†å¤§æ•°æ®åˆ†å‰²ä¸ºä¸€ä¸ªä¸ªå«åŒ…ï¼ˆPacketï¼‰çš„è¾ƒå°å•ä½è¿›è¡Œä¼ è¾“çš„æ–¹æ³•ã€‚ æ ‡å‡†åŒ–ï¼šæ‰€è°“æ ‡å‡†åŒ–æ˜¯æŒ‡ä¸åŒå‚å•†æ‰€ç”Ÿäº§çš„å¼‚æ„äº§å“ä¹‹é—´å…·æœ‰å…¼å®¹æ€§ã€ä¾¿äºä½¿ç”¨çš„è§„èŒƒåŒ–è¿‡ç¨‹ã€‚ OSIå‚è€ƒæ¨¡å‹ OSIå‚è€ƒæ¨¡å‹åœ¨å„ä¸ªåˆ†å±‚çš„ä½œç”¨ OSIå‚è€ƒæ¨¡å‹é€šä¿¡å¤„ç†ä¸¾ä¾‹ ä¼ è¾“æ–¹å¼çš„åˆ†ç±»é¢å‘æœ‰è¿æ¥å‹å’Œé¢å‘æ— è¿æ¥å‹ ç”µè·¯äº¤æ¢ä¸åˆ†ç»„äº¤æ¢è®©è¿æ¥åˆ°é€šä¿¡ç”µè·¯çš„è®¡ç®—æœºå°†æ‰€è¦å‘é€çš„æ•°æ®åˆ†æˆå¤šä¸ªæ•°æ®åŒ…ï¼ŒæŒ‰ç…§ä¸€å®šçš„é¡ºåºæ’åˆ—ä¹‹ååˆ†åˆ«å‘é€ã€‚è¿™å°±æ˜¯åˆ†ç»„äº¤æ¢ã€‚æ•°æ®è¢«ç»†åˆ†åï¼Œæ‰€æœ‰çš„è®¡ç®—æœºå°±å¯ä»¥ä¸€é½æ”¶å‘æ•°æ®ï¼Œè¿™æ ·ä¹Ÿæé«˜äº†é€šä¿¡çº¿è·¯çš„åˆ©ç”¨ç‡ã€‚ æ ¹æ®æ¥æ”¶ç«¯æ•°é‡åˆ†ç±»å•æ’­ï¼ˆUnicastï¼‰1å¯¹1é€šä¿¡ï¼Œæ—©æœŸçš„å›ºå®šç”µè¯å°±æ˜¯å•æ’­é€šä¿¡çš„ä¾‹å­ã€‚ å¹¿æ’­ï¼ˆBroadcastï¼‰å°†æ¶ˆæ¯ä»1å°ä¸»æœºå‘é€ä¸ä¹‹ç›¸è¿çš„æ‰€æœ‰å…¶ä»–ä¸»æœºã€‚ å¤šæ’­ï¼ˆMulticastï¼‰ä¹Ÿæ˜¯å°†æ¶ˆæ¯å‘ç»™å¤šä¸ªæ¥æ”¶ä¸»æœºï¼Œä¸åŒä¹‹å¤„åœ¨äºå¤šæ’­è¦é™å®šæŸä¸€ç»„ä½œä¸ºæ¥æ”¶ç«¯ã€‚ ä»»æ’­ï¼ˆAnycastï¼‰æŒ‡çš„æ˜¯åœ¨ç‰¹å®šå¤šæ€ä¸»æœºä¸­é€‰å‡ºä¸€å°ä½œä¸ºæ¥æ”¶ç«¯çš„ä¸€ç§é€šä¿¡æ–¹å¼ã€‚ åœ°å€åœ¨å®é™…çš„ç½‘ç»œé€šä¿¡ä¸­ï¼Œæ¯ä¸€å±‚çš„åè®®æ‰€ä½¿ç”¨çš„åœ°å€éƒ½æ˜¯ä¸å°½ç›¸åŒçš„ï¼Œä¾‹å¦‚TCP/IPä¸­ä½¿ç”¨MACåœ°å€ã€IPåœ°å€ã€ç«¯å£å·ç­‰ä¿¡æ¯ä½œä¸ºåœ°å€æ ‡è¯†ã€‚ç”šè‡³åœ¨åº”ç”¨å±‚ä¸­ï¼Œå¯ä»¥å°†ç”µå­é‚®ä»¶åœ°å€ä½œä¸ºç½‘ç»œé€šä¿¡çš„åœ°å€ã€‚ MACåœ°å€ç”±è®¾å¤‡åˆ¶é€ å•†å¯¹æ¯å—ç½‘å¡åˆ†åˆ«æŒ‡å®šã€‚ä½†å¯¹äºå¯»å€å¹¶æ²¡æœ‰èµ·åˆ°ä»»ä½•ä½œç”¨ï¼Œæ‰€ä»¥ä¸èƒ½ç®—ä½œæœ‰å±‚æ¬¡çš„åœ°å€ã€‚æ­£å› å¦‚æ­¤ï¼Œè™½ç„¶MACåœ°å€æ˜¯çœŸæ­£å¤æ‚é€šä¿¡åœ°å€ï¼Œä½†åœ¨å®é™…å¯»å€è¿‡ç¨‹ä¸­ï¼ŒIPåœ°å€å´å¿…ä¸å¯å°‘ã€‚ ç½‘ç»œæ„æˆçš„è¦ç´ ]]></content>
      <categories>
        <category>å›¾è§£TCP/IP</category>
      </categories>
      <tags>
        <tag>å›¾è§£TCP/IP</tag>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ†æç®—æ³•]]></title>
    <url>%2F2017%2F09%2F06%2Fcl4s3gti0008nwn9e4k5s68p8%2F</url>
    <content type="text"><![CDATA[å…³æ³¨çš„æ˜¯è®¡ç®—æ—¶é—´ åˆ†æç®—æ³•çš„ç»“æœæ„å‘³ç€é¢„æµ‹ç®—æ³•éœ€è¦çš„èµ„æºã€‚è™½ç„¶æœ‰æ—¶æˆ‘ä»¬ä¸»è¦å…³å¿ƒåƒå†…å­˜ã€é€šä¿¡å®½å¸¦æˆ–è®¡ç®—æœºç¡¬ä»¶è¿™ç±»èµ„æºï¼Œä½†é€šå¸¸æˆ‘ä»¬æƒ³åº¦é‡çš„æ˜¯è®¡ç®—æ—¶é—´ã€‚ æœ€åæƒ…å†µå’Œæœ€å¥½æƒ…å†µå¾€å¾€é›†ä¸­äºåªæ±‚æœ€åæƒ…å†µçš„è¿è¡Œæ—¶é—´ï¼Œå³å¯¹è§„æ¨¡ä¸ºnçš„ä»»ä½•è¾“å…¥ï¼Œç®—æ³•çš„æœ€é•¿è¿è¡Œæ—¶é—´ æœ€åçš„è¿è¡Œæ—¶é—´ç¡®å®šäº†ä¸€ä¸ªä¸Šç•Œï¼Œè¿™å¯ä»¥ç¡®ä¿ç®—æ³•ç»å¯¹ä¸ä¼šéœ€è¦æ¯”è¿™æ›´é•¿çš„è¿è¡Œæ—¶é—´ å¯¹äºæŸäº›ç®—æ³•ï¼Œæœ€åçš„æƒ…å†µç»å¸¸å‡ºç° â€œå¹³å‡æƒ…å†µâ€å¾€å¾€ä¸æœ€åå¤§è‡´ä¸€æ ·å·® å¢é•¿é‡çº§æˆ‘ä»¬åªè€ƒè™‘å…¬å¼ä¸­æœ€é‡è¦çš„é¡¹ï¼ˆå¦‚ an^2ï¼‰,å› ä¸ºå½“nçš„å€¼å¾ˆå¤§æ—¶ï¼Œä½é˜¶ç›¸å¯¹æ¥è¯´ä¸å¤ªé‡è¦ã€‚æˆ‘ä»¬ä¹Ÿå¿½ç•¥æœ€é‡è¦çš„é¡¹çš„å¸¸æ•°é¡¹ï¼Œå› ä¸ºå¯¹å¤§çš„è¾“å…¥ï¼Œåœ¨ç¡®å®šè®¡ç®—æ•ˆç‡æ—¶å¸¸é‡é“¶å­ä¸å¦‚å¢é•¿ç‡é‡è¦ã€‚ ç»ƒä¹ é¢˜Î¸è®°å· Î¸(n^3) - Î¸(n^2) - 100n å¿½ç•¥ä½é˜¶é¡¹åˆ™ä¸º Î¸(n^3) é€‰æ‹©æ’åº 123456for i &lt;- 1 to length[A]-1 do min &lt;- i for j &lt;- i+1 to length[A] do if A[j] &lt; A[min] then min &lt;-j exchange(A[i], A[min]) ä½¿ç”¨TypeScriptå®ç°é€‰æ‹©ç®—æ³• 1234567891011121314151617181920212223242526272829303132333435class SelectSort &#123; private sortArray: Array&lt;number&gt; public constructor(arr: Array&lt;number&gt;) &#123; this.sortArray = arr this.selectSort() &#125; private selectSort(): void &#123; let len: number = this.sortArray.length for (let i: number = 0; i &lt; len; i++) &#123; let min: number = this.sortArray[i] let temp: number let index: number for (let j = i + 1; j &lt; len; j++) &#123; if (this.sortArray[j] &lt; min) &#123; min = this.sortArray[j] index = j &#125; &#125; temp = this.sortArray[i] this.sortArray[i] = min this.sortArray[index] = temp &#125; &#125; public printSortWell() &#123; console.log(this.sortArray.toString()) &#125;&#125;let selectSort: SelectSort = new SelectSort([3, 44, 38, 5, 47, 15, 36, 26, 27, 2, 46, 4, 19, 50, 48])selectSort.printSortWell() é€‰æ‹©æ’åºæ—¶é—´å¤æ‚åº¦ é€‰æ‹©æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(N2)ã€‚å‡è®¾è¢«æ’åºçš„æ•°åˆ—ä¸­æœ‰Nä¸ªæ•°ã€‚éå†ä¸€è¶Ÿçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(N)ï¼Œéœ€è¦éå†å¤šå°‘æ¬¡å‘¢ï¼ŸN-1ï¼å› æ­¤ï¼Œé€‰æ‹©æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(N2) çº¿æ€§æŸ¥æ‰¾å†æ¬¡è€ƒè™‘çº¿æ€§æŸ¥æ‰¾é—®é¢˜ï¼Œåœ¨å¹³å‡æƒ…å†µä¸‹ï¼Œéœ€è¦æ£€æŸ¥è¾“å…¥åºåˆ—ä¸­çš„å¤šå°‘ä¸ªå…ƒç´ ï¼Ÿå‡å®šå¾…æŸ¥æ‰¾çš„å…ƒç´ æ˜¯æ•°ç»„ä¸­ä»»ä½•ä¸€ä¸ªå…ƒç´ çš„å¯èƒ½æ€§ç›¸ç­‰ï¼Œåœ¨æœ€åæƒ…å†µä¸‹åˆæ€æ ·å‘¢ï¼Ÿç”¨Oå½¢å¼è¡¨ç¤ºï¼Œçº¿æ€§æŸ¥æ‰¾æœ€åæƒ…å†µè¿è¡Œæ—¶é—´æ˜¯å¤šå°‘ï¼Ÿå¹¶è¯´æ˜ å¹³å‡æƒ…å†µä¸‹éœ€è¦æŸ¥æ‰¾åºåˆ—ä¸­(1+n)/2ä¸ªå…ƒç´  æœ€åæƒ…å†µä¸‹ï¼šnä¸ªå…ƒç´ ã€‚å³O(n)ä¸ºæœ€å ä¿®æ”¹ç®—æ³•ä»¥è·å–æœ€ä½³è¿è¡Œæ—¶é—´åº”å¦‚ä½•ä¿®æ”¹ä»»ä½•ä¸€ä¸ªç®—æ³•ï¼Œæ‰èƒ½ä½¿ä¹‹å…·æœ‰è¾ƒå¥½çš„æœ€ä½³æƒ…å†µè¿è¡Œæ—¶é—´ æ ¹æ®ç®—æ³•çš„æœ€ä½³æƒ…å†µæ”¹å˜è¾“å…¥æ•°æ®çš„åˆ†å¸ƒï¼ˆæ¯”å¦‚è¯´é¡ºåºï¼‰ï¼Œä½¿ä¹‹ç¬¦åˆæœ€ä½³æƒ…å†µæ¡ä»¶ï¼Œè¿™æ ·å°±èƒ½æ‹¥æœ‰æœ€ä½³è¿è¡Œæ—¶é—´ã€‚ æ€»ä¹‹æ˜¯åˆ¶é€ å‡ºç¬¦åˆæœ€ä½³æƒ…å†µçš„æ¡ä»¶]]></content>
      <categories>
        <category>ç®—æ³•å¯¼è®º</category>
      </categories>
      <tags>
        <tag>ç®—æ³•å¯¼è®º</tag>
        <tag>ä¹ é¢˜ç­”æ¡ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¼‚æ­¥æ“ä½œå’Œasyncå‡½æ•°]]></title>
    <url>%2F2017%2F09%2F03%2Fcl4s3gtic009dwn9eg5qptlgn%2F</url>
    <content type="text"><![CDATA[å¼‚æ­¥ç¼–ç¨‹å¯¹äºJavaScriptæ˜¯æä¸ºé‡è¦çš„ã€‚JavaScriptåªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œå¦‚æœå¼‚æ­¥ç¼–ç¨‹ï¼Œå¾—å¡æ­»ï¼ŒåŸºæœ¬æ²¡æ³•ç”¨ã€‚ ES6è¯ç”Ÿä¹‹å‰ï¼Œå¼‚æ­¥ç¼–ç¨‹çš„æ–¹æ³•å¤§æ¦‚æœ‰ä»¥ä¸‹å‡ ç§ï¼š å›è°ƒå‡½æ•° äº‹ä»¶ç›‘å¬ å‘å¸ƒ/è®¢é˜… Promiseå¯¹è±¡ ES7ä¸­çš„asyncå‡½æ•°æ›´æ˜¯ç»™å‡ºå¼‚æ­¥ç¼–ç¨‹çš„ç»ˆæè§£å†³æ–¹æ¡ˆ åŸºæœ¬æ¦‚å¿µå¼‚æ­¥æ‰€è°“â€œå¼‚æ­¥â€ï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªä»»åŠ¡åˆ†æˆä¸¤æ®µæ‰§è¡Œï¼Œå…ˆæ‰§è¡Œç¬¬ä¸€æ®µï¼Œç„¶åè½¬è€Œæ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œç­‰åšå®Œå‡†å¤‡å·¥ä½œå†å›è¿‡å¤´æ‰§è¡Œç¬¬äºŒæ®µã€‚ ç›¸åº”çš„ï¼Œè¿ç»­æ‰§è¡Œçš„å°±å«åŒæ­¥ã€‚ å›è°ƒæ‰€è°“â€œå›è°ƒâ€å°±æ˜¯æŠŠä»»åŠ¡çš„ç¬¬äºŒæ®µå•ç‹¬å†™åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œç­‰åˆ°é‡æ–°æ‰§è¡Œè¯¥ä»»åŠ¡æ—¶ç›´æ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚ è¯»å–æ–‡ä»¶è¿›è¡Œå¤„ç†æ˜¯è¿™æ ·å†™çš„ï¼š 1234fs.readFile('/etc/passwd', function(err, data) &#123; if (err) throw err console.log(data)&#125;) ä¸ºä»€ä¹ˆnodejsçº¦å®šå›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯é”™è¯¯å¯¹è±¡errï¼ˆå¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œè¯¥å‚æ•°å°±æ˜¯nullï¼‰ï¼ŸåŸå› æ˜¯æ‰§è¡Œæ‹†åˆ†æˆä¸¤æ®µï¼Œåœ¨è¿™ä¸¤æ®µä¹‹é—´æŠ›å‡ºçš„é”™è¯¯ç¨‹åºæ— æ³•æ•è·ï¼Œåªèƒ½å½“åšå‚æ•°ä¼ å…¥ç¬¬äºŒæ®µ Promiseå½“å›è°ƒå‡½æ•°è¿‡å¤šï¼Œå¤šé‡åµŒå¥—ã€‚ä»£ç ä¸æ˜¯çºµå‘å‘å±•è€Œæ˜¯æ¨ªå‘å‘å±•ï¼Œå¾ˆå¿«ä»£ç å°±ä¼šä¹±æˆä¸€å›¢ã€‚Promiseå°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è¯ç”Ÿçš„ã€‚ Promiseä¸æ˜¯æ–°çš„è¯­æ³•åŠŸèƒ½ï¼Œè€Œæ˜¯ä¸€ç§æ–°çš„å†™æ³•ï¼Œå…è®¸å°†å›è°ƒå‡½æ•°çš„æ¨ªå‘åŠ è½½æ”¹æˆçºµå‘åŠ è½½ã€‚ 123456789101112131415var readFile = require('fs-readfile-promise')readFile(fileA).then(function(data)&#123; console.log(data.toString())&#125;).then(function()&#123; return readFile(fileB)&#125;).then(function()&#123; console.log(data.toString())&#125;).catch(function(err)&#123; console.log(err)&#125;) Promiseæœ€å¤§çš„é—®é¢˜æ˜¯ä»£ç å†—ä½™ï¼ŒåŸæ¥çš„ä»»åŠ¡è¢«PromiseåŒ…è£…äº†ä¸€ä¸‹ï¼Œä¸ç®¡ä»€ä¹ˆæ“ä½œï¼Œä¸€çœ¼çœ‹å»éƒ½æ˜¯ä¸€å †thenï¼ŒåŸæ¥çš„è¯­ä¹‰å¹¶ä¸æ¸…æ¥šã€‚ Thunkå‡½æ•°ä¼ åè°ƒç”¨å’Œä¼ å€¼è°ƒç”¨ ä¼ å€¼è°ƒç”¨ï¼šåœ¨è¿›å…¥å‡½æ•°ä¹‹å‰ï¼Œå°±è®¡ç®—å‚æ•°çš„å€¼ 12345var x = 1f(x + 5) //ä¼ å€¼è°ƒç”¨ç­‰åŒäºf(6) ä¼ åè°ƒç”¨ï¼šä¼ å€¼è°ƒç”¨æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯å¯¹å‚æ•°æ±‚å€¼æ—¶å¹¶æœªä½¿ç”¨è¿™ä¸ªå‚æ•°ï¼Œæœ‰å¯èƒ½é€ æˆæ€§èƒ½æŸå¤±ã€‚è€Œä¼ åè°ƒç”¨å°±æ˜¯åªåœ¨æ‰§è¡Œæ—¶æ±‚å€¼ Thunkå‡½æ•°çš„å«ä¹‰ç¼–è¯‘å™¨â€œä¼ åè°ƒç”¨â€å®ç°å¾€å¾€æ˜¯å…ˆå°†å‚æ•°æ”¾åˆ°ä¸€ä¸ªä¸´æ—¶å‡½æ•°ä¸­ï¼Œåœ¨å°†è¿™ä¸ªä¸´æ—¶å‡½æ•°ä¼ å…¥å‡½æ•°ä½“ã€‚è¿™ä¸ªä¸´æ—¶å‡½æ•°å°±å«Thunk 12345678910111213function f(m) &#123; return m * 2&#125;f (x + 5)//ç­‰åŒäº å‚æ•°æ”¾åˆ°ä¸€ä¸ªä¸´æ—¶å‡½æ•°var thunk = function() &#123; return x + 5&#125;function f(thunk) &#123; return thunk() * 2&#125; asyncå‡½æ•°asyncå‡½æ•°è¿”å›å€¼æ˜¯Promiseï¼Œä½ å¯ç”¨thenæ–¹æ³•æŒ‡å®šä¸‹ä¸€æ­¥æ“ä½œã€‚ asyncå‡½æ•°å®ç°asyncå‡½æ•°çš„å®ç°å°±æ˜¯å°†Generatorå‡½æ•°å’Œè‡ªåŠ¨æ‰§è¡Œå™¨åŒ…è£…åœ¨ä¸€ä¸ªå‡½æ•°ä¸­12345678async function fn(args) &#123; //å‚æ•°è¿ç®—&#125;//ç­‰åŒäºfunction fn(args) &#123; return spawn(function *)&#125; asycnçš„ç”¨æ³•åŒGeneratorå‡½æ•°ä¸€æ ·ï¼Œasyncå‡½æ•°è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨thenæ–¹æ³•æ·»åŠ å›è°ƒå‡½æ•°ã€‚å½“å‡½æ•°æ‰§è¡Œæ—¶ï¼Œä¸€æ—¦é‡åˆ°awaitå°±ä¼šå…ˆè¿”å›ï¼Œç­‰åˆ°è§¦å‘çš„å¼‚æ­¥æ“ä½œå®Œæˆï¼Œå†æ¥ç€æ‰§è¡Œå‡½æ•°ä½“å†…åå°çš„è¯­å¥ 123456789async function getStokPriceByName(name) &#123; var symbo = await getStockSymbol(name) var stockPrice = await getStockPrice(symbol) return stockPrice&#125;getStockPriceByName('goog').then(function(result)&#123; console.log(result)&#125;) ä¸Šé¢çš„ä»£ç æ˜¯ä¸€ä¸ªè·å–è‚¡ç¥¨æŠ¥ä»·çš„å‡½æ•°ï¼Œå‡½æ•°å‰é¢çš„asyncå…³é”®å­—è¡¨æ˜è¯¥å‡½æ•°å†…éƒ¨æœ‰å¼‚æ­¥æ“ä½œã€‚è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œä¼šç«‹å³è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ã€‚ ä¸‹é¢è¿™ä¸ªä¾‹å­æŒ‡å®šäº†å¤šå°‘æ¯«ç§’åè¾“å‡ºä¸€ä¸ªå€¼ã€‚ 123456789101112function timeout((resolve) =&gt; &#123; setTimeout(resolve, ms)&#125;)async function asyncPrint(value, ms) &#123; await timeout(ms) console.log(valuse)&#125;asyncPrint("Hello World!", 50)//50æ¯«ç§’åè¾“å‡º, "Hello World!" æ³¨æ„ç‚¹awaitå‘½ä»¤åé¢çš„Promiseå¯¹è±¡ï¼Œè¿è¡Œç»“æœå¯èƒ½æ˜¯Rejectedï¼Œæ‰€ä»¥æœ€å¥½æŠŠawaitå‘½ä»¤æ”¾åœ¨tryâ€¦catchä»£ç å—ä¸­ 123456789async function myFunction() &#123; try &#123; await( await somethingThatReturnAPromise() )catch (err) &#123; console.log(err) &#125; &#125;&#125;]]></content>
      <categories>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>å¼‚æ­¥</tag>
        <tag>ES6</tag>
        <tag>ã€ŠES 6æ ‡å‡†å…¥é—¨ã€‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç®—æ³•åŸºç¡€-æ’å…¥æ’åº&&ä¹ é¢˜2.1-3ã€2.1-4]]></title>
    <url>%2F2017%2F09%2F02%2Fcl4s3gtiu00anwn9eodjxxjac%2F</url>
    <content type="text"><![CDATA[æ’å…¥æ’åº å¯¹äºå°‘é‡æ’åºï¼Œå®ƒæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç®—æ³•ã€‚å¼€å§‹æ—¶ï¼Œæˆ‘ä»¬çš„å·¦æ‰‹ä¸ºç©ºï¼Œå¹¶ä¸”æ¡Œå­ä¸Šçš„ç‰Œé¢å‘ä¸‹ã€‚ç„¶åï¼Œæˆ‘ä»¬æ¯æ¬¡ä»æ¡Œå­ä¸Šæ‹¿èµ°ä¸€å¼ ç‰Œå¹¶å°†å®ƒæ’å…¥åˆ°å·¦æ‰‹ä¸­çš„æ­£ç¡®ä½ç½®ã€‚ä¸ºäº†æ‰¾åˆ°ä¸€å¼ ç‰Œçš„æ­£ç¡®ä½ç½®ï¼Œæˆ‘ä»¬ä»å³å¾€å·¦å°†å®ƒä¸å·²åœ¨æ‰‹ä¸­çš„æ¯å¼ ç‰Œæ¯”è¾ƒã€‚å¦‚å›¾æ‰€ç¤ºï¼Œæ‹¿åœ¨å·¦æ‰‹ä¸­çš„ç‰Œæ€»æ˜¯æ’åºå¥½çš„ã€‚ TypeScriptå®ç°1234567891011121314151617181920212223242526272829303132class InsertionSort &#123; private sortArray: Array&lt;any&gt; public constructor(A: Array&lt;any&gt;) &#123; this.sortArray = A this.insertionSort() &#125; private insertionSort(): void &#123; for (let j = 1; j &lt; this.sortArray.length; j++) &#123; let key: any = this.sortArray[j] let i: number = j - 1 while (i &gt;= 0 &amp;&amp; this.sortArray[i] &gt; key) &#123; this.sortArray[i + 1] = this.sortArray[i] i = i - 1 &#125; this.sortArray[i + 1] = key &#125; &#125; public printSortResult(): void &#123; console.log(this.sortArray) &#125;&#125;let sort = new InsertionSort([31, 41, 59, 26, 41, 58])sort.printSortResult()/* è¿ç®—ç»“æœï¼š[ 26, 31, 41, 41, 58, 59 ]*/ æ—¶é—´å¤æ‚åº¦æ’å…¥æ’åºçš„æ—¶é—´å¤æ‚åº¦åˆ†æã€‚åœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ•°ç»„å®Œå…¨é€†åºï¼Œæ’å…¥ç¬¬2ä¸ªå…ƒç´ æ—¶è¦è€ƒå¯Ÿå‰1ä¸ªå…ƒç´ ï¼Œæ’å…¥ç¬¬3ä¸ªå…ƒç´ æ—¶ï¼Œè¦è€ƒè™‘å‰2ä¸ªå…ƒç´ ï¼Œâ€¦â€¦ï¼Œæ’å…¥ç¬¬Nä¸ªå…ƒç´ ï¼Œè¦è€ƒè™‘å‰ N - 1 ä¸ªå…ƒç´ ã€‚å› æ­¤ï¼Œæœ€åæƒ…å†µä¸‹çš„æ¯”è¾ƒæ¬¡æ•°æ˜¯ 1 + 2 + 3 + â€¦ + (N - 1)ï¼Œç­‰å·®æ•°åˆ—æ±‚å’Œï¼Œç»“æœä¸º N^2 / 2ï¼Œæ‰€ä»¥æœ€åæƒ…å†µä¸‹çš„å¤æ‚åº¦ä¸º O(N^2)ã€‚ æœ€å¥½æƒ…å†µä¸‹ï¼Œæ•°ç»„å·²ç»æ˜¯æœ‰åºçš„ï¼Œæ¯æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œåªéœ€è¦è€ƒæŸ¥å‰ä¸€ä¸ªå…ƒç´ ï¼Œå› æ­¤æœ€å¥½æƒ…å†µä¸‹ï¼Œæ’å…¥æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(N)ã€‚ ç»ƒä¹ é¢˜è€ƒè™‘ä»¥ä¸‹æŸ¥æ‰¾é—®é¢˜ï¼šè¾“å…¥ï¼š nä¸ªæ•°çš„ä¸€ä¸ªåºåˆ—A={ a1, a2, â€¦, an } å’Œä¸€ä¸ªå€¼vã€‚è¾“å‡ºï¼š ä¸‹æ ‡iä½¿å¾—v=A[i]æˆ–è€…å½“vä¸åœ¨Aä¸­æ—¶ï¼Œvä¸ºç‰¹æ®Šå€¼NILã€‚å†™å‡ºçº¿æ€§æŸ¥æ‰¾ çš„ä¼ªä»£ç ï¼Œå®ƒæ‰«ææ•´ä¸ªåºåˆ—æ¥æŸ¥æ‰¾vã€‚ä½¿ç”¨ä¸€ä¸ªå¾ªç¯ä¸å˜å¼æ¥è¯æ˜ä½ çš„ç®—æ³•æ˜¯æ­£ç¡®çš„ã€‚ç¡®ä¿å¾ªç¯ä¸å˜å¼æ»¡è¶³ä¸‰æ¡å¿…è¦çš„æ€§è´¨ ä¼ªä»£ç  12345LINEAR-SEARCH(A, v)1 for i &lt;- 1 to len(A)2 do if A[i] == v3 then return i4 return NIL äºŒè¿›åˆ¶ç›¸åŠ è€ƒè™‘æŠŠä¸¤ä¸ªnä½äºŒè¿›åˆ¶è¯ä¹¦åŠ èµ·æ¥çš„é—®é¢˜ï¼Œè¿™ä¸¤ä¸ªæ•´æ•°åˆ†åˆ«å­˜å‚¨åœ¨ä¸¤ä¸ªnå…ƒæ•°ç»„Aå’ŒBä¸­ã€‚è¿™ä¸¤ä¸ªæ•´æ•°å’Œåº”æŒ‰äºŒè¿›åˆ¶å½¢å¼å­˜å‚¨åœ¨ä¸€ä¸ªï¼ˆn+1ï¼‰å…ƒæ•°ç»„ä¸­ã€‚ å…¶å®å°±æ˜¯äºŒè¿›åˆ¶ç›¸åŠ ï¼Œ ç”¨TypeScriptå®ç°ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344class BinaryAddition &#123; private A: Array&lt;number&gt; = [1, 1, 0, 0, 1, 0, 1, 1, 1, 0] private B: Array&lt;number&gt; = [1, 1, 1, 0, 1, 1, 0, 1, 1, 1] private C: Array&lt;number&gt; = [] private lastflow: number = 0 public constructor() &#123; this.binaryAdditionResult() this.printResult() &#125; private addMethod(a: number, b: number): number &#123; let r: number = a + b + this.lastflow if (r &gt; 1) &#123; this.lastflow = 1 return r % 2 &#125; else &#123; this.lastflow = 0 return r &#125; &#125; private binaryAdditionResult(): void &#123; let n: number = this.A.length for (let i = n - 1; i &gt;= 0; --i) &#123; this.C[i + 1] = this.addMethod(this.A[i], this.B[i]) &#125; this.C[0] = this.lastflow &#125; private printResult(): void &#123; console.log('A ' + this.A) console.log('B ' + this.B) console.log('C ' + this.C) &#125;&#125;let binaryAddition: BinaryAddition = new BinaryAddition()/* è¿ç®—ç»“æœï¼šA 1,1,0,0,1,0,1,1,1,0B 1,1,1,0,1,1,0,1,1,1C 1,1,0,1,1,1,0,0,1,0,1*/]]></content>
      <categories>
        <category>ç®—æ³•å¯¼è®º</category>
      </categories>
      <tags>
        <tag>ç®—æ³•å¯¼è®º</tag>
        <tag>ä¹ é¢˜ç­”æ¡ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç®—æ³•åœ¨è®¡ç®—ä¸­çš„ä½œç”¨]]></title>
    <url>%2F2017%2F08%2F30%2Fcl4s3gtis00akwn9ekd4uytmn%2F</url>
    <content type="text"><![CDATA[ç®—æ³•ç»™å‡ºç°å®ç”Ÿæ´»ä¸­éœ€è¦æ’åºçš„ä¸€ä¸ªä¾‹å­æˆ–è€…ç°å®ç”Ÿæ´»ä¸­éœ€è¦è®¡ç®—å‡¸å£³çš„ä¸€ä¸ªä¾‹å­ï¼Ÿå‡¸åŒ…é—®é¢˜æ¦‚å¿µå‡è®¾å¹³é¢ä¸Šæœ‰p0~p12å…±13ä¸ªç‚¹ï¼Œè¿‡æŸäº›ç‚¹ä½œä¸€ä¸ªå¤šè¾¹å½¢ï¼Œä½¿è¿™ä¸ªå¤šè¾¹å½¢èƒ½æŠŠæ‰€æœ‰ç‚¹éƒ½â€œåŒ…â€èµ·æ¥ã€‚å½“è¿™ä¸ªå¤šè¾¹å½¢æ˜¯å‡¸å¤šè¾¹å½¢çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å«å®ƒâ€œå‡¸åŒ…â€ã€‚ ç›´è§‚åœ°è®²ï¼Œå¯ä»¥æŠŠQä¸­æ¯ä¸ªç‚¹éƒ½æƒ³è±¡æˆæ˜¯éœ²åœ¨ä¸€å—æ¿å¤–çš„é“é’‰ï¼Œé‚£ä¹ˆå‡¸åŒ…å°±æ˜¯åŒ…å›´è¿™äº›é“é’‰çš„ä¸€æ¡æ‹‰è¿‘äº†çš„æ©¡çš®ç»³æ‰€æ„æˆçš„å½¢çŠ¶ã€‚ å®ä¾‹æ ¹æ®æ‰€æœ‰çš„æœæ ‘çš„ä½ç½®ï¼Œæ‰¾å‡ºä¸€ä¸ªnè¾¹å½¢çš„æœ€å°ç¯±ç¬†ï¼Œä½¿ å¾—æ‰€æœ‰æœæ ‘éƒ½åŒ…å›´åœ¨ç¯±ç¬†å†…éƒ¨ï¼Œæˆ–è€…åœ¨ç¯±ç¬†è¾¹æ²¿ä¸Šã€‚ä¹Ÿå°±æ˜¯ï¼Œä¸€ç»„å¹³é¢ä¸Šçš„ç‚¹ï¼Œæ±‚ä¸€ä¸ªåŒ…å«æ‰€æœ‰ç‚¹çš„æœ€å°çš„å‡¸å¤šè¾¹å½¢ã€‚ é™¤é€Ÿåº¦å¤–ï¼Œåœ¨çœŸå®ç¯å¢ƒä¸­è¿˜å¯èƒ½ä½¿ç”¨å“ªäº›å…¶ä»–æœ‰å…³æ•ˆç‡çš„å¤ºé‡ å ç”¨èµ„æºçš„å¤§å°ï¼ˆåœ¨è®¡ç®—æœºä¸­å¯ä»¥æˆä¸ºç©ºé—´ï¼‰ï¼Œé—®é¢˜è§£å†³çš„ç¨‹åº¦ é€‰æ‹©ä¸€ç§ä½ ä»¥å‰ä¸€ç›´çš„æ•°æ®ç»“æ„ï¼Œå¹¶ä¸”è®¨è®ºå…¶ä¼˜åŠ¿å’Œå±€é™ æ ˆ:åè¿›å…ˆå‡ºï¼Œéå¸¸é€‚åˆäºä¿å­˜ç¨‹åºè°ƒç”¨çš„è¿’å›åœ°å€ä¹‹ç±»çš„ç‰¹æ®Šåº”ç”¨ï¼ˆé€’å½’è°ƒç”¨ï¼‰ï¼Œç¼ºç‚¹æ˜¯æ— æ³•è¿›è¡Œéšæœºçš„è¯»å†™ æœ€çŸ­è·¯å¾„ä¸æ—…è¡Œå•†é—®é¢˜çš„ç›¸ä¼¼ä¹‹å¤„å’Œä¸åŒä¹‹å¤„ ç›¸åŒä¹‹å¤„ï¼šéƒ½æ˜¯è¦æ±‚å‡ºæœ€çŸ­æ€»è·ç¦» ä¸åŒä¹‹å¤„ï¼šç»ˆç‚¹çš„ä¸åŒï¼ŒåŒæ—¶æœ€çŸ­è·¯å¾„ä¸éœ€è¦éå†å…¨éƒ¨çš„ç‚¹ï¼Œè€Œé‚£ä¸ªæ—…è¡Œå•†é—®é¢˜å°±æ˜¯éœ€è¦éå†æ‰€æœ‰çš„ç‚¹çš„é—®é¢˜ å•†æ—…é—®é¢˜æ²¡æœ‰å·²çŸ¥çš„æœ‰æ•ˆç®—æ³•ï¼Œç„¶è€Œï¼Œæˆ‘ä»¬çŸ¥é“ä¸€äº›ç®—æ³•ï¼Œä»–ä»¬ç»™æœ±ä¸€ä¸ªç¦»æœ€å°å€¼ä¸å¤ªè¿œçš„æ€»è·ç¦»ã€‚35ç« ä¸­ä¼šè®¨è®ºè¿‘ä¼¼ç®—æ³•é—®é¢˜ã€‚ æä¾›ä¸€ä¸ªé—®é¢˜ï¼Œå…¶ä¸­åªæœ‰æœ€ä½³è§£æ‰è¡Œï¼Œç„¶åæä¾›ä¸€ä¸ªé—®é¢˜ï¼Œå…¶ä¸­è¿‘ä¼¼æœ€ä½³çš„ä¸€ä¸ªè§£ä¹Ÿè¶³å¤Ÿå¥½ æœ€çŸ­è·¯å¾„ã€å•†æ—…é—®é¢˜ ä½œä¸ºæŠ€æœ¯çš„ä¸€ç§ç®—æ³•ç»™å‡ºåœ¨åº”ç”¨å±‚éœ€è¦ç®—æ³•å†…åŒçš„åº”ç”¨çš„ä¸€ä¸ªä¾‹å­ï¼Œå¹¶ä¸”è®¨è®ºè®¾è®¡çš„ç®—æ³•çš„åŠŸèƒ½ åœ¨ä¸€æ¬¡æœ‰ 210 äººå‚åŠ çš„è€ƒè¯•ç»“æŸåï¼Œè€å¸ˆéœ€è¦å¯¹å¹³å‡åˆ†è¿•è¡Œè®¡ç®—ã€‚å‡è®¾è€å¸ˆä¸å€ŸåŠ©äºè®¡ç®—æœºç±»çš„è‡ªåŠ¨å·¥å…·ï¼Œè€Œæ˜¯é‡‡å–ä¼ ç»Ÿçš„æ‰‹å·¥è®¡ç®—å¹³å‡åˆ†ã€‚è®¡ç®—æ–¹æ³•ï¼šçœ‹è¿‡è€ƒåˆ†åï¼Œå¤§æ¦‚ä¼°è®¡ä¸€ä¸ªå€¼K ï¼Œç„¶åä¸ 210 ä¸ªåˆ†æ•°çš„æ•°æ®è¿•è¡Œæ¯”è¾ƒï¼Œæ‰¾å‡ºåˆ†æ•°ä¸kçš„è¯¯å·®ciï¼Œå¦‚æœå‘ç°æœ‰ci=-ciï¼Œåˆ™å»æ‰ï¼Œå‡è®¾æœ€åçš„è¯¯å·®å’Œæ˜¯biï¼Œé‚£ä¹ˆå¹³å‡åˆ†å°±å¯ä»¥å†™æˆK+bi/210.è®¾è®¡çš„ç®—æ³•çš„åŠŸèƒ½ï¼šè¯¥ç®—æ³•å¯¹äºè®¡ç®—æœºè¿”æ ·çš„è‡ªåŠ¨åŒ–è®¡ç®—å·¥å…·æ¥è¯´æ„ä¹‰ä¸å¤§ï¼Œä½†æ˜¯å¯¹äºæ‰‹å·¥è®¡ç®—æ¥è¯´ï¼Œå´æ˜¯å¾ˆå®ç”¨çš„ã€‚åœ¨è®¡ç®—çš„è¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆæŠŠå¤§æ•°è½¬æ¢æˆäº†å°æ•°ï¼Œç„¶ååœ¨æ¯”è¾ƒæ—¶åˆç›´æ¥æŠŠä¸€äº›æ•°æ®å‰”é™¤ï¼Œå‡å°‘äº†è¿ç®—é‡ã€‚æœ€ç»ˆå¤§å¤§åŠ å¿«äº†è®¡ç®—æ•ˆç‡ï¼Œå¹µä¸”æé«˜äº†è®¡ç®—å‡†ç¡®åº¦ã€‚ å‡è®¾æˆ‘ä»¬æ­£åœ¨æ¯”è¾ƒæ’å…¥æ’åºå’Œå½’å¹¶æ’åºåœ¨ç›¸åŒæœºå™¨ä¸Šé¢çš„å®ç°ï¼Œå¯¹äºè§„æ¨¡ä¸ºnçš„è¾“å…¥ï¼Œæ’å…¥æ’åºè¿è¡Œ8n^2æ­¥ï¼Œè€Œå½’å¹¶æ’åºè¿è¡Œ64nlgnæ­¥ã€‚é—®å¯¹äºå“ªäº›nå€¼ï¼Œæ’å…¥æ’åºä¼˜äºå½’å¹¶æ’åºï¼Ÿç­”ï¼š ä»¤ 8n^2 &lt; 64nlgn=&gt; åŒ–ç®€å¾—n &lt; 8lgn=&gt; 2^(n/8) &lt; 2^(lgn)=&gt; 2^(n/8) &lt; n=&gt; ä»¤t=n/8 , n=8t=&gt; 2^t &lt; 8t=&gt; åˆ¶è¡¨ï¼š 1 2 3 4 5 68t 8 16 24 32 40 482^t 2 4 8 16 32 64å½“t=0 8t=0 2^t=1å½“t=0.2, 8t=1.6 2^t=1.15å½“t=5.1ï¼Œ 8t=40.8 2^t=34.3å½“t=5.4, 8t=43.2 2^t=42.2å½“t=5.5, 8t=44 2^t=45.25æ‰€ä»¥ï¼Œå½“0.2 &lt; t &lt; 5.5æ—¶ï¼Œå³1 &lt; n &lt; 44æ—¶ï¼Œæ’å…¥æ’åºä¼˜äºå½’å¹¶ã€‚ nçš„æœ€å°å€¼ä¸ºä½•å€¼æ—¶ï¼Œè¿è¡Œæ—¶é—´ä¸º100n^2çš„ä¸€ä¸ªç®—æ³•åœ¨ç›¸åŒçš„æœºå™¨ä¸Šé¢å¿«äºè¿è¡Œæ—¶é—´ä¸º2^nçš„å¦å¤–ä¸€ä¸ªç®—æ³•ç­”ï¼šä»¤100n^2&lt;2^n =&gt; ç”±å›¾å¯å¾—å½“n&gt;14.325æ—¶ï¼Œæ»¡è¶³ä¸ç­‰å¼ï¼Œåˆnä¸ºæ­£æ•´æ•°ï¼Œæ‰€ä»¥nå–æœ€å°å€¼15ã€‚ æ€è€ƒé¢˜è¿è¡Œæ—¶é—´çš„æ¯”è¾ƒ ç­”ï¼šå…·ä½“çš„ç­”æ¡ˆæ•°æ®å°±ä¸åˆ—å‡ºæ¥äº†ï¼Œä½†å¯ä»¥è‚¯å®šçš„æ˜¯ï¼Œä»ä¸Šåˆ°ä¸‹ï¼Œç®—æ³•æ•ˆç‡æ˜¯é€æ¸é™ä½çš„ï¼Œæ„æ€æ˜¯è¯´ä¸€ä¸ªç®—æ³•è‹¥èƒ½åšåˆ°lgnçš„æ•ˆç‡æ˜¯æä½³çš„ï¼Œè€Œå¦‚æœåšåˆ°nï¼çš„è¯åˆ™æ˜¯æœ€ä¸å¯å–çš„äº†ã€‚ å‚è€ƒèµ„æ–™ï¼š ç®—æ³•å¯¼è®º1ï¼šç¬¬ä¸€ç« ç®—æ³•çš„ä½œç”¨ å¥•æ€ç¬¬ä¸€ç«  ç®—æ³•åœ¨è®¡ç®—æœºä¸­çš„åº”ç”¨ æŠ€æœ¯è€é¸Ÿ]]></content>
      <categories>
        <category>ç®—æ³•å¯¼è®º</category>
      </categories>
      <tags>
        <tag>ç®—æ³•å¯¼è®º</tag>
        <tag>ä¹ é¢˜ç­”æ¡ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Egret MVCé€šç”¨æ¡†æ¶HTTPè¯·æ±‚å®è·µï¼ˆGETè¯·æ±‚ï¼‰]]></title>
    <url>%2F2017%2F08%2F29%2Fcl4s3gtdp000own9etyvjjpkf%2F</url>
    <content type="text"><![CDATA[å‚è€ƒèµ„æ–™ï¼šURLLoaderç½‘ç»œé€šè®¯Egretæ¸¸æˆé€šç”¨å¼€å‘æ¡†æ¶â€“MVCç¯‡ å¼• åœ¨åŸæœ‰MVCçš„åŸºç¡€ä¸Šï¼Œ å¢åŠ äº†ä¸€å±‚Proxyç”¨äºè¿›è¡Œé€šä¿¡ã€‚ BaseModelï¼Œæ˜¯Modelçš„åŸºç±»ï¼Œè´Ÿè´£è¯¥Moduleçš„æ•°æ®å­˜å‚¨ï¼Œæ¯ä¸ªModuleåªå­˜åœ¨ä¸€ä¸ªModel BaseGuiViewã€BaseSpriteViewï¼Œæ˜¯Viewçš„åŸºç±»ï¼Œéƒ½å®ç°äº†IBaseViewæ¥å£ï¼Œè´Ÿè´£è¯¥Moduleçš„Viewå±‚æ˜¾ç¤ºåŠViewå±‚çš„åŸºç¡€é€»è¾‘ï¼Œä¸¤ä¸ªç±»çš„ä¸åŒåœ¨äºï¼ŒBaseGuiViewç»§æ‰¿è‡ªegret.gui.SkinnableContainerï¼Œç”¨äºä½¿ç”¨GUIçš„Viewï¼ŒBaseSpriteViewç»§æ‰¿è‡ªegret.Spriteï¼Œç”¨äºä¸ä½¿ç”¨GUIçš„Viewï¼Œæ¯ä¸ªModuleå¯ä»¥æœ‰å¤šä¸ªView BaseControllerï¼Œæ˜¯Controllerçš„åŸºç±»ï¼Œè´Ÿè´£Moduleå†…éƒ¨ã€Moduleä¸Moduleä¹‹é—´çš„äº‹ä»¶äº¤äº’ï¼Œæ¯ä¸ªModuleåªå­˜åœ¨ä¸€ä¸ªController BaseProxyï¼Œæ˜¯Proxyçš„åŸºç±»ï¼Œè´Ÿè´£è¯¥Moduleä¸æœåŠ¡å™¨çš„æ•°æ®é€šä¿¡äº¤äº’ï¼Œæ”¯æŒHttpå’ŒWebSocket å®ä¾‹è´¢å¯Œæ¦œå®ä¾‹æ–‡ä»¶ç»“æ„ å¦‚ä½•è¯·æ±‚æ•°æ®åœ¨Controlleræ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–æ¨¡å—å†…çš„Viewã€Proxyã€Modelï¼Œå¹¶ä¸”æ³¨å†Œæ¨¡å—å†…ã€æ¨¡å—å†…éƒ¨äº‹ä»¶ç›‘å¬ 1234public constructor() &#123; this.registerFunc(JackWealthConst.GAMERANKING_C2S, this.getGameRanking, this) this.registerFunc(JackWealthConst.GAMERANKING_S2C, this.getGameRankingSuccess, this)&#125; åœ¨getGameRanking()æ–¹æ³•ä¸­ï¼Œè°ƒç”¨Proxyçš„æ–¹æ³•ï¼Œç”¨ä»¥HTTPè¯·æ±‚ï¼Œæ­¤æ—¶éœ€è¦è·å–åˆ°GETè¯·æ±‚æ‰€éœ€çš„å‚æ•°ï¼Œè¿™é‡Œåªéœ€è¦è·å–gameID 1234567891011121314151617 /** * è¯·æ±‚è·å–è´¢å¯Œå€¼æ’è¡Œæ¦œå¤„ç† */ private getGameRanking(): void &#123; let userInfo:any = egret.localStorage.getItem(JackGameConst.Get_User_Information) let gameId:string = JSON.parse(userInfo).gameId this.jackWealthProxy.getGameRanking(gameId) &#125;//Proxy.tspublic getGameRanking(gameId: string): void &#123; let param: string = `/gameRanking?gameId=$&#123;gameId&#125;` this.getHttpMsg(HttpConst.JACK_GAME_RANKING, param)&#125; åœ¨Proxyä¸­ï¼Œéœ€è¦æ³¨å†Œä»æœåŠ¡å™¨è¿”å›çš„æ¶ˆæ¯ç›‘å¬ï¼Œå¹¶æœ‰ç›¸åº”çš„å¤„ç†å‡½æ•°ï¼Œç”¨ä»¥é€šçŸ¥Controlleræ•°æ®è¯·æ±‚æˆåŠŸ 12345678910111213141516171819class JackWealthProxy extends BaseProxy &#123; public constructor($controller: BaseController) &#123; super($controller); //æ³¨å†Œä»æœåŠ¡å™¨è¿”å›æ¶ˆæ¯çš„ç›‘å¬ this.receiveServerMsg(HttpConst.JACK_GAME_RANKING, this.getGameRankingSuccess, this); &#125; public getGameRanking(gameId: string): void &#123; let param: string = `/gameRanking?gameId=$&#123;gameId&#125;` this.getHttpMsg(HttpConst.JACK_GAME_RANKING, param) &#125; private getGameRankingSuccess(obj: any): void &#123; this.applyFunc(JackWealthConst.GAMERANKING_S2C, obj) &#125;&#125; æ•°æ®è¯·æ±‚æˆåŠŸåœ¨Controllerä¸­å·²ç»æ³¨å†Œäº†ç›‘å¬åˆ°æ•°æ®è¯·æ±‚æˆåŠŸçš„å¤„ç†å‡½æ•°ï¼Œåœ¨è¯¥å¤„ç†å‡½æ•°ä¸­å®Œæˆæ¨¡å—æ‰€éœ€çš„é€»è¾‘å¤„ç† 123456789/** * è¯·æ±‚è·å–è´¢å¯Œå€¼æ’è¡Œæ¦œæˆåŠŸ */private getGameRankingSuccess(gameRanking: any): void &#123; //ä¿å­˜æ•°æ® this.jackWealthModel.gameRanking = gameRanking //æœ¬æ¨¡å—UIçš„å¤„ç† this.addItemToWealth()&#125; æ‰©å±•æ¡†æ¶çš„HTTPè¯·æ±‚æ¡†æ¶åŸæœ‰çš„è¯·æ±‚æ–¹æ³•ä¸­ï¼Œåªå†™äº†POSTï¼ˆå¯èƒ½æœ‰è¯¯ï¼Ÿï¼‰ å‚è€ƒURLLoaderç½‘ç»œé€šè®¯ ä¿®æ”¹ /core/net/http/Http.tså¢åŠ æ‰€éœ€è¦çš„å±æ€§ å½“æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªç½‘ç»œè¿æ¥çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª URLLoader å¯¹è±¡ï¼Œè¯¥å¯¹è±¡è´Ÿè´£ç½‘ç»œçš„è¿æ¥çŠ¶æ€æ“ä½œï¼Œ åŒæ—¶è´Ÿè´£æ¥æ”¶ç½‘ç»œå›ä¼ çš„æ•°æ®ã€‚ç½‘ç»œé€šä¿¡æ—¶ï¼Œéœ€è¦çš„ç½‘ç»œé€šä¿¡æ•°æ®ç”± URLRequest å¯¹è±¡è´Ÿè´£ç®¡ç†ã€‚ 12345//GETè¯·æ±‚ç›¸å…³å±æ€§private _getRequest: egret.URLRequest //URLè¯·æ±‚å¯¹è±¡private _getCache: Array&lt;any&gt; //è¯·æ±‚ç¼“å­˜ï¼Œå…¶å®æ•°ç»„ï¼Œå®ç°æŒ‰é¡ºåºè¯·æ±‚private _isGetRequesting: boolean //æ˜¯å¦åœ¨è¯·æ±‚çš„æ ‡å¿—ç¬¦private _urlGetLoader: egret.URLLoader; // åˆå§‹åŒ–å±æ€§å’Œæ·»åŠ äº‹ä»¶ç›‘å¬ 1234567this._getRequest = new egret.URLRequest()this._getRequest.method = egret.URLRequestMethod.GETthis._getCache = []this._urlGetLoader = new egret.URLLoader()this._urlGetLoader.addEventListener(egret.IOErrorEvent.IO_ERROR, this.onGetError, this) æ ¸å¿ƒæ–¹æ³• 12345678910111213141516171819202122232425262728/** * å¢åŠ HTTP GETè¯·æ±‚æ•°æ®æ–¹æ³• */public getData(type: string, param: string): void &#123; this._getCache.push([type, param]) this.get()&#125;private get(): void &#123; if (this._isGetRequesting) &#123; return &#125; if (this._getCache.length == 0) &#123; return &#125; let arr: Array&lt;any&gt; = this._getCache.shift() let type: string = arr[0] let getparam: string = arr[1] this._type = type this._getRequest.url = this._serverUrl + getparam this._urlGetLoader.addEventListener(egret.Event.COMPLETE, this.onGetLoaderComplete, this) this._urlGetLoader.load(this._getRequest) this._isGetRequesting = true&#125; è¯·æ±‚æˆåŠŸä¹‹åéœ€è¦æ´¾å‘ç›¸åº”äº‹ä»¶ï¼Œéœ€è¦æ³¨æ„çš„è¿™ä¸ªæ—¶é—´çš„ç±»å‹ï¼Œå°±æ˜¯ä¹‹å‰åœ¨Proxyæ–¹æ³•ä¸­å‚æ•°çš„ this.getHttpMsg(HttpConst.JACK_GAME_RANKING, param) 123456789101112private onGetLoaderComplete(event: egret.Event): void &#123; this._urlGetLoader.removeEventListener(egret.Event.COMPLETE, this.onGetLoaderComplete, this) let msg: any = JSON.parse(this._urlGetLoader.data) if (msg) &#123; App.MessageCenter.dispatch(this._type, msg) &#125; else &#123; Log.trace("Httpé”™è¯¯") &#125; this.nextGet();&#125; æ´¾å‘äº‹ä»¶åï¼Œåœ¨ç›¸åº”æ³¨å†Œäº†äº‹ä»¶ç›‘å¬Controllerä¸­å°±èƒ½æ‹¿åˆ°è¯·æ±‚æˆåŠŸçš„æ•°æ®msgäº†ï¼Œç”¨ä»¥ä¿å­˜åˆ°Modelã€é€šçŸ¥viewè¿›è¡Œç›¸åº”çš„æ•°æ®æ¸²æŸ“ æ¸²æŸ“ç»“æœ]]></content>
      <categories>
        <category>Egret</category>
      </categories>
      <tags>
        <tag>HTTP</tag>
        <tag>Egret</tag>
        <tag>MVC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šå†™ç»™å¤§å®¶çœ‹çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ä¹¦ã€‹æ€»ç»“&&å®è·µï¼ˆ15ï¼‰]]></title>
    <url>%2F2017%2F08%2F26%2Fcl4s3gtgz006qwn9efnnnmjib%2F</url>
    <content type="text"><![CDATA[è®¾è®¡æ¨¡å¼ åˆ›å»ºä¸€ä¸ªè½¯ä»¶ç³»ç»Ÿæ—¶ï¼Œå®é™…ä¸Šæ˜¯å¯¹ä¸€ä¸ªçœŸå®ç³»ç»Ÿå»ºæ¨¡ã€‚ è®¾è®¡æ¨¡å¼çš„åŸºæœ¬æ¦‚å¿µä»¥æœ€ä½³å®è·µåŸåˆ™ä¸ºä¸­å¿ƒã€‚æ‰€è°“æœ€ä½³å®è·µï¼Œå½“åˆ›å»ºå¥½çš„ã€é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆæ—¶ï¼Œè¿™äº›è§£å†³æ–¹æ¡ˆä¼šä»¥æŸç§æ–¹å¼è®°å½•ä¸‹æ¥ï¼Œä½¿å…¶ä»–äººèƒ½å¤Ÿä»å…ˆå‰å·²å–å¾—çš„æˆåŠŸè·ç›Šâ€”â€”å½“ç„¶ä¹ŸåŒ…æ‹¬ä»ä»¥å¾€çš„å¤±è´¥å­¦ä¹ ã€‚ ä¸ºä»€ä¹ˆç ”ç©¶è®¾è®¡æ¨¡å¼ æ¯ä¸ªæ¨¡å¼éƒ½æè¿°äº†åœ¨æˆ‘ä»¬ç¯å¢ƒä¸­åå¤å‡ºç°çš„ä¸€ä¸ªé—®é¢˜ï¼Œç„¶åä»‹ç»è¿™ä¸ªé—®é¢˜è§£å†³æ–¹æ¡ˆçš„æ ¸å¿ƒï¼Œä»¥ä¾¿å¤šæ¬¡ä½¿ç”¨è¿™ä¸ªè§£å†³æ–¹æ¡ˆï¼Œè€Œä¸å¿…åå¤åœ°é‡å¤å·¥ä½œã€‚ æ¨¡å¼çš„å››å¤§è¦ç´  æ¨¡å¼åæ˜¯æè¿°ä¸€ä¸ªè®¾è®¡é—®é¢˜ é—®é¢˜æè¿°äº†ä½•æ—¶åº”ç”¨è¿™ç§æ¨¡å¼ è§£å†³æ–¹æ¡ˆæè¿°äº†æ„æˆè®¾è®¡çš„å…ƒç´ ï¼Œä»¥åŠå…ƒç´ ä¹‹é—´çš„å…³ç³»ã€å…ƒç´ çš„èŒè´£å’Œåä½œ ç»“æœæè¿°åº”ç”¨è¿™ç§æ¨¡å¼çš„ç»“æœå’Œå¼€é”€ æ¨¡å‹/è§†å›¾/æ§åˆ¶å™¨ï¼ˆMVCï¼‰ ã€Šè®¾è®¡æ¨¡å¼ã€‹å°†MVCç»„ä»¶å®šä¹‰å¦‚ä¸‹ï¼šæ¨¡å‹æ˜¯åº”ç”¨å¯¹è±¡ï¼Œè§†å›¾æ˜¯å±å¹•è¡¨ç¤ºï¼Œè€Œæ§åˆ¶å™¨å®šä¹‰äº†ç”¨æˆ·ç•Œé¢ä¸ç”¨æˆ·è¾“å…¥ä¹‹é—´çš„äº¤äº’æ–¹æ³•ã€‚ è®¾è®¡æ¨¡å¼çš„ä¸åŒç±»å‹ åˆ›å»ºå‹æ¨¡å¼ï¼šè¿™äº›æ¨¡å¼ä¸ºä½ åˆ›å»ºå¯¹è±¡ï¼Œè€Œä¸æ˜¯ç”±ä½ ç›´æ¥å®ä¾‹åŒ–å¯¹è±¡ã€‚è¿™æ ·åœ¨ç¡®å®šç»™å®šæƒ…å†µä¸‹éœ€è¦åˆ›å»ºå“ªäº›å¯¹è±¡æ—¶ï¼Œç¨‹åºä¼šæœ‰æ›´å¤šçš„çµæ´»æ€§ ç»“æ„æ€§æ¨¡å¼ï¼šå¯ä»¥å¸®åŠ©ä½ å°†å¤šç»„å¯¹è±¡ç»„åˆä¸ºæ›´å¤šçš„ç»“æ„ï¼Œå¦‚æœå¤æ‚ç”¨æˆ·ç•Œé¢æˆ–å®¡è®¡æ•°æ® è¡Œä¸ºå‹æ¨¡å¼ï¼šå¸®åŠ©ä½ å®šä¹‰ç³»ç»Ÿä¸­å¯¹è±¡ä¹‹é—´çš„é€šä¿¡ï¼Œä»¥åŠå¤æ‚ç¨‹åºä¸­å¦‚ä½•æ§åˆ¶æ•°æ®æµ åˆ›å»ºå‹æ¨¡å¼ æŠ½è±¡å·¥å‚æ¨¡å¼ ç”Ÿæˆå™¨æ¨¡å¼ å·¥å‚æ–¹æ³•æ¨¡å¼ åŸå‹æ¨¡å¼ å•ä¾‹æ¨¡å¼ ç»“æ„å‹æ¨¡å¼ é€‚é…å™¨æ¨¡å¼ æ¡¥æ¥æ¨¡å¼ ç»„åˆæ¨¡å¼ è£…é¥°å™¨æ¨¡å¼ å¤–è§‚æ¨¡å¼ äº«å…ƒæ¨¡å¼ ä»£ç†æ¨¡å¼ è¡Œä¸ºå‹æ¨¡å¼ èŒè´£é“¾æ¨¡å¼ å‘½ä»¤æ¨¡å¼ è§£é‡Šå™¨æ¨¡å¼ è¿­ä»£å™¨æ¨¡å¼ ä¸­ä»‹è€…æ¨¡å¼ å¤‡å¿˜å½•æ¨¡å¼ è§‚å¯Ÿè€…æ¨¡å¼ ç­–ç•¥æ¨¡å¼ æ¨¡æ¿æ–¹æ³•æ¨¡å¼ è®¿é—®è€…æ¨¡å¼ å°ç»“ç®€å•ä»‹ç»è®¾è®¡æ¨¡å¼ï¼ŒåŠã€Šè®¾è®¡æ¨¡å¼ã€‹ä¸­åˆ—ä¸¾çš„æ¨¡å¼ç±»å‹ã€‚]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
        <tag>é¢å¯¹å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šå†™ç»™å¤§å®¶çœ‹çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ä¹¦ã€‹æ€»ç»“&&å®è·µï¼ˆ9ï¼‰]]></title>
    <url>%2F2017%2F08%2F26%2Fcl4s3gthb007gwn9eckh99dmo%2F</url>
    <content type="text"><![CDATA[æ„å»ºå¯¹è±¡å‰é¢ä¸»è¦çš„å†…å®¹æ˜¯ç»§æ‰¿ã€æ¥å£ã€æŠ½è±¡ç±»å’Œç»„åˆå¦‚æœç»“åˆä½¿ç”¨ã€‚æœ¬ç« ä¸»è¦å…³äºæ•´ä½“è®¾è®¡ä¸­å¯¹è±¡ä¹‹é—´å¦‚ä½•å…³è”çš„é—®é¢˜ã€‚ ç»§æ‰¿å’Œç»„åˆåœ¨æ„å»ºå¯¹è±¡ä¸Šçš„æ–¹å¼æœ‰æ˜¾è‘—åŒºåˆ«ï¼Œä½¿ç”¨ç»§æ‰¿æ˜¯ï¼Œç»“æœæ˜¯å•ä¸ªç±»ï¼Œå…¶ä¸­è¦†ç›–ç»§æ‰¿å±‚æ¬¡ç»“æ„ä¸­çš„æ‰€æœ‰è¡Œä¸ºå’Œå±æ€§ã€‚è€Œä½¿ç”¨ç»„åˆæ—¶ï¼Œä¼šä½¿ç”¨ä¸€ä¸ªæˆ–è€…å¤šä¸ªç±»æ¥æ„å»ºå¦ä¸€ä¸ªç±»ã€‚ ä½¿ç”¨ç»„åˆä½¿ç”¨ç»„åˆçš„åŸå› ï¼Œå¯ä»¥é€šè¿‡ç»“åˆä¸å¤ªå¤æ‚çš„éƒ¨åˆ†æ¥æ„å»ºç³»ç»Ÿã€‚ åˆ†é˜¶æ®µæ„å»º è¦æ„å»ºé«˜è´¨é‡çš„è½¯ä»¶ï¼Œå¿…é¡»éµå®ˆçš„ä¸€æ¡æœ€é«˜åŸåˆ™æ‰èƒ½æˆåŠŸï¼šå°½å¯èƒ½æˆåŠŸã€‚è¦è®©è½¯ä»¶ç³»ç»Ÿæ­£å¸¸åœ°å·¥ä½œè€Œä¸”æ˜“äºç»´æŠ¤ï¼Œå®ƒä»¬å¿…é¡»åˆ†è§£ä¸ºè¾ƒå°ã€æ›´å¯ç®¡ç†çš„éƒ¨åˆ†ã€‚ è¯ºè´å°”å¾—ä¸»Herbert Simonå¯¹ç¨³å®šç³»ç»Ÿçš„è§‚ç‚¹ï¼š â€œç¨³å®šçš„å¤æ‚ç³»ç»Ÿé€šå¸¸é‡‡ç”¨ä¸€ç§å±‚æ¬¡ç»“æ„çš„å½¢å¼ï¼Œå…¶ä¸­å„ä¸ªç³»ç»Ÿéƒ½æ˜¯ç”±æ›´ç®€å•çš„å­ç³»ç»Ÿæ„æˆï¼Œè€Œå„ä¸ªå­ç³»ç»Ÿåˆ™ç”±æ›´è´±çš„ä¸‹ä¸€çº§å­ç³»ç»Ÿæ„æˆâ€ â€œç¨³å®šçš„å¤æ‚ç³»ç»Ÿå‡ ä¹éƒ½æ˜¯å¯ä»¥åˆ†è§£çš„â€ â€œç¨³å®šçš„å¤æ‚ç³»ç»Ÿå‡ ä¹æ€»æ˜¯ç”±å‡ ä¸ªä¸åŒç±»å‹çš„å­ç³»ç»Ÿç»„æˆï¼Œå¹¶ä»¥ä¸åŒçš„ç»“åˆæ–¹å¼ç»„ç»‡â€ â€œèƒ½æ­£å¸¸å·¥ä½œçš„ç¨³å®šç³»ç»Ÿå‡ ä¹æ€»æ˜¯ç”±èƒ½æ­£å¸¸å·¥ä½œçš„ç®€å•ç³»ç»Ÿå‘å±•è€Œæ¥â€ ä¸åŒç±»å‹çš„ç»„åˆä¸€èˆ¬æ¥è¯´ï¼Œç»„åˆæœ‰ä¸¤ç§ç±»å‹ï¼šå…³è”å’Œèšé›† èšé›†èšé›†æ˜¯æŒ‡ä¸€ä¸ªå¤æ‚å¯¹è±¡ç”±å…¶ä»–å¯¹è±¡ç»„æˆã€‚ å…³è”å½“ä¸€ä¸ªå¯¹è±¡å¸Œæœ›å¦ä¸€ä¸ªå¯¹è±¡ä¸ºå®ƒå®ŒæˆæŸä¸ªæœåŠ¡æ—¶åˆ™ä½¿ç”¨å…³è”ã€‚ ç»“åˆä½¿ç”¨å…³è”å’Œèšé›† ä¸ä»¥å¾€ä¸€æ ·ï¼Œåšè®¾è®¡å†³ç­–æ—¶å¹¶æ²¡æœ‰ä¸€ç§ç»å¯¹æ­£ç¡®çš„ç­”æ¡ˆã€‚è®¾è®¡ä¸æ˜¯ç²¾ç¡®çš„ç§‘å­¦ï¼Œå°½ç®¡æˆ‘ä»¬å¯ä»¥éµå®ˆä¸€äº›ä¸€èˆ¬è§„åˆ™ï¼Œä½†æ˜¯è¿™äº›è§„åˆ™å¹¶ä¸æ˜¯ç¡¬æ€§è§„å®šã€‚ é¿å…ä¾èµ–æ€§å°ç»“èšé›†å’Œå…³è”ã€‚ç»§æ‰¿è¡¨ç¤ºåœ¨ç°æœ‰å¯¹è±¡åŸºç¡€ä¸Šåˆ›å»ºæ–°å¯¹è±¡ï¼Œè€Œç»„åˆè¡¨ç¤ºä¸åŒå¯¹è±¡ä¹‹é—´çš„äº¤äº’ã€‚]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
        <tag>é¢å¯¹å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šå†™ç»™å¤§å®¶çœ‹çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ä¹¦ã€‹æ€»ç»“&&å®è·µï¼ˆ8ï¼‰]]></title>
    <url>%2F2017%2F08%2F26%2Fcl4s3gth80078wn9ery4l44bm%2F</url>
    <content type="text"><![CDATA[æ¡†æ¶ä¸é‡ç”¨ï¼š ä½¿ç”¨æ¥å£å’ŒæŠ½è±¡ç±»å®ç°è®¾è®¡æœ¬ç« è®¨è®ºä»£ç é‡ç”¨ã€æ¡†æ¶ã€å¥‘çº¦ã€æ¥å£å’ŒæŠ½è±¡ç±»ç­‰ä¸»é¢˜ ä»£ç ï¼šé‡ç”¨è¿˜æ˜¯ä¸é‡ç”¨OOæ–¹æ³•æä¾›äº†ä¸€äº›æœºåˆ¶ï¼Œæœ‰åˆ©äºå¯é‡ç”¨diamanteçš„å¼€å‘ã€‚åˆ›å»ºå¯é‡ç”¨ä»£ç çš„ä¸€ç§æ–¹æ³•å°±æ˜¯åˆ›å»ºæ¡†æ¶ã€‚æœ¬ç« å°†é‡ç‚¹è®¨è®ºå¦‚ä½•ä½¿ç”¨æ¥å£å’ŒæŠ½è±¡ç±»æ¥åˆ›å»ºæ¡†æ¶ï¼Œå¹¶ä¿ƒè¿›é‡ç”¨diamanteå¼€å‘ã€‚ ä»€ä¹ˆæ˜¯æ¡†æ¶æ¡†æ¶ï¼ˆFrameworkï¼‰æ˜¯æ•´ä¸ªæˆ–éƒ¨åˆ†ç³»ç»Ÿçš„å¯é‡ç”¨è®¾è®¡ï¼Œè¡¨ç°ä¸ºä¸€ç»„æŠ½è±¡æ„ä»¶åŠæ„ä»¶å®ä¾‹é—´äº¤äº’çš„æ–¹æ³•; å¦ä¸€ç§å®šä¹‰è®¤ä¸ºï¼Œæ¡†æ¶æ˜¯å¯è¢«åº”ç”¨å¼€å‘è€…å®šåˆ¶çš„åº”ç”¨éª¨æ¶ã€‚ ä»€ä¹ˆæ˜¯å¥‘çº¦å¥‘çº¦æ˜¯è¦æ±‚å¼€å‘äººå‘˜éµå®ˆåº”ç”¨ç¼–ç¨‹æ¥å£è§„èŒƒæ‰€éœ€çš„æœºåˆ¶ã€‚ æŠ½è±¡ç±»å®ç°å¥‘çº¦çš„ä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡æŠ½è±¡ç±»æ¥å®ç°ï¼›ã€‚æŠ½è±¡ç±»ï¼ˆabstract classï¼‰åŒ…å«ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ²¡æœ‰æä¾›ä»»ä½•å…·ä½“å®ç°çš„æ–¹æ³•ã€‚ é‡‡ç”¨è¿™ç§åªæœ‰å£°æ˜è€Œæ²¡æœ‰å®ç°çš„æ–¹æ³•ï¼Œå¯ä»¥å®ç°å¤šæ€ã€‚åœ¨å®ä¾‹åŒ–çš„å¯¹è±¡ä¸­é‡å†™çˆ¶ç±»çš„æ–¹æ³•ã€‚ æ¥å£æ¥å£å¹¶æ²¡æœ‰è¢«å£°æ˜ä¸ºä¸€ä¸ªç±»ï¼Œæ¥å£åŒ…å«äº†æŠ½è±¡æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•ä¸­æ²¡æœ‰å®ç°ã€‚ä¹Ÿå¯ä»¥è¯´ï¼Œæ¥å£ä¸æä¾›ä»»ä½•å®ç°ã€‚å› æ­¤ï¼Œå®ç°äº†æ¥å£çš„ä»»ä½•ç±»éƒ½å¿…é¡»æä¾›æ‰€æœ‰çš„æ–¹æ³•çš„å®ç°ã€‚ é›†æˆé—®é¢˜ï¼šæŠ½è±¡ç±»å¯ä»¥åŒæ—¶æä¾›æŠ½è±¡æ–¹æ³•å’Œå…·ä½“æ–¹æ³•ï¼Œè€Œæ¥å£ä¹‹é¥å‘¢æä¾›æŠ½è±¡æ–¹æ³•ã€‚ä¸ºä»€ä¹ˆä¼šå­˜åœ¨è¿™ä¸€ä¸ªåŒºåˆ«ï¼Ÿ ç»§æ‰¿æ—¶å»ºç«‹åœ¨å¯†åˆ‡çš„è”ç³»çš„ç»§æ‰¿ä¸Šï¼Œè€Œæ¥å£å¹¶æ²¡æœ‰è¿™ç§è”ç³»ã€‚æŠ½è±¡ç±»è¡¨ç¤ºæŸç§å®ç°ï¼Œä½†æ˜¯æ¥å£å¹¶ä¸ä¼šæä¾›ä»»ä½•ç±»å‹çš„å®ç°ï¼Œåªæä¾›è¡Œä¸ºï¼Œè¯´æ˜æ˜¯ä¸€ä¸ªè¯´æ˜æ–¹æ³•ã€‚æ‰€ä»¥æ¥å£å¯ä»¥ç‹¬ç«‹åœ¨æŠ½è±¡ç±»ä¹‹å¤–è€Œä¸å—çš„ç±»çš„åˆ¶çº¦ï¼Œåœ¨éœ€è¦çš„æ—¶å€™éƒ½å¯ä»¥å®ç°æ¥å£ã€‚ ç¼–è¯‘å™¨çš„è¯æ˜å»ºç«‹å¥‘çº¦å®šå®šä¹‰å¥‘çº¦çš„ç®€å•è§„åˆ™æ˜¯æä¾›ä¸€ä¸ªæœªå®ç°çš„æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡æŠ½è±¡ç±»æä¾›ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ¥å£æä¾›ã€‚å› æ­¤ï¼Œå½“è®¾è®¡ä¸€ä¸ªå­ç±»æ¥å®ç°æŸä¸ªå¥‘çº¦æ—¶ï¼Œå®ƒå¿…é¡»ä¸ºçˆ¶ç±»æˆ–æ¥å£ä¸­æœªå®ç°çš„æ–¹æ³•æä¾›å®ç°ã€‚ å°ç»“è®¾è®¡äº†å’Œå¯¹è±¡æ¨¡å‹æ—¶ï¼Œæœ€ä¸ºé‡è¦çš„æ˜¯ç†è§£å¯¹è±¡ç›´æ¥å¦‚ä½•å…³è”ã€‚]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
        <tag>é¢å¯¹å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šå†™ç»™å¤§å®¶çœ‹çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ä¹¦ã€‹æ€»ç»“&&å®è·µï¼ˆ7ï¼‰]]></title>
    <url>%2F2017%2F08%2F23%2Fcl4s3gthe007kwn9extgnvzjg%2F</url>
    <content type="text"><![CDATA[æŒæ¡ç»§æ‰¿å’Œç»„åˆç»§æ‰¿å’Œç»„åˆéƒ½æ˜¯å®ç°é‡ç”¨çš„æœºåˆ¶ã€‚ ç»§æ‰¿ï¼ˆinheritanceï¼‰æ˜¯æŒ‡ä»å…¶ä»–ç±»ç»§æ‰¿å±æ€§å’Œè¡Œä¸ºã€‚ ç»„åˆï¼ˆsubclassï¼‰æ˜¯æŒ‡ä½¿ç”¨å…¶ä»–å¯¹è±¡æ¥æ„å»ºå¯¹è±¡ã€‚ é‡ç”¨å¯¹è±¡æœ€æ ¹æœ¬çš„æ˜¯ï¼Œç»§æ‰¿å’Œç»„åˆéƒ½æ˜¯æ„å»ºOOç³»ç»Ÿçš„é‡è¦æŠ€æœ¯ã€‚åªæ˜¯è®¾è®¡äººå‘˜å’Œå¼€å‘äººå‘˜éœ€è¦èŠ±æ—¶é—´æ¥äº†è§£è¿™ä¸¤ç§æŠ€æœ¯çš„ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼Œå¹¶åœ¨åˆé€‚çš„æƒ…å†µä¸‹æ­£ç¡®åŠ ä»¥ä½¿ç”¨ã€‚ ç»§æ‰¿ä¸€èˆ¬åŒ–ä¸ç‰¹æ®ŠåŒ–å…¶æ€æƒ³æ˜¯ï¼Œé€æ­¥å‘ä¸‹å»ºç«‹ç»§æ‰¿æ ‘æ—¶å¯¹è±¡ä¼šè¶Šæ¥è¶Šå…·ä½“ã€‚ è®¾è®¡å†³ç­–è®¾è®¡æ—¶è¦ä¿è¯æ›´ä½çš„å¤æ‚æ€§è¿˜æ˜¯æä¾›æ›´å¤šçš„åŠŸèƒ½ï¼Ÿ ç»„åˆå¦‚æœæŸä¸ªå¯¹è±¡ç”±å…¶ä»–å¯¹è±¡ç»„æˆï¼Œè€Œè¿™äº›å¯¹è±¡ä½œä¸ºå­—æ®µåŒ…å«åœ¨å†…ï¼Œåœ¨è¿™ä¸ªæ–°å¯¹è±¡å°±ç§°ä¸ºå¤åˆå¯¹è±¡ï¼ˆcompound objectï¼‰ã€èšåˆå¯¹è±¡ï¼ˆaggregate objectï¼‰æˆ–ç»„åˆå¯¹è±¡ï¼ˆcomposite objectï¼‰ ä¸€ä¸ªå¾ˆç»å…¸çš„æœºè½¦çš„ä¾‹å­ï¼š ä¸ºä»€ä¹ˆå°è£…åœ¨OOä¸­å¦‚æ­¤é‡è¦ç»§æ‰¿å¦‚ä½•å‰Šå¼±å°è£… é—®é¢˜åœ¨äºï¼Œå¦‚æœä»ä¸€ä¸ªçˆ¶ç±»ç»§æ‰¿ä¸€ä¸ªå®ç°ï¼Œç„¶åä¿®æ”¹è¿™ä¸ªå®ç°ï¼Œé‚£ä¹ˆçˆ¶ç±»çš„ä¿®æ”¹ä¼šå¯¹æ•´ä¸ªç±»å±‚æ¬¡ç»“æ„äº§ç”Ÿæ¶Ÿæ¼ªä½œç”¨ã€‚è¿™ç§æ¶Ÿæ¼ªæ•ˆåº”å¯èƒ½ä¼šå½±å“æ‰€æœ‰çš„å­ç±»ã€‚ ä¸¥æ ¼è®¾è®¡å¥½ç»§æ‰¿å…³ç³»æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•ã€‚ å¤šæ€çš„ä¸€ä¸ªè¯¦ç»†ä¾‹å­ å¤šæ€çš„å­—é¢å«ä¹‰æ˜¯å¤šç§å½¢çŠ¶ï¼Œå°†ä¸€æ¡æ¶ˆæ¯å‘é€ç»™ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œè¿™ä¸ªå¯¹è±¡å¿…é¡»å®šä¹‰ç›¸åº”çš„æ–¹æ³•å¯¹è¿™ä¸ªæ¶ˆæ¯åšå‡ºå“åº”ã€‚ å¯¹è±¡èŒè´£å°ç»“ ç»„åˆåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ¯”ç»§æ‰¿æ›´é€‚ç”¨ï¼Œä¸è¿‡è¿™ä¸å¹¶ä¸æ„å‘³ç€ç»§æ‰¿ä¸€æ— æ˜¯å¤„ï¼Œç»„åˆå’Œç»§æ‰¿éƒ½å¯ä»¥ä½¿ç”¨ï¼Œä½†åªåº”è¯¥åœ¨å…¶é€‚å½“çš„ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨ã€‚]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
        <tag>é¢å¯¹å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šå†™ç»™å¤§å®¶çœ‹çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ä¹¦ã€‹æ€»ç»“&&å®è·µï¼ˆ6ï¼‰]]></title>
    <url>%2F2017%2F08%2F23%2Fcl4s3gth9007cwn9e3e93d6zp%2F</url>
    <content type="text"><![CDATA[åˆ©ç”¨å¯¹è±¡å®ç°è®¾è®¡æœ¬ç« çš„é‡ç‚¹æ˜¯ä»‹ç»å¦‚ä½•è®¾è®¡å¥½çš„ç³»ç»Ÿã€‚ è®¾è®¡æŒ‡å¯¼åŸåˆ™ä¸€èˆ¬çš„ä¸€ä¸ªå¯é çš„OOè®¾è®¡è¿‡ç¨‹åŒ…æ‹¬ä»¥ä¸‹æ­¥éª¤ï¼š å®Œæˆé€‚å½“çš„åˆ†æ å»ºç«‹ä¸€ä»½æè¿°ç³»ç»Ÿçš„å·¥ä½œé™ˆè¿° ä»è¿™ä¸ªå·¥ä½œé™ˆè¿°ä¸­æ”¶é›†éœ€æ±‚ å¼€å‘ä¸€ä¸ªç”¨æˆ·ç•Œé¢åŸå‹ æ˜ç¡®ç±» ç¡®å®šå„ä¸ªç±»çš„èŒè´£ ç¡®å®šå„ä¸ªç±»å¦‚ä½•äº’ç›¸äº¤äº’ åˆ›å»ºä¸€ä¸ªé«˜å±‚æ¨¡å‹æ¥æè¿°è¦æ„å»ºçš„ç³»ç»Ÿ æœ¬ç« ä¸»è¦å…³æ³¨æœ€åä¸€ç‚¹ï¼Œç³»ç»Ÿæˆ–è€…å¯¹è±¡æ¨¡å‹ç”±ç±»å›¾å’Œç±»äº¤äº’æ„æˆã€‚è¿™ä¸ªæ¨¡å‹åº”å½“çœŸå®åœ°è¡¨ç¤ºç³»ç»Ÿï¼Œè€Œä¸”è¦æ˜“äºç†è§£å’Œä¿®æ”¹ã€‚ å®Œæˆé€‚å½“çš„åˆ†æè®¾è®¡é˜¶æ®µçš„é‡ç‚¹åˆ™æ˜¯è¦è®©æ¯ä¸ªäººéƒ½äº†è§£ç³»ç»Ÿï¼ˆåŒ…æ‹¬è€ç³»ç»Ÿå’Œæ–°çš„ç³»ç»Ÿï¼‰ï¼Œå¹¶ç¡®å®šç³»ç»Ÿéœ€æ±‚ã€‚ å»ºç«‹å·¥ä½œé™ˆè¿°å·¥ä½œé™ˆè¿°ï¼ˆstatement of workï¼ŒSOWï¼‰æ˜¯ä¸€ä¸ªæè¿°ç³»ç»Ÿçš„æ–‡æ¡£ã€‚ æ”¶é›†éœ€æ±‚éœ€æ±‚æ–‡æ¡£ï¼ˆrequirements documentï¼‰æè¿°äº†ç”¨æˆ·ç³»ç»Ÿç³»ç»Ÿåšä»€ä¹ˆã€‚éœ€æ±‚æ˜¯å¿…é¡»å®ç°çš„ç³»ç»Ÿçš„æœ€ç»ˆæè¿°ï¼Œè½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­çš„æ‰€æœ‰æ–‡æ¡£éƒ½è¦ä»¥è¿™äº›éœ€æ±‚ä¸ºåŸºç¡€ã€‚ å¼€å‘ç”¨æˆ·ç•Œé¢åŸå‹æ˜ç¡®ç±»é‡ç‚¹æ ‡è®°æ‰€æœ‰åè¯ã€‚ ç¡®å®šå„ä¸ªç±»çš„èŒè´£ç¡®å®šå„ä¸ªç±»å¦‚ä½•äº’ç›¸äº¤äº’åˆ›å»ºä¸€ä¸ªé«˜å±‚æ¨¡å‹æ¥æè¿°è¦æ„å»ºçš„ç³»ç»Ÿæ—¢ç„¶å·²ç»ç¡®å®šäº†æ‰€æœ‰ç±»ï¼Œè€Œä¸”åˆ—å‡ºäº†ç±»èŒè´£å¹¶æ˜ç¡®äº†ç±»å¦‚ä½•åä½œï¼Œä¸‹é¢å°±å¯ä»¥æ„å»ºä¸€ä¸ªç±»æ¨¡å‹æ¥æ ‡è¯†å®Œæˆç³»ç»Ÿã€‚ å°†ä½¿ç”¨UMLå¯¹ç³»ç»Ÿå»ºæ¨¡ã€‚ æ¡ˆä¾‹ç ”ç©¶ï¼š blackjack]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
        <tag>é¢å¯¹å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šå†™ç»™å¤§å®¶çœ‹çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ä¹¦ã€‹æ€»ç»“&&å®è·µï¼ˆ5ï¼‰]]></title>
    <url>%2F2017%2F08%2F23%2Fcl4s3gth60075wn9ej5xkwqpt%2F</url>
    <content type="text"><![CDATA[ç±»è®¾è®¡æŒ‡å¯¼åŸåˆ™æœ¬ç« ä¸ºå¦‚ä½•è®¾è®¡å¥å£®çš„ç±»æä¾›ä¸€äº›å»ºè®®ã€‚ çœŸå®ä¸–ç•Œç³»ç»Ÿå»ºæ¨¡é¢å‘å¯¹è±¡ï¼ˆOOï¼‰ç¨‹åºè®¾è®¡çš„ä¸»è¦ç›®æ ‡ä¹‹ä¸€å°±æ˜¯ä»¥ç±»ä¼¼äºäººä»¬çœŸæ­£çš„æ€ç»´æ–¹å¼å¯¹çœŸå®ä¸–ç•Œçš„ç³»ç»Ÿå»ºæ¨¡ã€‚è®¾è®¡ç±»å°±æ˜¯åˆ›å»ºè¿™äº›æ¨¡å‹çš„é¢å‘å¯¹è±¡æ–¹å¼ã€‚ ç¬¬ä¸€æ¬¡è½¬å‘OOå¼€å‘æ—¶ï¼Œè®¸å¤šäººå€¾å‘äºé‡‡ç”¨ä¸€ç§ç»“æ„åŒ–çš„æ–¹å¼æ€è€ƒã€‚ç”±æ­¤å¯¼è‡´ä¸»è¦çš„é”™è¯¯ä¹‹ä¸€å°±æ˜¯åˆ›å»ºçš„ç±»åªåŒ…å«è¡Œä¸ºè€Œæ²¡æœ‰æ•°æ®ã€‚å®é™…ä¸Šï¼Œä»–ä»¬åˆ›å»ºçš„åªæ˜¯ç»“æ„åŒ–æ¨¡å‹çš„ä¸€ç»„å‡½æ•°æˆ–å­ä¾‹ç¨‹ã€‚ æ˜ç¡®å…¬å…±æ¥å£è®¾è®¡ç±»æ—¶ï¼Œæœ€é‡è¦çš„é—®é¢˜å¯èƒ½å°±æ˜¯ä¿è¯å…¬å…±æ¥å£çš„æœ€å°ã€‚æ„å»ºç±»çš„æ ¹æœ¬ç›®çš„å°±æ˜¯æä¾›ä¸€äº›æœ‰ç”¨è€Œä¸”ç®€æ´çš„åŠŸèƒ½ã€‚ æœ€å°æ¥å£æä¾›æœ€å°æ¥å£å¯ä»¥ä½¿ç±»å°½å¯èƒ½ç®€æ´ã€‚ æ‰©å±•æ¥å£å¯¹äºä¸€ä¸ªç‰¹å®šåº”ç”¨ï¼ŒåŠæ—¶ä¸€ä¸ªç±»çš„å…¬å…±æ¥å£è¿˜ä¸å¤Ÿï¼Œä½¿ç”¨å¯¹è±¡æŠ€æœ¯ä¹Ÿèƒ½å¾ˆå®¹æ˜“çš„åˆ©ç”¨ç»§æ‰¿æ‰©å±•å¹¶è°ƒæ•´è¿™ä¸ªæ¥å£ã€‚ç®€å•æ¥è®²ï¼Œå¦‚ä½•è®¾è®¡æ—¶è€ƒè™‘åˆ°ç»§æ‰¿ï¼Œæ–°ç±»å¯ä»¥ç»§æ‰¿ä¸€ä¸ªåŸæœ‰çš„ç±»ï¼Œä»è€Œåˆ›å»ºä¸€ä¸ªæœ‰æ‰©å±•æ¥å£çš„æ–°ç±»ã€‚ éšè—å®ç°è®¾è®¡å¥å£®çš„æ„é€ å‡½æ•°ï¼ˆå’Œææ„å‡½æ•°ï¼‰é¦–å…ˆï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„ï¼Œæ„é€ å‡½æ•°åº”å½“å°†å¯¹è±¡ç½®äºä¸€ç§å®‰å…¨çš„åˆå§‹çŠ¶æ€ã€‚è¿™åŒ…æ‹¬å±æ€§åˆå§‹åŒ–å’Œå†…å­˜ç®¡ç†ç­‰é—®é¢˜ã€‚ ææ„å‡½æ•°è¦åŒ…å«é€‚å½“çš„æ¸…ç†åŠŸèƒ½ã€‚ å†…å­˜æ³„éœ²å¦‚æœä¸€ä¸ªå¯¹è±¡æœªèƒ½é€‚å½“åœ°é‡Šæ”¾å®ƒåœ¨å¯¹è±¡ç”Ÿå­˜å‘¨æœŸä¸­è·å¾—çš„å†…å­˜ï¼Œé‚£ä¹ˆåªè¦åˆ›å»ºè¿™ä¸ªå¯¹è±¡è¿™ä¸ªå¯¹è±¡çš„åº”ç”¨è¿˜åœ¨æ‰§è¡Œï¼Œå¯¹äºæ•´ä¸ªæ“ä½œç³»ç»Ÿæ¥è¯´è¿™éƒ¨åˆ†å†…å®¹å°±ä¸¢å¤±äº†ã€‚åœ¨æç«¯æƒ…å†µï¼Œæ¶ˆè€—æ‰ç³»ç»Ÿæ‰€æœ‰å¯ç”¨çš„å†…å­˜ã€‚ åœ¨ç±»ä¸­è®¾è®¡çš„é”™è¯¯å¤„ç†å¯¹ç±»å»ºç«‹æ–‡æ¡£ä»¥åŠä½¿ç”¨æ³¨é‡Š è¿‡å¤šçš„æ–‡æ¡£è¦æ³¨æ„ï¼Œå¦‚æœæ³¨é‡Šè¿‡å¤šä¹Ÿä¼šæœ‰é—®é¢˜ï¼Œçœ‹èµ·æ¥å¾ˆæ‚ä¹±ï¼Œæœ‰å¯èƒ½å½±å“å»ºç«‹æ–‡æ¡£çš„åˆè¡· æ„å»ºç±»è¦ä»¥åˆä½œä¸ºå‡ºå‘ç‚¹è®¾è®¡æ—¶å……åˆ†è€ƒè™‘é‡ç”¨è®¾è®¡æ—¶å……åˆ†è€ƒè™‘åˆ°å¯æ‰©å±•æ€§ä¸ºä¸€ä¸ªç±»å¢åŠ æ–°ç‰¹æ€§å¯èƒ½å¾ˆç®€å•ï¼Œåªéœ€æ‰©å±•ä¸€ä¸ªç°æœ‰çš„ç±»ï¼Œå¢åŠ ä¸€äº›æ–°æ–¹æ³•ï¼Œå¹¶ä¿®æ”¹å…¶ä»–æ–¹æ³•çš„è¡Œä¸ºã€‚ä¸å¿…é‡å†™ä»£ç ã€‚è¿™é‡Œä½¿ç”¨ç»§æ‰¿ã€‚ åå­—è¦æœ‰æè¿°æ€§ å¥½çš„å‘½åç¡®ä¿åšæŒä¸€ç§å‘½åçº¦å®šå¾ˆæœ‰æ„ä¹‰ã€‚ä½¿åå­—å…·æœ‰æè¿°æ€§æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¼€å‘å®è·µï¼Œè¿™åœ¨å„ç§å¼€å‘æ³›å‹ä¸­éƒ½ä½¿ç”¨ã€‚ æŠ½å‡ºä¸å¯ç§»æ¤çš„ä»£ç å°†è¿™äº›ä¸å¯ç§»æ¤çš„ä»£ç å•ç‹¬æ”¾åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œæˆ–è€…è‡³å°‘æ”¾åœ¨ä¸€ä¸ªæ–¹æ³•ä¸­ã€‚ æä¾›ä¸€ç§å¤åˆ¶å’Œæ¯”è¾ƒå¯¹è±¡çš„æ–¹æ³•è®©ä½œç”¨åŸŸå°½å¯èƒ½å°è¿™ç§æ€æƒ³æ˜¯å°½å¯èƒ½å°†å±æ€§å’Œè¡Œä¸ºç½®äºå±€éƒ¨ã€‚é‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œç»´æŠ¤ã€æµ‹è¯•å’Œæ‰©å±•ç±»å°±ä¼šå®¹æ˜“å¾ˆå¤šã€‚ ç±»åº”å½“å¯¹è‡ªå·±è´Ÿè´£ç±»çš„è®¾è®¡åŸåˆ™æ˜¯ï¼šæ‰€æœ‰å¯¹è±¡éƒ½åº”å½“å°½å¯èƒ½è‡ªè¡Œè´Ÿè´£è‡ªå·±çš„è¡Œä¸ºã€‚ è®¾è®¡æ—¶å……åˆ†è€ƒè™‘å¯ç»´æŠ¤æ€§ä¸€ä¸ªç±»ä¸­çš„ä¿®æ”¹ä¸ä¼šå¯¹å…¶ä»–ç±»äº§ç”Ÿå½±å“ï¼Œæˆ–è€…å½±å“å°½å¯èƒ½å°ã€‚ é«˜åº¦è€¦åˆçš„ç±»å½¼æ­¤ç›¸å½“ä¾èµ–çš„ç±»è¢«è®¤ä¸ºæ˜¯é«˜åº¦è€¦åˆï¼ˆhighly coupledï¼‰ã€‚å› æ­¤å¯¹ä¸€ä¸ªç±»çš„ä¿®æ”¹è¿˜è¦æ±‚å¯¹å¦ä¸€ä¸ªç±»è¿›è¡Œä¿®æ”¹ï¼Œè¿™ä¸¤ä¸ªç±»å°±æ˜¯é«˜åº¦è€¦åˆçš„ã€‚æ²¡æœ‰è¿™ç§ä¾èµ–å…³ç³»çš„è€¦åˆåº¦å¾ˆä½ã€‚ é‡‡ç”¨è¿­ä»£ç±»è®¾è®¡æ¨èä¸€ç§è¿­ä»£è¿‡ç¨‹ï¼Œè¿™ä¸æä¾›æœ€å°æ¥å£çš„æ¦‚å¿µæ°å¥½ä¸€è‡´ã€‚ æµ‹è¯•æ¥å£ä½¿å¯¹è±¡æŒä¹…æ€§ä¿å­˜å¯¹è±¡çŠ¶æ€ä»¥å¤‡ä»¥åä½¿ç”¨çš„ä¸‰ç§æ–¹æ³•ï¼š å¹³é¢æ–‡ä»¶ç³»ç»Ÿï¼šå¯ä»¥é€šè¿‡ä¸²è¡ŒåŒ–å¯¹è±¡å°†å¯¹è±¡ä¿å­˜åœ¨ä¸€ä¸ªå¹³é¢æ–‡ä»¶ä¸­ å…³ç³»æ•°æ®åº“ï¼šå¿…é¡»ä½¿ç”¨æŸç§ä¸­é—´ä»¶å°†å¯¹è±¡è½¬æ¢æˆå…³ç³»æ¨¡å‹ OOæ•°æ®åº“ï¼šè¿™æ˜¯ä¿è¯å¯¹è±¡æŒä¹…åŒ–çš„æœ€åˆç†çš„åšæ³• å¯¹è±¡ä¸²è¡ŒåŒ–å’Œå°é€é€šè¿‡ç½‘ç»œå‘é€ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶ååœ¨å¦ä¸€ç«¯é‡æ–°åˆæˆã€‚è¿™ä¸ªè¿‡ç¨‹æˆä¸ºä¸²è¡ŒåŒ–ï¼ˆserializingï¼‰ä¸€ä¸ªå¯¹è±¡ã€‚é€šè¿‡ç½‘ç»œå‘é€å¯¹è±¡çš„è¡Œä¸ºç§°ä¸ºå°é€ï¼ˆmarshalingï¼‰ä¸€ä¸ªå¯¹è±¡ã€‚ ä¸»è¦çš„é—®é¢˜æ˜¯ï¼Œä¸²è¡ŒåŒ–å’Œåä¸²è¡ŒåŒ–éƒ½å¿…é¡»ä½¿ç”¨ç›¸åŒçš„è§„èŒƒã€‚è¿™æœ‰äº›ç±»ä¼¼äºåŠ å¯†ç®—æ³•ã€‚ å°ç»“è¿™ä¸€ç« æä¾›äº†è®¸å¤šæŒ‡å¯¼åŸåˆ™ã€‚ä¸€ç±»ä¸ä¼šç‹¬ç«‹å­˜åœ¨ï¼Œç±»å¿…é¡»è®¾è®¡ä¸å…¶ä»–ç±»äº¤äº’ã€‚å½¼æ­¤äº¤äº’çš„ä¸€ç»„ç±»ä¼šä½œä¸ºç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ã€‚æœ€åï¼Œå†ç”±è¿™äº›ç³»ç»Ÿä¸ºæœ€ç»ˆç”¨æˆ·æä¾›æœåŠ¡ã€‚]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
        <tag>é¢å¯¹å¯¹è±¡</tag>
        <tag>OO</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Egret å›¾ç‰‡ç¼“åŠ¨åŠ¨ç”»å®ç°]]></title>
    <url>%2F2017%2F08%2F22%2Fcl4s3gtdq000rwn9ei9xecv74%2F</url>
    <content type="text"><![CDATA[å‚è€ƒå®˜æ–¹ç¼“åŠ¨åŠ¨ç”»æ–‡æ¡£å‚è€ƒå®˜æ–¹å®ä¾‹æ¼”ç¤º å‰è¨€egretä¸­å®ç°åŠ¨ç”»çš„æ–¹å¼ï¼Œæœ‰å‡ ç§ï¼Œç¼“åŠ¨åŠ¨ç”»ã€å…³é”®å¸§ã€åºåˆ—å¸§ã€é¾™éª¨åŠ¨ç”»ã€‚åœ¨ä¸åŒåœºæ™¯ä¸‹å¯ä»¥é€‰æ‹©é€‚åˆçš„åŠ¨ç”»å®ç°æ–¹å¼ã€‚è¿™é‡Œåªä»‹ç»ç¼“åŠ¨åŠ¨ç”»ã€‚ é€šå¸¸æƒ…å†µä¸‹ï¼Œæ¸¸æˆä¸­æˆ–å¤šæˆ–å°‘éƒ½ä¼šå¸¦æœ‰ä¸€äº›ç¼“åŠ¨åŠ¨ç”»ã€‚ä¾‹å¦‚ç•Œé¢å¼¹å‡ºï¼Œæˆ–è€…é“å…·é£å…¥é£&gt;å‡ºçš„ç‰¹æ•ˆç­‰ç­‰ã€‚åœ¨åˆ¶ä½œè¿™äº›ç¼“åŠ¨åŠ¨ç”»çš„æ—¶å€™æˆ‘ä»¬ä»…ä»… å¸Œæœ›ç®€å•çš„åŠæ³•å®ç°è¿™ç§ç§»åŠ¨æˆ–è€…&gt;å˜å½¢ç¼©æ”¾çš„æ•ˆæœã€‚Egretä¸­çš„ Tween ç¼“åŠ¨åŠ¨ç”»ç±»å°±ä¸ºæˆ‘ä»¬æä¾›äº†ç›¸å…³çš„åŠŸèƒ½ã€‚ æ·»åŠ tweenæ¨¡å—ä»Egret 2.5 å¼€å§‹ï¼Œä»¥å®˜æ–¹æ‰©å±•æ¨¡å—çš„å½¢å¼æ”¯æŒ Tween ã€‚åœ¨ç°æœ‰çš„ Egret é¡¹ç›®ä¸­ï¼Œä¿®æ”¹egretProperties.jsonä¸­çš„modulesï¼Œæ·»åŠ  tween æ¨¡å—ï¼š 123&#123; "name": "tween"&#125; åœ¨é¡¹ç›®æ‰€åœ¨ç›®å½•å†…æ‰§è¡Œä¸€æ¬¡å¼•æ“ç¼–è¯‘ï¼š 1egret build -e æœ¬æ­¥éª¤å·²ç»å®Œæˆï¼Œç°åœ¨é¡¹ç›®ä¸­æ—¢å¯ä»¥ä½¿ç”¨ Tween ç›¸å…³çš„APIäº†ã€‚ èµ„æºåŠ è½½ åªæœ‰å½“æ‰€éœ€çš„èµ„æºåŠ è½½å®Œæˆä¹‹åæ‰èƒ½è·å–èµ„æºï¼Œå¹¶èµ‹äºˆåŠ¨ç”»ã€‚ ä½¿ç”¨é€šç”¨MVCæ¡†æ¶ï¼Œè¿™é‡Œç®€å•ä»‹ç»å…¶èµ„æºåŠ è½½ç­–ç•¥ã€‚ ä»¥ä¸‹ä¸ºéƒ¨åˆ†ä»£ç  main.ts1234567891011121314151617181920212223242526272829303132333435363738394041class Main extends egret.DisplayObjectContainer &#123; //åˆå§‹åŒ–åœºæ™¯åŠæ¨¡å— this.initScene(); this.initModule(); App.SceneManager.runScene(SceneConsts.LOADING); //åŠ è½½èµ„æºç‰ˆæœ¬å· if (false) &#123; App.ResVersionManager.loadConfig("resource/resource_version.json", this.loadResVersionComplate, this); &#125; else &#123; this.loadResVersionComplate(); &#125; &#125; private loadResVersionComplate(): void &#123; //åˆå§‹åŒ–Resourceèµ„æºåŠ è½½åº“ï¼ˆè¿™é‡ŒåŠ è½½è‡ªåŠ¨ä»¥çš„èµ„æºé…ç½®æ–¹æ¡ˆï¼Œå¦‚é¾™éª¨åŠ¨ç”»èµ„æºã€æ¡†æ¶æ ¸å¿ƒèµ„æºï¼‰ï¼Œé™æ€èµ„æºåŠ è½½å®Œæˆäº‹ä»¶ App.ResourceUtils.addConfig("resource/default.res.json", "resource/"); App.ResourceUtils.addConfig("resource/resource_core.json", "resource/"); App.ResourceUtils.addConfig("resource/resource_ui.json", "resource/"); App.ResourceUtils.addConfig("resource/resource_battle.json", "resource/"); App.ResourceUtils.loadConfig(this.onConfigComplete, this); &#125; /** * é…ç½®æ–‡ä»¶åŠ è½½å®Œæˆ,å¼€å§‹é¢„åŠ è½½preloadèµ„æºç»„ã€‚ */ private onConfigComplete(): void &#123; //åŠ è½½çš®è‚¤ä¸»é¢˜é…ç½®æ–‡ä»¶,å¯ä»¥æ‰‹åŠ¨ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ã€‚æ›¿æ¢é»˜è®¤çš®è‚¤ã€‚ var theme = new eui.Theme("resource/default.thm.json", this.stage); theme.addEventListener(eui.UIEvent.COMPLETE, this.onThemeLoadComplete, this); &#125; /** * ä¸»é¢˜æ–‡ä»¶åŠ è½½å®Œæˆ */ private onThemeLoadComplete(): void &#123; new BlackJack(); &#125;&#125; BlackJack.ts 12345678910111213141516171819202122232425262728293031class BlackJack &#123; public constructor() &#123; var groupName: string = "preload" //æ­¤å¤„å°†é¡µé¢æ‰€éœ€çš„èµ„æºåˆ†ç»„åŠ è½½ï¼ŒåŠ è½½å®Œæˆåå°±èƒ½æ‹¿åˆ°å›¾ç‰‡ä»¥å®ç°åŠ¨ç”»å•¦ var subGroups: Array&lt;string&gt; = ["preload_core", "preload_ui", "welcome"] App.ResourceUtils.loadGroups(groupName, subGroups, this.onResourceLoadComplete, this.onResourceLoadProgress, this) &#125; private onResourceLoadComplete(): void &#123; this.initModule() App.Init() //éŸ³ä¹éŸ³æ•ˆå¤„ç† App.SoundManager.setBgOn(true) App.SoundManager.setEffectOn(!App.DeviceUtils.IsHtml5 || !App.DeviceUtils.IsMobile) //åœºæ™¯ç®¡ç† æœ‰ä¸‰ç±»åœºæ™¯ App.SceneManager.runScene(SceneConsts.UI) &#125; private onResourceLoadProgress(itemsLoaded: number, itemsTotal: number): void &#123; App.ControllerManager.applyFunc(ControllerConst.JackLoading, LoadingConst.SetProgress, itemsLoaded, itemsTotal); &#125; /** * åˆå§‹åŒ–æ‰€æœ‰æ¨¡å— */ private initModule(): void &#123; App.ControllerManager.register(ControllerConst.JackWelcome, new JackWelcomeConstroller()) &#125;&#125; JackWelcomeConstroller.ts 12345678910111213/* åˆå§‹åŒ–viewæ¨¡å—ï¼Œå¹¶æ³¨å†Œåˆ°å…¨å±€çš„viewç®¡ç†å™¨ä¸­*/class JackWelcomeConstroller extends BaseController &#123; private jackWelcomeView: JackWelcomeView public constructor() &#123; super() this.jackWelcomeView = new JackWelcomeView(this, LayerManager.UI_Main) App.ViewManager.register(ViewConst.JackWelcome, this.jackWelcomeView) &#125;&#125; JackWelcomeView.ts 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475class JackWelcomeView extends BaseEuiView &#123; public constructor($controller: BaseController, $parent: eui.Group) &#123; super($controller, $parent) this.skinName = "resource/black_jack/skins/JackWelcomeUiSkin.exml" &#125; private welcomeInfoBtn: eui.Button /** * å¯¹é¢æ¿åˆå§‹åŒ–ï¼Œç”¨äºå­ç±»ç»§æ‰¿ */ public initUI(): void &#123; super.initUI() this.welcomeInfoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP, this.imagesTweenStart, this) this.addImageToStage() &#125; /* éœ€è¦èµ‹äºˆåŠ¨ç”»çš„ä¸‰ä¸ªå›¾ç‰‡å…ƒç´  */ private banner: egret.Bitmap private infoGo: egret.Bitmap private infoText: egret.Bitmap /* å®ä¾‹åŒ–å›¾ç‰‡ï¼Œå¹¶æ·»åŠ åˆ°å½“å‰é¡µé¢ä¸­ */ private addImageToStage(): void &#123; let banner = new egret.Bitmap() //è·å–å‰é¢åŠ è½½å¥½çš„èµ„æºæ–‡ä»¶ banner.texture = RES.getRes('welcome_banner_png') banner.x = -50 banner.y = 274 this.addChild(this.banner = banner) let infoText = new egret.Bitmap() infoText.texture = RES.getRes('welcome_info_text_png') infoText.x = 35 + this.width infoText.y = 190 this.addChild(this.infoText = infoText) let infoGo = new egret.Bitmap() infoGo.texture = RES.getRes('welcome_info_go_png') infoGo.x = 269 + this.width infoGo.y = 924 this.addChild(this.infoGo = infoGo) &#125; /* ç›‘å¬è§¦å‘åŠ¨ç”»çš„æŒ‰é’® */ private imagesTweenStart(): void &#123; let bannerDis: number let infoTextDis: number let infoGoDis: number if (this.banner.x == -50) &#123; bannerDis = -850 infoTextDis = 35 infoGoDis = 269 &#125; else &#123; bannerDis = -50 infoTextDis = 800 infoGoDis = 1034 &#125; /* å…³é”®ä»£ç  */ egret.Tween.get(this.banner).to(&#123; x: bannerDis &#125;, 300, egret.Ease.sineIn) egret.Tween.get(this.infoText).to(&#123; x: infoTextDis &#125;, 300, egret.Ease.sineIn) egret.Tween.get(this.infoGo).to(&#123; x: infoGoDis &#125;, 300, egret.Ease.sineIn) &#125;&#125; å®ç°æ•ˆæœ]]></content>
      <categories>
        <category>Egret</category>
      </categories>
      <tags>
        <tag>Egret</tag>
        <tag>ç¼“åŠ¨åŠ¨ç”»</tag>
        <tag>äº¤äº’æ•ˆæœ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šå†™ç»™å¤§å®¶çœ‹çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ä¹¦ã€‹æ€»ç»“&&å®è·µï¼ˆ4ï¼‰]]></title>
    <url>%2F2017%2F08%2F22%2Fcl4s3gth30072wn9em310ama6%2F</url>
    <content type="text"><![CDATA[ç±»å‰–æå®ä¾‹åŒ–å¯¹è±¡æ—¶ï¼Œå‡ ä¹æ€»è¦ä¸å…¶ä»–å¯¹è±¡äº¤äº’ï¼Œä¸€ä¸ªå¯¹è±¡ä¹Ÿæœ‰å¯èƒ½ä½œä¸ºå¦ä¸€ä¸ªå¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªç»§æ‰¿å±‚æ¬¡ç»“æ„ä¸­ç»„æˆéƒ¨åˆ†ã€‚ ç±»åç®€å•çš„æ ‡è¯†ã€å…·æœ‰æè¿°æ€§ã€æä¾›ç±»åšä»€ä¹ˆä»¥åŠä¸å…¶åœ¨äº¤äº’ç³»ç»Ÿä¸­å¦‚ä½•äº¤äº’çš„ä¿¡æ¯ã€‚ æ³¨é‡Šæ³¨é‡Šé£æ ¼ 12345678910/****//**/ å±æ€§ å°½å¯èƒ½åœ°éšè—æ•°æ®å±æ€§ç§æœ‰ï¼Œèƒ½å¤Ÿä¿è¯æ¥å£è®¾è®¡å°½å¯èƒ½å°‘çš„è®¾è®¡åŸåˆ™æ˜¯ä¸€è‡´çš„ã€‚è®¿é—®è¿™äº›å±æ€§çš„å”¯ä¸€é€”å¾„å°±æ˜¯é€šè¿‡æ‰€æä¾›çš„æ–¹æ³•æ¥å£ã€‚ staticå…³é”®å­—å¯¹äºè¿™ä¸ªç±»å®ä¾‹åŒ–çš„æ‰€æœ‰å¯¹è±¡æ¥è¯´ï¼Œè¿™ä¸ªå±æ€§åªæœ‰ä¸€ä¸ªå‰¯æœ¬ã€‚ privateå…³é”®å­—å±æ€§ç§æœ‰ï¼Œå…¶ä»–å¯¹è±¡æ— æ³•ç›´æ¥è®¿é—®å®ƒï¼Œå¿…é¡»ä½¿ç”¨ç±»æä¾›çš„æ¥å£ ä¼ é€’å¼•ç”¨1private myCabï¼š Cab Cabå¯¹è±¡å¯èƒ½ç”±å¦ä¸€ä¸ªå¯¹è±¡ç©¿ä»¶ï¼Œå› æ­¤ï¼Œå°†æŠŠå¯¹è±¡å¼•ç”¨ä¼ é€’åˆ°Cabbieå¯¹è±¡ã€‚æ³¨æ„ï¼Œç›®å‰åªåˆ›å»ºäº†Cabå¯¹è±¡çš„ä¸€ä¸ªå¼•ç”¨ï¼Œæ ¹æ®è¿™ä¸ªå®šä¹‰å¹¶æ²¡æœ‰çœŸæ­£åˆ†é…å†…å­˜ã€‚ æ„é€ å‡½æ•°åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–å±æ€§ã€‚ä¹Ÿå¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œå°†ä¸éœ€è¦èµ‹å€¼çš„å±æ€§èµ‹å€¼ä¸ºnullï¼Œé‚£ä¹ˆä»¥åå†ä½¿ç”¨è¯¥ç±»æ—¶å°±èƒ½æ£€æŸ¥å…¶å±æ€§æ˜¯å¦ä¸ºnull å¯ä»¥ä¼ é€’å‚æ•°ç»™æ„é€ å‡½æ•°ï¼Œå·²å®Œæˆåˆå§‹åŒ–å±æ€§å·¥ä½œã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ‰€æœ‰çš„æ„é€ å‡½æ•°éƒ½åº”è¯¥å®šä¹‰ä¸ºpublic ï¼Œå¦‚æœæ˜¯ç§æœ‰çš„æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆå…¶ä»–å¯¹è±¡å°±ä¸èƒ½è®¿é—®ä»–ä»¬ï¼ŒåŒ…æ‹¬å®ä¾‹åŒ–å¯¹è±¡çš„å¯¹è±¡ã€‚ è®¿é—®æ–¹æ³•ä¸€ä¸ªç±»åº”å½“å¾ˆå¥½çš„ä¿æŠ¤è‡ªå·±çš„å±æ€§ã€‚ é™æ€å±æ€§å¦‚æœä¸€ä¸ªå±æ€§æ˜¯é™æ€çš„ï¼Œè€Œä¸”ç±»ä¸ºè¿™ä¸ªå±æ€§æä¾›äº†ä¸€ä¸ªè®¾ç½®æ–¹æ³•ï¼Œé‚£ä¹ˆè°ƒç”¨è¿™ä¸ªè®¾ç½®æ–¹æ³•çš„ä»»ä½•å¯¹è±¡éƒ½å¯ä»¥ä¿®æ”¹è¿™ä¸ªå‰¯æœ¬ã€‚å› æ­¤ï¼Œå¯¹äºæ‰€æœ‰å¯¹è±¡æ¥æ¥è¯´ï¼Œè¯¥å±æ€§çš„å€¼éƒ½ä¼šå‘ç”Ÿæ”¹å˜ã€‚ å…¬å…±æ¥å£æ–¹æ³•å¤Ÿèµå‡½æ•°å’Œè®¿é—®æ–¹æ³•éƒ½å£°æ˜ä¸ºå…¬å…±æ–¹æ³•ï¼Œæ˜¯å…¬å…±æ¥å£çš„ä¸€éƒ¨åˆ†ã€‚ ç§æœ‰çš„å®ç°æ–¹æ³•ç§æœ‰æ–¹æ³•åªæ˜¯å®ç°çš„ä¸€éƒ¨åˆ†ï¼Œä¸èƒ½ç”±å…¶ä»–ç±»è®¿é—®ã€‚ å°ç»“æ²¡æœ‰å¤ªå¤šçš„å†…å®¹ï¼Œä¸»è¦æ˜¯å‰å‡ ç« èŠ‚çš„ä¸€ä¸ªæ€»ç»“ã€‚]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
        <tag>é¢å¯¹å¯¹è±¡</tag>
        <tag>OO</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šå†™ç»™å¤§å®¶çœ‹çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ä¹¦ã€‹æ€»ç»“&&å®è·µï¼ˆ3ï¼‰]]></title>
    <url>%2F2017%2F08%2F21%2Fcl4s3gth1006xwn9eqw8g2poy%2F</url>
    <content type="text"><![CDATA[é«˜çº§é¢å‘å¯¹è±¡æ¦‚å¿µæœ¬ç« å°†ä¼šä»‹ç»æ›´é«˜çº§çš„OOæ¦‚å¿µï¼Œå¦‚æ„é€ å‡½æ•°ã€æ“ä½œç¬¦é‡è½½å’Œå¤šé‡ç»§æ‰¿ï¼Œè¿˜å°†è€ƒè™‘é”™è¯¯å¤„ç†æŠ€æœ¯ï¼Œå¹¶å¼ºè°ƒé¢å‘å¯¹è±¡è®¾è®¡ä¸­åº”ç”¨ä½œç”¨åŸŸçš„é‡è¦æ€§ã€‚ æ„é€ å‡½æ•° æ³¨æ„æ„é€ å‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œå¦‚æœä¸ºæ–¹æ³•æä¾›ä¸€ä¸ªè¿”å›å€¼ï¼Œç¼–è¯‘å™¨å°±ä¸ä¼šæŠŠå®ƒä½œä¸ºä¸€ä¸ªæ„é€ å‡½æ•° åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡æ—¶ï¼Œé¦–å…ˆè¦åšçš„äº‹æƒ…ä¹‹ä¸€å°±æ˜¯è°ƒç”¨æ„é€ å‡½æ•°ã€‚ newå…³é”®å­—åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹ï¼Œå¹¶åˆ†é…æ‰€éœ€çš„å†…å­˜ã€‚ç„¶åæ„é€ å‡½æ•°è¢«è°ƒç”¨ï¼Œä¼ å…¥å‚æ•°åˆ—è¡¨ä¸­çš„å‚æ•°ã€‚æ„é€ å‡½æ•°ä¸ºå¼€å‘äººå‘˜æä¾›äº†ä¸€ä¸ªæœºä¼šæ¥å®Œæˆé€‚å½“çš„åˆå§‹åŒ–ã€‚ åˆå§‹åŒ–å±æ€§åœ¨ç»“æ„åŒ–ç¨‹åºè®¾è®¡ä¸­ï¼Œé€šå¸¸éœ€è¦ä¸€ä¸ªåä¸ºhousekeepingæˆ–initializationçš„ä¾‹ç¨‹æ¥å®Œæˆåˆå§‹åŒ–å·¥ä½œã€‚ é»˜è®¤æ„é€ å‡½æ•°å¦‚æœæ²¡æœ‰ä¸ºç±»æä¾›æ˜¾å¼çš„æ„é€ å‡½æ•°ï¼Œå°±ä¼šæä¾›ä¸€ä¸ªé»˜è®¤çš„æ„é€ å‡½æ•°ã€‚ è¿™æ—¶å€™ï¼Œé»˜è®¤æ„é€ å‡½æ•°å”¯ä¸€çš„å·¥ä½œå°±æ˜¯è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚ä¼šé»˜è®¤çš„æ’å…¥ä»¥ä¸‹é»˜è®¤æ„é€ å‡½æ•°ï¼š 1234567891011class Hero &#123; constructor() &#123; &#125;&#125;class magic extends Hero &#123; constructor() &#123; super() &#125;&#125; ä¸€èˆ¬çš„ç»éªŒæ˜¯ï¼Œæ€»åº”è¯¥æä¾›ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå³ä½¿ä½ ä¸æ‰“ç®—åœ¨å…¶ä¸­åšä»»ä½•äº‹æƒ…ã€‚ ä½¿ç”¨å¤šä¸ªæ„é€ å‡½æ•°åœ¨TypeScriptä¸­æ²¡æœ‰è¿™éƒ¨åˆ†å†…å®¹ï¼Œæ±‚è¯å®ï¼Ÿ é‡è½½æ–¹æ³•é‡è½½å…è®¸ç¨‹åºå‘˜å¤šæ¬¡ä½¿ç”¨åŒä¸€ä¸ªæ–¹æ³•åï¼Œåªè¦æ¯æ¬¡æ–¹æ³•çš„ç­¾åä¸åŒï¼Œç­¾åç”±æ–¹æ³•åå’Œä¸€ä¸ªå‚æ•°åˆ—è¡¨ç»„æˆã€‚ Javaä¸­çš„é‡è½½æ–¹æ³•ç¤ºä¾‹ï¼š 123public void getCab()public void getCab(int numberOfPassngers) çˆ¶ç±»å¦‚æœæ„é€ ä½¿ç”¨ç»§æ‰¿æ—¶ï¼Œå¿…é¡»çŸ¥é“çˆ¶ç±»å¦‚ä½•æ„é€ ã€‚ä¼šå®Œæˆä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š æ„é€ å‡½æ•°ä¸­é¦–å…ˆåšçš„æ˜¯è°ƒç”¨è¯¥ç±»çš„çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰æ˜¾ç¤ºçš„è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°å°±ä¼šè‡ªåŠ¨è°ƒç”¨çˆ¶ç±»çš„é»˜è®¤æ„é€ å‡½æ•°ã€‚åœ¨TypeScriptä¸­ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ 1234567891011class Hero &#123; constructor() &#123; console.log('æˆ‘æ˜¯çˆ¶ç±»çš„æ„é€ å‡½æ•°') &#125;&#125;class Magic extends Hero &#123;&#125;let magic = new Magic() //log: æˆ‘æ˜¯çˆ¶ç±»çš„æ„é€ å‡½æ•° ç„¶ååˆå§‹åŒ–å¯¹è±¡çš„ä¸ªå„ç±»å±æ€§ ç„¶åæ‰§è¡Œæ„é€ å‡½æ•°ä¸­å…¶ä½™ä»£ç  é”™è¯¯å¤„ç†æŠ›å‡ºå¼‚å¸¸ä¸€ä¸ªtry/catchå—ç»“æ„ï¼š 12345try &#123; //possible nasty code&#125;catch(Exception e)&#123; //code to handle the exception&#125; å¦‚æœtryå—ä¸­æŠ›å‡ºäº†ä¸€ä¸ªå¼‚å¸¸ï¼Œcatchå—å°±ä¼šå¤„ç†è¿™ä¸ªå¼‚å¸¸ã€‚æ‰§è¡Œtryå—ä¸­æ—¶å¦‚æœæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œä¼šå‘ç”Ÿä»¥ä¸‹æƒ…å†µï¼š tryå—çš„æ‰§è¡Œä¼šç»ˆæ­¢ æ£€æŸ¥catchå­å¥ï¼Œç¡®å®šå¯¹å‡ºç°çš„å¼‚å¸¸æ˜¯å¦ç­é˜”ä¸€ä¸ªåˆé€‚çš„catchå—ï¼ˆæ¯ä¸ªtryå—å¯èƒ½ä¸æ­¢æœ‰ä¸€ä¸ªcatchå­å¥ï¼‰ å¦‚æœæ²¡æœ‰èƒ½å¤Ÿå¤„ç†æ‰€æŠ›å‡ºå¼‚å¸¸çš„catchå­å¥ï¼Œåˆ™æŠŠå¼‚å¸¸ä¼ é€’åˆ°ä¸‹ä¸€ä¸ªæ›´é«˜å±‚çš„tryå— å¦‚æœæŸä¸ªcatchå­å¥åŒ¹é…ï¼Œåˆ™æ‰§è¡Œè¯¥catchå­å¥ä¸­çš„è¯­å¥ å†ä»tryå—ä¹‹åçš„è¯­å¥ç»§ç»­æ‰§è¡Œ ä½œç”¨åŸŸçš„æ¦‚å¿µå±æ€§ä½œç”¨åŸŸã€æ–¹æ³•ä½œç”¨åŸŸ æ“ä½œç¬¦é‡è½½å³æ”¹å˜ä¸€ä¸ªæ“ä½œç¬¦çš„å«ä¹‰ã€‚ å¤šé‡ç»§æ‰¿å¤šé‡ç»§æ‰¿å…è®¸ç»§æ‰¿å¤šä¸ªç±»ã€‚ å¯¹è±¡æ“ä½œ ç±»å’Œå¼•ç”¨å¤æ‚æ•°æ®ç»“æ„å’Œå¯¹è±¡çš„é—®é¢˜åœ¨äºï¼Œå®ƒä»¬åŒ…å«å¼•ç”¨ã€‚åªå»ºç«‹å¼•ç”¨çš„ä¸€ä¸ªå‰¯æœ¬å¹¶ä¸ä¼šå¤åˆ¶å®ƒå¼•ç”¨çš„æ•°æ®ç»“æ„æˆ–å¯¹è±¡ã€‚åŒæ ·çš„ï¼Œæ¯”è¾ƒå¯¹è±¡æ—¶ï¼Œå¦‚æœæ˜¯å°†ä¸€ä¸ªæŒ‡é’ˆä¸å¦ä¸€ä¸ªæŒ‡é’ˆç›¸æ¯”è¾ƒï¼Œè¿™åªä¼šæ¯”è¾ƒå¼•ç”¨ï¼Œè€Œä¸æ˜¯å®ƒä»¬æ‰€æŒ‡çš„å¯¹è±¡ æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶æ·±å¤åˆ¶ï¼ˆdeep cotyï¼‰æ˜¯æŒ‡ï¼Œæ²¿ç€æ‰€æœ‰å¼•ç”¨ï¼ˆæŒ‡é’ˆï¼‰å®Œæˆå¤åˆ¶ï¼Œä»è€Œä¸ºæ‰€å¼•ç”¨çš„æ‰€æœ‰å¯¹è±¡åˆ›å»ºæ–°çš„å‰¯æœ¬ã€‚æ·±å¤åˆ¶å¯èƒ½æ¶‰åŠå¤šä¸ªå±‚æ¬¡ã€‚ä¸€ä¸ªå¯¹è±¡å¯èƒ½åŒ…å«è®¸å¤šå¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œæ‰€å¼•ç”¨çš„è¿™äº›å¯¹è±¡å¯èƒ½åˆå¼•ç”¨æ›´å¤šå¯¹è±¡ï¼Œæ‰€ä»¥å¤åˆ¶æœ¬èº«å¯èƒ½ä¼šå¸¦æ¥æ˜¾è‘—çš„å¼€é”€ã€‚æµ…å¤åˆ¶ï¼ˆshallow copyï¼‰åˆ™åªæ˜¯å¤åˆ¶å¼•ç”¨ï¼Œè€Œä¸æ²¿ç€å¼•ç”¨å±‚ç»§ç»­å‘ä¸‹ã€‚ å°ç»“æœ¬ç« ä¸»è¦åˆ†æäº†æ„é€ å‡½æ•°ã€é»˜è®¤æ„é€ å‡½æ•°ã€é”™è¯¯å¤„ç†ã€ç»§æ‰¿ã€å¤šé‡ç»§æ‰¿ä»¥åŠå¯¹è±¡æ“ä½œï¼ˆæ·±å¤åˆ¶ä¸æµ…å¤åˆ¶ï¼‰çš„æ¦‚å¿µã€‚]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
        <tag>é¢å¯¹å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šå†™ç»™å¤§å®¶çœ‹çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ä¹¦ã€‹æ€»ç»“&&å®è·µï¼ˆ2ï¼‰]]></title>
    <url>%2F2017%2F08%2F21%2Fcl4s3gth0006uwn9eqqh3k8th%2F</url>
    <content type="text"><![CDATA[å¦‚ä½•ä»¥å¯¹è±¡æ–¹å¼æ€è€ƒOOè®¾è®¡æ‰€æœŸæœ›çš„æœ€ç»ˆç»“æœæ˜¯ä¸€ä¸ªå¥å£®ã€åŠŸèƒ½å®Œå¤‡çš„å¯¹è±¡æ¨¡å‹ï¼Œæ¢å¥è¯è¯´ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå®Œå¤‡çš„ç³»ç»Ÿã€‚ å°†ä¼šè®¨è®ºä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š äº†è§£æ¥å£å’Œå®ç°ä¹‹é—´çš„åŒºåˆ« ä»¥æ›´æŠ½è±¡çš„æ–¹å¼æ€è€ƒ å°½å¯èƒ½ä¸ºç”¨æˆ·æä¾›æœ€å°æ¥å£ äº†è§£æ¥å£å’Œå®ç°ä¹‹é—´çš„åŒºåˆ«åœ¨è®¾è®¡ç±»æ—¶ï¼Œå¿…é¡»äº†è§£ç”¨æˆ·éœ€è¦çŸ¥é“ä»€ä¹ˆä»¥åŠç”¨æˆ·ä¸éœ€è¦çŸ¥é“ä»€ä¹ˆã€‚ é€‚å½“çš„æ„é€ ç±»åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†è®¾è®¡â€”-æ¥å£å’Œå®ç° æ¥å£åœ¨æœ€ç†æƒ³çš„æƒ…å†µä¸‹ï¼Œåº”è¯¥åªä¸ºæœ€ç»ˆç”¨æˆ·æä¾›ä»–ä»¬æ‰€éœ€è¦çš„æœåŠ¡ã€‚ æ˜ç¡®ç”¨æˆ·åœ¨è®¾è®¡ä¸€ä¸ªç±»æ—¶ï¼Œä¹Ÿè®¸æœ€é‡è¦çš„å°±æ˜¯æ˜ç¡®ç±»çš„å—ä¼—æˆ–ç”¨æˆ·ã€‚ å®ç°å®ç°çš„ç»†èŠ‚å¯¹ç”¨æˆ·æ˜¯éšè—çš„ã€‚éœ€è¦è®°ä½çš„ä¸€ä¸ªå®ç°çš„ç›®æ ‡ï¼šæ”¹å˜å®ç°ä¸éœ€è¦åŒæ—¶æ”¹å˜ç”¨æˆ·çš„ä»£ç ã€‚ æ¥å£/å®ç°ç¤ºä¾‹æ ¹æ®éœ€æ±‚æä¾›ç›¸åº”çš„æ¥å£ï¼Œä¾‹å¦‚ä¸€ä¸ªç®€å•çš„æ•°æ®åº“è¯»å–å™¨ï¼š DataBaseReaderç±»çš„ä¸€ä¸ªUMLç±»å›¾ å…¬å…±æ¥å£å¦‚æœä¸€ä¸ªæ–¹æ³•æ˜¯å…¬å…±çš„ï¼Œåº”ç”¨ç¨‹åºå‘˜å°±å¯ä»¥è®¿é—®å®ƒï¼Œå› æ­¤ï¼Œå®ƒå¯ä»¥è®¤ä¸ºæ˜¯ç±»æ¥å£çš„ä¸€éƒ¨åˆ†ã€‚ å¯¹è±¡æŒä¹…æ€§æ˜¯æŒ‡ä¿å­˜å¯¹è±¡çš„çŠ¶æ€ï¼Œä»è€Œå¯ä»¥åœ¨ä»¥åæ¢å¤å¹¶ä½¿ç”¨ã€‚æ²¡æœ‰æŒä¹…å­˜å‚¨çš„å¯¹è±¡ä¸€æ—¦å‡ºäº†ä½œç”¨åŸŸå®é™…ä¸Šå°±å·²ç»æ­»äº¡äº†ã€‚ä¾‹å¦‚å¯ä»¥æŠŠå¯¹è±¡çš„çŠ¶æ€ä¿å­˜åœ¨æ•°æ®åº“ä¸­ã€‚ è®¾è®¡æ¥å£æ˜¯ä½¿ç”¨æŠ½è±¡æ€ç»´æŠ½è±¡æ¥å£é€šå¸¸æ˜¯å®ç°ä¸€ä¸ªä¼˜ç§€å¯é‡ç”¨OOè®¾è®¡æ‰€é‡‡ç”¨çš„åšæ³•ã€‚ å°½å¯èƒ½ä¸ºç”¨æˆ·æä¾›æœ€å°æ¥å£è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œéœ€è¦éµå®ˆä»¥ä¸‹è§„åˆ™ï¼š åªä¸ºç”¨æˆ·æä¾›ä»–ä»¬ç¡®å®éœ€è¦çš„ä¸œè¥¿ æœ€å¥½æ˜¯å½“ç”¨æˆ·ç¡®å®éœ€è¦æ—¶æ‰å¢åŠ æ¥å£ï¼Œè€Œä¸è¦ä¸ºç”¨æˆ·æä¾›ä»–ä»¬ä¸éœ€è¦çš„æ¥å£ å…¬å…±æ¥å£å®šä¹‰ç”¨æˆ·èƒ½å¤Ÿè®¿é—®çš„ä¿¡æ¯ ç”¨ç”¨æˆ·è§’åº¦è®¾è®¡ç±»ï¼Œè€Œä¸è¦ä»ä¿¡æ¯ç³»ç»Ÿçš„è§’åº¦è¿›è¡Œè®¾è®¡ ç¡®ä¿è®¾è®¡ç±»æ—¶å°†ä¸çœŸæ­£ä½¿ç”¨è¿™ä¸ªç±»çš„äººï¼ˆä¸åªæ˜¯å¼€å‘äººå‘˜ï¼‰åå¤è€ƒè™‘éœ€æ±‚å’Œè®¾è®¡ å°ç»“å…³äºOOæ€ç»´è¿‡ç¨‹çš„é—®é¢˜å¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œé‡‡ç”¨OOæ–¹å¼åšäº‹ä¸å…¶è¯´æ˜¯ä¸€é—¨ç§‘å­¦ä¸å¦‚è¯´æ˜¯ä¸€é—¨è‰ºæœ¯ã€‚ä½ å¯ä»¥ç”¨è‡ªå·±çš„æ–¹å¼æ¥æè¿°OOæ€ç»´ã€‚]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
        <tag>é¢å¯¹å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šå†™ç»™å¤§å®¶çœ‹çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ä¹¦ã€‹æ€»ç»“&&å®è·µï¼ˆ1ï¼‰]]></title>
    <url>%2F2017%2F08%2F20%2Fcl4s3gthv008fwn9eeh6eqlc0%2F</url>
    <content type="text"><![CDATA[é¢å‘å¯¹è±¡æ¦‚å¿µä»‹ç»è¿‡ç¨‹å¼ç¨‹åºè®¾è®¡ä¸OOç¨‹åºè®¾è®¡ OOå’Œè¿‡ç¨‹å¼ç¨‹åºè®¾è®¡çš„åŒºåˆ«åœ¨OOè®¾è®¡ä¸­ï¼Œå±æ€§å’Œè¡Œä¸ºéƒ½åŒ…å«åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œè€Œåœ¨è¿‡ç¨‹å¼ç¨‹åºè®¾è®¡ä¸­ï¼Œå±æ€§å’Œè¡Œä¸ºæ˜¯åˆ†å¼€çš„ é€‚å½“çš„è®¾è®¡å¯ä»¥æ–­è¨€ï¼Œå¦‚æœè®¾è®¡å¾—å½“ï¼ŒOOæ¨¡å‹ä¸­æ ¹æœ¬ä¸ä¼šæœ‰è¯¸å¦‚å…¨å±€æ•°æ®ä¹‹ç±»çš„ä¸œè¥¿ã€‚è¿™ä¸€ç‚¹ä¿è¯äº†OOç³»ç»Ÿä¸­é«˜åº¦çš„æ•°æ®å®Œæ•´æ€§ã€‚ å¯¹è±¡ä¸åªæ˜¯æ•°æ®ç»“æ„å’ŒåŸºæœ¬æ•°æ®ç±»å‹ï¼Œè¿˜åŒ…å«æ–¹æ³•ã€‚åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œæ–¹æ³•ç”¨äºå®Œæˆæ•°æ®æ“ä½œå’Œå…¶ä»–åŠ¨ä½œã€‚æ›´ä¸ºé‡è¦çš„ä¸€ç‚¹æ˜¯ï¼Œå¯ä»¥å­”å­å¯¹è±¡æˆå‘˜ï¼ˆåŒ…æ‹¬å±æ€§å’Œæ–¹æ³•ï¼‰çš„è®¿é—®ã€‚ æ•°æ®éšè—åœ¨OOæœ¯è¯­ä¸­ï¼Œæ•°æ®è¡¨ç¤ºä¸ºå±æ€§ï¼Œè¡Œä¸ºè¡¨ç¤ºä¸ºæ–¹æ³•ã€‚é™åˆ¶å¯¹æŸäº›å±æ€§æˆ–æ–¹æ³•çš„è®¿é—®ç§°ä¸ºéšè—ã€‚ å¯¹è±¡åˆ°åº•æ˜¯ä»€ä¹ˆå¯¹è±¡æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­çš„æ•°æ®è¡¨ç¤ºå¯¹è±¡çš„çŠ¶æ€ï¼Œåœ¨OOç¨‹åºè®¾è®¡ä¸­ï¼Œè¯¥æ•°æ®ç§°ä¸ºå±æ€§ã€‚ å¯¹è±¡è¡Œä¸ºå¯¹è±¡çš„è¡Œä¸ºå°±æ˜¯å¯¹è±¡èƒ½å¤Ÿåšä»€ä¹ˆï¼Œä¹Ÿå°±æ˜¯åœ¨é¢å¯¹è¿‡ç¨‹è¯­è¨€ä¸­ï¼Œè¡Œä¸ºç”±è¿‡ç¨‹ã€å‡½æ•°å’Œå­ä¾‹ç¨‹å®šä¹‰ã€‚åœ¨OOç¨‹åºè®¾è®¡æœ¯è¯­ä¸­ï¼Œè¿™äº›è¡Œä¸ºåŒ…å«åœ¨æ–¹æ³•ä¸­ï¼Œè¦é€šè¿‡å‘é€æ¶ˆæ¯æ¥è°ƒç”¨æ–¹æ³•ã€‚ è·å–æ–¹æ³•å’Œè®¾ç½®æ–¹æ³•ï¼ˆsetã€getï¼‰è·å–æ–¹æ³•å’Œè®¾ç½®æ–¹æ³•çš„æ¦‚å¿µæ”¯æŒæ•°æ®éšè—çš„æ¦‚å¿µã€‚å› ä¸ºå…¶ä»–å¯¹è±¡ä¸èƒ½ç›´æ¥å¤„ç†å¦ä¸€ä¸ªå¯¹è±¡å†…éƒ¨æ•°æ®ï¼Œæ‰€ä»¥è·å–æ–¹æ³•å’Œè®¾ç½®æ–¹æ³•æä¾›äº†å¯¹å¯¹è±¡æ•°æ®çš„ä¸€ç§å¯æ§è®¿é—®ã€‚æœ‰æ—¶ä¹Ÿè¢«ç§°ä¸ºè®¿é—®æ–¹æ³•å’Œä¿®æ”¹æ–¹æ³•ã€‚ UMLç±»å›¾ UMLç±»å›¾æ¯ä¸ªç±»å›¾å®šä¹‰ä¸º3ä¸ªä¸åŒéƒ¨åˆ†ï¼šç±»åæœ¬èº«ã€æ•°æ®ï¼ˆå±æ€§ï¼‰å’Œè¡Œä¸ºï¼ˆæ–¹æ³•ï¼‰ åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œç§°ä¹‹ä¸ºå¯¹è±¡è¢«å®ä¾‹åŒ–ã€‚ä¾‹å¦‚è¿™é‡Œä½ åˆ›äº†ä¸‰ä¸ªå‘˜å·¥ï¼Œå®é™…ä¸Šå°±ä¼šåˆ›å»º3ä¸ªå®Œå…¨ä¸åŒçš„Employeeç±»å®ä¾‹ã€‚æ¯ä¸ªå¯¹è±¡éƒ½åŒ…å«å…¶è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•å‰¯æœ¬ã€‚ ç±»åˆ°åº•æ˜¯ä»€ä¹ˆç®€å•çš„è¯´ï¼Œç±»å°±æ˜¯å¯¹è±¡çš„ä¸€ä¸ªè“å›¾ã€‚å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå°±æ˜¯ä½¿ç”¨ä¸€ä¸ªç±»ä½œä¸ºæ„å»ºè¿™ä¸ªå¯¹è±¡çš„åŸºç¡€ã€‚åº”è¯¥å…ˆæœ‰ç±»ï¼Œå¦‚æœæ²¡æœ‰ç±»ï¼Œå¯¹è±¡å°±æ— æ³•å®ä¾‹åŒ–ã€‚ å±æ€§ è®¿é—®æŒ‡ç¤ºå½“æŸä¸ªæ•°æ®ç±»å‹æˆ–è€…æ–¹æ³•å®šä¹‰æˆ‘publicæ—¶ï¼Œå…¶ä»–å¯¹è±¡å¯ä»¥ç›´æ¥è®¿é—®å®ƒã€‚å½“æŸä¸ªæ•°æ®ç±»å‹æˆ–æ–¹æ³•å®šä¹‰ä¸ºprivateæ—¶ï¼Œåªæœ‰ç‰¹å®šå¯¹è±¡èƒ½å¤Ÿè®¿é—®ã€‚è¿˜æœ‰ä¸€ä¸ªè®¿é—®ä¿®é¥°ç¬¦protectedï¼Œå®ƒå…è®¸ç›¸å…³å¯¹è±¡è®¿é—®ã€‚ æ–¹æ³•æ–¹æ³•å®ç°äº†ä¸€ä¸ªç±»æ‰€éœ€çš„è¡Œä¸ºã€‚ä»è¿™ä¸ªç±»å®ä¾‹åŒ–çš„å„ä¸ªå¯¹è±¡éƒ½æœ‰è¯¥ç±»æ‰€å®šä¹‰çš„æ–¹æ³•ã€‚æ–¹æ³•å¯èƒ½å®ç°å…¶ä»–å¯¹è±¡ï¼ˆæ¶ˆæ¯ï¼‰æ‰€è°ƒç”¨çš„è¡Œä¸ºï¼Œæˆ–è€…æä¾›è¿™ä¸ªç±»å†…éƒ¨çš„åŸºæœ¬è¡Œä¸ºã€‚å†…éƒ¨è¡Œä¸ºæ˜¯ä¸å…è®¸å…¶ä»–å¯¹è±¡è®¿é—®çš„ç§æœ‰æ–¹æ³•ã€‚é™¤éæ˜¯æš´éœ²äº†ç›¸åº”çš„setã€getæ–¹æ³•ã€‚ æ¶ˆæ¯æ¶ˆæ¯æ˜¯å¯¹è±¡ä¹‹å®¶çš„é€šä¿¡æœºåˆ¶ã€‚ä¾‹å¦‚å½“å¯¹è±¡Aè°ƒç”¨å¯¹è±¡Bçš„ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œå¯¹è±¡Aå°±æ˜¯åœ¨å‘å¯¹è±¡Bå‘é€ä¸€ä¸ªæ¶ˆæ¯ã€‚å½“ç„¶ï¼Œåªæœ‰å¯¹è±¡çš„å…¬å…±æ–¹æ³•èƒ½å¤Ÿè¢«å¦ä¸€ä¸ªå¯¹è±¡è°ƒç”¨ã€‚ å°è£…å’Œæ•°æ®çš„éšè—ä½¿ç”¨å¯¹è±¡çš„ä¸»è¦ä¼˜ç‚¹ä¹‹ä¸€ï¼Œå°±æ˜¯å¯¹è±¡ä¸éœ€è¦å…¬å¼€å®ƒçš„æ‰€æœ‰å±æ€§å’Œè¡Œä¸ºã€‚åœ¨å¥½çš„OOè®¾è®¡ä¸­ï¼Œå¯¹è±¡åªåº”è¯¥å…¬å¼€å…¶ä»–å¯¹è±¡ä¸ä¹‹äº¤äº’æ‰€å¿…é¡»çš„æ¥å£ã€‚ä¸å¯¹è±¡è®¾è®¡æ— å…³çš„ç»†èŠ‚åº”å½“å¯¹æ‰€æœ‰çš„å¯¹è±¡éšè—ã€‚ æ¥å£æ¥ä¸Šæ–‡ï¼Œæ¥å£å®šä¹‰äº†å¯¹è±¡é—´é€šä¿¡çš„åŸºæœ¬é€”å¾„ã€‚æ¯ä¸ªç±»è®¾è®¡éƒ½è¦æŒ‡å®šæ¥å£æ¥æ­£ç¡®åœ°å®ç°å¯¹è±¡çš„å®ä¾‹åŒ–å’Œæ“ä½œã€‚åœ¨å¤§å¤šæ•°OOè¯­è¨€ä¸­ï¼Œæ¥å£ä¸­çš„æ–¹æ³•éƒ½æŒ‡å®šä¸ºpublic ç§æœ‰æ•°æ®è¦å®ç°æ•°æ®éšè—ï¼Œæ‰€æœ‰å±æ€§éƒ½åº”è¯¥å£°æ˜ä¸ºprivateã€‚å› æ­¤å±æ€§ä¸æ˜¯æ¥å£çš„ä¸€éƒ¨åˆ†ã€‚åªæœ‰publicæ–¹æ³•æ‰æ•°æ®ç±»æ¥å£ã€‚å°†å±æ€§å£°æ˜ä¸ºpublicä¼šç ´åæ•°æ®éšè—çš„æ¦‚å¿µã€‚ ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼ŒåŒ…å«äº†ç§æœ‰å±æ€§ã€ç§æœ‰æ–¹æ³•ã€å…¬å…±æ¥å£ 1234567891011121314151617181920class IntSquare &#123; //ç§æœ‰å±æ€§ private squareValue: number //å…¬å…±æ¥å£ public getSquare(value: number) &#123; this.squareValue = this.calculateSquare(value) return this.squareValue &#125; //ç§æœ‰æ–¹æ³• private calculateSquare(value: number) &#123; return value * value &#125;&#125;let intSquare = new IntSquare()console.log(intSquare.getSquare(10)) ç»§æ‰¿OOç¨‹åºè®¾è®¡ä¸­æœ€å¼ºå¤§çš„ä¸€ä¸ªç‰¹æ€§å°±æ˜¯ä»£ç é‡ç”¨ï¼Œä½ å¯ä»¥ç¼–å†™ä¸€ä¸ªè¿‡ç¨‹ï¼Œç„¶åæ ¹æ®éœ€è¦ä½¿ç”¨å¤šæ¬¡ã€‚ä¸è¿‡OOè®¾è®¡æ›´è¿‘ä¸€æ­¥ï¼Œå…è®¸é€šè¿‡ç»„ç»‡ç±»å¹¶æŠ½å–å„ä¸ªç±»çš„å…±æ€§æ¥å®šä¹‰ç±»ä¹‹é—´çš„å…³ç³»ï¼Œè¿™ä¸ä»…æœ‰åˆ©äºä»£ç é‡ç”¨ï¼Œè¿˜å¯ä»¥å®ç°æ›´å¥½çš„æ•´ä½“è®¾è®¡ã€‚ çˆ¶äº²ç±»å’Œå­ç±»çˆ¶ç±»åŒ…å«ç»§æ‰¿è‡ªè¯¥ç±»çš„æ‰€æœ‰å­ç±»å…±åŒçš„å±æ€§å’Œæ–¹æ³•ã€‚ æŠ½è±¡ç»§æ‰¿çš„å¼ºå¤§ä¹‹å¤„å°±åœ¨äºå…¶æŠ½è±¡å’Œç»„ç»‡æŠ€æœ¯ã€‚ åœ¨å½“å‰çš„å¤šæ•°OOè¯­è¨€ä¸­ï¼Œä¸€ä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»ï¼›ä¸è¿‡ä¸€ä¸ªçˆ¶ç±»å¯ä»¥æœ‰å¤šä¸ªå­ç±»ã€‚ä¸€ä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»å«å•é‡ç»§æ‰¿ï¼ˆjavaã€.netï¼‰ã€ä¸€ä¸ªç±»åªèƒ½æœ‰å¤šä¸ªçˆ¶ç±»å«å¤šé‡ç»§æ‰¿ï¼ˆå¦‚C++ï¼‰ å¤šæ€å­—é¢æ„æ€æ˜¯å¤šç§å½¢çŠ¶ã€‚é—®é¢˜å¼•ç”³ï¼Œç”±äºæ¯ä¸ªå­ç±»éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„å®ä½“ï¼Œä»–ä»¬å¯èƒ½éœ€è¦å¯¹åŒä¸€ä¸ªæ¶ˆæ¯åšå‡ºä¸åŒçš„å“åº”ã€‚ å¤šæ€æ˜¯æŒ‡ç±»ä¼¼å¯¹è±¡å¯ä»¥é‡‡ç”¨ä¸åŒçš„æ–¹å¼å¯¹ç›¸åŒçš„æ¶ˆæ¯åšå‡ºç›¸åº”ã€‚ æ„é€ å‡½æ•°å¦‚æœä¸€ä¸ªæ–¹æ³•ä¸æ‰€åœ¨çš„ç±»åŒåï¼Œè€Œä¸”æ²¡æœ‰æä¾›ä»»ä½•è¿”å›ç±»å‹ï¼Œè¿™å°±æ˜¯æ„é€ å‡½æ•°ã€‚å¯ä»¥æŠŠæ„é€ å‡½æ•°å½“åšç±»çš„å…¥å£ç‚¹ï¼Œè¿™é‡Œéå¸¸é€‚åˆå®Œæˆåˆå§‹åŒ–å’Œå‡†å¤‡å·¥ä½œã€‚ å°ç»“æœ¬ç« ä¸»è¦åŒ…å«ä»¥ä¸‹éƒ¨åˆ†ï¼š å°è£…ï¼šå°†å±æ€§å’Œæ–¹æ³•å°è£…åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ ç»§æ‰¿: ä¸€ä¸ªç±»å¯ä»¥ä»å¦ä¸€ä¸ªç±»ç»§æ‰¿ï¼Œå¹¶ä¸”å¯ä»¥åˆ©ç”¨çˆ¶ç±»å®šä¹‰çš„å±æ€§å’Œæ–¹æ³• å¤šæ€ï¼šå¯¹è±¡å¯ä»¥é‡‡ç”¨ä¸åŒçš„æ–¹å¼å¯¹ç›¸åŒçš„æ¶ˆæ¯åšå‡ºå“åº” ç»„åˆï¼šä¸€ä¸ªå¯¹è±¡ç”±å…¶ä»–å¯¹è±¡æ„å»ºè€Œæˆ ç¤ºä¾‹ä»£ç å®šä¹‰ä¸€ä¸ªç±»ï¼Œç›´æ¥å®ä¾‹åŒ–æˆ–è€…åœ¨å¦ä¸€ä¸ªå¯¹è±¡ä¸­å®ä¾‹åŒ– 1234567891011121314151617181920212223242526272829class Person &#123; private strName: string private strAddress: string get name(): string &#123; return this.strName &#125; set name(name: string) &#123; this.strName = name &#125;&#125;class TestPerson &#123; private personq: Person = new Person() constructor() &#123; this.personq.name = 'aaa' console.log(this.personq.name) &#125;&#125;let person = new Person()person.name = 'jojo'console.log(person.name) //jojolet testPerson = new TestPerson() //aaa]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
        <tag>é¢å¯¹å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mongodbäºŒï¼ˆå‘½ä»¤è¡Œæ“ä½œï¼‰]]></title>
    <url>%2F2017%2F08%2F16%2Fcl4s3gtgw006kwn9e7kirpzxw%2F</url>
    <content type="text"><![CDATA[MongoDBåˆ†ç‰‡åœ¨MongoDBé‡Œé¢å­˜åœ¨å¦ä¸€ç§é›†ç¾¤ï¼Œå°±æ˜¯åˆ†ç‰‡æŠ€æœ¯ï¼Œå¯ä»¥æ»¡è¶³MongoDBæ•°æ®å¤§é‡å¢é•¿çš„éœ€æ±‚ã€‚å½“MongoDBå­˜å‚¨æµ·é‡æ•°æ®çš„æ—¶å€™ï¼Œä¸€å°æœºå™¨å¯èƒ½ä¸è¶³ä»¥å­˜å‚¨æ•°æ®ï¼Œä¹Ÿä¸è¶³ä»¥æä¾›å¯æ¥å—çš„è¯»å†™ååé‡ã€‚è¿™æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡åœ¨å¤šå°æœºå™¨ä¸Šåˆ†å‰²æ•°æ®ï¼Œä½¿å¾—æ•°æ®åº“ç³»ç»Ÿèƒ½å­˜å‚¨å’Œå¤„ç†æ›´å¤šæ•°æ®ã€‚ ä¸ºä»€ä¹ˆä½¿ç”¨åˆ†ç‰‡æŠ€æœ¯ å¤åˆ¶æ‰€æœ‰çš„å†™å…¥æ“ä½œåˆ°ä¸»èŠ‚ç‚¹ å»¶è¿Ÿæ•æ„Ÿæ•°æ®ä¼šåœ¨ä¸»èŠ‚ç‚¹æŸ¥è¯¢ å•ä¸ªå‰¯æœ¬é›†é™åˆ¶åœ¨12ä¸ªèŠ‚ç‚¹ å½“è¯·æ±‚é‡å·¨å¤§æ—¶ä¼šå‡ºç°å†…å­˜ä¸è¶³ æœ¬åœ°ç£ç›˜ä¸è¶³ å‚ç›´æ‰©å±•ä»·æ ¼é«˜ MongoDBåˆ†ç‰‡ä¸‹å›¾å±•ç¤ºäº†åœ¨MongoDBä¸­ä½¿ç”¨åˆ†ç‰‡é›†ç¾¤ç»“æ„åˆ†å¸ƒï¼š ä¸Šå›¾ä¸­ä¸»è¦æœ‰å¦‚ä¸‹æ‰€è¿°ä¸‰ä¸ªä¸»è¦ç»„ä»¶ï¼š Shardï¼šç”¨äºå­˜å‚¨å®é™…çš„æ•°æ®å—ï¼Œå®é™…ç”Ÿäº§ç¯å¢ƒä¸­æœ‰ä¸€ä¸ªshard serverè§’è‰²å¯ç”±å‡ å°æœºå™¨ç»„ä¸€ä¸ªreplica setæ‰¿æ‹…ï¼Œé˜²æ­¢ä¸»æœºå•ç‚¹æ•…éšœ Config Serverï¼šmongodå®ä¾‹ï¼Œå­˜å‚¨äº†æ•´ä¸ªClusterMetadataï¼Œå…¶ä¸­åŒ…æ‹¬chunkä¿¡æ¯ Query Routersï¼šå‰ç«¯è·¯ç”±ï¼Œå®¢æˆ·ç«¯ç”±æ­¤æ¥å…¥ï¼Œä¸”è®©æ•´ä¸ªé›†ç¾¤çœ‹ä¸Šå»åƒå•ä¸€æ•°æ®åº“ï¼Œå‰ç«¯åº”ç”¨å¯ä»¥é€æ˜ä½¿ç”¨ã€‚ å®ä¾‹å…·ä½“å®ä¾‹å‚è€ƒèœé¸Ÿæ•™ç¨‹ MongoDBå¤‡ä»½ï¼ˆmongodumpï¼‰ä¸æ¢å¤ï¼ˆmongorestoreï¼‰æ•°æ®å¤‡ä»½åœ¨MongoDBä¸­æˆ‘ä»¬ä½¿ç”¨mongodumpå‘½ä»¤æ¥å¤‡ä»½MongoDBæ•°æ®ï¼Œè¯¥å‘½ä»¤å¯ä»¥å¯¼å‡ºæ‰€æœ‰æ•°æ®åˆ°æŒ‡å®šç›®å½•ä¸­ã€‚mongodumpå‘½ä»¤å¯ä»¥é€šè¿‡å‚æ•°æŒ‡å®šå¯¼å‡ºçš„æ•°æ®é‡çº§è½¬å­˜çš„æœåŠ¡å™¨ã€‚ è¯­æ³•1234&gt;mongodump -h dbhost -d dbname -o dbdirectory//-h:mongoDBæ‰€åœ¨æœåŠ¡å™¨åœ°å€ï¼Œå¦‚127.0.0.1ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šç«¯å£å·ï¼š127.0.0.1ï¼š27017 //-d:éœ€è¦å¤‡ä»½çš„æ•°æ®åº“å®ä¾‹ï¼Œä¾‹å¦‚test//-o:å¤‡ä»½çš„å‡ºå±€å­˜æ”¾ä½ç½®ï¼Œä¾‹å¦‚ï¼š c:\data\dump ï¼Œå½“ç„¶è¯¥ç›®å½•éœ€è¦æå‰å»ºç«‹ï¼Œå½“å¤‡ä»½å®Œæˆåï¼Œç³»ç»Ÿä¼šåœ¨dumpç›®å½•ä¸‹ä»¶ä¸€ä¸ªtestç›®å½•ï¼Œè¿™ä¸ªç›®å½•é‡Œå­˜æ”¾è¯¥æ•°æ®åº“å®ä¾‹çš„å¤‡ä»½æ•°æ® å®ä¾‹åœ¨å½“å‰ç›®å½•ä¸‹ï¼Œæ–°å»ºç»ˆç«¯ï¼Œå¤‡ä»½åˆ°å½“å‰ç›®å½• 123456789101112131415luoyecs-iMac:~ LW-luoyec$ mongodump2017-07-26T05:11:32.736+0800 writing admin.system.version to 2017-07-26T05:11:32.739+0800 done dumping admin.system.version (1 document)2017-07-26T05:11:32.739+0800 writing test.fruits to 2017-07-26T05:11:32.739+0800 writing test.user to 2017-07-26T05:11:32.740+0800 writing test.meterial to 2017-07-26T05:11:32.740+0800 writing test.col to 2017-07-26T05:11:32.740+0800 done dumping test.user (2 documents)2017-07-26T05:11:32.740+0800 writing movie.çš„ to 2017-07-26T05:11:32.740+0800 done dumping test.fruits (7 documents)2017-07-26T05:11:32.740+0800 writing test.values to 2017-07-26T05:11:32.741+0800 done dumping test.meterial (1 document)2017-07-26T05:11:32.741+0800 done dumping test.col (3 documents)2017-07-26T05:11:32.741+0800 done dumping movie.çš„ (0 documents)2017-07-26T05:11:32.741+0800 done dumping test.values (0 documents) mongodump å‘½ä»¤å¯é€‰å‚æ•°åˆ—è¡¨å¦‚ä¸‹æ‰€ç¤ºï¼š æ•°æ®æ¢å¤ mongodbä½¿ç”¨mongorestoreå‘½ä»¤æ¥æ¢å¤å¤‡ä»½åˆ°æ•°æ®ã€‚ è¯­æ³•123456789101112131415&gt;mongorestore -h &lt;hostname&gt;&lt;:port&gt; -d dbname &lt;path&gt;/*--host &lt;:port&gt;, -h &lt;:port&gt;ï¼šMongoDBæ‰€åœ¨æœåŠ¡å™¨åœ°å€ï¼Œé»˜è®¤ä¸ºï¼š localhost:27017--db , -d ï¼šéœ€è¦æ¢å¤çš„æ•°æ®åº“å®ä¾‹ï¼Œä¾‹å¦‚ï¼štestï¼Œå½“ç„¶è¿™ä¸ªåç§°ä¹Ÿå¯ä»¥å’Œå¤‡ä»½æ—¶å€™çš„ä¸ä¸€æ ·ï¼Œæ¯”å¦‚test2--dropï¼šæ¢å¤çš„æ—¶å€™ï¼Œå…ˆåˆ é™¤å½“å‰æ•°æ®ï¼Œç„¶åæ¢å¤å¤‡ä»½çš„æ•°æ®ã€‚å°±æ˜¯è¯´ï¼Œæ¢å¤åï¼Œå¤‡ä»½åæ·»åŠ ä¿®æ”¹çš„æ•°æ®éƒ½ä¼šè¢«åˆ é™¤ï¼Œæ…ç”¨å“¦ï¼&lt;path&gt;ï¼šmongorestore æœ€åçš„ä¸€ä¸ªå‚æ•°ï¼Œè®¾ç½®å¤‡ä»½æ•°æ®æ‰€åœ¨ä½ç½®ï¼Œä¾‹å¦‚ï¼šc:\data\dump\testã€‚ä½ ä¸èƒ½åŒæ—¶æŒ‡å®š &lt;path&gt; å’Œ --dir é€‰é¡¹ï¼Œ--dirä¹Ÿå¯ä»¥è®¾ç½®å¤‡ä»½ç›®å½•ã€‚--dirï¼šæŒ‡å®šå¤‡ä»½çš„ç›®å½•ä½ ä¸èƒ½åŒæ—¶æŒ‡å®š &lt;path&gt; å’Œ --dir é€‰é¡¹ã€‚*/ å®ä¾‹1&gt;mongorestore æ‰§è¡Œä»¥ä¸Šå‘½ä»¤è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š]]></content>
      <categories>
        <category>mongodb</category>
      </categories>
      <tags>
        <tag>mongodb</tag>
        <tag>å‘½ä»¤è¡Œ</tag>
        <tag>å¢åˆ æ”¹æŸ¥</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mongodbä¸€ï¼ˆå‘½ä»¤è¡Œæ“ä½œï¼‰]]></title>
    <url>%2F2017%2F08%2F16%2Fcl4s3gtgv006iwn9edmnoh0ng%2F</url>
    <content type="text"><![CDATA[å‚è€ƒèµ„æ–™ï¼šèœé¸Ÿæ•™ç¨‹ åˆ›å»ºæ•°æ®åº“å®ä¾‹use åˆ›å»ºæ•°æ®åº“1234&gt; use runoob //å¦‚æ•°æ®åº“ä¸å­˜åˆ™åˆ›å»ºï¼Œå¦åˆ™åˆ‡æ¢åˆ°åˆ¶å®šæ•°æ®åº“switched to db runoob&gt; db //æ˜¾ç¤ºå½“å‰æ“ä½œçš„æ•°æ®åº“runoob show dbs æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“ 1234&gt; show dbs //å¦‚æœæ•°æ®åº“ä¸­æ²¡æœ‰æ•°æ®ï¼Œåˆ™ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥admin 0.000GBlocal 0.000GBrunoob 0.000GB insert æ’å…¥æ•°æ® 123456&gt; db.runoob.insert(&#123;"name":"lyctea"&#125;)WriteResult(&#123; "nInserted" : 1 &#125;)&gt; show dbsadmin 0.000GBlocal 0.000GBrunoob 0.000GB åˆ é™¤æ•°æ®åº“è¯­æ³•åˆ é™¤å½“å‰æ•°æ®åº“ï¼Œé»˜è®¤ä¸º testï¼Œä½ å¯ä»¥ä½¿ç”¨ db å‘½ä»¤æŸ¥çœ‹å½“å‰æ•°æ®åº“å1db.dropDatabase() å®ä¾‹åˆ é™¤æ•°æ®åº“ runoob é¦–å…ˆï¼ŒæŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“ï¼š 1234&gt; show dbsadmin 0.000GBlocal 0.000GBrunoob 0.000GB æ¥ä¸‹æ¥æˆ‘ä»¬åˆ‡æ¢åˆ°æ•°æ®åº“ runoobï¼š 123&gt; use runoobswitched to db runoob&gt; æ‰§è¡Œåˆ é™¤å‘½ä»¤ï¼š 12&gt; db.dropDatabase()&#123; "dropped" : "runoob", "ok" : 1 &#125; æœ€åï¼Œæˆ‘ä»¬å†é€šè¿‡ show dbs å‘½ä»¤æ•°æ®åº“æ˜¯å¦åˆ é™¤æˆåŠŸï¼š 123&gt; show dbsadmin 0.000GBlocal 0.000GB åˆ é™¤é›†åˆé›†åˆåˆ é™¤è¯­æ³•æ ¼å¼å¦‚ä¸‹: 1db.collection.drop() //collection æ˜¯é›†åˆå ä»¥ä¸‹å®ä¾‹åˆ é™¤äº† runoob æ•°æ®åº“ä¸­çš„é›†åˆ runoobï¼š 123456&gt; show tablesrunoob&gt; db.runoob.drop()true&gt; show tables&gt; æ’å…¥æ–‡æ¡£æ–‡æ¡£çš„æ•°æ®ç»“æ„å’ŒJSONåŸºæœ¬ä¸€æ ·ã€‚æ‰€æœ‰å­˜å‚¨åœ¨é›†åˆä¸­çš„æ•°æ®éƒ½æ˜¯BSONæ ¼å¼ã€‚BSONæ˜¯ä¸€ç§ç±»jsonçš„ä¸€ç§äºŒè¿›åˆ¶å½¢å¼çš„å­˜å‚¨æ ¼å¼,ç®€ç§°Binary JSON æ’å…¥æ–‡æ¡£MongoDB ä½¿ç”¨ insert() æˆ– save() æ–¹æ³•å‘é›†åˆä¸­æ’å…¥æ–‡æ¡£ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š 1db.COLLECTION_NAME.insert(document) å®ä¾‹ä»¥ä¸‹æ–‡æ¡£å¯ä»¥å­˜å‚¨åœ¨ MongoDB çš„ runoob æ•°æ®åº“ çš„ col é›†åˆä¸­ï¼š 123&gt; db.col.insert(&#123;title: 'MongDB master',description: 'Mongo is s Nosql database'&#125;)WriteResult(&#123; "nInserted" : 1 &#125;) æŸ¥çœ‹å·²ç»æ’å…¥çš„æ–‡æ¡£ï¼Œå¦‚æœè¯¥é›†åˆä¸åœ¨è¯¥æ•°æ®åº“ä¸­ï¼Œ MongoDB ä¼šè‡ªåŠ¨åˆ›å»ºè¯¥é›†åˆå¹¶æ’å…¥æ–‡æ¡£ã€‚ 12&gt; db.col.find()&#123; "_id" : ObjectId("597005c9c1f1597f764b41bb"), "title" : "MongDB master", "description" : "Mongo is s Nosql database" &#125; å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œæ’å…¥æ•°æ®åº“ä¸­ 1234567&gt; document = &#123;title: 'is a var',description: 'use test'&#125;&#123; "title" : "is a var", "description" : "use test" &#125;&gt; db.col.insert(document)WriteResult(&#123; "nInserted" : 1 &#125;)&gt; db.col.find()&#123; "_id" : ObjectId("597005c9c1f1597f764b41bb"), "title" : "MongDB master", "description" : "Mongo is s Nosql database" &#125;&#123; "_id" : ObjectId("597006d5c1f1597f764b41bc"), "title" : "is a var", "description" : "use test" &#125; æ’å…¥æ–‡æ¡£ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ db.col.save(document) å‘½ä»¤ã€‚å¦‚æœä¸æŒ‡å®š _id å­—æ®µ save() æ–¹æ³•ç±»ä¼¼äº insert() æ–¹æ³•ã€‚å¦‚æœæŒ‡å®š _id å­—æ®µï¼Œåˆ™ä¼šæ›´æ–°è¯¥ _id çš„æ•°æ®ã€‚ æ›´æ–°æ–‡æ¡£MongoDB ä½¿ç”¨ update() å’Œ save() æ–¹æ³•æ¥æ›´æ–°é›†åˆä¸­çš„æ–‡æ¡£ update() æ–¹æ³•ç”¨äºæ›´æ–°å·²ç»å­˜åœ¨çš„æ–‡æ¡£ è¯­æ³•æ ¼å¼123456789db.collection.update( &lt;query&gt;, //æŸ¥è¯¢æ¡ä»¶ï¼Œç±»ä¼¼sql updateæŸ¥è¯¢å†…whereåé¢çš„ &lt;update&gt;, //updateå¯¹è±¡å’Œä¸€äº›æ›´æ–°çš„æ“ä½œç¬¦ &#123; upsert: &lt;boolean&gt;, //å¯é€‰ï¼Œå¦‚æœä¸å­˜åœ¨updateè®°å½•ï¼Œæ˜¯å¦æ’å…¥ObjNewï¼Ÿæ’å…¥ï¼šä¸æ’å…¥ multi: &lt;boolean&gt;, //å¯é€‰ï¼Œé»˜è®¤ä¸ºfalseï¼Œåªæ›´æ–°æŸ¥æ‰¾åˆ°çš„ç¬¬ä¸€æ¡è®°å½•ï¼Œå¦‚æœä¸ºtrueï¼Œåˆ™æŒ‰æ¡ä»¶æŸ¥å‡ºæ¥çš„è®°å½•å…¨éƒ¨æ›´æ–° writeConcern: &lt;document&gt; //å¯é€‰ï¼ŒæŠ›å‡ºå¼‚å¸¸çš„çº§åˆ« &#125;) å®ä¾‹æˆ‘ä»¬åœ¨é›†åˆ col ä¸­æ’å…¥å¦‚ä¸‹æ•°æ®ï¼š 1234567891011121314151617181920&gt; db.col.insert(&#123;title:'jiaocheng',class: 'yuwen'&#125;)WriteResult(&#123; "nInserted" : 1 &#125;)&gt; db.col.update(&#123;title:'jiaocheng'&#125;,&#123;$set:&#123;title: 'peixun'&#125;&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.col.find().pretty()&#123; "_id" : ObjectId("597005c9c1f1597f764b41bb"), "title" : "MongDB master", "description" : "Mongo is s Nosql database"&#125;&#123; "_id" : ObjectId("597006d5c1f1597f764b41bc"), "title" : "is a var", "description" : "use test"&#125;&#123; "_id" : ObjectId("5970093bc1f1597f764b41bd"), "title" : "peixun", "class" : "yuwen"&#125; ä¿®æ”¹å¤šæ¡æ–‡æ¡£ 12&gt; db.col.update(&#123;title:'jiaocheng'&#125;,&#123;$set:&#123;title:'MongoDB'&#125;&#125;,&#123;multi:true&#125;)WriteResult(&#123; "nMatched" : 2, "nUpserted" : 0, "nModified" : 2 &#125;) save()æ–¹æ³•save()æ–¹æ³•é€šè¿‡ä¼ å…¥çš„æ–‡æ¡£æ¥æ›¿æ¢å·²æœ‰æ–‡æ¡£ï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹ 123456db.collection.save( &lt;document&gt;, //æ–‡æ¡£æ•°æ® &#123; writeConcern: &lt;document&gt; //å¯é€‰ï¼Œè·‘å‡ºå¼‚å¸¸çº§åˆ« &#125;) å®ä¾‹ï¼šä»¥ä¸‹å®ä¾‹ä¸­æˆ‘ä»¬æ›¿æ¢äº† _id ä¸º 597005c9c1f1597f764b41bb çš„æ–‡æ¡£æ•°æ®ï¼š 12345678&gt; db.col.save(&#123;_id: ObjectId('597005c9c1f1597f764b41bb'),title: 'changeById',by:'lyctea'&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.col.find().pretty()&#123; "_id" : ObjectId("597005c9c1f1597f764b41bb"), "title" : "changeById", "by" : "lyctea"&#125; æ›´å¤šå®ä¾‹123456789101112//åªæ›´æ–°ç¬¬ä¸€æ¡è®°å½•ï¼šdb.col.update( &#123; "count" : &#123; $gt : 1 &#125; &#125; , &#123; $set : &#123; "test2" : "OK"&#125; &#125; );//å…¨éƒ¨æ›´æ–°ï¼šdb.col.update( &#123; "count" : &#123; $gt : 3 &#125; &#125; , &#123; $set : &#123; "test2" : "OK"&#125; &#125;,false,true );//åªæ·»åŠ ç¬¬ä¸€æ¡ï¼šdb.col.update( &#123; "count" : &#123; $gt : 4 &#125; &#125; , &#123; $set : &#123; "test5" : "OK"&#125; &#125;,true,false );//å…¨éƒ¨æ·»åŠ åŠ è¿›å»:db.col.update( &#123; "count" : &#123; $gt : 5 &#125; &#125; , &#123; $set : &#123; "test5" : "OK"&#125; &#125;,true,true );//å…¨éƒ¨æ›´æ–°ï¼šdb.col.update( &#123; "count" : &#123; $gt : 15 &#125; &#125; , &#123; $inc : &#123; "count" : 1&#125; &#125;,false,true );//åªæ›´æ–°ç¬¬ä¸€æ¡è®°å½•ï¼šdb.col.update( &#123; "count" : &#123; $gt : 10 &#125; &#125; , &#123; $inc : &#123; "count" : 1&#125; &#125;,false,false ); åˆ é™¤æ–‡æ¡£MongoDB remove()å‡½æ•°æ˜¯ç”¨æ¥ç§»é™¤é›†åˆä¸­çš„æ•°æ®ã€‚MongoDBæ•°æ®æ›´æ–°å¯ä»¥ä½¿ç”¨update()å‡½æ•°ã€‚åœ¨æ‰§è¡Œremove()å‡½æ•°å‰å…ˆæ‰§è¡Œfind()å‘½ä»¤æ¥åˆ¤æ–­æ‰§è¡Œçš„æ¡ä»¶æ˜¯å¦æ­£ç¡®ï¼Œè¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„ä¹ æƒ¯ã€‚ è¯­æ³•remove() æ–¹æ³•çš„åŸºæœ¬è¯­æ³•æ ¼å¼å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567db.collection.remove( &lt;query&gt;, //å¯é€‰ï¼Œåˆ é™¤æ–‡æ¡£çš„æ¡ä»¶ &#123; justOne: &lt;boolean&gt;, //å¯é€‰ï¼Œå¦‚æœä¸ºtrueæˆ–1ï¼Œåˆ™åªåˆ é™¤ä¸€ä¸ªæ–‡æ¡£ writeConcern: &lt;document&gt; //å¯é€‰ï¼ŒæŠ›å‡ºå¼‚å¸¸çš„çº§åˆ« &#125;) å®ä¾‹ç§»é™¤title ä¸º MongoDBçš„æ–‡æ¡£ 123456789101112131415161718&gt; db.col.remove(&#123;title:'MongoDB'&#125;)WriteResult(&#123; "nRemoved" : 2 &#125;)&gt; db.col.find().pretty()&#123; "_id" : ObjectId("597005c9c1f1597f764b41bb"), "title" : "changeById", "by" : "lyctea"&#125;&#123; "_id" : ObjectId("597006d5c1f1597f764b41bc"), "title" : "is a var", "description" : "use test"&#125;&#123; "_id" : ObjectId("5970093bc1f1597f764b41bd"), "title" : "peixun", "class" : "yuwen"&#125; æŸ¥è¯¢æ–‡æ¡£MongoDB æŸ¥è¯¢æ–‡æ¡£ä½¿ç”¨ find() æ–¹æ³•ã€‚find() æ–¹æ³•ä»¥éç»“æ„åŒ–çš„æ–¹å¼æ¥æ˜¾ç¤ºæ‰€æœ‰æ–‡æ¡£ è¯­æ³•MongoDB æŸ¥è¯¢æ•°æ®çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 12db.collection.find(query, //å¯é€‰ï¼Œä½¿ç”¨æŸ¥è¯¢æ“ç¬¦åˆ¶å®šæŸ¥è¯¢æ¡ä»¶ï¼›projection) ï¼ï¼å¯é€‰ï¼Œä½¿ç”¨æŠ•å½±æ“ä½œç¬¦è¿”å›æŒ‡å®šçš„å¥ï¼Œé»˜è®¤çœç•¥ å¦‚æœä½ éœ€è¦ä»¥æ˜“è¯»çš„æ–¹å¼æ¥è¯»å–æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ pretty() æ–¹æ³•ï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1234567891011121314&gt;db.col.find().pretty() //pretty() æ–¹æ³•ä»¥æ ¼å¼åŒ–çš„æ–¹å¼æ¥æ˜¾ç¤ºæ‰€æœ‰æ–‡æ¡£ã€‚&#123; "_id" : ObjectId("56063f17ade2f21f36b03133"), "title" : "MongoDB æ•™ç¨‹", "description" : "MongoDB æ˜¯ä¸€ä¸ª Nosql æ•°æ®åº“", "by" : "èœé¸Ÿæ•™ç¨‹", "url" : "http://www.runoob.com", "tags" : [ "mongodb", "database", "NoSQL" ], "likes" : 100&#125; é™¤äº† find() æ–¹æ³•ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ª findOne() æ–¹æ³•ï¼Œå®ƒåªè¿”å›ä¸€ä¸ªæ–‡æ¡£ã€‚ MongoDB AND æ¡ä»¶MongoDB çš„ find() æ–¹æ³•å¯ä»¥ä¼ å…¥å¤šä¸ªé”®(key)ï¼Œæ¯ä¸ªé”®(key)ä»¥é€—å·éš”å¼€ï¼ŒåŠå¸¸è§„ SQL çš„ AND æ¡ä»¶ã€‚è¯­æ³•æ ¼å¼å¦‚ä¸‹1&gt;db.col.find(&#123;key1:value1, key2:value2&#125;).pretty() å®ä¾‹ï¼šä»¥ä¸‹å®ä¾‹é€šè¿‡classå’Œtitleå¥æ¥æŸ¥è¯¢æ•°æ®12&gt; db.col.find(&#123;'class':'yuwen'&#125;,&#123;'title':'peixun'&#125;).pretty()&#123; "_id" : ObjectId("5970093bc1f1597f764b41bd"), "title" : "peixun" &#125; MongoDB OR æ¡ä»¶MongoDB OR æ¡ä»¶è¯­å¥ä½¿ç”¨äº†å…³é”®å­— $or,è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š1234567&gt;db.col.find( &#123; $or: [ &#123;key1: value1&#125;, &#123;key2:value2&#125; ] &#125;).pretty() å®ä¾‹ä»¥ä¸‹å®ä¾‹é€šè¿‡classæˆ–è€…titleå¥æ¥æŸ¥è¯¢æ•°æ®123456&gt; db.col.find(&#123;$or:[&#123;'class':'yuwen'&#125;,&#123;'title':'peixun'&#125;]&#125;).pretty()&#123; "_id" : ObjectId("5970093bc1f1597f764b41bd"), "title" : "peixun", "class" : "yuwen"&#125; AND å’Œ OR è”åˆä½¿ç”¨è”åˆæ¡ä»¶æŸ¥è¯¢ï¼ŒæŸ¥è¯¢likeså¤§äº50ï¼Œå¹¶classä¸ºè¯­æ–‡æˆ–è€…titleä¸ºpeixunçš„æ–‡æ¡£ (&gt;50&amp;&amp;(class==yuwen || title==peixun)) 1234567&gt; db.col.find(&#123;'likes':&#123;$gt:50&#125;,$or:[&#123;'class':'yuwen'&#125;,&#123;'title':'peixun'&#125;]&#125;).pretty()&#123; "_id" : ObjectId("5970093bc1f1597f764b41bd"), "title" : "peixun", "class" : "yuwen", "likes" : 80&#125; MongoDBæ¡ä»¶æ“ä½œç¬¦æè¿°æ¡ä»¶æ“ä½œç¬¦ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªè¡¨è¾¾å¼å¹¶ä»mongoDBé›†åˆä¸­è·å–æ•°æ®MongoDBä¸­æ¡ä»¶æ“ä½œç¬¦æœ‰ï¼š1234&gt; -$gt å¤§äº&lt; -$lt å°äº&gt;= -$gte å¤§äºç­‰äº&lt;= -$lte å°äºç­‰äº æ¸…ç©ºé›†åˆçš„æ•°æ®12&gt; db.col.remove(&#123;&#125;)WriteResult(&#123; "nRemoved" : 3 &#125;) æ’å…¥ä»¥ä¸‹æ•°æ®1234567891011121314151617181920212223242526&gt; db.col.insert(&#123;... title: 'PHP æ•™ç¨‹', ... description: 'PHP æ˜¯ä¸€ç§åˆ›å»ºåŠ¨æ€äº¤äº’æ€§ç«™ç‚¹çš„å¼ºæœ‰åŠ›çš„æœåŠ¡å™¨ç«¯è„šæœ¬è¯­è¨€ã€‚',... by: 'èœé¸Ÿæ•™ç¨‹',... url: 'http://www.runoob.com',... tags: ['php'],... likes: 200... &#125;)WriteResult(&#123; "nInserted" : 1 &#125;)&gt; db.col.insert(&#123;title: 'Java æ•™ç¨‹', ... description: 'Java æ˜¯ç”±Sun Microsystemså…¬å¸äº1995å¹´5æœˆæ¨å‡ºçš„é«˜çº§ç¨‹åºè®¾è®¡è¯­è¨€ã€‚',... by: 'èœé¸Ÿæ•™ç¨‹',... url: 'http://www.runoob.com',... tags: ['java'],... likes: 150... &#125;)WriteResult(&#123; "nInserted" : 1 &#125;)&gt; db.col.insert(&#123;title: 'MongoDB æ•™ç¨‹', ... description: 'MongoDB æ˜¯ä¸€ä¸ª Nosql æ•°æ®åº“',... by: 'èœé¸Ÿæ•™ç¨‹',... url: 'http://www.runoob.com',... tags: ['mongodb'],... likes: 100... &#125;)WriteResult(&#123; "nInserted" : 1 &#125;) mongoBD (&gt;)æ“ä½œç¬¦ -$gtè·å–colé›†åˆä¸­ï¼Œlikeså¤§äº100çš„æ•°æ®ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸‹å‘½ä»¤123&gt; db.col.find(&#123;likes: &#123;$gt: 100&#125;&#125;)&#123; "_id" : ObjectId("597197fa6d266472131059b0"), "title" : "PHP æ•™ç¨‹", "description" : "PHP æ˜¯ä¸€ç§åˆ›å»ºåŠ¨æ€äº¤äº’æ€§ç«™ç‚¹çš„å¼ºæœ‰åŠ›çš„æœåŠ¡å™¨ç«¯è„šæœ¬è¯­è¨€ã€‚", "by" : "èœé¸Ÿæ•™ç¨‹", "url" : "http://www.runoob.com", "tags" : [ "php" ], "likes" : 200 &#125;&#123; "_id" : ObjectId("597198106d266472131059b1"), "title" : "Java æ•™ç¨‹", "description" : "Java æ˜¯ç”±Sun Microsystemså…¬å¸äº1995å¹´5æœˆæ¨å‡ºçš„é«˜çº§ç¨‹åºè®¾è®¡è¯­è¨€ã€‚", "by" : "èœé¸Ÿæ•™ç¨‹", "url" : "http://www.runoob.com", "tags" : [ "java" ], "likes" : 150 &#125; mongoDB (&gt;=)æ“ä½œç¬¦ -$gteè·å–colé›†åˆä¸­ï¼Œlikeså¤§äºç­‰äº100çš„æ•°æ®1&gt; db.col.find(&#123;likes: &#123;$gte: 100&#125;&#125;) mongoDB (&lt;)å°äºæ“ä½œç¬¦ -$lt1&gt;db.col.find(&#123;likes: &#123;$lt: 100&#125;&#125;) mongoDB (&lt;=)å°äºç­‰äºæ“ä½œç¬¦ -$lte1&gt; db.col.find(&#123;likes: &#123;$lte: 100&#125;&#125;) åŒæ—¶ä½¿ç”¨å¤§äºå’Œå°äºæ¡ä»¶æŸ¥è¯¢è¯­å¥12&gt; db.col.find(&#123;likes: &#123;$lt: 200, $gt: 100&#125;&#125;)&#123; "_id" : ObjectId("597198106d266472131059b1"), "title" : "Java æ•™ç¨‹", "description" : "Java æ˜¯ç”±Sun Microsystemså…¬å¸äº1995å¹´5æœˆæ¨å‡ºçš„é«˜çº§ç¨‹åºè®¾è®¡è¯­è¨€ã€‚", "by" : "èœé¸Ÿæ•™ç¨‹", "url" : "http://www.runoob.com", "tags" : [ "java" ], "likes" : 150 &#125; MongoDB $typeæ“ä½œç¬¦$typeæ“ä½œç¬¦æ˜¯åŸºäºBSONç±»å‹æ¥æ£€ç´¢é›†åˆä¸­åŒ¹é…çš„æ•°æ®ç±»å‹ï¼Œå¹¶è¿”å›ç»“æœMongoDBä¸­å¯ä»¥æ˜¯ä½¿ç”¨çš„ç±»å‹å¦‚ä¸‹ï¼š å®ä¾‹è·å–colé›†åˆä¸­titleä¸ºStringçš„æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤, typeçš„å¥å€¼å¯¹å¯¹ç…§ä¸Šå›¾ 1234 &gt; db.col.find(&#123;title: &#123;$type: 2&#125;&#125;)&#123; "_id" : ObjectId("59719c336d266472131059b3"), "title" : "PHP æ•™ç¨‹", "description" : "PHP æ˜¯ä¸€ç§åˆ›å»ºåŠ¨æ€äº¤äº’æ€§ç«™ç‚¹çš„å¼ºæœ‰åŠ›çš„æœåŠ¡å™¨ç«¯è„šæœ¬è¯­è¨€ã€‚", "by" : "èœé¸Ÿæ•™ç¨‹", "url" : "http://www.runoob.com", "tags" : [ "php" ], "likes" : 200 &#125;&#123; "_id" : ObjectId("59719c386d266472131059b4"), "title" : "Java æ•™ç¨‹", "description" : "Java æ˜¯ç”±Sun Microsystemså…¬å¸äº1995å¹´5æœˆæ¨å‡ºçš„é«˜çº§ç¨‹åºè®¾è®¡è¯­è¨€ã€‚", "by" : "èœé¸Ÿæ•™ç¨‹", "url" : "http://www.runoob.com", "tags" : [ "java" ], "likes" : 150 &#125;&#123; "_id" : ObjectId("59719c416d266472131059b5"), "title" : "MongoDB æ•™ç¨‹", "description" : "MongoDB æ˜¯ä¸€ä¸ª Nosql æ•°æ®åº“", "by" : "èœé¸Ÿæ•™ç¨‹", "url" : "http://www.runoob.com", "tags" : [ "mongodb" ], "likes" : 100 &#125; MongoDB Limitä¸Skipæ–¹æ³•å¦‚æœéœ€è¦åœ¨MongoDBä¸­ï¼Œè¯»å–æŒ‡å®šæ•°é‡çš„æ•°æ®è®°å½•ï¼Œå¯ä»¥ä½¿ç”¨MongoDBçš„Limitæ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°æŒ‡å®šä»MongoDBä¸­è¯»å–çš„è®°å½•æ¡æ•° Limitè¯­æ³•1&gt;db.COLLECTION_NAME.find().limit(NUMBER) å®ä¾‹1234567&gt; db.col.find(&#123;&#125;,&#123;title:1, _id:0&#125;).limit(2)&#123; "title" : "PHP æ•™ç¨‹" &#125;&#123; "title" : "Java æ•™ç¨‹" &#125;&gt; db.col.find(&#123;&#125;,&#123;title:1, _id:0&#125;)&#123; "title" : "PHP æ•™ç¨‹" &#125;&#123; "title" : "Java æ•™ç¨‹" &#125;&#123; "title" : "MongoDB æ•™ç¨‹" &#125; Skipè¯­æ³•1&gt;db.COLLECTION_NAME.find().limit(NUMBER).skip(NUMBER) å®ä¾‹ä»¥ä¸‹å®ä¾‹ä¹‹åæ˜¾ç¤ºç¬¬äºŒæ¡æ–‡æ¡£æ•°æ®12&gt; db.col.find(&#123;&#125;,&#123;title:1,_id:0&#125;).limit(1).skip(1)&#123; "title" : "Java æ•™ç¨‹" &#125; MongoDBæ’åºè¯­æ³•1&gt;db.COLLECTION_NAME.find().sort(&#123;KEY:1&#125;) å®ä¾‹colé›†åˆæŒ‰ç…§likesçš„é™åºæ’åˆ— 1234&gt; db.col.find(&#123;&#125;,&#123;title:1,_id:0&#125;).sort(&#123;likes: -1&#125;)&#123; "title" : "PHP æ•™ç¨‹" &#125;&#123; "title" : "Java æ•™ç¨‹" &#125;&#123; "title" : "MongoDB æ•™ç¨‹" &#125; MongoDB ç´¢å¼•ç´¢å¼•é€šå¸¸èƒ½å¤Ÿæå¤§çš„æé«˜æŸ¥è¯¢çš„æ•ˆç‡ï¼Œå¦‚æœæ²¡æœ‰ç´¢å¼•ï¼ŒMongoDBåœ¨è¯»å–æ•°æ®æ—¶å¿…é¡»æ‰«æé›†åˆä¸­çš„æ¯ä¸ªæ–‡ä»¶å¹¶é€‰å–é‚£äº›ç¬¦åˆæŸ¥è¯¢æ¡ä»¶çš„è®°å½•ã€‚ è¿™ç§æ‰«æå…¨é›†åˆçš„æŸ¥è¯¢æ•ˆç‡æ˜¯éå¸¸ä½çš„ï¼Œç‰¹åˆ«åœ¨å¤„ç†å¤§é‡çš„æ•°æ®æ—¶ï¼ŒæŸ¥è¯¢å¯ä»¥è¦èŠ±è´¹å‡ åç§’ç”šè‡³å‡ åˆ†é’Ÿï¼Œè¿™å¯¹ç½‘ç«™çš„æ€§èƒ½æ˜¯éå¸¸è‡´å‘½çš„ã€‚ ç´¢å¼•æ˜¯ç‰¹æ®Šçš„æ•°æ®ç»“æ„ï¼Œç´¢å¼•å­˜å‚¨åœ¨ä¸€ä¸ªæ˜“äºéå†è¯»å–çš„æ•°æ®é›†åˆä¸­ï¼Œç´¢å¼•æ˜¯å¯¹æ•°æ®åº“è¡¨ä¸­ä¸€åˆ—æˆ–å¤šåˆ—çš„å€¼è¿›è¡Œæ’åºçš„ä¸€ç§ç»“æ„ã€‚ ensureIndex()æ–¹æ³•åˆ›å»ºç´¢å¼•MongoDBä½¿ç”¨ ensureIndex() æ–¹æ³•æ¥åˆ›å»ºç´¢å¼•ã€‚ è¯­æ³•1&gt;db.COLLECTION_NAME.ensureIndex(&#123;KEY:1&#125;) å®ä¾‹ensureIndex()titleå‡åºåˆ›å»ºç´¢å¼•ï¼Œé™åºåˆ™ä¸º-11234567&gt; db.col.ensureIndex(&#123;title:1&#125;)&#123; "createdCollectionAutomatically" : false, "numIndexesBefore" : 1, "numIndexesAfter" : 2, "ok" : 1&#125; ä¹Ÿå¯ä»¥ä½¿ç”¨å¤šä¸ªå­—æ®µæ¥åˆ›å»ºç´¢å¼• 12345678&gt; db.col.ensureIndex(&#123;title: 1, description: -1&#125;)&#123; "createdCollectionAutomatically" : false, "numIndexesBefore" : 3, "numIndexesAfter" : 3, "note" : "all indexes already exist", "ok" : 1&#125; ensureIndex() æ¥æ”¶å¯é€‰å‚æ•°ï¼Œå¯é€‰å‚æ•°åˆ—è¡¨å¦‚ä¸‹ï¼š å®ä¾‹ï¼š 1234567&gt; db.values.ensureIndex(&#123;open: 1, close: 1&#125;, &#123;background: true&#125;)&#123; "createdCollectionAutomatically" : true, "numIndexesBefore" : 1, "numIndexesAfter" : 2, "ok" : 1&#125; MongoDBèšåˆMongoDBä¸­èšåˆï¼ˆaggregateï¼‰ä¸»è¦ç”¨äºå¤„ç†æ•°æ®ï¼ˆç»Ÿè®¡å¹³å‡å€¼ï¼Œæ±‚å’Œï¼‰ï¼Œå¹¶è¿”å›è®¡ç®—åçš„æ•°æ®ç»“æœã€‚ aggregate()æ–¹æ³•è¯­æ³•1&gt;db.COLLECTION_NAME.aggregate(AGGREGATE_OPERATION) å®ä¾‹è®¡ç®—é›†åˆä¸­ï¼Œæ¯ä¸ªtitleçš„æ•°é‡1234&gt; db.col.aggregate([&#123;$group: &#123;_id: '$title', total: &#123;$sum: 1&#125;&#125;&#125;])&#123; "_id" : "MongoDB æ•™ç¨‹", "total" : 1 &#125;&#123; "_id" : "Java æ•™ç¨‹", "total" : 1 &#125;&#123; "_id" : "PHP æ•™ç¨‹", "total" : 1 &#125; å¸¸ç”¨çš„èšåˆè¡¨è¾¾å¼ 123456789è¡¨è¾¾å¼ æè¿° å®ä¾‹$sum è®¡ç®—æ€»å’Œã€‚ db.mycol.aggregate([&#123;$group : &#123;_id : "$by_user", num_tutorial : &#123;$sum : "$likes"&#125;&#125;&#125;])$avg è®¡ç®—å¹³å‡å€¼ db.mycol.aggregate([&#123;$group : &#123;_id : "$by_user", num_tutorial : &#123;$avg : "$likes"&#125;&#125;&#125;])$min è·å–é›†åˆä¸­æ‰€æœ‰æ–‡æ¡£å¯¹åº”å€¼å¾—æœ€å°å€¼ã€‚ db.mycol.aggregate([&#123;$group : &#123;_id : "$by_user", num_tutorial : &#123;$min : "$likes"&#125;&#125;&#125;])$max è·å–é›†åˆä¸­æ‰€æœ‰æ–‡æ¡£å¯¹åº”å€¼å¾—æœ€å¤§å€¼ã€‚ db.mycol.aggregate([&#123;$group : &#123;_id : "$by_user", num_tutorial : &#123;$max : "$likes"&#125;&#125;&#125;])$push åœ¨ç»“æœæ–‡æ¡£ä¸­æ’å…¥å€¼åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚ db.mycol.aggregate([&#123;$group : &#123;_id : "$by_user", url : &#123;$push: "$url"&#125;&#125;&#125;])$addToSet åœ¨ç»“æœæ–‡æ¡£ä¸­æ’å…¥å€¼åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œä½†ä¸åˆ›å»ºå‰¯æœ¬ã€‚ db.mycol.aggregate([&#123;$group : &#123;_id : "$by_user", url : &#123;$addToSet : "$url"&#125;&#125;&#125;])$first æ ¹æ®èµ„æºæ–‡æ¡£çš„æ’åºè·å–ç¬¬ä¸€ä¸ªæ–‡æ¡£æ•°æ®ã€‚ db.mycol.aggregate([&#123;$group : &#123;_id : "$by_user", first_url : &#123;$first : "$url"&#125;&#125;&#125;])$last æ ¹æ®èµ„æºæ–‡æ¡£çš„æ’åºè·å–æœ€åä¸€ä¸ªæ–‡æ¡£æ•°æ® db.mycol.aggregate([&#123;$group : &#123;_id : "$by_user", last_url : &#123;$last : "$url"&#125;&#125;&#125;]) ç®¡é“çš„æ¦‚å¿µç®¡é“åœ¨Unixå’ŒLinuxä¸­ä¸€èˆ¬ç”¨äºå½“å‰å‘½ä»¤çš„è¾“å‡ºç»“æœä½œä¸ºä¸‹ä¸ªå‘½ä»¤çš„å‚æ•°MongoDBçš„èšåˆç®¡é“å°†MongoDBæ–‡æ¡£åœ¨ä¸€ä¸ªç®¡é“å¤„ç†å®Œæ¯•åå°†ç»“æœä¼ é€’ç»™ä¸‹ä¸€ä¸ªç®¡é“å¤„ç†ï¼Œç®¡é“æ“ä½œå¯ä»¥é‡å¤è¡¨è¾¾å¼ï¼šå¤„ç†è¾“å…¥æ–‡æ¡£å¹¶è¾“å‡ºï¼Œè¡¨è¾¾å¼æ˜¯æ— çŠ¶æ€çš„ï¼Œåªèƒ½ç”¨äºè®¡ç®—å½“å‰èšåˆç®¡é“ä¸­çš„æ–‡æ¡£ï¼Œä¸èƒ½å¤„ç†å…¶ä»–æ–‡æ¡£èšåˆæ¡†æ¶ä¸­å¸¸ç”¨çš„å‡ ä¸ªæ“ä½œï¼š 12345678$projectï¼šä¿®æ”¹è¾“å…¥æ–‡æ¡£çš„ç»“æ„ã€‚å¯ä»¥ç”¨æ¥é‡å‘½åã€å¢åŠ æˆ–åˆ é™¤åŸŸï¼Œä¹Ÿå¯ä»¥ç”¨äºåˆ›å»ºè®¡ç®—ç»“æœä»¥åŠåµŒå¥—æ–‡æ¡£ã€‚$matchï¼šç”¨äºè¿‡æ»¤æ•°æ®ï¼Œåªè¾“å‡ºç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ã€‚$matchä½¿ç”¨MongoDBçš„æ ‡å‡†æŸ¥è¯¢æ“ä½œã€‚$limitï¼šç”¨æ¥é™åˆ¶MongoDBèšåˆç®¡é“è¿”å›çš„æ–‡æ¡£æ•°ã€‚$skipï¼šåœ¨èšåˆç®¡é“ä¸­è·³è¿‡æŒ‡å®šæ•°é‡çš„æ–‡æ¡£ï¼Œå¹¶è¿”å›ä½™ä¸‹çš„æ–‡æ¡£ã€‚$unwindï¼šå°†æ–‡æ¡£ä¸­çš„æŸä¸€ä¸ªæ•°ç»„ç±»å‹å­—æ®µæ‹†åˆ†æˆå¤šæ¡ï¼Œæ¯æ¡åŒ…å«æ•°ç»„ä¸­çš„ä¸€ä¸ªå€¼ã€‚$groupï¼šå°†é›†åˆä¸­çš„æ–‡æ¡£åˆ†ç»„ï¼Œå¯ç”¨äºç»Ÿè®¡ç»“æœã€‚$sortï¼šå°†è¾“å…¥æ–‡æ¡£æ’åºåè¾“å‡ºã€‚$geoNearï¼šè¾“å‡ºæ¥è¿‘æŸä¸€åœ°ç†ä½ç½®çš„æœ‰åºæ–‡æ¡£ã€‚ ç®¡é“æ“ä½œå®ä¾‹æŸ¥è¯¢ç»“æœï¼ŒåªåŒ…å«titleå’Œrulå­—æ®µï¼Œ1 è¡¨ç¤ºåŒ…å«ï¼Œ0è¡¨ç¤ºä¸åŒ…å«1234&gt; db.col.aggregate(&#123;$project: &#123;title:1,url:1,_id: 0&#125;&#125;)&#123; "title" : "PHP æ•™ç¨‹", "url" : "http://www.runoob.com" &#125;&#123; "title" : "Java æ•™ç¨‹", "url" : "http://www.runoob.com" &#125;&#123; "title" : "MongoDB æ•™ç¨‹", "url" : "http://www.runoob.com" &#125; $matchç”¨äºè·å–likeså¤§äº100çš„è®°å½•ï¼Œç„¶åå°†ç¬¦åˆæ¡ä»¶çš„è®°å½•é€åˆ°ä¸€ä¸‹é˜¶æ®µ$groupç®¡é“æ“ä½œè¿›è¡Œå¤„ç†12&gt; db.col.aggregate([&#123;$match: &#123;likes: &#123;$gt: 100&#125;&#125;&#125;,&#123;$group:&#123;_id: null,title: &#123;$sum: 1&#125;&#125;&#125;])&#123; "_id" : null, "title" : 2 &#125; ç»è¿‡$skipç®¡é“ç¬¦å¤„ç†åï¼Œå‰ä¸¤ä¸ªæ–‡æ¡£è¢«è¿‡æ»¤æ‰äº† 12&gt; db.col.aggregate(&#123;$skip: 2&#125;)&#123; "_id" : ObjectId("59719c416d266472131059b5"), "title" : "MongoDB æ•™ç¨‹", "description" : "MongoDB æ˜¯ä¸€ä¸ª Nosql æ•°æ®åº“", "by" : "èœé¸Ÿæ•™ç¨‹", "url" : "http://www.runoob.com", "tags" : [ "mongodb" ], "likes" : 100 &#125; MongoDBå¤åˆ¶ï¼ˆå‰¯æœ¬é›†ï¼‰MongoDBå¤åˆ¶æ˜¯å°†æ•°æ®åŒæ­¥åœ¨å¤šä¸ªæœåŠ¡å™¨çš„è¿‡ç¨‹ã€‚å¤åˆ¶æä¾›äº†æ•°æ®çš„å†—ä½™å¤‡ä»½ï¼Œå¹¶åœ¨å¤šä¸ªæœåŠ¡å™¨ä¸Šå­˜å‚¨å‰¯æœ¬ï¼Œæé«˜äº†æ•°æ®çš„å¯ç”¨æ€§ï¼Œå¹¶å¯ä»¥ä¿è¯æ•°æ®å®‰å…¨ã€‚å¤åˆ¶è¿˜å¯ä»¥å…è®¸ä»ç¡¬ä»¶æ•…éšœå’ŒæœåŠ¡ç»ˆç«¯ä¸­æ¢å¤æ•°æ®ã€‚ ä»€ä¹ˆæ˜¯å¤åˆ¶ ä¿éšœæ•°æ®çš„å®‰å…¨æ€§ æé«˜æ•°æ®å¯ç”¨æ€§ ç¾éš¾æ¢å¤ æ— éœ€åœæœºç»´æŠ¤ï¼ˆå¦‚å¤‡ä»½ï¼Œé‡å»ºç´¢å¼•ï¼Œå‹ç¼©ï¼‰ åˆ†å¸ƒå¼è¯»å–æ•°æ® MongoDBå¤åˆ¶åŸç†mongodbçš„å¤åˆ¶è‡³å°‘éœ€è¦ä¸¤ä¸ªèŠ‚ç‚¹ã€‚å…¶ä¸­ä¸€ä¸ªæ˜¯ä¸»èŠ‚ç‚¹ï¼Œå¤åˆ¶å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå…¶ä½™çš„éƒ½æ˜¯ä»èŠ‚ç‚¹ï¼Œè´Ÿè´£å¤åˆ¶ä¸»èŠ‚ç‚¹ä¸Šçš„æ•°æ®ã€‚mongoDBä¸ªèŠ‚ç‚¹å¸¸è§æ­é…æ–¹å¼ä¸ºï¼š ä¸€ä¸»ä¸€ä»ï¼Œä¸€ä¸»å¤šä»ã€‚ä¸»èŠ‚ç‚¹è®°å½•åœ¨å…¶ä¸Šçš„æ‰€æœ‰æ“ä½œoplogï¼Œä»èŠ‚ç‚¹å®šæœŸè½®è¯¢ä¸»èŠ‚ç‚¹è·å–çš„è¿™äº›æ“ä½œï¼Œç„¶åå¯¹è‡ªå·±çš„æ•°æ®å‰¯æœ¬æ‰§è¡Œè¿™äº›æ“ä½œï¼Œä»è€Œä¿è¯èŠ‚ç‚¹çš„æ•°æ®ä¸ä¸»èŠ‚ç‚¹ä¸€è‡´MongoDBå¤åˆ¶ç»“æ„å›¾å¦‚ä¸‹ï¼š ä»¥ä¸Šç»“æ„å›¾æ€»ï¼Œå®¢æˆ·ç«¯æ€»ä¸»èŠ‚ç‚¹è¯»å–æ•°æ®ï¼Œåœ¨å®¢æˆ·ç«¯å†™å…¥æ•°æ®åˆ°ä¸»èŠ‚ç‚¹æ˜¯ï¼Œ ä¸»èŠ‚ç‚¹ä¸ä»èŠ‚ç‚¹è¿›è¡Œæ•°æ®äº¤äº’ä¿éšœæ•°æ®çš„ä¸€è‡´æ€§ã€‚ å‰¯æœ¬é›†ç‰¹æ€§ N ä¸ªèŠ‚ç‚¹çš„é›†ç¾¤ ä»»ä½•èŠ‚ç‚¹å¯ä½œä¸ºä¸»èŠ‚ç‚¹ æ‰€æœ‰å†™å…¥æ“ä½œéƒ½åœ¨ä¸»èŠ‚ç‚¹ä¸Š è‡ªåŠ¨æ•…éšœè½¬ç§» è‡ªåŠ¨æ¢å¤ MongoDBå‰¯æœ¬è®¾ç½®åœ¨æ•™ç¨‹ä¸­ä½¿ç”¨åŒä¸€ä¸ªMongoDBæ¥åšMongoDBçš„ä¸»ä»å®éªŒï¼Œæ­¥éª¤ï¼š å…³é—­æ­£åœ¨è¿è¡Œçš„MongoæœåŠ¡å™¨ç°åœ¨æˆ‘ä»¬é€šè¿‡æŒ‡å®š â€“replSet é€‰é¡¹æ¥å¯åŠ¨mongoDBã€‚â€“replSet åŸºæœ¬è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1mongod --port "PORT" --dbpath "YOUR_DB_DATA_PATH" --replSet "REPLICA_SET_INSTANCE_NAME" å®ä¾‹1mongod --port 27017 --dbpath "D:\set up\mongodb\data" --replSet rs0 ä»¥ä¸Šå®ä¾‹ä¼šå¯åŠ¨ä¸€ä¸ªåä¸ºrs0çš„MongoDBå®ä¾‹ï¼Œå…¶ç«¯å£å·ä¸º27017ã€‚å¯åŠ¨åæ‰“å¼€å‘½ä»¤æç¤ºæ¡†å¹¶è¿æ¥ä¸ŠmongoDBæœåŠ¡ã€‚åœ¨Mongoå®¢æˆ·ç«¯ä½¿ç”¨å‘½ä»¤rs.initiate()æ¥å¯åŠ¨ä¸€ä¸ªæ–°çš„å‰¯æœ¬é›†ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨rs.conf()æ¥æŸ¥çœ‹å‰¯æœ¬é›†çš„é…ç½®æŸ¥çœ‹å‰¯æœ¬é›†çŠ¶æ€ä½¿ç”¨ rs.status() å‘½ä»¤ å‰¯æœ¬é›†æ·»åŠ æˆå‘˜æ·»åŠ å‰¯æœ¬é›†çš„æˆå‘˜ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨å¤šæ¡æœåŠ¡å™¨æ¥å¯åŠ¨mongoæœåŠ¡ã€‚è¿›å…¥Mongoå®¢æˆ·ç«¯ï¼Œå¹¶ä½¿ç”¨rs.add()æ–¹æ³•æ¥æ·»åŠ å‰¯æœ¬é›†çš„æˆå‘˜ã€‚è¯­æ³•rs.add() å‘½ä»¤åŸºæœ¬è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1&gt;rs.add(HOST_NAME:PORT) å®ä¾‹å‡è®¾ä½ å·²ç»å¯åŠ¨äº†ä¸€ä¸ªåä¸ºmongod1.netï¼Œç«¯å£å·ä¸º27017çš„MongoæœåŠ¡ã€‚ åœ¨å®¢æˆ·ç«¯å‘½ä»¤çª—å£ä½¿ç”¨rs.add() å‘½ä»¤å°†å…¶æ·»åŠ åˆ°å‰¯æœ¬é›†ä¸­ï¼Œå‘½ä»¤å¦‚ä¸‹æ‰€ç¤ºï¼š 1&gt;rs.add("mongod1.net:27017") MongoDBä¸­ä½ åªèƒ½é€šè¿‡ä¸»èŠ‚ç‚¹å°†MongoæœåŠ¡æ·»åŠ åˆ°å‰¯æœ¬é›†ä¸­ï¼Œ åˆ¤æ–­å½“å‰è¿è¡Œçš„MongoæœåŠ¡æ˜¯å¦ä¸ºä¸»èŠ‚ç‚¹å¯ä»¥ä½¿ç”¨å‘½ä»¤db.isMaster() ã€‚MongoDBçš„å‰¯æœ¬é›†ä¸æˆ‘ä»¬å¸¸è§çš„ä¸»ä»æœ‰æ‰€ä¸åŒï¼Œä¸»ä»åœ¨ä¸»æœºå®•æœºåæ‰€æœ‰æœåŠ¡å°†åœæ­¢ï¼Œè€Œå‰¯æœ¬é›†åœ¨ä¸»æœºå®•æœºåï¼Œå‰¯æœ¬ä¼šæ¥ç®¡ä¸»èŠ‚ç‚¹æˆä¸ºä¸»èŠ‚ç‚¹ï¼Œä¸ä¼šå‡ºç°å®•æœºçš„æƒ…å†µã€‚]]></content>
      <categories>
        <category>mongodb</category>
      </categories>
      <tags>
        <tag>mongodb</tag>
        <tag>å‘½ä»¤è¡Œ</tag>
        <tag>å¢åˆ æ”¹æŸ¥</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å®‰å“Appå†…åµŒEgret]]></title>
    <url>%2F2017%2F08%2F16%2Fcl4s3gtib009bwn9e17kxehdz%2F</url>
    <content type="text"><![CDATA[å‚è€ƒèµ„æº:webviewä¸jsäº¤äº’ ç®€ä¹¦ å®‰å“æ··åˆå¼€å‘â€”â€”åŸç”ŸJavaå’ŒH5äº¤äº’ï¼Œä¿è¯ä½ ä¸€çœ‹å°±æ‡‚ï¼ webviewä¸jsäº¤äº’ä»€ä¹ˆæ˜¯webview webviewä»‹ç»çš„åŸæ–‡å¦‚ä¸‹ï¼šA View that displays web pages. This class is the basis upon which you can roll your own web browser or simply display some online content within your Activity. It uses the WebKit rendering engine to display web pages and includes methods to navigate forward and backward through a history, zoom in and out, perform text searches and more. ä¸€ä¸ªç”¨äºæ˜¾ç¤ºweb é¡µé¢çš„viewå®¹å™¨, ä½ å¯ä»¥æ»šåŠ¨webæµè§ˆå™¨æˆ–è€…åªæ˜¯ç®€å•çš„æ˜¾ç¤ºç½‘ç»œä¸Šçš„å†…å®¹. ä»–ä½¿ç”¨Webkit å¼•æ“å»æ¸²æŸ“é¡µé¢å¯ä»¥æ‹¥æœ‰å‰è¿›åé€€çš„å¯¼èˆª, æ”¾å¤§æˆ–è€…ç¼©å°. å¯ä»¥å®ç°å’Œjsçš„äº¤äº’ webviewèƒ½åšä»€ä¹ˆ webViewå¯ä»¥åˆ©ç”¨htmlåšç•Œé¢å¸ƒå±€ï¼Œè™½ç„¶ç›®å‰è¿˜æ¯”è¾ƒå°‘äººè¿™ä¹ˆä½¿ç”¨ï¼Œä¸è¿‡æˆ‘ç›¸ä¿¡å½“ä¸€äº›å®¢æˆ·ç«¯éœ€è¦å¤æ‚çš„å›¾æ–‡ï¼ˆå›¾æ–‡éƒ½æ˜¯åŠ¨æ€ç”Ÿæˆï¼‰æ··æ’çš„æ—¶å€™å®ƒè‚¯å®šæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ ç›´æ¥æ˜¾ç¤ºç½‘é¡µï¼Œè¿™åŠŸèƒ½å½“ç„¶ä¹Ÿæ˜¯å®ƒæœ€åŸºæœ¬çš„åŠŸèƒ½ã€‚ å’Œjsäº¤äº’ã€‚ï¼ˆå¦‚æœä½ çš„jsåŸºç¡€æ¯”javaåŸºç¡€å¥½çš„è¯é‚£ä¹ˆé‡‡ç”¨è¿™ç§æ–¹å¼åšä¸€äº›å¤æ‚çš„å¤„ç†æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼‰ã€‚ å¦‚ä½•ä½¿ç”¨ WebViewDemo.java 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283package com.google.android.webviewdemo;import android.app.Activity;import android.os.Bundle;import android.os.Handler;import android.util.Log;import android.webkit.JsResult;import android.webkit.WebChromeClient;import android.webkit.WebSettings;import android.webkit.WebView;/*** Demonstrates how to embed a WebView in your activity. Also demonstrates how * to have javascript in the WebView call into the activity, and how the activity * can invoke javascript. * * In this example, clicking on the android in the WebView will result in a call into * the activities code in &#123;@link DemoJavaScriptInterface#clickOnAndroid()&#125;. This code * will turn around and invoke javascript using the &#123;@linkWebView#loadUrl(String)&#125; * method. * * Obviously all of this could have been accomplished without calling into the activity * and then back into javascript, but this code is intended to show how to set up the * code paths for this sort of communication. **/public class WebViewDemo extends Activity &#123; private static final String LOG_TAG = "WebViewDemo"; private WebView mWebView; private Handler mHandler = new Handler(); @Override public void onCreate(Bundle icicle) &#123; super.onCreate(icicle); setContentView(R.layout.main); mWebView = (WebView) findViewById(R.id.webview); WebSettings webSettings = mWebView.getSettings(); webSettings.setSavePassword(false); webSettings.setSaveFormData(false); webSettings.setJavaScriptEnabled(true); webSettings.setSupportZoom(false); mWebView.setWebChromeClient(new MyWebChromeClient()); mWebView.addJavascriptInterface(new DemoJavaScriptInterface(), "demo"); mWebView.loadUrl("file:///android_asset/demo.html"); &#125; final class DemoJavaScriptInterface &#123; DemoJavaScriptInterface() &#123; &#125; /** * This is not called on the UI thread. Post a runnable to invoke * loadUrl on the UI thread. */ public void clickOnAndroid() &#123; mHandler.post(new Runnable() &#123; public void run() &#123; mWebView.loadUrl("javascript:wave()"); &#125; &#125;); &#125; &#125; /** * Provides a hook for calling "alert" from javascript. Useful for * debugging your javascript. */ final class MyWebChromeClient extends WebChromeClient &#123; @Override public boolean onJsAlert(WebView view, String url, String message, JsResult result) &#123; Log.d(LOG_TAG, message); result.confirm(); return true; &#125; &#125;&#125; demo.html 123456789101112131415161718192021&lt;html&gt; &lt;script language="javascript"&gt; /* This function is invoked by the activity */ function wave() &#123; alert("1"); document.getElementById("droid").src="android_waving.png"; alert("2"); &#125; &lt;/script&gt; &lt;body&gt; &lt;!-- Calls into the javascript interface for the activity --&gt; &lt;a onClick="window.demo.clickOnAndroid()"&gt;&lt;div style="width:80px; margin:0px auto; padding:10px; text-align:center; border:2px solid #202020;" &gt; &lt;img id="droid" src="android_normal.png"/&gt;&lt;br&gt; Click me! &lt;/div&gt;&lt;/a&gt; &lt;/body&gt;&lt;/html&gt; main.xml 12345678910111213141516171819202122&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:orientation="vertical" android:layout_width="fill_parent" android:layout_height="fill_parent" &gt; &lt;TextView android:layout_width="fill_parent" android:layout_height="wrap_content" android:text="@string/intro" android:padding="4dip" android:textSize="16sp" /&gt; &lt;WebView android:id="@+id/webview" android:layout_width="fill_parent" android:layout_height="0dip" android:layout_weight="1" /&gt; &lt;/LinearLayout&gt; å¦‚ä½•äº¤äº’androidå¦‚æœè°ƒç”¨js è°ƒç”¨å½¢å¼: 1mWebView.loadUrl("javascript:wave()"); å…¶ä¸­waveï¼ˆï¼‰æ˜¯jsä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå½“ç„¶ä½ å¯ä»¥æŠŠè¿™ä¸ªæ–¹æ³•æ”¹æˆå…¶ä»–çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯androidè°ƒç”¨å…¶ä»–çš„æ–¹æ³•ã€‚ jsè°ƒç”¨androidè°ƒç”¨å½¢å¼: 1&lt;a onClick="window.demo.clickOnAndroid()"&gt; ä»£ç ä¸­çš„â€œdemoâ€æ˜¯åœ¨androidä¸­æŒ‡å®šçš„è°ƒç”¨åç§°ï¼Œå³ 1mWebView.addJavascriptInterface(new DemoJavaScriptInterface(), "demo") ä»£ç ä¸­çš„clickOnAndroid()æ˜¯â€œdemoâ€å¯¹åº”çš„å¯¹è±¡ï¼šnew DemoJavaScriptInterface() ä¸­çš„ä¸€ä¸ªæ–¹æ³•ã€‚ Demoç°åœ¨ä½ ä¸€å®šäº†è§£äº†androidå’Œjsçš„äº¤äº’äº†ã€‚æ˜¯æ—¶å€™åˆ†æä¸€äº›demoäº†ï¼Œæ ¹æ®ä¸Šé¢è®²çš„ä½ ä¹Ÿåº”è¯¥æ¯”è¾ƒæ¸…æ¥šäº†ã€‚å…·ä½“äº¤äº’æµç¨‹å¦‚ä¸‹ï¼š â‘ ç‚¹å‡»å›¾ç‰‡ï¼Œåˆ™åœ¨jsç«¯ç›´æ¥è°ƒç”¨androidä¸Šçš„æ–¹æ³•clickOnAndroid()ï¼› â‘¡clickOnAndroid()æ–¹æ³•ï¼ˆåˆ©ç”¨çº¿ç¨‹ï¼‰è°ƒç”¨jsçš„æ–¹æ³•ã€‚ â‘¢è¢«â‘¡è°ƒç”¨çš„jsç›´æ¥æ§åˆ¶htmlã€‚ ä¸ªäººæ€»ç»“ï¼šåˆ©ç”¨webViewçš„è¿™ç§æ–¹å¼åœ¨æœ‰äº›æ—¶å€™UIå¸ƒå±€å°±å¯ä»¥è½¬æˆç›¸åº”çš„htmlä»£ç ç¼–å†™äº†ï¼Œè€Œhtmlå¸ƒå±€æ ·å¼ä¹‹ç±»æœ‰DWè¿™æ ·å¼ºå¤§çš„å·¥å…·ï¼Œè€Œä¸”ç½‘ä¸Šå¾ˆå¤šæºç ï¼Œå¾ˆå¤šä»£ç ç‰‡ã€‚åœ¨UIå’Œè§†è§‰æ•ˆæœä¸Šå°±ä¼šèŠ‚çœå¾ˆå¤šæ—¶é—´ï¼Œé‡å¤å‘æ˜è½®å­æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚]]></content>
      <categories>
        <category>Egret</category>
      </categories>
      <tags>
        <tag>å†…åµŒApp</tag>
        <tag>webview</tag>
        <tag>jsäº¤äº’</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Egret HTTPç®€å•è¯·æ±‚]]></title>
    <url>%2F2017%2F08%2F16%2Fcl4s3gtdm000jwn9e47jofzwf%2F</url>
    <content type="text"><![CDATA[åœ¨æ¸¸æˆä½¿ç”¨çš„ç½‘ç»œè¯·æ±‚ï¼Œhttpåè®®ï¼Œå¸¸ç”¨çš„getã€postæ–¹æ³•å®ä¾‹ å‚è€ƒå®˜æ–¹æ–‡æ¡£ GETæ–¹æ³• æ–°å»ºè¯·æ±‚å¯¹è±¡ï¼Œè®¾ç½®å‚æ•°ï¼Œè¯·æ±‚æ–¹æ³•ï¼Œæ³¨å†Œç›‘å¬äº‹ä»¶ 1234567891011let params = `?gameId=$&#123;userAccountInfo.gameId&#125;&amp;accesstoken=$&#123;userAccountInfo.token&#125;&amp;userId=$&#123;userAccountInfo.userId&#125;`let request = new egret.HttpRequest()let url = `$&#123;SoloGame.baseURL&#125;gameRanking.do$&#123;params&#125;`request.open(`http://$&#123;SoloGame.baseURL&#125;userCenter.do$&#123;params&#125;`, egret.HttpMethod.GET)request.send()request.addEventListener(egret.Event.COMPLETE, this.onGetUserInfoComplete, this)request.addEventListener(egret.IOErrorEvent.IO_ERROR, this.onGetUserInfoError, this)request.addEventListener(egret.ProgressEvent.PROGRESS, this.onGetUserInfoProgress, this) ç›‘å¬è¯·æ±‚çŠ¶æ€ï¼ŒæˆåŠŸã€å¤±è´¥ã€è¿›åº¦ 123456789101112131415private onGetUserInfoComplete(event: egret.Event): void &#123; var request = &lt;egret.HttpRequest&gt;event.currentTarget let result = JSON.parse(request.response) if (result.status == 200) &#123; //TODO &#125;&#125;private onGetUserInfoError(event: egret.IOErrorEvent): void &#123; console.log("get error : " + event);&#125;private onGetUserInfoProgress(event: egret.ProgressEvent): void &#123; console.log("get progress : " + Math.floor(100 * event.bytesLoaded / event.bytesTotal) + "%");&#125; POSTæ–¹æ³•12345678910111213let params = `gameId=$&#123;userAccountInfo.gameId&#125;&amp;accesstoken=$&#123;userAccountInfo.token&#125;&amp;userId=$&#123;userAccountInfo.userId&#125;&amp;isSlot=1&amp;wealth=$&#123;spinCoins&#125;`let request = new egret.HttpRequest()let url = SoloGame.SPINREQUESTrequest.open(`http://$&#123;url&#125;`, egret.HttpMethod.POST)request.setRequestHeader("Content-Type", "application/x-www-form-urlencoded")request.send(params)request.addEventListener(egret.Event.COMPLETE, this.onSpinGetComplete, this)request.addEventListener(egret.IOErrorEvent.IO_ERROR, this.onSpinGetIOError, this)request.addEventListener(egret.ProgressEvent.PROGRESS, this.onSpinGetProgress, this) 1234567891011121314151617private onSpinGetComplete(event: egret.Event): void &#123; var request = &lt;egret.HttpRequest&gt;event.currentTarget let result = JSON.parse(request.response) if (result.status == 200) &#123; //TODO &#125; else &#123; SoloGame.SPINRESULT = '' &#125;&#125;private onSpinGetIOError(event: egret.IOErrorEvent): void &#123; console.log("get error : " + event);&#125;private onSpinGetProgress(event: egret.ProgressEvent): void &#123; console.log("get progress : " + Math.floor(100 * event.bytesLoaded / event.bytesTotal) + "%");&#125;]]></content>
      <categories>
        <category>Egret</category>
      </categories>
      <tags>
        <tag>HTTP</tag>
        <tag>ç½‘ç»œè¯·æ±‚</tag>
        <tag>GET</tag>
        <tag>POST</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Egret Loading é¡µé¢å®ç°æ–¹æ³•]]></title>
    <url>%2F2017%2F08%2F16%2Fcl4s3gtdn000kwn9eku7txauk%2F</url>
    <content type="text"><![CDATA[å®ç°Loadingé¡µé¢çš„æ–¹æ³•æœ‰å¥½å¤šï¼Œè¿™é‡Œçš„æ–¹æ³•æ˜¯ï¼Œä½¿ç”¨EUIçš®è‚¤çš„åŠ è½½é¡µï¼Œå¯é…ç½®å‹å’Œå¯å®šåˆ¶å‹ç¨‹åº¦æ›´é«˜ï¼Œä¹Ÿæ›´æ˜“ç”¨ã€‚ä½†ä¸æ˜¯æœ€å¥½çš„æ–¹æ³•ã€‚ èµ„æºçš„å¤„ç†åŠ è½½é¡µçš„UIèµ„æºæ˜¯é™äºpreloadç»„èµ„æºåŠ è½½çš„ï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªèµ„æºç»„éœ€è¦åˆ†å¼€å¤„ç†ã€‚åŠ è½½å®Œå¹¶å¤„ç†ç›¸å…³åŠ¨ç”»ä¹‹åæ‰å¼€å§‹åŠ è½½preloadèµ„æºç»„ã€‚ èµ„æºåˆ†ç»„å°†loadingé¡µé¢éœ€è¦ç”¨åˆ°çš„èµ„æºåˆ†ä¸€ä¸ªloadingèµ„æºç»„å‡ºæ¥ã€‚ ä¿®æ”¹main.js è°ƒæ•´èµ„æºåŠ è½½é¡ºåº main.ts123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117class Main extends eui.UILayer &#123; /** * åŠ è½½è¿›åº¦ç•Œé¢ * loading process interface */ private loadingView: LoadingUI; protected createChildren(): void &#123; super.createChildren(); //inject the custom material parser //æ³¨å…¥è‡ªå®šä¹‰çš„ç´ æè§£æå™¨ let assetAdapter = new AssetAdapter(); egret.registerImplementation("eui.IAssetAdapter", assetAdapter); egret.registerImplementation("eui.IThemeAdapter", new ThemeAdapter()); //åˆå§‹åŒ–Resourceèµ„æºåŠ è½½åº“ RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE, this.onConfigComplete, this); RES.loadConfig("resource/default.res.json", "resource/"); &#125; /** * é…ç½®æ–‡ä»¶åŠ è½½å®Œæˆ,å¼€å§‹é¢„åŠ è½½çš®è‚¤ä¸»é¢˜èµ„æºå’Œpreloadèµ„æºç»„ã€‚ * Loading of configuration file is complete, start to pre-load the theme configuration file and the preload resource group */ private onConfigComplete(event: RES.ResourceEvent): void &#123; RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE, this.onConfigComplete, this); // load skin theme configuration file, you can manually modify the file. And replace the default skin. //åŠ è½½çš®è‚¤ä¸»é¢˜é…ç½®æ–‡ä»¶,å¯ä»¥æ‰‹åŠ¨ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ã€‚æ›¿æ¢é»˜è®¤çš®è‚¤ã€‚ let theme = new eui.Theme("resource/default.thm.json", this.stage); theme.addEventListener(eui.UIEvent.COMPLETE, this.onThemeLoadComplete, this); RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE, this.onResourceLoadComplete, this); RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR, this.onResourceLoadError, this); RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS, this.onResourceProgress, this); RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR, this.onItemLoadError, this); RES.loadGroup("loading"); &#125; private isThemeLoadEnd: boolean = false; /** * ä¸»é¢˜æ–‡ä»¶åŠ è½½å®Œæˆ,å¼€å§‹é¢„åŠ è½½ * Loading of theme configuration file is complete, start to pre-load the */ private onThemeLoadComplete(): void &#123; this.isThemeLoadEnd = true; this.createScene(); &#125; private isResourceLoadEnd: boolean = false; /** * preloadèµ„æºç»„åŠ è½½å®Œæˆ * preload resource group is loaded */ private onResourceLoadComplete(event: RES.ResourceEvent): void &#123; if (event.groupName == 'loading') &#123; //è®¾ç½®åŠ è½½è¿›åº¦ç•Œé¢ this.loadingView = new LoadingUI(); this.stage.addChild(this.loadingView); &#125; if (event.groupName == "preload") &#123; this.stage.removeChild(this.loadingView); RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE, this.onResourceLoadComplete, this); RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR, this.onResourceLoadError, this); RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS, this.onResourceProgress, this); RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR, this.onItemLoadError, this); this.isResourceLoadEnd = true; this.createScene(); //è°ƒç”¨å®‰å“æ¥å£ï¼Œè·å–ç”¨æˆ·ä¿¡æ¯ let userInfo = window.JsAndroidWebView.sendInfoToJs() sessionStorage.setItem('androidUserInfo', userInfo) &#125; &#125; private createScene() &#123; if (this.isThemeLoadEnd &amp;&amp; this.isResourceLoadEnd) &#123; this.startCreateScene(); &#125; &#125; /** * èµ„æºç»„åŠ è½½å‡ºé”™ * The resource group loading failed */ private onItemLoadError(event: RES.ResourceEvent): void &#123; console.warn("Url:" + event.resItem.url + " has failed to load"); &#125; /** * èµ„æºç»„åŠ è½½å‡ºé”™ * Resource group loading failed */ private onResourceLoadError(event: RES.ResourceEvent): void &#123; //TODO console.warn("Group:" + event.groupName + " has failed to load"); //å¿½ç•¥åŠ è½½å¤±è´¥çš„é¡¹ç›® //ignore loading failed projects this.onResourceLoadComplete(event); &#125; /** * preloadèµ„æºç»„åŠ è½½è¿›åº¦ * loading process of preload resource */ private onResourceProgress(event: RES.ResourceEvent): void &#123; if (event.groupName == "preload") &#123; this.loadingView.setProgress(event.itemsLoaded, event.itemsTotal); &#125; &#125; private textfield: egret.TextField; /** * åˆ›å»ºåœºæ™¯ç•Œé¢ * Create scene interface */ protected startCreateScene(): void &#123; this.addChild(new GameScene()) &#125;&#125; Loadingé¡µLoadingUISkin.exml çš®è‚¤ç»™ä¸€ä¸ªè“è‰²çš„çŸ©å½¢èƒŒæ™¯ã€‚ åŒ…å«ç”¨äºæ˜¾ç¤ºè¿›åº¦æ¡çš„å¤–æ¡†ä»¥åŠä¸€å°æ®µè¿›åº¦æ¡ã€‚ å¹¶ä¸”åœ¨ä»£ç ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªåºåˆ—å¸§åŠ¨ç”»åˆ°å½“å‰çš®è‚¤ä¸­ã€‚ LoadingUI.tsæ·»åŠ åˆ°åŠ¨ç”»å¸§åˆ°èˆå°ä¸­ï¼Œåœ¨æ¯ä¸€æ¬¡çš„èµ„æºæ•°å›è°ƒå‡½æ•°ä¸­ï¼Œæ’­æ”¾åŠ¨ç”»ï¼Œå®ç°æ¯æ¬¡åŠ è½½ä¸€ä¸ªèµ„æºï¼Œäººç‰©çš„è„šæ­¥å¼€å§‹è¿åŠ¨ã€‚ 1234567891011121314151617181920212223242526272829303132333435class LoadingUI extends eui.Component &#123; private solomc: egret.MovieClip public constructor() &#123; super(); this.once(eui.UIEvent.COMPLETE, this.uiComplete,this) this.skinName = 'src/LoadingUISkin.exml' &#125; private uiComplete(e:eui.UIEvent)&#123; this.initMC() RES.loadGroup("preload") &#125; private initMC(): void &#123; let data = RES.getRes('solo_loading_json') let txtr = RES.getRes('solo_loading_png') let mcFactory: egret.MovieClipDataFactory = new egret.MovieClipDataFactory(data, txtr) this.solomc = new egret.MovieClip(mcFactory.generateMovieClipData('loading')) this.solomc.x = 220 this.solomc.y = 500 this.addChild(this.solomc) &#125; private loadingLabel: eui.Label private loadingBorder: eui.Image private loadingPer: eui.Image public setProgress(current: number, total: number): void &#123; this.solomc.gotoAndPlay('moving', 1) let percentage: string = (current / total * 100).toFixed(0).toString() this.loadingLabel.text = `$&#123;percentage&#125;` this.loadingPer.width = (this.loadingBorder.width - 6) * parseFloat(percentage) / 100 &#125;&#125; æœ€åæ•ˆæœ]]></content>
      <categories>
        <category>Egret</category>
      </categories>
      <tags>
        <tag>Egret</tag>
        <tag>åŠ è½½é¡µ</tag>
        <tag>åºåˆ—å¸§åŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°ç»„ã€æ ˆã€é˜Ÿåˆ—]]></title>
    <url>%2F2017%2F08%2F12%2Fcl4s3gtim00a4wn9e04h119tw%2F</url>
    <content type="text"><![CDATA[æ•°ç»„æ•°ç»„çš„åˆ›å»ºä¸åˆå§‹åŒ– newå…³é”®å­— 12var color = new Array()var colors = new Array('red','yellow','blue') æ•°ç»„å­—é¢é‡ 12var color = []var colors = ['red','yellow','blue'] æ£€æµ‹æ•°ç»„æ£€æµ‹æŸä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯æ•°ç»„ ES3ä¸­çš„æ–¹æ³•123ifï¼ˆvalue instanceof Arrayï¼‰&#123; //å¦‚æœæ˜¯æ•°ç»„ï¼Œæ‰§è¡ŒæŸäº›æ“ä½œ&#125; å¦‚æœé¡µé¢ä¸­åŒ…å«å¤šä¸ªæ¡†æ¶ï¼Œé‚£å®é™…ä¸Šå°±å­˜åœ¨ä¸¤ä¸ªä»¥ä¸Šçš„ä¸åŒå…¨å±€æ‰§è¡Œç¯å¢ƒï¼Œä»è€Œå­˜åœ¨ä¸¤ä¸ªä»¥ä¸Šçš„ä¸åŒç‰ˆæœ¬çš„Arrayæ„é€ å‡½æ•°ã€‚ ES5ä¸­çš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯ç°åœ¨ä½¿ç”¨çš„æ–¹æ³•å…¼å®¹æ€§ï¼š IE9+ 123if (Array.isArray(value) &#123; //å¯¹æ•°ç»„æ‰§è¡ŒæŸäº›æ“ä½œ&#125;) è½¬æ¢æ–¹æ³•12345toString(): è¿”å›æ•°ç»„ä¸­æ¯ä¸ªå€¼çš„å­—ç¬¦ä¸²å½¢å¼æ‹¼æ¥è€Œæˆçš„ä¸€ä¸ªä»¥é€—å·éš”å¼€çš„å­—ç¬¦ä¸²ã€‚valueOf()ï¼šè¿”å›çš„ä»ç„¶æ˜¯æ•°ç»„toLocaleString(): åœ¨å¤§å¤šæ•°æƒ…å†µä¸å‰ä¸¤è€…ç›¸åŒï¼Œä¸åŒä¹‹åˆæ˜¯è°ƒç”¨æ•°ç»„ä¸­æ¯ä¸€é¡¹çš„toLocaleStringï¼ˆï¼‰ï¼Œè€Œä¸æ˜¯toStringï¼ˆï¼‰æ–¹æ³•ã€‚ æ·»åŠ å’Œåˆ é™¤å…ƒç´ é€šè¿‡ä¸‹æ ‡ç›´æ¥èµ‹å€¼:12var numbers = [1,2,3,4,5]numbers[5] = 6 æ ˆæ–¹æ³•123push() //å¯ä»¥æ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°ï¼ŒæŠŠä»–ä»¬é€ä¸ªæ·»åŠ åˆ°æ•°ç»„æœ«å°¾ï¼Œå¹¶è¿”å›ä¿®æ”¹åæ•°ç»„çš„é•¿åº¦pop() //ä»æ•°ç»„ æœ«å°¾ç§»é™¤æœ€åä¸€é¡¹ é˜Ÿåˆ—æ–¹æ³•12345shift() //ç§»é™¤æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªé¡¹å¹¶è¿”å›ï¼ŒåŒæ—¶æ•°ç»„é•¿åº¦å‡ä¸€push() //å‘æ•°ç»„æœ«ç«¯æ·»åŠ å…ƒç´ unshift() //åœ¨æ•°ç»„å‰ç«¯ä»»æ„é¡¹å¹¶è¿”å›æ–°æ•°ç»„çš„é•¿åº¦ æ“ä½œæ–¹æ³•concat() æ–¹æ³•å°†ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²ä¸åŸå­—ç¬¦ä¸²è¿æ¥åˆå¹¶ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å¹¶è¿”å›ã€‚ 12var hello = "Hello, ";console.log(hello.concat("Kevin", " have a nice day.")); /* Hello, Kevin have a nice day. */ slice() æ–¹æ³•è¿”å›ä¸€ä¸ªä»å¼€å§‹åˆ°ç»“æŸï¼ˆä¸åŒ…æ‹¬ç»“æŸï¼‰é€‰æ‹©çš„æ•°ç»„çš„ä¸€éƒ¨åˆ†æµ…æ‹·è´åˆ°ä¸€ä¸ªæ–°æ•°ç»„å¯¹è±¡ã€‚åŸå§‹æ•°ç»„ä¸ä¼šè¢«ä¿®æ”¹ã€‚ splice() æ–¹æ³•é€šè¿‡åˆ é™¤ç°æœ‰å…ƒç´ å’Œ/æˆ–æ·»åŠ æ–°å…ƒç´ æ¥æ›´æ”¹ä¸€ä¸ªæ•°ç»„çš„å†…å®¹ è¿”å›å€¼: ç”±è¢«åˆ é™¤çš„å…ƒç´ ç»„æˆçš„ä¸€ä¸ªæ•°ç»„ã€‚å¦‚æœåªåˆ é™¤äº†ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™è¿”å›åªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„æ•°ç»„ã€‚å¦‚æœæ²¡æœ‰åˆ é™¤å…ƒç´ ï¼Œåˆ™è¿”å›ç©ºæ•°ç»„ 123456789var myFish = ['angel', 'clown', 'mandarin', 'sturgeon'];myFish.splice(2, 0, 'drum'); // åœ¨ç´¢å¼•ä¸º2çš„ä½ç½®æ’å…¥'drum'// myFish å˜ä¸º ["angel", "clown", "drum", "mandarin", "sturgeon"]myFish.splice(2, 1); // ä»ç´¢å¼•ä¸º2çš„ä½ç½®åˆ é™¤ä¸€é¡¹ï¼ˆä¹Ÿå°±æ˜¯'drum'è¿™ä¸€é¡¹ï¼‰// myFish å˜ä¸º ["angel", "clown", "mandarin", "sturgeon"] ä½ç½®æ–¹æ³•indexOf() æ–¹æ³•indexOf()æ–¹æ³•è¿”å›åœ¨æ•°ç»„ä¸­å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªç»™å®šå…ƒç´ çš„ç¬¬ä¸€ä¸ªç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›-1ã€‚ 12345678910let a = [2, 9, 7, 8, 9]; a.indexOf(2); // 0 a.indexOf(6); // -1a.indexOf(7); // 2a.indexOf(8); // 3a.indexOf(9); // 1if (a.indexOf(3) === -1) &#123; // element doesn't exist in array&#125; lastIndexOf() æ–¹æ³•lastIndexOf() æ–¹æ³•å¯è¿”å›ä¸€ä¸ªæŒ‡å®šçš„å­—ç¬¦ä¸²å€¼æœ€åå‡ºç°çš„ä½ç½®ï¼Œåœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„æŒ‡å®šä½ç½®ä»åå‘å‰æœç´¢ã€‚ å‚æ•° æè¿°searchvalue å¿…éœ€ã€‚è§„å®šéœ€æ£€ç´¢çš„å­—ç¬¦ä¸²å€¼ã€‚fromindex å¯é€‰çš„æ•´æ•°å‚æ•°ã€‚è§„å®šåœ¨å­—ç¬¦ä¸²ä¸­å¼€å§‹æ£€ç´¢çš„ä½ç½®ã€‚å®ƒçš„åˆæ³•å–å€¼æ˜¯ 0 åˆ° stringObject.length - 1ã€‚å¦‚çœç•¥è¯¥å‚æ•°ï¼Œåˆ™å°†ä»å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦å¤„å¼€å§‹æ£€ç´¢ã€‚ 123var numbers = [2, 5, 9, 2];numbers.lastIndexOf(2); // 3numbers.lastIndexOf(7); // -1 è¿­ä»£æ–¹æ³•every()å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œå¦‚æœå‡½æ•°å¯¹æ¯ä¸€é¡¹éƒ½è¿”å›trueï¼Œåˆ™è¿”å›true filter()å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿”å›ç»™å‡½æ•°ä¼šè¿”å›trueçš„æ•°ç»„ forEach()å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ã€‚è¿™ä¸ªæ–¹æ³•æ²¡æœ‰è¿”å›å€¼ map()å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿”å›æ¯æ¬¡å‡½æ•°è°ƒç”¨è¿”å›ç»“æœç»„æˆçš„æ•°ç»„ã€‚ some()å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œå¦‚æœä»»ä¸€ä¸ªå‡½æ•°è¿”å›trueï¼Œåˆ™è¿”å›true å½’å¹¶æ–¹æ³•reduceä»æ•°ç»„ç¬¬ä¸€é¡¹å¼€å§‹ï¼Œé€ä¸ªéå†åˆ°æœ€åã€‚ 123456789var total = [0, 1, 2, 3].reduce(function(sum, value) &#123; return sum + value;&#125;, 0);// total is 6var flattened = [[0, 1], [2, 3], [4, 5]].reduce(function(a, b) &#123; return a.concat(b);&#125;, []);// flattened is [0, 1, 2, 3, 4, 5] reduceRightï¼ˆï¼‰åˆ™ä»æ•°ç»„çš„æœ€åä¸€é¡¹å¼€å§‹ï¼Œå‘å‰éå†åˆ°ç¬¬ä¸€é¡¹ã€‚ æ ˆæ ˆæ˜¯ä¸€ç§éµä»åè¿›å…ˆå‡ºï¼ˆLIFOï¼‰åŸåˆ™çš„æœ‰åºé›†åˆã€‚æ–°æ·»åŠ çš„æˆ–å¾…æ·»åŠ çš„å…ƒç´ éƒ½ä¿å­˜åœ¨æ ˆçš„æœ«å°¾ï¼Œç§°ä½œæ ˆé¡¶ï¼Œå¦ä¸€ç«¯å«æ ˆåº•ã€‚åœ¨æ ˆé‡Œï¼Œæ–°å…ƒç´ éƒ½é è¿‘æ ˆé¡¶ï¼Œæ—§å…ƒç´ éƒ½æ¥è¿‘æ ˆåº•ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344function Stack() &#123; var items = [] this.push = function (element) &#123; items.push(element) &#125; this.pop = function () &#123; items.pop() &#125; this.peek = function () &#123; return items[items.length - 1] &#125; this.isEmpty = function () &#123; return items.length == 0 &#125; this.size = function () &#123; return items.length &#125; this.print = function () &#123; console.log(items.toString()) &#125;&#125;var stack = new Stack()console.log(stack.isEmpty())stack.push(3)stack.push(6)stack.push(8)stack.print()console.log(stack.peek())/*luoyecs-iMac:jsæ•°æ®ç»“æ„ä¸ç®—æ³• LW-luoyec$ node stack.jstrue3,6,88*/ é˜Ÿåˆ—é˜Ÿåˆ—æ˜¯éµå¾ªFIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼Œä¹Ÿæˆä¸ºå…ˆæ¥å…ˆæœåŠ¡ï¼‰åŸåˆ™çš„ä¸€ç»„æœ‰åºçš„é¡¹ã€‚é˜Ÿåˆ—çš„å°¾éƒ¨æ·»åŠ æ–°å…ƒç´ ï¼Œå¹¶ä»é¡¶éƒ¨ç§»é™¤å…ƒç´ ã€‚æœ€æ–°æ·»åŠ çš„å…ƒç´ å¿…é¡»æ’åœ¨é˜Ÿåˆ—çš„æœ«å°¾ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445function Queue () &#123; var items = [] this.enqueue = function (element) &#123; items.push(element) &#125; this.dequeue = function () &#123; items.shift() &#125; this.front = function () &#123; return items[0] &#125; this.isEmpty = function () &#123; return items.length == 0 &#125; this.clear = function() &#123; items = [] &#125; this.size = function () &#123; return items.length &#125; this.print = function () &#123; console.log(items.toString()) &#125;&#125;var queue = new Queue()console.log(queue.isEmpty())queue.enqueue(1)queue.enqueue(2)queue.enqueue(3)queue.print()queue.dequeue()queue.print()]]></content>
      <categories>
        <category>JSæ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»£ç æ•´æ´ä¹‹é“å››:æ³¨é‡Š]]></title>
    <url>%2F2017%2F08%2F12%2Fcl4s3gthj007uwn9e2fq7o9y9%2F</url>
    <content type="text"><![CDATA[å¯¹æ³¨é‡Šçš„æ€åº¦æ³¨é‡Šçš„æ°å½“ç”¨æ³•æ˜¯å¼¥è¡¥æˆ‘ä»¬åœ¨ç”¨ä»£ç è¡¨è¾¾æ„å›¾æ˜¯é­é‡çš„å¤±è´¥ã€‚ ç¨‹åºå‘˜åº”å½“å¤æ‚å°†æ³¨é‡Šä¿æŒå’‹å¯ç»´æŠ¤ã€æœ‰å…³è”ã€ç²¾ç¡®çš„é«˜åº¦ã€‚æˆ‘åŒæ„è¿™ç§è¯´æ³•ï¼Œä½†æˆ‘æ›´ä¸»å¼ æŠŠåŠ›æ°”ç”¨åœ¨å†™æ¸…æ¥šä»£ç ä¸Šï¼Œç›´æ¥ä¿è¯æ— é¡»ç¼–å†™æ³¨é‡Šã€‚ åªæ˜¯åªåœ¨ç§»é™¤åœ°æ–¹æœ‰ï¼šä»£ç ã€‚åªæœ‰ä»£ç èƒ½å¿ å®åœ°å‘Šè¯‰ä½ å®ƒåšçš„äº‹ã€‚é‚£æ˜¯å”¯ä¸€çœŸæ­£å‡†ç¡®çš„ä¿¡æ¯æ¥æºã€‚æ‰€ä»¥ï¼Œå°½ç®¡æœ‰æ—¶ä¹Ÿéœ€è¦æ³¨é‡Šï¼Œæˆ‘ä»¬ä¹Ÿåº”è¯¥èŠ±å¿ƒæ€å°½é‡å‡å°‘æ³¨é‡Šé‡ã€‚ æ³¨é‡Šä¸èƒ½ç¾åŒ–ç³Ÿç³•çš„ä»£ç ä¸å…¶èŠ±æ—¶é—´ç¼–å†™ç³Ÿç³•ä»£ç çš„æ³¨é‡Šï¼Œä¸å¦‚èŠ±æ—¶é—´æ¸…æ´é‚£å †ç³Ÿç³•çš„ä»£ç ã€‚ ç”¨ä»£ç æ¥é˜è¿°å¾ˆå¤šæ—¶é—´ï¼Œç®€å•åˆ°åªéœ€è¦åˆ›å»ºä¸€ä¸ªæè¿°ä¸æ³¨é‡Šæ‰€è¡¨è¾¾çš„åŒä¸€æ„æ€çš„å‡½æ•°å³å¯ã€‚ ç”¨æ›´å¥½çš„å‡½æ•°åä»£æ›¿æ³¨é‡Š å¥½æ³¨é‡Š å”¯ä¸€çœŸæ­£å¥½çš„æ³¨é‡Šæ˜¯ä½ æƒ³åŠæ³•ä¸å»å†™çš„æ³¨é‡Šã€‚ æ³•å¾‹ä¿¡æ¯ æ¯éš”æºæ–‡ä»¶å¼€å¤´æ”¾ç½®çš„æ ‡å‡†æ³¨é‡Š è¿™ç±»æ³¨é‡Šä¸åº”æ˜¯åˆåŒæˆ–æ³•å…¸ï¼Œå¦‚æœ‰å¯èƒ½ï¼Œå°±æŒ‡å‘ä¸€ä»½æ ‡å‡†è®¸å¯æˆ–å¤–éƒ¨æ–‡ä»¶ã€‚ æä¾›ä¿¡æ¯çš„æ³¨é‡Š æœ‰æ—¶ï¼Œåˆ©ç”¨æ³¨é‡Šæ¥æä¾›åŸºæœ¬ä¿¡æ¯ï¼Œä¾‹å¦‚è§£é‡Šåœ¨æŸä¸ªæŠ½è±¡æ–¹æ³•ä¸­è¿”å›å€¼ ä½†æ˜¯æŠŠå‡½æ•°é‡æ–°å‘½åä¸ºresponderBeingTested, æ³¨é‡Šå°±æ˜¯å¤šä½™çš„äº†ã€‚ å¯¹æ„å›¾çš„è§£é‡Š æ³¨é‡Šä¸ä»…æä¾›æœ‰å…³å®ç°çš„æœ‰ç”¨ä¿¡æ¯ï¼Œè€Œä¸”è¿˜å¯ä»¥æä¾›æŸä¸ªå†³å®šåé¢çš„æ„å›¾ã€‚å³åœ¨æ³¨é‡Šä¸­å‘Šè¯‰åˆ«äººä½ çš„æƒ³æ³•ã€‚ é˜é‡Š ç”¨æ³¨é‡ŠæŠŠæŸäº›æ™¦æ¶©éš¾æ‡‚çš„å‚æ•°æˆ–è¿”å›å€¼çš„æ„ä¹‰ç¿»è¯‘ä¸ºæŸç§å¯è¯»å½¢å¼ï¼Œä¼šæ˜¯æœ‰ç”¨çš„ã€‚ä¸è¿‡ï¼Œé€šå¸¸æ›´å¥½çš„æ–¹æ³•æ˜¯å°½é‡è®©å‚æ•°æˆ–è¿”å›å€¼è‡ªèº«å°±è¶³å¤Ÿæ¸…é™¤ã€‚ å½“ç„¶è¦æ³¨æ„çš„æ˜¯ï¼Œè¦ç¡®è®¤æ³¨é‡Šçš„æ­£ç¡®æ€§ã€‚ è­¦ç¤º ç”¨äºè­¦å‘Šå…¶ä»–ç¨‹åºå‘˜ä¼šå‡ºç°æŸç§åæœçš„æ³¨é‡Šã€‚ TODOæ³¨é‡Š TODOæ˜¯ä¸€ç§ç¨‹åºå‘˜è®¤ä¸ºåº”è¯¥åšï¼Œä½†ç”±äºæŸäº›åŸå› è¿˜æ²¡åšçš„å·¥ä½œã€‚ä»–å¯èƒ½æ˜¯è¦æé†’åˆ é™¤æŸä¸ªä¸å¿…è¦çš„ç‰¹æ€§ï¼Œæˆ–è€…è¦æ±‚ä»–äººæ³¨æ„æŸä¸ªé—®é¢˜ã€‚ IDEéƒ½æä¾›äº†TODOæ³¨é‡Šçš„å®šä½åŠé«˜äº®åŠŸèƒ½ï¼Œå®šæœŸæŸ¥çœ‹ï¼Œåˆ é™¤ä¸åœ¨éœ€è¦çš„æ³¨é‡Šã€‚ æ”¾å¤§ ç”¨æ³¨é‡Šå¼ºè°ƒæŸä»¶äº‹çš„é‡è¦æ€§ å…¬å…±APIä¸­çš„æ–‡æ¡£æ³¨é‡Š å¦‚æœåœ¨ç¼–å†™å…¬å…±APIï¼Œå°±åº”è¯¥ç¼–å†™è‰¯å¥½çš„æ–‡æ¡£ åæ³¨é‡Š å¤§å¤šæ•°æ³¨é‡Šéƒ½å±äºæ­¤ç±»ï¼Œé€šå¸¸åæ³¨é‡Šéƒ½æ˜¯ç³Ÿç³•ä»£ç çš„æ”¯æ’‘æˆ–æ¥å£ï¼Œæˆ–è€…å¯¹é”™è¯¯å†³ç­–çš„ä¿®æ­£ã€‚åŸºæœ¬ä¸Šç­‰äºç¨‹åºå‘˜è‡ªè¯´è‡ªè¯ã€‚ å–ƒå–ƒè‡ªè¯­å¦‚æœåªæ˜¯å› ä¸ºä½ è§‰å¾—åº”è¯¥æˆ–è€…å› ä¸ºè¿‡ç¨‹éœ€è¦æ·»åŠ æ³¨é‡Šï¼Œé‚£å°±æ˜¯æ— è°“ä¹‹ä¸¾ã€‚å¦‚æœä½ å†³å®šå†™æ³¨é‡Šï¼Œå°±å¿…é¡»èŠ±æ—¶é—´å†™å¥½æ³¨é‡Šã€‚ å¤šä½™çš„æ³¨é‡Šè¿™ç§æ³¨é‡Šå¹¶ä¸èƒ½æ¯”ä»£ç æœ¬èº«æä¾›æ›´å¤šä¿¡æ¯ï¼Œå®ƒæ²¡èƒ½è¯æ˜ä»£ç çš„æ„ä¹‰ï¼Œä¹Ÿæ²¡èƒ½ç»™å‡ºä»£ç çš„æ„å›¾æˆ–é€»è¾‘ã€‚ å¤šä½™çš„æ³¨é‡Šï¼š è¯¯å¯¼æ€§æ³¨é‡Š é¿å…æè¿°ä¸å¤Ÿå‡†ç¡®ã€æ­§ä¹‰ã€è¯¯å¯¼æ€§çš„æ³¨é‡Šï¼Œå¦‚æœè¿ä½ è‡ªå·±éƒ½æ²¡ææ‡‚æ³¨é‡Šçš„æ„ä¹‰ï¼Œä¸ºä»€ä¹ˆæœŸå¾…åˆ«äººèƒ½æ‡‚å‘¢ï¼Ÿ å¾ªè§„å¼æ³¨é‡Š æ¯éš”å‡½æ•°éƒ½è¦æœ‰è¯´æ˜æˆ–è€…æ¯ä¸ªå˜é‡éƒ½è¦æœ‰æ³¨é‡Šã€‚è¿™ç±»æ³¨é‡Šå¾’ç„¶è®©ä»£ç å˜å¾—æ•£ä¹±ï¼Œæ»¡å£èƒ¡è¨€ï¼Œä»¤äººè¿·ç³Šä¸è§£ã€‚ æ—¥å¿—å¼æ³¨é‡ŠåºŸè¯æ³¨é‡Š ç”¨æ•´ç†ä»£ç çš„å†³å¿ƒæ›¿ä»£åˆ›é€ åºŸè¯çš„å†²åŠ¨å§ã€‚ä½ ä¼šå‘ç°è‡ªå·±æˆä¸ºæ›´ä¼˜ç§€ã€æ›´å¿«ä¹çš„ç¨‹åºå‘˜ã€‚ å¯æ€•çš„åºŸè¯èƒ½ç”¨å‡½æ•°æˆ–è€…å˜é‡å°±åˆ«ç”¨æ³¨é‡Š æ‹¬å·åçš„æ³¨é‡Š å°½ç®¡è¿™å¯¹äºå«æœ‰æ·±åº¦åµŒå¥—ç»“æ„å‡½æ•°å¯èƒ½æœ‰æ„ä¹‰ï¼Œä½†åªä¼šç»™æˆ‘ä»¬æ›´æ„¿æ„ç¼–å†™çŸ­å°ã€å°è£…çš„å‡½æ•°å¸¦æ¥æ··ä¹±ã€‚å¦‚æœä½ å‘ç°è‡ªå·±æƒ³æ ‡è®°å³æ‹¬å·ï¼Œå…¶å®åº”è¯¥åšçš„äº‹ç¼©çŸ­å‡½æ•°ã€‚ æ³¨é‡Šæ‰çš„ä»£ç  åˆ«è¿™ä¹ˆå¹²ï¼Œç›´æ¥æ³¨é‡Šä»£ç ï¼Œä¼šè®©ä½ çš„åŒäº‹æ€€ç–‘è¿™ä»£ç åˆ°åº•æœ‰ä»€ä¹ˆç”¨ï¼Œé€ æˆæ··ä¹±ã€‚ éæœ¬åœ°ä¿¡æ¯ å‡å¦‚ä½ ä¸€å®šè¦å†™æ³¨é‡Šï¼Œè¯·ç¡®ä¿æè¿°äº†ç¦»å®ƒæœ€è¿‘çš„ä»£ç ã€‚ ä¿¡æ¯è¿‡å¤š åˆ«åœ¨æ³¨é‡Šä¸­æ·»åŠ å†å²æ€§è¯é¢˜ã€æˆ–è€…æ— å…³çš„ç»†èŠ‚æè¿°ã€‚ ä¸æ˜æ˜¾çš„è”ç³» æ³¨é‡ŠåŠå…¶æè¿°ä»£ç ä¹‹é—´çš„è”ç³»åº”è¯¥æ˜¾è€Œæ˜“è§ã€‚ èŒƒä¾‹ ä½œè€…çš„å¦ä¸€æœ¬ä¹¦ã€Šæ•æ·è½¯ä»¶å¼€å‘ï¼šåŸåˆ™ã€æ¨¡å¼ä¸å®è·µã€‹]]></content>
      <categories>
        <category>ä»£ç æ•´æ´ä¹‹é“</category>
      </categories>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
        <tag>ä»£ç æ•´æ´</tag>
        <tag>æé«˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Git å·¥ä½œæµæŒ‡å—ï¼ˆæ€»ç»“&&å®è·µï¼‰]]></title>
    <url>%2F2017%2F08%2F10%2Fcl4s3gtdu0010wn9epvsgie1g%2F</url>
    <content type="text"><![CDATA[è¯‘åº æ“ä½œè¿‡ç¨‹å»æ„Ÿå—æŒ‡å—çš„è®²è§£ï¼šè§£å†³ä»€ä¹ˆé—®é¢˜ã€å¦‚ä½•è§£å†³é—®é¢˜ï¼Œè¿™æ ·ç†è§£å°±æ·±äº†ï¼Œä¹Ÿæ–¹ä¾¿æ´»ç”¨ã€‚ å·¥ä½œæµå…¶å®ä¸æ˜¯ä¸€ä¸ªåˆçº§ä¸»é¢˜ï¼ŒèƒŒåçš„æœ¬è´¨é—®é¢˜å…¶å®æ˜¯ æœ‰æ•ˆçš„é¡¹ç›®æµç¨‹ç®¡ç† å’Œé«˜æ•ˆçš„å¼€å‘ååŒçº¦å®šï¼Œè€Œä¸ä»…æ˜¯Gitæˆ–SVNç­‰VCSæˆ–SCMå·¥å…·çš„ä½¿ç”¨ã€‚ å…³äºGitå·¥ä½œæµä¸»é¢˜ï¼Œç½‘ä¸Šä½“ç³»çš„ä¸­æ–‡èµ„æ–™ä¸å¤šï¼Œä¸»è¦æ˜¯é›¶æ•£çš„æ“ä½œè¯´æ˜ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½è®©ä½ æ›´æ·±å…¥ç†è§£å¹¶åœ¨å·¥ä½œä¸­çµæ´»æœ‰æ•ˆåœ°ä½¿ç”¨èµ·æ¥ã€‚ Gitflowå·¥ä½œæµæ˜¯ç»å…¸æ¨¡å‹ï¼Œå¤„äºæ ¸å¿ƒä½ç½®ï¼Œä½“ç°äº†å·¥ä½œæµçš„ç»éªŒå’Œç²¾é«“ã€‚éšç€é¡¹ç›®è¿‡ç¨‹å¤æ‚åŒ–ï¼Œä½ ä¼šæ„Ÿå—åˆ°è¿™ä¸ªå·¥ä½œæµä¸­çš„æ·±æ€ç†Ÿè™‘å’Œå¨åŠ›ï¼ å·¥ä½œæµæŒ‡å— å·¥ä½œæµæœ‰å„å¼å„æ ·çš„ç”¨æ³•ï¼Œä½†ä¹Ÿæ­£å› æ­¤ä½¿å¾—åœ¨å®é™…å·¥ä½œä¸­å¦‚ä½•ä¸Šæ‰‹ä½¿ç”¨å˜å¾—å¾ˆå¤´å¤§ã€‚è¿™ç¯‡æŒ‡å—é€šè¿‡æ€»è§ˆå…¬å¸å›¢é˜Ÿä¸­æœ€å¸¸ç”¨çš„å‡ ç§Gitå·¥ä½œæµè®©å¤§å®¶å¯ä»¥ä¸Šæ‰‹ä½¿ç”¨ã€‚ é›†ä¸­å¼å·¥ä½œæµ ä½†ä½¿ç”¨GitåŠ å¼ºå¼€å‘çš„å·¥ä½œæµï¼ŒGitæœ‰ç›¸æ¯”SVNçš„å‡ ä¸ªä¼˜åŠ¿ã€‚ é¦–å…ˆï¼Œæ¯ä¸ªå¼€å‘å¯ä»¥æœ‰å±äºè‡ªå·±çš„æ•´ä¸ªå·¥ç¨‹çš„æœ¬åœ°æ‹·è´ã€‚éš”ç¦»çš„ç¯å¢ƒè®©å„ä¸ªå¼€å‘è€…çš„å·¥ä½œå’Œé¡¹ç›®çš„å…¶ä»–éƒ¨åˆ†ä¿®æ”¹ç‹¬ç«‹å¼€æ¥ â€”â€” å³è‡ªç”±åœ°æäº¤åˆ°è‡ªå·±çš„æœ¬åœ°ä»“åº“ï¼Œå…ˆå®Œå…¨å¿½ç•¥ä¸Šæ¸¸çš„å¼€å‘ï¼Œç›´åˆ°æ–¹ä¾¿çš„æ—¶å€™å†æŠŠä¿®æ”¹åé¦ˆä¸Šå»ã€‚ å…¶æ¬¡ï¼ŒGitæä¾›äº†å¼ºå£®çš„åˆ†æ”¯å’Œåˆå¹¶æ¨¡å‹ã€‚ä¸åƒSVNï¼ŒGitçš„åˆ†æ”¯è®¾è®¡æˆå¯ä»¥åšä¸ºä¸€ç§ç”¨æ¥åœ¨ä»“åº“ä¹‹é—´é›†æˆä»£ç å’Œåˆ†äº«ä¿®æ”¹çš„ã€å¤±è´¥å®‰å…¨ã€çš„æœºåˆ¶ã€‚ å·¥ä½œæ–¹å¼ æœ¬å·¥ä½œæµåªç”¨åˆ°masterè¿™ä¸€ä¸ªåˆ†æ”¯ã€‚ å¼€å‘è€…å¼€å§‹å…ˆå…‹éš†ä¸­å¤®ä»“åº“ã€‚åœ¨è‡ªå·±çš„é¡¹ç›®æ‹·è´ä¸­åƒSVNä¸€æ ·çš„ç¼–è¾‘æ–‡ä»¶å’Œæäº¤ä¿®æ”¹ï¼›ä½†ä¿®æ”¹æ˜¯å­˜åœ¨æœ¬åœ°çš„ï¼Œå’Œä¸­å¤®ä»“åº“æ˜¯å®Œå…¨éš”ç¦»çš„ã€‚å¼€å‘è€…å¯ä»¥æŠŠå’Œä¸Šæ¸¸çš„åŒæ­¥å»¶ååˆ°ä¸€ä¸ªæ–¹ä¾¿æ—¶é—´ç‚¹ã€‚ è¦å‘å¸ƒä¿®æ”¹åˆ°æ­£å¼é¡¹ç›®ä¸­ï¼Œå¼€å‘è€…è¦æŠŠæœ¬åœ°masteråˆ†æ”¯çš„ä¿®æ”¹ã€æ¨ã€åˆ°ä¸­å¤®ä»“åº“ä¸­ã€‚è¿™ç›¸å½“äºsvn commitæ“ä½œï¼Œä½†pushæ“ä½œä¼šæŠŠæ‰€æœ‰è¿˜ä¸åœ¨ä¸­å¤®ä»“åº“çš„æœ¬åœ°æäº¤éƒ½æ¨ä¸Šå»ã€‚ å†²çªè§£å†³ å¦‚æœå¼€å‘è€…æœ¬åœ°çš„æäº¤å†å²å’Œä¸­å¤®ä»“åº“æœ‰åˆ†æ­§ï¼ŒGitä¼šæ‹’ç»pushæäº¤ï¼Œé˜²æ­¢è¦†ç›–ä¸­å¤®ä»“åº“çš„æ­£å¼æäº¤ åœ¨å¼€å‘è€…æäº¤è‡ªå·±åŠŸèƒ½ä¿®æ”¹åˆ°ä¸­å¤®åº“å‰ï¼Œéœ€è¦å…ˆfetchåœ¨ä¸­å¤®åº“çš„æ–°å¢æäº¤ï¼Œrebaseè‡ªå·±æäº¤åˆ°ä¸­å¤®åº“æäº¤å†å²ä¹‹ä¸Šã€‚ è¿™æ ·åšçš„æ„æ€æ˜¯åœ¨è¯´ï¼Œã€æˆ‘è¦æŠŠè‡ªå·±çš„ä¿®æ”¹åŠ åˆ°åˆ«äººå·²ç»å®Œæˆçš„ä¿®æ”¹ä¸Šã€‚ã€æœ€ç»ˆçš„ç»“æœæ˜¯ä¸€ä¸ªå®Œç¾çš„çº¿æ€§å†å²ï¼Œå°±åƒä»¥å‰çš„SVNçš„å·¥ä½œæµä¸­ä¸€æ ·ã€‚ å¦‚æœæœ¬åœ°ä¿®æ”¹å’Œä¸Šæ¸¸æäº¤æœ‰å†²çªï¼ŒGitä¼šæš‚åœrebaseè¿‡ç¨‹ï¼Œç»™ä½ æ‰‹åŠ¨è§£å†³å†²çªçš„æœºä¼šã€‚Gitè§£å†³åˆå¹¶å†²çªï¼Œç”¨å’Œç”Ÿæˆæäº¤ä¸€æ ·çš„git statuså’Œgit addå‘½ä»¤ï¼Œå¾ˆä¸€è‡´æ–¹ä¾¿ã€‚è¿˜æœ‰ä¸€ç‚¹ï¼Œå¦‚æœè§£å†³å†²çªæ—¶é‡åˆ°éº»çƒ¦ï¼ŒGitå¯ä»¥å¾ˆç®€å•ä¸­æ­¢æ•´ä¸ªrebaseæ“ä½œï¼Œé‡æ¥ä¸€æ¬¡ï¼ˆæˆ–è€…è®©åˆ«äººæ¥å¸®åŠ©è§£å†³ï¼‰ã€‚ ç¤ºä¾‹ æœ‰ä¸¤ä¸ªå¼€å‘è€…å°æ˜å’Œå°çº¢ï¼Œçœ‹ä»–ä»¬æ˜¯å¦‚ä½•å¼€å‘è‡ªå·±çš„åŠŸèƒ½å¹¶æäº¤åˆ°ä¸­å¤®ä»“åº“ä¸Šçš„ã€‚ åˆå§‹åŒ–å¥½ä¸­å¤®ä»“åº“ æ‰€æœ‰äººå…‹éš†ä¸­å¤®ä»“åº“ å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°æ˜ å°æ˜å…‹éš†ä¸­å¤®ä»“åº“ï¼Œå¹¶ä¸”add commitï¼Œ ä¸æ–­å¼€å‘ï¼Œç›´è‡³å®Œæˆ12345$git clone ssh://user@host/path/to/repo.git3273ecf (HEAD -&gt; master, origin/master) HEAD@&#123;0&#125;: commit: å®Œæˆå¼€å‘f2faa43 HEAD@&#123;1&#125;: commit: æ­£åœ¨å¼€å‘335a4b4 HEAD@&#123;2&#125;: commit (initial): å‡†å¤‡é˜¶æ®µ å°æ˜å‘å¸ƒåŠŸèƒ½ï¼Œå› æ­¤æ­¤æ—¶ä¸­å¤®ä»“åº“æ˜¯ç©ºï¼Œå°æ˜å¯ä»¥ç›´æ¥æä»·åˆ°ä¸­å¤®ä»“åº“ 1$git push origin master æ³¨æ„ï¼Œoriginæ˜¯åœ¨å°æ˜å…‹éš†ä»“åº“æ—¶Gitåˆ›å»ºçš„è¿œç¨‹ä¸­å¤®ä»“åº“åˆ«åã€‚masterå‚æ•°å‘Šè¯‰Gitæ¨é€çš„åˆ†æ”¯ã€‚ ç”±äºä¸­å¤®ä»“åº“è‡ªä»å°æ˜å…‹éš†ä»¥æ¥è¿˜æ²¡æœ‰è¢«æ›´æ–°è¿‡ï¼Œæ‰€ä»¥pushæ“ä½œä¸ä¼šæœ‰å†²çªï¼ŒæˆåŠŸå®Œæˆã€‚ å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°çº¢ å°çº¢ä¹Ÿcloneäº†ä¸­å¤®ä»“åº“ï¼Œå¹¶ä¸”è¿›è¡Œäº†æ­¼æ˜Ÿèˆ°é¡¹ç›®å¼€å‘ï¼Œä¹Ÿä¸æ–­åˆ°add commitï¼Œç›´è‡³å¼€å‘å®Œæˆ 12345$git clone http://luoyec@103.224.81.114:6605/luoyec/git_practise.gitddc6c37 HEAD@&#123;5&#125;: commit: èˆ°è‰‡å¼€å‘å®Œæˆ2899f26 HEAD@&#123;6&#125;: commit: å¼•æ“è£…è½½å®Œæˆ29b95cc HEAD@&#123;7&#125;: commit (initial): ææ–™å‡†å¤‡ä¸­ å°çº¢ä¹Ÿæƒ³å‘å¸ƒè‡ªå·±åŠŸèƒ½ï¼Œä½†æ­¤æ—¶ï¼Œä¸­å¤®ä»“åº“ä¹Ÿæœ‰å°æ˜æäº¤ä½†ä»£ç ï¼Œæœ¬åœ°å†å²å·²ç»å’Œä¸­å¤®ä»“åº“æœ‰åˆ†å²äº†ï¼ŒGitä¸æƒ³ç†ä½ ï¼Œå¹¶æ‰”ç»™ä½ ä¸€å †æç¤ºä¿¡æ¯ï¼š 123456789luoyecs-iMac:git_practise LW-luoyec$ git pushTo http://103.224.81.114:6605/luoyec/git_practise.git ! [rejected] master -&gt; master (fetch first)error: failed to push some refs to 'http://luoyec@103.224.81.114:6605/luoyec/git_practise.git'hint: Updates were rejected because the remote contains work that you dohint: not have locally. This is usually caused by another repository pushinghint: to the same ref. You may want to first integrate the remote changeshint: (e.g., 'git pull ...') before pushing again.hint: See the 'Note about fast-forwards' in 'git push --help' for details. è¿™é¿å…äº†å°çº¢è¦†å†™æ­£å¼çš„æäº¤ã€‚å¥¹è¦å…ˆpullå°æ˜çš„æ›´æ–°åˆ°å¥¹çš„æœ¬åœ°ä»“åº“åˆå¹¶ä¸Šå¥¹çš„æœ¬åœ°ä¿®æ”¹åï¼Œå†é‡è¯•ã€‚ å°çº¢ç”¨git pullåˆå¹¶ä¸Šæ¸¸çš„ä¿®æ”¹åˆ°è‡ªå·±çš„ä»“åº“ä¸­ã€‚ è¿™æ¡å‘½ä»¤ç±»ä¼¼svn updateâ€”â€”æ‹‰å–æ‰€æœ‰ä¸Šæ¸¸æäº¤å‘½ä»¤åˆ°å°çº¢çš„æœ¬åœ°ä»“åº“ï¼Œå¹¶å°è¯•å’Œå¥¹çš„æœ¬åœ°ä¿®æ”¹åˆå¹¶ï¼š 1$git pull --rebase origin master ==â€“rebase==é€‰é¡¹å‘Šè¯‰GitæŠŠå°çº¢çš„æäº¤ç§»åˆ°åŒæ­¥äº†ä¸­å¤®ä»“åº“ä¿®æ”¹åçš„masteråˆ†æ”¯çš„é¡¶éƒ¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å¦‚æœä½ å¿˜åŠ äº†è¿™ä¸ªé€‰é¡¹ï¼Œpullæ“ä½œä»ç„¶å¯ä»¥å®Œæˆï¼Œä½†æ¯æ¬¡pullæ“ä½œè¦åŒæ­¥ä¸­å¤®ä»“åº“ä¸­åˆ«äººä¿®æ”¹æ—¶ï¼Œæäº¤å†å²ä¼šä»¥ä¸€ä¸ªå¤šä½™çš„ã€åˆå¹¶æäº¤ã€ç»“å°¾ã€‚ å¯¹äºé›†ä¸­å¼å·¥ä½œæµï¼Œæœ€å¥½æ˜¯ä½¿ç”¨rebaseè€Œä¸æ˜¯ç”Ÿæˆä¸€ä¸ªåˆå¹¶æäº¤ã€‚ å°çº¢è§£å†³åˆå¹¶å†²çª å†²çªè§£å†³å·¥å…·diffmergeä¸‹è½½åœ°å€DMGç‰ˆå…¨å±€é…ç½® 123456git config --global merge.tool diffmergegit config --global mergetool.diffmerge.cmd "/Applications/DiffMerge.app/Contents/MacOS/diffmerge --merge --result=\$MERGED \$LOCAL \$BASE \$REMOTE"git config --global mergetool.keepBackup false git config --global diff.tool diffmergegit config --global difftool.diffmerge.cmd "/Applications/DiffMerge.app/Contents/MacOS/diffmerge \$LOCAL \$REMOTE" å½“å‡ºç°å†²çªæ—¶ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œå¼¹å‡ºçª—å£æ‰‹åŠ¨è§£å†³å†²çª 1$git mergetool å®Œæˆåˆå¹¶ï¼Œä¿å­˜é€€å‡ºå›¾å½¢åŒ–å·¥å…·å·²ç»æ‰‹åŠ¨è§£å†³äº†å†²çªï¼Œè¿™æ˜¯è®©rebaseç»§ç»­å·¥ä½œï¼Œæ‰§è¡Œå‘½ä»¤ 123git add &lt;å†²çªæ–‡ä»¶/. è¡¨ç¤ºæ‰€æœ‰ä¿®æ”¹æ–‡ä»¶&gt;git rebase --continue //rebaseç»§ç»­å·¥ä½œgit push //ä»£ç æˆåŠŸæäº¤ ps: å¦‚æœä½ ç¢°åˆ°äº†å†²çªï¼Œä½†å‘ç°æä¸å®šï¼Œä¸è¦æƒŠæ…Œã€‚åªè¦æ‰§è¡Œä¸‹é¢è¿™æ¡å‘½ä»¤ï¼Œå°±å¯ä»¥å›åˆ°ä½ æ‰§è¡Œgit pull â€“rebaseå‘½ä»¤å‰çš„æ ·å­ï¼š ==git rebase â€“abort æ˜¯æ— é£é™©çš„æ“ä½œï¼Œä¼šå›åˆ°rebaseæ“ä½œä¹‹å‰çš„çŠ¶æ€ï¼Œ2ä¸ªåˆ†æ”¯çš„commitsæ¯«å‘æ— æŸã€‚git rebase â€“skip æ˜¯é«˜é£é™©çš„æ“ä½œï¼Œå¼•èµ·å†²çªçš„commitsä¼šè¢«ä¸¢å¼ƒï¼ˆè¿™éƒ¨åˆ†ä»£ç ä¿®æ”¹ä¼šä¸¢å¤±ï¼‰ã€‚== 1234//è§£å†³å†²çªå¤±è´¥ï¼Œæˆ–è€…å‘é‡æ–°è§£å†³å†²çª$git rebase --abort//Skipæ˜¯è·³è¿‡è¿™ä¸ªé”™è¯¯ï¼Œç»§ç»­æœ¬æ¬¡æ“ä½œgit rebase --skip åŠŸèƒ½åˆ†æ”¯å·¥ä½œæµ åŠŸèƒ½åˆ†æ”¯å·¥ä½œæµèƒŒåçš„æ ¸å¿ƒæ€è·¯æ˜¯æ‰€æœ‰çš„åŠŸèƒ½å¼€å‘åº”è¯¥åœ¨ä¸€ä¸ªä¸“é—¨çš„åˆ†æ”¯ï¼Œè€Œä¸æ˜¯åœ¨masteråˆ†æ”¯ä¸Šã€‚è¿™ä¸ªéš”ç¦»å¯ä»¥æ–¹ä¾¿å¤šä¸ªå¼€å‘è€…åœ¨å„è‡ªçš„åŠŸèƒ½ä¸Šå¼€å‘è€Œä¸ä¼šå¼„ä¹±ä¸»å¹²ä»£ç ã€‚å¦å¤–ï¼Œä¹Ÿä¿è¯äº†masteråˆ†æ”¯çš„ä»£ç ä¸€å®šä¸ä¼šæ˜¯æœ‰é—®é¢˜çš„ï¼Œæå¤§æœ‰åˆ©äºé›†æˆç¯å¢ƒã€‚ å·¥ä½œæ–¹å¼ å¼€å‘è€…æ¯æ¬¡åœ¨å¼€å§‹æ–°åŠŸèƒ½å‰å…ˆåˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ã€‚åŠŸèƒ½åˆ†æ”¯åº”è¯¥æœ‰ä¸ªæœ‰æè¿°æ€§çš„åå­—ï¼Œæ¯”å¦‚animated-menu-itemsæˆ–issue-#1061 åœ¨masteråˆ†æ”¯å’ŒåŠŸèƒ½åˆ†æ”¯ä¹‹é—´ï¼ŒGitæ˜¯æ²¡æœ‰æŠ€æœ¯ä¸Šçš„åŒºåˆ«ï¼Œæ‰€ä»¥å¼€å‘è€…å¯ä»¥ç”¨å’Œé›†ä¸­å¼å·¥ä½œæµä¸­å®Œå…¨ä¸€æ ·çš„æ–¹å¼ç¼–è¾‘ã€æš‚å­˜å’Œæäº¤ä¿®æ”¹åˆ°åŠŸèƒ½åˆ†æ”¯ä¸Šã€‚ åŠŸèƒ½åˆ†æ”¯ä¹Ÿå¯ä»¥ï¼ˆä¸”åº”è¯¥ï¼‰pushåˆ°ä¸­å¤®ä»“åº“ä¸­ã€‚è¿™æ ·ä¸ä¿®æ”¹æ­£å¼ä»£ç å°±å¯ä»¥å’Œå…¶å®ƒå¼€å‘è€…åˆ†äº«æäº¤çš„åŠŸèƒ½ã€‚ç”±äºmasteræ˜¯ä»…æœ‰çš„ä¸€ä¸ªã€ç‰¹æ®Šã€åˆ†æ”¯ï¼Œåœ¨ä¸­å¤®ä»“åº“ä¸Šå­˜å¤šä¸ªåŠŸèƒ½åˆ†æ”¯ä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ Pull Requestsä¸€æ—¦å®ŒæˆæŸä¸ªåŠŸèƒ½çš„å¼€å‘ï¼Œä¸æ˜¯ç«‹å³åˆå¹¶åˆ°masterï¼Œè€Œæ˜¯pushåˆ°ä¸­å¤®ä»“åº“åˆ°åŠŸèƒ½åˆ†ä¹‹ï¼Œå¹¶ä¸”åœ¨åˆ†æ”¯ä¸Šå‘èµ·ä¸€ä¸ªpush requestsè¯·æ±‚åˆå¹¶åˆ°masterã€‚åœ¨ä¿®æ”¹æˆä¸ºä¸»å¹²ä»£ç å‰ï¼Œè¿™è®©å…¶ä»–çš„å¼€å‘è€…æœ‰æœºä¼šå»reviewå˜æ›´ã€‚ ä¸€ä¸ªå¼€å‘è€…å¼€å‘åŠŸèƒ½éœ€è¦å¸®åŠ©æ—¶ï¼Œè¦åšçš„å°±æ˜¯å‘èµ·ä¸€ä¸ªPullRequestï¼Œç›¸å…³çš„äººå°±ä¼šè‡ªåŠ¨æ”¶åˆ°é€šçŸ¥ï¼Œåœ¨ç›¸å…³çš„æäº¤æ—è¾¹èƒ½çœ‹åˆ°éœ€è¦å¸®åŠ©è§£å†³çš„é—®é¢˜ã€‚ ä¸€æ—¦Pull Requestè¢«æ¥å—äº†ï¼Œå‘å¸ƒåŠŸèƒ½è¦åšçš„å°±å’Œé›†ä¸­å¼å·¥ä½œæµå°±å¾ˆåƒäº†ã€‚ é¦–å…ˆï¼Œç¡®å®šæœ¬åœ°çš„masteråˆ†æ”¯å’Œä¸Šæ¸¸çš„masteråˆ†æ”¯æ˜¯åŒæ­¥çš„ã€‚ç„¶ååˆå¹¶åŠŸèƒ½åˆ†æ”¯åˆ°æœ¬åœ°masteråˆ†æ”¯å¹¶pushå·²ç»æ›´æ–°çš„æœ¬åœ°masteråˆ†æ”¯åˆ°ä¸­å¤®ä»“åº“ã€‚ ç¤ºä¾‹å°çº¢å¼€å§‹å¼€å‘ä¸€ä¸ªæ–°åŠŸèƒ½åœ¨å¼€å§‹å¼€å‘åŠŸèƒ½é’±ï¼Œå°çº¢éœ€è¦ä¸€ä¸ªç‹¬ç«‹åˆ°åˆ†æ”¯ï¼Œè¿™é‡Œæ–°å»ºä¸€ä¸ªåˆ†æ”¯ 12//-b ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œ åŸºäºmasterä½†new-featureåˆ†æ”¯git checkout -b new-feature master å°çº¢æŒ‰è€å¥—è·¯ç¼–è¾‘ã€æš‚å­˜å’Œæäº¤ä¿®æ”¹ï¼ŒæŒ‰éœ€è¦æäº¤ä»¥å®ç°åŠŸèƒ½ï¼š 123git statusgit add &lt;some-file&gt;git commit å°çº¢å®Œæˆå¼€å‘ï¼ŒpushåŠŸèƒ½åˆ†æ”¯åˆ°ä¸­å¤®ä»“åº“ 12//-ué€‰é¡¹è®¾ç½®æœ¬åœ°åˆ†æ”¯å»è·Ÿè¸ªè¿œç¨‹å¯¹åº”çš„åˆ†æ”¯, ä¹‹ååˆ°å¼€å‘å¯ä»¥çœç•¥-ugit push -u origin new-feature è¿™æ ·åŠŸèƒ½åˆ†æ”¯å°±è¢«æäº¤åˆ°ä¸­å¤®ä»“åº“ï¼Œè¿™é‡Œå¯ä»¥çœ‹åˆ°æœ‰ä¸¤ä¸ªåˆ†æ”¯ å°çº¢åœ¨å¥¹çš„Git GUIå®¢æˆ·ç«¯ä¸­å‘èµ·Pull Requestï¼Œè¯·æ±‚åˆå¹¶marys-featureåˆ°masterï¼Œå›¢é˜Ÿæˆå‘˜ä¼šè‡ªåŠ¨æ”¶åˆ°é€šçŸ¥ã€‚è¿™æ—¶å€™å°é»‘ï¼Œå¯¹æ–°åŠŸèƒ½æœ‰è‡ªå·±å¯¹æƒ³æ³•ï¼Œå†³å®šæ‹‰å–new-featureåˆ°æœ¬åœ°ï¼Œè¿›è¡Œä¿®æ”¹ã€‚ å°é»‘å¯¹æ–°åŠŸèƒ½çš„å¼€å‘ 12345678//ç¡®ä¿å½“å‰æœ€æ–°çš„git pull//æŸ¥çœ‹å½“å‰æ‰€æœ‰å¯¹åˆ†æ”¯ï¼Œå¯ä»¥çœ‹åˆ°å°çº¢æäº¤çš„åˆ†æ”¯git branch -aaddcommitpush å°é»‘å®Œæˆäº†å¼€å‘ï¼Œå‡†å¤‡å°†æ–°åŠŸèƒ½åˆå¹¶åŠŸèƒ½åˆ°ç¨³å®šé¡¹ç›®ä»£ç ä¸­ï¼ˆå¯ä»¥ç”±å°é»‘æˆ–æ˜¯å°çº¢æ¥åšè¿™ä¸ªæ“ä½œï¼‰ å‘å¸ƒæµç¨‹12345678//æ£€å‡ºåˆ°masteråˆ†æ”¯git checkout master//æ‹‰å–æœ€æ–°ä»“åº“git pull//new-featureåˆ†æ”¯åˆ°å’Œå·²ç»å’Œè¿œç¨‹ä¸€è‡´çš„æœ¬åœ°masteråˆ†æ”¯git pull origin new-feature//æ›´æ–°è¿œç¨‹masteråˆ†æ”¯git push æ— è®ºè°æ¥åšåˆå¹¶ï¼Œé¦–å…ˆè¦æ£€å‡ºmasteråˆ†æ”¯å¹¶ç¡®è®¤æ˜¯å®ƒæ˜¯æœ€æ–°çš„ã€‚ç„¶åæ‰§è¡Œgit pull originmarys-featureåˆå¹¶marys-featureåˆ†æ”¯åˆ°å’Œå·²ç»å’Œè¿œç¨‹ä¸€è‡´çš„æœ¬åœ°masteråˆ†æ”¯ã€‚ ä½ å¯ä»¥ä½¿ç”¨ç®€å•git mergemarys-featureå‘½ä»¤ï¼Œä½†å‰é¢çš„å‘½ä»¤å¯ä»¥ä¿è¯æ€»æ˜¯æœ€æ–°çš„æ–°åŠŸèƒ½åˆ†æ”¯ã€‚ æœ€åæ›´æ–°çš„masteråˆ†æ”¯è¦é‡æ–°pushå›åˆ°originã€‚ Gitflowå·¥ä½œæµGitflowå·¥ä½œæµé€šè¿‡ä¸ºåŠŸèƒ½å¼€å‘ã€å‘å¸ƒå‡†å¤‡å’Œç»´æŠ¤åˆ†é…ç‹¬ç«‹çš„åˆ†æ”¯ï¼Œè®©å‘å¸ƒè¿­ä»£è¿‡ç¨‹æ›´æµç•…ã€‚ä¸¥æ ¼çš„åˆ†æ”¯æ¨¡å‹ä¹Ÿä¸ºå¤§å‹é¡¹ç›®æä¾›äº†ä¸€äº›éå¸¸å¿…è¦çš„ç»“æ„ã€‚ Gitflowå·¥ä½œæµå®šä¹‰äº†ä¸€ä¸ªå›´ç»•é¡¹ç›®å‘å¸ƒçš„ä¸¥æ ¼åˆ†æ”¯æ¨¡å‹ã€‚è™½ç„¶æ¯”åŠŸèƒ½åˆ†æ”¯å·¥ä½œæµå¤æ‚å‡ åˆ†ï¼Œä½†æä¾›äº†ç”¨äºä¸€ä¸ªå¥å£®çš„ç”¨äºç®¡ç†å¤§å‹é¡¹ç›®çš„æ¡†æ¶ã€‚ Gitflowå·¥ä½œæµæ²¡æœ‰ç”¨è¶…å‡ºåŠŸèƒ½åˆ†æ”¯å·¥ä½œæµçš„æ¦‚å¿µå’Œå‘½ä»¤ï¼Œè€Œæ˜¯ä¸ºä¸åŒçš„åˆ†æ”¯åˆ†é…ä¸€ä¸ªå¾ˆæ˜ç¡®çš„è§’è‰²ï¼Œå¹¶å®šä¹‰åˆ†æ”¯ä¹‹é—´å¦‚ä½•å’Œä»€ä¹ˆæ—¶å€™è¿›è¡Œäº¤äº’ã€‚ é™¤äº†ä½¿ç”¨åŠŸèƒ½åˆ†æ”¯ï¼Œåœ¨åšå‡†å¤‡ã€ç»´æŠ¤å’Œè®°å½•å‘å¸ƒä¹Ÿä½¿ç”¨å„è‡ªçš„åˆ†æ”¯ã€‚ å½“ç„¶ä½ å¯ä»¥ç”¨ä¸ŠåŠŸèƒ½åˆ†æ”¯å·¥ä½œæµæ‰€æœ‰çš„å¥½å¤„ï¼šPull Requestsã€éš”ç¦»å®éªŒæ€§å¼€å‘å’Œæ›´é«˜æ•ˆçš„åä½œã€‚ å·¥ä½œæ–¹å¼Gitflowå·¥ä½œæµä»ç„¶ç”¨ä¸­å¤®ä»“åº“ä½œä¸ºæ‰€æœ‰å¼€å‘è€…çš„äº¤äº’ä¸­å¿ƒã€‚å’Œå…¶å®ƒçš„å·¥ä½œæµä¸€æ ·ï¼Œå¼€å‘è€…åœ¨æœ¬åœ°å·¥ä½œå¹¶pushåˆ†æ”¯åˆ°è¦ä¸­å¤®ä»“åº“ä¸­ã€‚ å†å²åˆ†æ”¯ç›¸å¯¹ä½¿ç”¨ä»…æœ‰çš„ä¸€ä¸ªmasteråˆ†æ”¯ï¼ŒGitflowå·¥ä½œæµä½¿ç”¨2ä¸ªåˆ†æ”¯æ¥è®°å½•é¡¹ç›®çš„å†å²ã€‚masteråˆ†æ”¯å­˜å‚¨äº†æ­£å¼å‘å¸ƒçš„å†å²ï¼Œè€Œdevelopåˆ†æ”¯ä½œä¸ºåŠŸèƒ½çš„é›†æˆåˆ†æ”¯ã€‚ è¿™æ ·ä¹Ÿæ–¹ä¾¿masteråˆ†æ”¯ä¸Šçš„æ‰€æœ‰æäº¤åˆ†é…ä¸€ä¸ªç‰ˆæœ¬å·ã€‚ åŠŸèƒ½åˆ†æ”¯æ¯ä¸ªæ–°åŠŸèƒ½ä½äºä¸€ä¸ªè‡ªå·±çš„åˆ†æ”¯ï¼Œè¿™æ ·å¯ä»¥pushåˆ°ä¸­å¤®ä»“åº“ä»¥å¤‡ä»½å’Œåä½œã€‚ ä½†åŠŸèƒ½åˆ†æ”¯ä¸æ˜¯ä»masteråˆ†æ”¯ä¸Šæ‹‰å‡ºæ–°åˆ†æ”¯ï¼Œ==è€Œæ˜¯ä½¿ç”¨developåˆ†æ”¯ä½œä¸ºçˆ¶åˆ†æ”¯==ã€‚å½“æ–°åŠŸèƒ½å®Œæˆæ—¶ï¼Œåˆå¹¶å›developåˆ†æ”¯ã€‚ æ–°åŠŸèƒ½æäº¤åº”è¯¥ä»ä¸ç›´æ¥ä¸masteråˆ†æ”¯äº¤äº’ã€‚ å‘å¸ƒåˆ†æ”¯ä¸€æ—¦developåˆ†æ”¯ä¸Šæœ‰äº†åšä¸€æ¬¡å‘å¸ƒï¼ˆæˆ–è€…è¯´å¿«åˆ°äº†æ—¢å®šçš„å‘å¸ƒæ—¥ï¼‰çš„è¶³å¤ŸåŠŸèƒ½ï¼Œå°±ä»developåˆ†æ”¯ä¸Šcheckoutä¸€ä¸ªå‘å¸ƒåˆ†æ”¯ã€‚ æ–°å»ºçš„åˆ†æ”¯ç”¨äºå¼€å§‹å‘å¸ƒå¾ªç¯ï¼Œæ‰€ä»¥ä»è¿™ä¸ªæ—¶é—´ç‚¹å¼€å§‹ä¹‹åæ–°çš„åŠŸèƒ½ä¸èƒ½å†åŠ åˆ°è¿™ä¸ªåˆ†æ”¯ä¸Šâ€”â€” ==è¿™ä¸ªåˆ†æ”¯åªåº”è¯¥åšBugä¿®å¤ã€æ–‡æ¡£ç”Ÿæˆå’Œå…¶å®ƒé¢å‘å‘å¸ƒä»»åŠ¡==ã€‚ ä¸€æ—¦å¯¹å¤–å‘å¸ƒçš„å·¥ä½œéƒ½å®Œæˆäº†ï¼Œå‘å¸ƒåˆ†æ”¯åˆå¹¶åˆ°masteråˆ†æ”¯å¹¶åˆ†é…ä¸€ä¸ªç‰ˆæœ¬å·æ‰“å¥½Tagã€‚ å¦å¤–ï¼Œè¿™äº›ä»æ–°å»ºå‘å¸ƒåˆ†æ”¯ä»¥æ¥çš„åšçš„ä¿®æ”¹è¦åˆå¹¶å›developåˆ†æ”¯ã€‚ ä½¿ç”¨ä¸€ä¸ªç”¨äºå‘å¸ƒå‡†å¤‡çš„ä¸“é—¨åˆ†æ”¯ï¼Œä½¿å¾—ä¸€ä¸ªå›¢é˜Ÿå¯ä»¥åœ¨å®Œå–„å½“å‰çš„å‘å¸ƒç‰ˆæœ¬çš„åŒæ—¶ï¼Œå¦ä¸€ä¸ªå›¢é˜Ÿå¯ä»¥ç»§ç»­å¼€å‘ä¸‹ä¸ªç‰ˆæœ¬çš„åŠŸèƒ½ã€‚ è¿™ä¹Ÿæ‰“é€ å®šä¹‰è‰¯å¥½çš„å¼€å‘é˜¶æ®µï¼ˆæ¯”å¦‚ï¼Œå¯ä»¥å¾ˆè½»æ¾åœ°è¯´ï¼Œã€è¿™å‘¨æˆ‘ä»¬è¦åšå‡†å¤‡å‘å¸ƒç‰ˆæœ¬4.0ã€ï¼Œå¹¶ä¸”åœ¨ä»“åº“çš„ç›®å½•ç»“æ„ä¸­å¯ä»¥å®é™…çœ‹åˆ°ï¼‰ã€‚ å¸¸ç”¨çš„åˆ†æ”¯çº¦å®šï¼š 123ç”¨äºæ–°å»ºå‘å¸ƒåˆ†æ”¯çš„åˆ†æ”¯: developç”¨äºåˆå¹¶çš„åˆ†æ”¯: masteråˆ†æ”¯å‘½å: release-* æˆ– release/* ç»´æŠ¤åˆ†æ”¯ç»´æŠ¤åˆ†æ”¯æˆ–è¯´æ˜¯çƒ­ä¿®å¤ï¼ˆhotfixï¼‰åˆ†æ”¯ç”¨äºç”Ÿæˆå¿«é€Ÿç»™äº§å“å‘å¸ƒç‰ˆæœ¬ï¼ˆproduction releasesï¼‰æ‰“è¡¥ä¸ï¼Œè¿™æ˜¯å”¯ä¸€å¯ä»¥ç›´æ¥ä»masteråˆ†æ”¯forkå‡ºæ¥çš„åˆ†æ”¯ã€‚ ä¿®å¤å®Œæˆï¼Œä¿®æ”¹åº”è¯¥é©¬ä¸Šåˆå¹¶å›masteråˆ†æ”¯å’Œdevelopåˆ†æ”¯ï¼ˆå½“å‰çš„å‘å¸ƒåˆ†æ”¯ï¼‰ï¼Œmasteråˆ†æ”¯åº”è¯¥ç”¨æ–°çš„ç‰ˆæœ¬å·æ‰“å¥½Tagã€‚ ä¸ºBugä¿®å¤ä½¿ç”¨ä¸“é—¨åˆ†æ”¯ï¼Œè®©å›¢é˜Ÿå¯ä»¥å¤„ç†æ‰é—®é¢˜è€Œä¸ç”¨æ‰“æ–­å…¶å®ƒå·¥ä½œæˆ–æ˜¯ç­‰å¾…ä¸‹ä¸€ä¸ªå‘å¸ƒå¾ªç¯ã€‚ ä½ å¯ä»¥æŠŠç»´æŠ¤åˆ†æ”¯æƒ³æˆæ˜¯ä¸€ä¸ªç›´æ¥åœ¨masteråˆ†æ”¯ä¸Šå¤„ç†çš„ä¸´æ—¶å‘å¸ƒã€‚ ç¤ºä¾‹ åˆ›å»ºå¼€å‘åˆ†æ”¯ç¬¬ä¸€æ­¥ä¸ºmasteråˆ†æ”¯é…å¥—ä¸€ä¸ªdevelopåˆ†æ”¯ã€‚ç®€å•æ¥åšå¯ä»¥æœ¬åœ°åˆ›å»ºä¸€ä¸ªç©ºçš„developåˆ†æ”¯ï¼Œpushåˆ°æœåŠ¡å™¨ä¸Š 12git branch developgit push -u origin develop ä»¥åè¿™ä¸ªåˆ†æ”¯å°†ä¼šåŒ…å«äº†é¡¹ç›®çš„å…¨éƒ¨å†å²ï¼Œè€Œmasteråˆ†æ”¯å°†åªåŒ…å«äº†éƒ¨åˆ†å†å²ã€‚å…¶å®ƒå¼€å‘è€…è¿™æ—¶åº”è¯¥å…‹éš†ä¸­å¤®ä»“åº“ï¼Œå»ºå¥½developåˆ†æ”¯çš„è·Ÿè¸ªåˆ†æ”¯ï¼š 12git clone ssh://user@host/path/to/repo.gitgit checkout -b develop origin/develop ç°åœ¨æ¯ä¸ªå¼€å‘éƒ½æœ‰äº†è¿™äº›å†å²åˆ†æ”¯çš„æœ¬åœ°æ‹·è´ã€‚ å°çº¢å’Œå°æ˜å¼€å§‹å¼€å‘æ–°åŠŸèƒ½ è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œå°çº¢å’Œå°æ˜å¼€å§‹å„è‡ªçš„åŠŸèƒ½å¼€å‘ã€‚ä»–ä»¬éœ€è¦ä¸ºå„è‡ªçš„åŠŸèƒ½åˆ›å»ºç›¸åº”çš„åˆ†æ”¯ã€‚æ–°åˆ†æ”¯ä¸æ˜¯åŸºäºmasteråˆ†æ”¯ï¼Œè€Œæ˜¯åº”è¯¥åŸºäºdevelopåˆ†æ”¯ï¼š 1git checkout -b some-feature develop ä»–ä»¬ç”¨è€å¥—è·¯æ·»åŠ æäº¤åˆ°å„è‡ªåŠŸèƒ½åˆ†æ”¯ä¸Šï¼šç¼–è¾‘ã€æš‚å­˜ã€æäº¤ï¼š 123git statusgit add &lt;some-file&gt;git commit å°çº¢å®ŒæˆåŠŸèƒ½å¼€å‘æ·»åŠ äº†æäº¤åï¼Œå°çº¢è§‰å¾—å¥¹çš„åŠŸèƒ½OKäº†ã€‚å¦‚æœå›¢é˜Ÿä½¿ç”¨Pull Requestsï¼Œè¿™æ—¶å€™å¯ä»¥å‘èµ·ä¸€ä¸ªç”¨äºåˆå¹¶åˆ°developåˆ†æ”¯ã€‚ å¦åˆ™å¥¹å¯ä»¥ç›´æ¥åˆå¹¶åˆ°å¥¹æœ¬åœ°çš„developåˆ†æ”¯åpushåˆ°ä¸­å¤®ä»“åº“ï¼š 12345git pull origin developgit checkout developgit merge some-featuregit pushgit branch -d some-feature ç¬¬ä¸€æ¡å‘½ä»¤åœ¨åˆå¹¶åŠŸèƒ½å‰ç¡®ä¿developåˆ†æ”¯æ˜¯æœ€æ–°çš„ã€‚æ³¨æ„ï¼ŒåŠŸèƒ½å†³ä¸åº”è¯¥ç›´æ¥åˆå¹¶åˆ°masteråˆ†æ”¯ã€‚ å†²çªè§£å†³æ–¹æ³•å’Œé›†ä¸­å¼å·¥ä½œæµä¸€æ ·ã€‚ å°çº¢å¼€å§‹å‡†å¤‡å‘å¸ƒè¿™ä¸ªæ—¶å€™å°æ˜æ­£åœ¨å®ç°ä»–çš„åŠŸèƒ½ï¼Œå°çº¢å¼€å§‹å‡†å¤‡å¥¹çš„ç¬¬ä¸€ä¸ªé¡¹ç›®æ­£å¼å‘å¸ƒã€‚ åƒåŠŸèƒ½å¼€å‘ä¸€æ ·ï¼Œå¥¹ç”¨ä¸€ä¸ªæ–°çš„åˆ†æ”¯æ¥åšå‘å¸ƒå‡†å¤‡ã€‚è¿™ä¸€æ­¥ä¹Ÿç¡®å®šäº†å‘å¸ƒçš„ç‰ˆæœ¬å·ï¼š 12//æ–°å»ºä¸€ä¸ªåŸºäºdevelopå¯¹åˆ†æ”¯ç”¨äºç‰ˆæœ¬å‘å¸ƒï¼Œæ­¤æ—¶å¹¶ä¸ä¼šå½±å“å…¶ä»–å¼€å‘è€…git checkout -b release-0.1 develop è¿™ä¸ªåˆ†æ”¯æ˜¯æ¸…ç†å‘å¸ƒã€æ‰§è¡Œæ‰€æœ‰æµ‹è¯•ã€æ›´æ–°æ–‡æ¡£å’Œå…¶å®ƒä¸ºä¸‹ä¸ªå‘å¸ƒåšå‡†å¤‡æ“ä½œçš„åœ°æ–¹ï¼Œåƒæ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºæ”¹å–„å‘å¸ƒçš„åŠŸèƒ½åˆ†æ”¯ã€‚ åªè¦å°çº¢åˆ›å»ºè¿™ä¸ªåˆ†æ”¯å¹¶pushåˆ°ä¸­å¤®ä»“åº“ï¼Œè¿™ä¸ªå‘å¸ƒå°±æ˜¯åŠŸèƒ½å†»ç»“çš„ã€‚ä»»ä½•ä¸åœ¨developåˆ†æ”¯ä¸­çš„æ–°åŠŸèƒ½éƒ½æ¨åˆ°ä¸‹ä¸ªå‘å¸ƒå¾ªç¯ä¸­ã€‚ å°çº¢å®Œæˆå‘å¸ƒä¸€æ—¦å‡†å¤‡å¥½äº†å¯¹å¤–å‘å¸ƒï¼Œå°çº¢åˆå¹¶ä¿®æ”¹åˆ°masteråˆ†æ”¯å’Œdevelopåˆ†æ”¯ä¸Šï¼Œåˆ é™¤å‘å¸ƒåˆ†æ”¯ã€‚åˆå¹¶å›developåˆ†æ”¯å¾ˆé‡è¦ï¼Œå› ä¸ºåœ¨å‘å¸ƒåˆ†æ”¯ä¸­å·²ç»æäº¤çš„æ›´æ–°éœ€è¦åœ¨åé¢çš„æ–°åŠŸèƒ½ä¸­ä¹Ÿè¦æ˜¯å¯ç”¨çš„ã€‚ å¦å¤–ï¼Œå¦‚æœå°çº¢çš„å›¢é˜Ÿè¦æ±‚Code Reviewï¼Œè¿™æ˜¯ä¸€ä¸ªå‘èµ·Pull Requestçš„ç†æƒ³æ—¶æœºã€‚ 12345678910/* ä¸¤æ¬¡æ£€å‡ºï¼Œä¸¤æ¬¡åˆå¹¶ï¼Œä¸ºçš„æ˜¯åˆå¹¶åˆ°masterå’Œdevelop*/git checkout mastergit merge release-0.1git pushgit checkout developgit merge release-0.1git pushgit branch -d release-0.1 å‘å¸ƒåˆ†æ”¯æ˜¯ä½œä¸ºåŠŸèƒ½å¼€å‘ï¼ˆdevelopåˆ†æ”¯ï¼‰å’Œå¯¹å¤–å‘å¸ƒï¼ˆmasteråˆ†æ”¯ï¼‰é—´çš„ç¼“å†²ã€‚åªè¦æœ‰åˆå¹¶åˆ°masteråˆ†æ”¯ï¼Œå°±åº”è¯¥æ‰“å¥½Tagä»¥æ–¹ä¾¿è·Ÿè¸ªã€‚ 12git tag -a 0.1 -m "Initial public release" mastergit push --tags Gitæœ‰æä¾›å„ç§å‹¾å­ï¼ˆhookï¼‰ï¼Œå³ä»“åº“æœ‰äº‹ä»¶å‘ç”Ÿæ—¶è§¦å‘æ‰§è¡Œçš„è„šæœ¬ã€‚ å¯ä»¥é…ç½®ä¸€ä¸ªå‹¾å­ï¼Œåœ¨ä½ pushä¸­å¤®ä»“åº“çš„masteråˆ†æ”¯æ—¶ï¼Œ==è‡ªåŠ¨æ„å»º==å¥½å¯¹å¤–å‘å¸ƒã€‚ æœ€ç»ˆç”¨æˆ·å‘ç°Bugå¯¹å¤–å‘å¸ƒåï¼Œå°çº¢å›å»å’Œå°æ˜ä¸€èµ·åšä¸‹ä¸ªå‘å¸ƒçš„æ–°åŠŸèƒ½å¼€å‘ï¼Œç›´åˆ°æœ‰æœ€ç»ˆç”¨æˆ·å¼€äº†ä¸€ä¸ªTicketæŠ±æ€¨å½“å‰ç‰ˆæœ¬çš„ä¸€ä¸ªBugã€‚ ä¸ºäº†å¤„ç†Bugï¼Œå°çº¢ï¼ˆæˆ–å°æ˜ï¼‰ä»masteråˆ†æ”¯ä¸Šæ‹‰å‡ºäº†ä¸€ä¸ªç»´æŠ¤åˆ†æ”¯ï¼Œæäº¤ä¿®æ”¹ä»¥è§£å†³é—®é¢˜ï¼Œç„¶åç›´æ¥åˆå¹¶å›masteråˆ†æ”¯ï¼š 123456//ä»masteråˆ†æ”¯ä¸­æ‹‰å‡ºä¸€ä¸ªbugåˆ†æ”¯ï¼Œè§£å†³å®Œååˆå¹¶åˆ°mastergit checkout -b issue-#001 master# Fix the buggit checkout mastergit merge issue-#001git push å°±åƒå‘å¸ƒåˆ†æ”¯ï¼Œç»´æŠ¤åˆ†æ”¯ä¸­æ–°åŠ è¿™äº›é‡è¦ä¿®æ”¹éœ€è¦åŒ…å«åˆ°developåˆ†æ”¯ä¸­ï¼Œæ‰€ä»¥å°çº¢è¦æ‰§è¡Œä¸€ä¸ªåˆå¹¶æ“ä½œã€‚ç„¶åå°±å¯ä»¥å®‰å…¨åœ°åˆ é™¤è¿™ä¸ªåˆ†æ”¯äº†ï¼š 1234git checkout developgit merge issue-#001git pushgit branch -d issue-#001 åˆ°äº†è¿™é‡Œï¼Œä½†æ„¿ä½ å¯¹é›†ä¸­å¼å·¥ä½œæµã€åŠŸèƒ½åˆ†æ”¯å·¥ä½œæµå’ŒGitflowå·¥ä½œæµå·²ç»æ„Ÿè§‰å¾ˆèˆ’é€‚äº†ã€‚ ä½ åº”è¯¥ä¹Ÿç‰¢å›ºçš„æŒæ¡äº†æœ¬åœ°ä»“åº“çš„æ½œèƒ½ï¼Œpush/pullæ¨¡å¼å’ŒGitå¥å£®çš„åˆ†æ”¯å’Œåˆå¹¶æ¨¡å‹ã€‚ Forkingå·¥ä½œæµForkingå·¥ä½œæµæ˜¯åˆ†å¸ƒå¼å·¥ä½œæµï¼Œå……åˆ†åˆ©ç”¨äº†Gitåœ¨åˆ†æ”¯å’Œå…‹éš†ä¸Šçš„ä¼˜åŠ¿ã€‚å¯ä»¥å®‰å…¨å¯é åœ°ç®¡ç†å¤§å›¢é˜Ÿçš„å¼€å‘è€…ï¼ˆdeveloperï¼‰ï¼Œå¹¶èƒ½==æ¥å—ä¸ä¿¡ä»»==è´¡çŒ®è€…ï¼ˆcontributorï¼‰çš„æäº¤ã€‚ Forkingå·¥ä½œæµå’Œå‰é¢è®¨è®ºçš„å‡ ç§å·¥ä½œæµæœ‰æ ¹æœ¬çš„ä¸åŒï¼Œè¿™ç§å·¥ä½œæµä¸æ˜¯ä½¿ç”¨å•ä¸ªæœåŠ¡ç«¯ä»“åº“ä½œä¸ºã€ä¸­å¤®ã€ä»£ç åŸºçº¿ï¼Œè€Œè®©å„ä¸ªå¼€å‘è€…éƒ½æœ‰ä¸€ä¸ªæœåŠ¡ç«¯ä»“åº“ã€‚è¿™æ„å‘³ç€å„ä¸ªä»£ç è´¡çŒ®è€…æœ‰2ä¸ªGitä»“åº“è€Œä¸æ˜¯1ä¸ªï¼šä¸€ä¸ªæœ¬åœ°ç§æœ‰çš„ï¼Œå¦ä¸€ä¸ªæœåŠ¡ç«¯å…¬å¼€çš„ã€‚ Forkingå·¥ä½œæµçš„ä¸€ä¸ªä¸»è¦ä¼˜åŠ¿æ˜¯ï¼Œè´¡çŒ®çš„ä»£ç å¯ä»¥è¢«é›†æˆï¼Œè€Œä¸éœ€è¦æ‰€æœ‰äººéƒ½èƒ½pushä»£ç åˆ°ä»…æœ‰çš„ä¸­å¤®ä»“åº“ä¸­ã€‚ å¼€å‘è€…pushåˆ°è‡ªå·±çš„æœåŠ¡ç«¯ä»“åº“ï¼Œè€Œåªæœ‰é¡¹ç›®ç»´æŠ¤è€…æ‰èƒ½pushåˆ°æ­£å¼ä»“åº“ã€‚ è¿™æ ·é¡¹ç›®ç»´æŠ¤è€…å¯ä»¥æ¥å—ä»»ä½•å¼€å‘è€…çš„æäº¤ï¼Œä½†æ— éœ€ç»™ä»–æ­£å¼ä»£ç åº“çš„å†™æƒé™ã€‚ æ•ˆæœå°±æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„å·¥ä½œæµï¼Œèƒ½ä¸ºå¤§å‹ã€è‡ªå‘æ€§çš„å›¢é˜Ÿï¼ˆåŒ…æ‹¬äº†ä¸å—ä¿¡çš„ç¬¬ä¸‰æ–¹ï¼‰æä¾›çµæ´»çš„æ–¹å¼æ¥å®‰å…¨çš„åä½œã€‚ ä¹Ÿè®©è¿™ä¸ªå·¥ä½œæµæˆä¸ºå¼€æºé¡¹ç›®çš„ç†æƒ³å·¥ä½œæµã€‚ å·¥ä½œæ–¹å¼å’Œå…¶å®ƒçš„Gitå·¥ä½œæµä¸€æ ·ï¼ŒForkingå·¥ä½œæµè¦å…ˆæœ‰ä¸€ä¸ªå…¬å¼€çš„æ­£å¼ä»“åº“å­˜å‚¨åœ¨æœåŠ¡å™¨ä¸Šã€‚ ä½†ä¸€ä¸ªæ–°çš„å¼€å‘è€…æƒ³è¦åœ¨é¡¹ç›®ä¸Šå·¥ä½œæ—¶ï¼Œä¸æ˜¯ç›´æ¥ä»æ­£å¼ä»“åº“å…‹éš†ï¼Œè€Œæ˜¯forkæ­£å¼é¡¹ç›®åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªæ‹·è´ã€‚ è¿™ä¸ªä»“åº“æ‹·è´ä½œä¸ºä»–ä¸ªäººå…¬å¼€ä»“åº“ â€”â€” å…¶å®ƒå¼€å‘è€…ä¸å…è®¸pushåˆ°è¿™ä¸ªä»“åº“ï¼Œä½†å¯ä»¥pullåˆ°ä¿®æ”¹ï¼ˆåé¢æˆ‘ä»¬å¾ˆå¿«å°±ä¼šçœ‹è¿™ç‚¹å¾ˆé‡è¦ï¼‰ã€‚ åœ¨åˆ›å»ºäº†è‡ªå·±æœåŠ¡ç«¯æ‹·è´ä¹‹åï¼Œå’Œä¹‹å‰çš„å·¥ä½œæµä¸€æ ·ï¼Œå¼€å‘è€…æ‰§è¡Œgit cloneå‘½ä»¤å…‹éš†ä»“åº“åˆ°æœ¬åœ°æœºå™¨ä¸Šï¼Œä½œä¸ºç§æœ‰çš„å¼€å‘ç¯å¢ƒã€‚ è¦æäº¤æœ¬åœ°ä¿®æ”¹æ—¶ï¼Œpushæäº¤åˆ°è‡ªå·±å…¬å¼€ä»“åº“ä¸­ â€”â€” è€Œä¸æ˜¯æ­£å¼ä»“åº“ä¸­ã€‚ ç„¶åï¼Œç»™æ­£å¼ä»“åº“å‘èµ·ä¸€ä¸ªpull requestï¼Œè®©é¡¹ç›®ç»´æŠ¤è€…çŸ¥é“æœ‰æ›´æ–°å·²ç»å‡†å¤‡å¥½å¯ä»¥é›†æˆäº†ã€‚ å¯¹äºè´¡çŒ®çš„ä»£ç ï¼Œpull requestä¹Ÿå¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä½œä¸ºä¸€ä¸ªè®¨è®ºçš„åœ°æ–¹ã€‚ ä¸ºäº†é›†æˆåŠŸèƒ½åˆ°æ­£å¼ä»£ç åº“ï¼Œ==ç»´æŠ¤è€…pullè´¡çŒ®è€…çš„å˜æ›´åˆ°è‡ªå·±çš„æœ¬åœ°ä»“åº“ä¸­ï¼Œæ£€æŸ¥å˜æ›´ä»¥ç¡®ä¿ä¸ä¼šè®©é¡¹ç›®å‡ºé”™ï¼Œ åˆå¹¶å˜æ›´åˆ°è‡ªå·±æœ¬åœ°çš„masteråˆ†æ”¯ï¼Œ ç„¶åpushmasteråˆ†æ”¯åˆ°æœåŠ¡å™¨çš„æ­£å¼ä»“åº“ä¸­==ã€‚ åˆ°æ­¤ï¼Œè´¡çŒ®çš„æäº¤æˆä¸ºäº†é¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œå…¶å®ƒçš„å¼€å‘è€…åº”è¯¥æ‰§è¡Œpullæ“ä½œä¸æ­£å¼ä»“åº“åŒæ­¥è‡ªå·±æœ¬åœ°ä»“åº“ã€‚ æ­£å¼ä»“åº“åœ¨Forkingå·¥ä½œæµä¸­ï¼Œã€å®˜æ–¹ã€ä»“åº“çš„å«æ³•åªæ˜¯ä¸€ä¸ªçº¦å®šï¼Œç†è§£è¿™ç‚¹å¾ˆé‡è¦ã€‚ ä»æŠ€æœ¯ä¸Šæ¥çœ‹ï¼Œå„ä¸ªå¼€å‘è€…ä»“åº“å’Œæ­£å¼ä»“åº“åœ¨Gitçœ‹æ¥æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚ äº‹å®ä¸Šï¼Œè®©æ­£å¼ä»“åº“ä¹‹æ‰€ä»¥æ­£å¼çš„å”¯ä¸€åŸå› æ˜¯å®ƒæ˜¯é¡¹ç›®ç»´æŠ¤è€…çš„å…¬å¼€ä»“åº“ã€‚ Forkingå·¥ä½œæµçš„åˆ†æ”¯ä½¿ç”¨æ–¹å¼æ‰€æœ‰çš„ä¸ªäººå…¬å¼€ä»“åº“å®é™…ä¸Šåªæ˜¯ä¸ºäº†æ–¹ä¾¿å’Œå…¶å®ƒçš„å¼€å‘è€…å…±äº«åˆ†æ”¯ã€‚ å„ä¸ªå¼€å‘è€…åº”è¯¥ç”¨åˆ†æ”¯éš”ç¦»å„ä¸ªåŠŸèƒ½ï¼Œå°±åƒåœ¨åŠŸèƒ½åˆ†æ”¯å·¥ä½œæµå’ŒGitflowå·¥ä½œæµä¸€æ ·ã€‚ å”¯ä¸€çš„åŒºåˆ«æ˜¯è¿™äº›åˆ†æ”¯è¢«å…±äº«äº†ã€‚åœ¨Forkingå·¥ä½œæµä¸­è¿™äº›åˆ†æ”¯ä¼šè¢«pullåˆ°å¦ä¸€ä¸ªå¼€å‘è€…çš„æœ¬åœ°ä»“åº“ä¸­ï¼Œè€Œåœ¨åŠŸèƒ½åˆ†æ”¯å·¥ä½œæµå’ŒGitflowå·¥ä½œæµä¸­æ˜¯ç›´æ¥è¢«pushåˆ°æ­£å¼ä»“åº“ä¸­ã€‚ ç¤ºä¾‹ é¡¹ç›®ç»´æŠ¤è€…åˆå§‹åŒ–æ­£å¼ä»“åº“å’Œä»»ä½•ä½¿ç”¨Gité¡¹ç›®ä¸€æ ·ï¼Œç¬¬ä¸€æ­¥æ˜¯åˆ›å»ºåœ¨æœåŠ¡å™¨ä¸Šä¸€ä¸ªæ­£å¼ä»“åº“ï¼Œè®©æ‰€æœ‰å›¢é˜Ÿæˆå‘˜éƒ½å¯ä»¥è®¿é—®åˆ°ã€‚ é€šå¸¸è¿™ä¸ªä»“åº“ä¹Ÿä¼šä½œä¸ºé¡¹ç›®ç»´æŠ¤è€…çš„å…¬å¼€ä»“åº“ã€‚ å…¬å¼€ä»“åº“åº”è¯¥æ˜¯è£¸ä»“åº“ï¼Œä¸ç®¡æ˜¯ä¸æ˜¯æ­£å¼ä»£ç åº“ã€‚ æ‰€ä»¥é¡¹ç›®ç»´æŠ¤è€…ä¼šè¿è¡Œåƒä¸‹é¢çš„å‘½ä»¤æ¥æ­å»ºæ­£å¼ä»“åº“ï¼š 12ssh user@hostgit init --bare /path/to/repo.git Bitbucketå’ŒStashæä¾›äº†ä¸€ä¸ªæ–¹ä¾¿çš„GUIå®¢æˆ·ç«¯ä»¥å®Œæˆä¸Šé¢å‘½ä»¤è¡Œåšçš„äº‹ã€‚ è¿™ä¸ªæ­å»ºä¸­å¤®ä»“åº“çš„è¿‡ç¨‹å’Œå‰é¢æåˆ°çš„å·¥ä½œæµå®Œå…¨ä¸€æ ·ã€‚ å¦‚æœæœ‰ç°å­˜çš„ä»£ç åº“ï¼Œç»´æŠ¤è€…ä¹Ÿè¦pushåˆ°è¿™ä¸ªä»“åº“ä¸­ã€‚ å¼€å‘è€…forkæ­£å¼ä»“åº“ å…¶å®ƒæ‰€æœ‰çš„å¼€å‘éœ€è¦forkæ­£å¼ä»“åº“ã€‚ å¯ä»¥ç”¨git cloneå‘½ä»¤ç”¨SSHåè®®è¿é€šåˆ°æœåŠ¡å™¨ï¼Œ æ‹·è´ä»“åº“åˆ°æœåŠ¡å™¨å¦ä¸€ä¸ªä½ç½® â€”â€” æ˜¯çš„ï¼Œforkæ“ä½œåŸºæœ¬ä¸Šå°±åªæ˜¯ä¸€ä¸ªæœåŠ¡ç«¯çš„å…‹éš†ã€‚ Bitbucketå’ŒStashä¸Šå¯ä»¥ç‚¹ä¸€ä¸‹æŒ‰é’®å°±è®©å¼€å‘è€…å®Œæˆä»“åº“çš„forkæ“ä½œã€‚ è¿™ä¸€æ­¥å®Œæˆåï¼Œæ¯ä¸ªå¼€å‘éƒ½åœ¨æœåŠ¡ç«¯æœ‰ä¸€ä¸ªè‡ªå·±çš„ä»“åº“ã€‚å’Œæ­£å¼ä»“åº“ä¸€æ ·ï¼Œè¿™äº›ä»“åº“åº”è¯¥æ˜¯è£¸ä»“åº“ã€‚ å¼€å‘è€…å…‹éš†è‡ªå·±forkå‡ºæ¥çš„ä»“åº“ ä¸‹ä¸€æ­¥ï¼Œå„ä¸ªå¼€å‘è€…è¦å…‹éš†è‡ªå·±çš„å…¬å¼€ä»“åº“ï¼Œç”¨ç†Ÿæ‚‰çš„git cloneå‘½ä»¤ã€‚ åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œå‡å®šç”¨Bitbucketæ‰˜ç®¡äº†ä»“åº“ã€‚è®°ä½ï¼Œå¦‚æœè¿™æ ·çš„è¯å„ä¸ªå¼€å‘è€…éœ€è¦æœ‰å„è‡ªçš„Bitbucketè´¦å·ï¼Œ ä½¿ç”¨ä¸‹é¢å‘½ä»¤å…‹éš†æœåŠ¡ç«¯è‡ªå·±çš„ä»“åº“ï¼š 1git clone https://user@bitbucket.org/user/repo.git ç›¸æ¯”å‰é¢ä»‹ç»çš„å·¥ä½œæµåªç”¨äº†ä¸€ä¸ªoriginè¿œç¨‹åˆ«åæŒ‡å‘ä¸­å¤®ä»“åº“ï¼ŒForkingå·¥ä½œæµéœ€è¦2ä¸ªè¿œç¨‹åˆ«å â€”â€” ä¸€ä¸ªæŒ‡å‘æ­£å¼ä»“åº“ï¼Œå¦ä¸€ä¸ªæŒ‡å‘å¼€å‘è€…è‡ªå·±çš„æœåŠ¡ç«¯ä»“åº“ã€‚åˆ«åçš„åå­—å¯ä»¥ä»»æ„å‘½åï¼Œå¸¸è§çš„çº¦å®šæ˜¯ä½¿ç”¨originä½œä¸ºè¿œç¨‹å…‹éš†çš„ä»“åº“çš„åˆ«å ï¼ˆè¿™ä¸ªåˆ«åä¼šåœ¨è¿è¡Œgit cloneè‡ªåŠ¨åˆ›å»ºï¼‰ï¼Œupstreamï¼ˆä¸Šæ¸¸ï¼‰ä½œä¸ºæ­£å¼ä»“åº“çš„åˆ«åã€‚ 1git remote add upstream https://bitbucket.org/maintainer/repo éœ€è¦è‡ªå·±ç”¨ä¸Šé¢çš„å‘½ä»¤åˆ›å»ºupstreamåˆ«åã€‚è¿™æ ·å¯ä»¥ç®€å•åœ°ä¿æŒæœ¬åœ°ä»“åº“å’Œæ­£å¼ä»“åº“çš„åŒæ­¥æ›´æ–°ã€‚ æ³¨æ„ï¼Œå¦‚æœä¸Šæ¸¸ä»“åº“éœ€è¦è®¤è¯ï¼ˆæ¯”å¦‚ä¸æ˜¯å¼€æºçš„ï¼‰ï¼Œä½ éœ€è¦æä¾›ç”¨æˆ·ï¼š 1git remote add upstream https://user@bitbucket.org/maintainer/repo.git è¿™æ—¶åœ¨å…‹éš†å’Œpullæ­£å¼ä»“åº“æ—¶ï¼Œéœ€è¦æä¾›ç”¨æˆ·çš„å¯†ç ã€‚ å¼€å‘è€…å¼€å‘è‡ªå·±çš„åŠŸèƒ½åœ¨åˆšå…‹éš†çš„æœ¬åœ°ä»“åº“ä¸­ï¼Œå¼€å‘è€…å¯ä»¥åƒå…¶å®ƒå·¥ä½œæµä¸€æ ·çš„ç¼–è¾‘ä»£ç ã€æäº¤ä¿®æ”¹å’Œæ–°å»ºåˆ†æ”¯ï¼š 123git checkout -b some-feature# Edit some codegit commit -a -m "Add first draft of some feature" æ‰€æœ‰çš„ä¿®æ”¹éƒ½æ˜¯ç§æœ‰çš„ç›´åˆ°pushåˆ°è‡ªå·±å…¬å¼€ä»“åº“ä¸­ã€‚å¦‚æœæ­£å¼é¡¹ç›®å·²ç»å¾€å‰èµ°äº†ï¼Œå¯ä»¥ç”¨git pullå‘½ä»¤è·å¾—æ–°çš„æäº¤ï¼š 1git pull upstream master å¼€å‘è€…å‘å¸ƒè‡ªå·±çš„åŠŸèƒ½ç”±äºå¼€å‘è€…åº”è¯¥éƒ½åœ¨ä¸“é—¨çš„åŠŸèƒ½åˆ†æ”¯ä¸Šå·¥ä½œï¼Œpullæ“ä½œç»“æœä¼šéƒ½æ˜¯å¿«è¿›åˆå¹¶ã€‚ ä¸€æ—¦å¼€å‘è€…å‡†å¤‡å¥½äº†åˆ†äº«æ–°åŠŸèƒ½ï¼Œéœ€è¦åšäºŒä»¶äº‹ã€‚ é¦–å…ˆï¼Œé€šè¿‡pushä»–çš„è´¡çŒ®ä»£ç åˆ°è‡ªå·±çš„å…¬å¼€ä»“åº“ä¸­ï¼Œè®©å…¶å®ƒçš„å¼€å‘è€…éƒ½å¯ä»¥è®¿é—®åˆ°ã€‚ ä»–çš„originè¿œç¨‹åˆ«ååº”è¯¥å·²ç»æœ‰äº†ï¼Œæ‰€ä»¥è¦åšçš„å°±æ˜¯ï¼š 1git push origin feature-branch è¿™é‡Œå’Œä¹‹å‰çš„å·¥ä½œæµçš„å·®å¼‚æ˜¯ï¼Œoriginè¿œç¨‹åˆ«åæŒ‡å‘å¼€å‘è€…è‡ªå·±çš„æœåŠ¡ç«¯ä»“åº“ï¼Œè€Œä¸æ˜¯æ­£å¼ä»“åº“ã€‚ ç¬¬äºŒä»¶äº‹ï¼Œå¼€å‘è€…è¦é€šçŸ¥é¡¹ç›®ç»´æŠ¤è€…ï¼Œæƒ³è¦åˆå¹¶ä»–çš„æ–°åŠŸèƒ½åˆ°æ­£å¼åº“ä¸­ã€‚ Bitbucketå’ŒStashæä¾›äº†Pull RequestæŒ‰é’®ï¼Œå¼¹å‡ºè¡¨å•è®©ä½ æŒ‡å®šå“ªä¸ªåˆ†æ”¯è¦åˆå¹¶åˆ°æ­£å¼ä»“åº“ã€‚ ä¸€èˆ¬ä½ ä¼šæƒ³é›†æˆä½ çš„åŠŸèƒ½åˆ†æ”¯åˆ°ä¸Šæ¸¸è¿œç¨‹ä»“åº“çš„masteråˆ†æ”¯ä¸­ã€‚ é¡¹ç›®ç»´æŠ¤è€…é›†æˆå¼€å‘è€…çš„åŠŸèƒ½ å½“é¡¹ç›®ç»´æŠ¤è€…æ”¶åˆ°pull requestï¼Œä»–è¦åšçš„æ˜¯å†³å®šæ˜¯å¦é›†æˆå®ƒåˆ°æ­£å¼ä»£ç åº“ä¸­ã€‚æœ‰äºŒç§æ–¹å¼æ¥åšï¼š ç›´æ¥åœ¨pull requestä¸­æŸ¥çœ‹ä»£ç pullä»£ç åˆ°ä»–è‡ªå·±çš„æœ¬åœ°ä»“åº“ï¼Œå†æ‰‹åŠ¨åˆå¹¶ç¬¬ä¸€ç§åšæ³•æ›´ç®€å•ï¼Œç»´æŠ¤è€…å¯ä»¥åœ¨GUIä¸­æŸ¥çœ‹å˜æ›´çš„å·®å¼‚ï¼Œåšè¯„æ³¨å’Œæ‰§è¡Œåˆå¹¶ã€‚ ä½†å¦‚æœå‡ºç°äº†åˆå¹¶å†²çªï¼Œéœ€è¦ç¬¬äºŒç§åšæ³•æ¥è§£å†³ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œç»´æŠ¤è€…éœ€è¦ä»å¼€å‘è€…çš„æœåŠ¡ç«¯ä»“åº“ä¸­fetchåŠŸèƒ½åˆ†æ”¯ï¼Œ åˆå¹¶åˆ°ä»–æœ¬åœ°çš„masteråˆ†æ”¯ï¼Œè§£å†³å†²çªï¼š 1234git fetch https://bitbucket.org/user/repo feature-branch# æŸ¥çœ‹å˜æ›´git checkout mastergit merge FETCH_HEAD å˜æ›´é›†æˆåˆ°æœ¬åœ°çš„masteråˆ†æ”¯åï¼Œç»´æŠ¤è€…è¦pushå˜æ›´åˆ°æœåŠ¡å™¨ä¸Šçš„æ­£å¼ä»“åº“ï¼Œè¿™æ ·å…¶å®ƒçš„å¼€å‘è€…éƒ½èƒ½è®¿é—®åˆ°ï¼š 1git push origin master æ³¨æ„ï¼Œç»´æŠ¤è€…çš„originæ˜¯æŒ‡å‘ä»–è‡ªå·±å…¬å¼€ä»“åº“çš„ï¼Œå³æ˜¯é¡¹ç›®çš„æ­£å¼ä»£ç åº“ã€‚åˆ°æ­¤ï¼Œå¼€å‘è€…çš„è´¡çŒ®å®Œå…¨é›†æˆåˆ°äº†é¡¹ç›®ä¸­ã€‚ å¼€å‘è€…å’Œæ­£å¼ä»“åº“åšåŒæ­¥ç”±äºæ­£å¼ä»£ç åº“å¾€å‰èµ°äº†ï¼Œå…¶å®ƒçš„å¼€å‘éœ€è¦å’Œæ­£å¼ä»“åº“åšåŒæ­¥ï¼š 1git pull upstream master å¦‚æœä½ ä¹‹å‰æ˜¯ä½¿ç”¨SVNï¼ŒForkingå·¥ä½œæµå¯èƒ½çœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªæ¿€è¿›çš„èŒƒå¼åˆ‡æ¢ï¼ˆparadigm shiftï¼‰ã€‚ ä½†ä¸è¦å®³æ€•ï¼Œè¿™ä¸ªå·¥ä½œæµå®é™…ä¸Šå°±æ˜¯åœ¨åŠŸèƒ½åˆ†æ”¯å·¥ä½œæµä¹‹ä¸Šå¼•å…¥å¦ä¸€ä¸ªæŠ½è±¡å±‚ã€‚ ä¸æ˜¯ç›´æ¥é€šè¿‡å•ä¸ªä¸­å¤®ä»“åº“æ¥åˆ†äº«åˆ†æ”¯ï¼Œè€Œæ˜¯æŠŠè´¡çŒ®ä»£ç å‘å¸ƒåˆ°å¼€å‘è€…è‡ªå·±çš„æœåŠ¡ç«¯ä»“åº“ä¸­ã€‚ ç¤ºä¾‹ä¸­è§£é‡Šäº†ï¼Œä¸€ä¸ªè´¡çŒ®å¦‚ä½•ä»ä¸€ä¸ªå¼€å‘è€…æµåˆ°æ­£å¼çš„masteråˆ†æ”¯ä¸­ï¼Œä½†åŒæ ·çš„æ–¹æ³•å¯ä»¥æŠŠè´¡çŒ®é›†æˆåˆ°ä»»ä¸€ä¸ªä»“åº“ä¸­ã€‚ æ¯”å¦‚ï¼Œå¦‚æœå›¢é˜Ÿçš„å‡ ä¸ªäººåä½œå®ç°ä¸€ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥åœ¨å¼€å‘ä¹‹é—´ç”¨ç›¸åŒçš„æ–¹æ³•åˆ†äº«å˜æ›´ï¼Œå®Œå…¨ä¸æ¶‰åŠæ­£å¼ä»“åº“ã€‚ è¿™ä½¿å¾—Forkingå·¥ä½œæµå¯¹äºæ¾æ•£ç»„ç»‡çš„å›¢é˜Ÿæ¥è¯´æ˜¯ä¸ªéå¸¸å¼ºå¤§çš„å·¥å…·ã€‚ä»»ä¸€å¼€å‘è€…å¯ä»¥æ–¹ä¾¿åœ°å’Œå¦ä¸€å¼€å‘è€…åˆ†äº«å˜æ›´ï¼Œä»»ä½•åˆ†æ”¯éƒ½èƒ½æœ‰æ•ˆåœ°åˆå¹¶åˆ°æ­£å¼ä»£ç åº“ä¸­ã€‚ å‚è€ƒé“¾æ¥ï¼šxirongGitä»“åº“]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>å¤šäººåˆä½œ</tag>
        <tag>SVN</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GitåŸºç¡€å…¥é—¨]]></title>
    <url>%2F2017%2F08%2F10%2Fcl4s3gtdt000ywn9eihtvr6w9%2F</url>
    <content type="text"><![CDATA[Gitåˆ†æ”¯ç®¡ç†å¤šäººåˆä½œ åˆ›å»ºç‰ˆæœ¬åº“1$ git init //ä¸å¯ä»¥æ‰‹åŠ¨ä¿®æ”¹.gitç›®å½•$ vim readme //æ–°å»ºä¸€ä¸ªreadmeæ–‡ä»¶$ git add readme.md //æŠŠæ–‡ä»¶æ·»åŠ åˆ°æš‚ç¼“åŒº$ git commit -m &quot;wrote a readme file&quot; //æŠŠæ–‡ä»¶æäº¤åˆ°ä»“åº“ åœ¨githubä»“åº“ï¼Œç¬¬ä¸€æ¬¡åˆ›å»º123456echo &quot;# React-Node&quot; &gt;&gt; README.mdgit initgit add README.mdgit commit -m &quot;first commit&quot;git remote add origin https://github.com/lyctea/React-Node.gitgit push -u origin master æŸ¥çœ‹ä»“åº“çŠ¶æ€1$ git status //æŸ¥çœ‹ä»“åº“çš„å½“å‰çŠ¶æ€$ git diff //æŸ¥çœ‹difference, æ²¡é—®é¢˜åˆ™ add--&gt;commit$ git log //æœ€è¿‘åˆ°æœ€è¿œçš„æäº¤æ—¥å¿— ä¿¡æ¯å¤ªå¤šå¯ä»¥åŠ --pretty=oneline å›é€€æœºåˆ¶1$ git reflog //å†å²æ—¥å¿—,å¯ä»¥æŸ¥çœ‹æ‰€æœ‰æ“ä½œ,å¦‚æœåœ¨å›é€€ä»¥ååˆæƒ³å†æ¬¡å›åˆ°ä¹‹å‰çš„ç‰ˆæœ¬$ git reset --hard d020e0c //è·³è½¬åˆ°æŒ‡å®šçš„commit å·¥ä½œåŒº æš‚ç¼“åŒº åˆ†æ”¯1$ git add //ä»å·¥ä½œåŒºæ·»åŠ åˆ°æš‚ç¼“åŒº$ git commit //ä»æš‚ç¼“åŒºæ·»åŠ åˆ°åˆ†æ”¯ æ’¤é”€ä¿®æ”¹1$ git checkout -- resetTest.txt //è®©å·¥ä½œåŒºæ¢å¤åˆ°æœ€è¿‘ä¸€æ¬¡commitæˆ–è€…addæ—¶çš„çŠ¶æ€$ git reset HEAD resetTest.txt //å½“å·²ç»addçš„æ–‡ä»¶, å›é€€åˆ°å·¥ä½œåŒº, ç„¶åä½¿ç”¨checkoutå¯ä»¥æ’¤é”€ä¿®æ”¹ åˆ é™¤æ–‡ä»¶1$ rm resetTest.txt //åˆ é™¤æœ¬åœ°æ–‡ä»¶$ git checkout -- resetTest.txt //ä¸æƒ³åˆ é™¤, æ£€å‡º ä¿æŒå·¥ä½œåŒºå’Œä»“åº“ä¸€è‡´$ git rm resetTest.txt //ä»ä»“åº“ä¸­åˆ é™¤$ git commit -m &quot;rm test&quot; //å¹¶ä¸”commit è¿œç¨‹ä»“åº“ SSHåˆ›å»ºSSH Key1$ ssh-keygen -t rsa -C &quot;youremail@example.com&quot; ç™»é™†GitHub ç‚¹â€œAdd SSH Keyâ€ å¡«ä¸Šä»»æ„Titleï¼Œåœ¨Keyæ–‡æœ¬æ¡†é‡Œç²˜è´´id_rsa.pubæ–‡ä»¶çš„å†…å®¹åœ¨githubä¸Šåˆ›å»ºä»“åº“1$ git remote add origin git@github.com:michaelliao/learngit.git //è¿æ¥è¿œç¨‹ä»“åº“ originæ˜¯è¿œç¨‹ä»“åº“åå­—$ git push -u origin master //æŠŠæœ¬åœ°ä»“åº“å†…å®¹æ¨é€åˆ°è¿œç¨‹åº“ä¸Š/*æ¨é€æŠ¥é”™, ä»¥ä¸‹è§£å†³æ–¹æ³• :å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤è¿›è¡Œä»£ç åˆå¹¶ã€æ³¨ï¼špull=fetch+merge]git pull --rebase origin masteræ­¤æ—¶å†æ‰§è¡Œè¯­å¥ git push -u origin masterå³å¯å®Œæˆä»£ç ä¸Šä¼ åˆ°github*/ SSHè­¦å‘Šç¬¬ä¸€æ¬¡ä½¿ç”¨Gitçš„cloneæˆ–è€…pushå‘½ä»¤è¿æ¥GitHubæ—¶ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªè­¦å‘Š, è¿™æ˜¯å› ä¸ºGitä½¿ç”¨SSHè¿æ¥ï¼Œè€ŒSSHè¿æ¥åœ¨ç¬¬ä¸€æ¬¡éªŒè¯GitHubæœåŠ¡å™¨çš„Keyæ—¶ï¼Œéœ€è¦ä½ ç¡®è®¤GitHubçš„Keyçš„æŒ‡çº¹ä¿¡æ¯æ˜¯å¦çœŸçš„æ¥è‡ªGitHubçš„æœåŠ¡å™¨ï¼Œè¾“å…¥yeså›è½¦å³å¯ã€‚ä»è¿œç¨‹åº“å…‹éš†1$ git clone git@github.com:michaelliao/gitskills.git åˆ†æ”¯ç®¡ç†åˆ›å»ºåˆ†æ”¯1$ git branch dev$ git checkout dev/* ä¹Ÿå¯ä»¥ä¸€æ¡å‘½ä»¤ git checkout -b dev //åˆ›å»ºå¹¶åˆ‡æ¢*/ $ git branch //åˆ—å‡ºæ‰€æœ‰åˆ†æ”¯ï¼Œå½“å‰åˆ†æ”¯å‰é¢ä¼šæ ‡ä¸€ä¸ª*å· åˆå¹¶åˆ†æ”¯1$ git merge dev //åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ åˆ é™¤åˆ†æ”¯1$ git branch -d dev //Gité¼“åŠ±å¤§é‡ä½¿ç”¨åˆ†æ”¯ åˆå¹¶ååˆ é™¤ è§£å†³å†²çªæ–°å»ºä¸€ä¸ªåˆ†æ”¯, å¹¶ä¸”commit , å½“æ–°å»ºåˆ†æ”¯å†…å®¹å’Œmasteråˆ†æ”¯æ²¡æœ‰å†²çªçš„æ—¶å€™, å¯ä»¥ç”¨è‡ªåŠ¨åˆå¹¶åˆ†æ”¯å¤„ç†.å½“å‡ºç°å†²çªæ—¶, è‡ªåŠ¨åˆå¹¶å¤±æ•ˆ, éœ€è¦æ‰‹åŠ¨å¤„ç†å†²çª . è§£å†³å®Œä¹‹å, commitç‰ˆæœ¬ åˆ é™¤æ–°å»ºåˆ†æ”¯ 1/*Gitç”¨&lt;&lt;&lt;&lt;&lt;&lt;&lt;ï¼Œ=======ï¼Œ&gt;&gt;&gt;&gt;&gt;&gt;&gt;æ ‡è®°å‡ºä¸åŒåˆ†æ”¯çš„å†…å®¹*/$ git log --graph --pretty=oneline --abbrev-commit //æŸ¥çœ‹åˆå¹¶åˆ†æ”¯çš„æƒ…å†µ$ git log --graph //æŸ¥çœ‹åˆ†æ”¯åˆå¹¶å›¾ åˆ†æ”¯ç®¡ç†ç­–ç•¥1/* å¼ºåˆ¶ç¦ç”¨Fast forwardæ¨¡å¼ï¼ŒGitå°±ä¼šåœ¨mergeæ—¶ç”Ÿæˆä¸€ä¸ªæ–°çš„commit*/$ git merge --no-ff -m &quot;merge with no-ff&quot; dev å»ºè®®ä½¿ç”¨çš„åˆ†æ”¯ç®¡ç†ç­–ç•¥1åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥æŒ‰ç…§å‡ ä¸ªåŸºæœ¬åŸåˆ™è¿›è¡Œåˆ†æ”¯ç®¡ç†ï¼šé¦–å…ˆï¼Œmasteråˆ†æ”¯åº”è¯¥æ˜¯éå¸¸ç¨³å®šçš„ï¼Œä¹Ÿå°±æ˜¯ä»…ç”¨æ¥å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œå¹³æ—¶ä¸èƒ½åœ¨ä¸Šé¢å¹²æ´»ï¼›é‚£åœ¨å“ªå¹²æ´»å‘¢ï¼Ÿå¹²æ´»éƒ½åœ¨devåˆ†æ”¯ä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œdevåˆ†æ”¯æ˜¯ä¸ç¨³å®šçš„ï¼Œåˆ°æŸä¸ªæ—¶å€™ï¼Œæ¯”å¦‚1.0ç‰ˆæœ¬å‘å¸ƒæ—¶ï¼Œå†æŠŠdevåˆ†æ”¯åˆå¹¶åˆ°masterä¸Šï¼Œåœ¨masteråˆ†æ”¯å‘å¸ƒ1.0ç‰ˆæœ¬ï¼›ä½ å’Œä½ çš„å°ä¼™ä¼´ä»¬æ¯ä¸ªäººéƒ½åœ¨devåˆ†æ”¯ä¸Šå¹²æ´»ï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„åˆ†æ”¯ï¼Œæ—¶ä¸æ—¶åœ°å¾€devåˆ†æ”¯ä¸Šåˆå¹¶å°±å¯ä»¥äº†ã€‚ BUGåˆ†æ”¯1è½¯ä»¶å¼€å‘ä¸­ï¼ŒBUG å°±åƒå®¶å¸¸ä¾¿é¥­ä¸€æ ·ã€‚BUG å°±éœ€è¦ä¿®å¤ï¼Œåœ¨Gitä¸­ï¼Œç”±äºåˆ†æ”¯æ˜¯å¦‚æ­¤çš„å¼ºå¤§ï¼Œæ‰€ä»¥ï¼ŒBUG éƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ªæ–°çš„ä¸´æ—¶åˆ†æ”¯æ¥ä¿®å¤ï¼Œä¿®å¤åï¼Œåˆå¹¶åˆ†æ”¯ï¼Œç„¶åå°†ä¸´æ—¶åˆ†æ”¯åˆ é™¤ 1/* æ¦‚è§ˆï¼šmasteråˆå¹¶mergeè§£å†³å¥½çš„bugåï¼Œä¸è¦å…ˆæŠŠdevè§£å°ï¼Œå…ˆåˆå¹¶masterï¼Œè·å–é‡Œé¢çš„bugæ–¹æ¡ˆåï¼Œåœ¨è§£å°ã€‚è§£å°æ—¶ä¼šæœ‰æç¤ºå†²çªï¼Œéœ€æ‰‹åŠ¨æ”¹ä¸€æ¬¡æ–‡ä»¶ã€‚ 1ï¼šåœ¨ dev ä¸‹æ­£å¸¸å¼€å‘ä¸­ï¼Œè¯´æœ‰1ä¸ªbugè¦è§£å†³ï¼Œé¦–å…ˆæˆ‘éœ€è¦æŠŠdevåˆ†æ”¯å°å­˜stash 2ï¼šåœ¨masterä¸‹æ–°å»ºä¸€ä¸ªissue-101åˆ†æ”¯ï¼Œè§£å†³bugï¼ŒæˆåŠŸå 3ï¼šåœ¨masterä¸‹åˆå¹¶issue-101 4ï¼šåœ¨ dev ä¸‹åˆå¹¶masterï¼Œ è¿™æ ·æ‰åŒæ­¥äº†é‡Œé¢çš„bugè§£å†³æ–¹æ¡ˆ 5ï¼šè§£å¼€devå°å°stash popï¼Œç³»ç»Ÿè‡ªåŠ¨åˆå¹¶ &amp; æç¤ºæœ‰å†²çªï¼Œå› ä¸ºå°å­˜å‰devå†™äº†ä¸œè¥¿ï¼Œæ­¤æ—¶å»æ–‡ä»¶é‡Œæ‰‹åŠ¨æ”¹å†²çª 6ï¼šç»§ç»­å¼€å‘devï¼Œæœ€åaddï¼Œcommit 7ï¼šåœ¨masterä¸‹åˆå¹¶æœ€åå®Œæˆçš„dev ä»£ç è¿‡ç¨‹å¦‚ä¸‹ï¼š*/1ï¼š $ git stash2ï¼š $ git checkout master $ git checkout -b issue-101 //å»æ–‡ä»¶é‡Œä¿®bug $ git add README.md $ git commit -m &quot;fix-issue-101&quot;3ï¼š $ git checkout master $ git merge --no-ff -m &quot;m-merge-issue-101&quot; issue-101 $ git branch -d issue-1014ï¼š $ git checkout dev $ git merge --no-ff -m &quot;dev-merge-m&quot; master5ï¼š $ git stash list //æŸ¥çœ‹å†»ç»“åˆ—è¡¨,ä»¥ä¾¿æ¢å¤ $ git stash pop //æç¤ºå†²çªï¼Œå»æ–‡ä»¶æ‰‹åŠ¨æ”¹æ­£ Auto-merging README.md CONFLICT (content): Merge conflict in README.md6ï¼š //ç»§ç»­å¼€å‘ ... ... ï¼Œå®Œæˆåä¸€å¹¶æäº¤ $ git add README.md $ git commit -m &quot;fixconflict &amp; append something&quot;7ï¼š $ git checkout master $ git merge --no-ff -m &quot;m-merge-dev&quot; dev $ git branch -d dev å†»ç»“ä¸è§£å†»1$ git stash //å†»ç»“å½“å‰ä¸ºæäº¤,ä½†æ˜¯å·²ç»addçš„å·¥ä½œçŠ¶æ€$ git stash pop //è§£å†», å¹¶åœ¨çŠ¶æ€åˆ—è¡¨ä¸­åˆ é™¤$ git stash list //åˆ—å‡ºæ‰€æœ‰çš„çŠ¶æ€$ git stash apply //è§£å†», ä½†å¹¶ä¸åˆ é™¤çŠ¶æ€$ git stash drop //åˆ é™¤çŠ¶æ€ Featureåˆ†æ”¯1å¼€å‘æ–°åŠŸèƒ½ä¹Ÿæ˜¯åœ¨devçš„åŸºç¡€ä¸Š, æ–°å»ºä¸€ä¸ªFeatureåˆ†æ”¯, å®Œæˆä¹‹å, åˆ‡æ¢å›devåˆ†æ”¯, è¿›è¡Œåˆå¹¶,è§£å†³å†²çªç­‰, å¦‚æœå¼€å‘å®Œçš„Featureåˆ†æ”¯buxuyaole, å¯ä»¥ä½¿ç”¨ git branch -D å»åˆ é™¤æ²¡æœ‰åˆå¹¶çš„åˆ†æ”¯ å¤šäººåˆä½œæ¨é€åˆ†æ”¯1å¹¶ä¸æ˜¯ä¸€å®šè¦æŠŠæœ¬åœ°åˆ†æ”¯å¾€è¿œç¨‹æ¨é€ï¼Œé‚£ä¹ˆï¼Œå“ªäº›åˆ†æ”¯éœ€è¦æ¨é€ï¼Œå“ªäº›ä¸éœ€è¦å‘¢ï¼Ÿmasteråˆ†æ”¯æ˜¯ä¸»åˆ†æ”¯ï¼Œå› æ­¤è¦æ—¶åˆ»ä¸è¿œç¨‹åŒæ­¥ï¼›devåˆ†æ”¯æ˜¯å¼€å‘åˆ†æ”¯ï¼Œå›¢é˜Ÿæ‰€æœ‰æˆå‘˜éƒ½éœ€è¦åœ¨ä¸Šé¢å·¥ä½œï¼Œæ‰€ä»¥ä¹Ÿéœ€è¦ä¸è¿œç¨‹åŒæ­¥ï¼›bug åˆ†æ”¯åªç”¨äºåœ¨æœ¬åœ°ä¿®å¤bug ï¼Œå°±æ²¡å¿…è¦æ¨åˆ°è¿œç¨‹äº†ï¼Œé™¤éè€æ¿è¦çœ‹çœ‹ä½ æ¯å‘¨åˆ°åº•ä¿®å¤äº†å‡ ä¸ªbugï¼›featureåˆ†æ”¯æ˜¯å¦æ¨åˆ°è¿œç¨‹ï¼Œå–å†³äºä½ æ˜¯å¦å’Œä½ çš„å°ä¼™ä¼´åˆä½œåœ¨ä¸Šé¢å¼€å‘ã€‚ æŠ“å–åˆ†æ”¯1$ git push origin --delete remote_branch //åˆ é™¤è¿œç¨‹åˆ†æ”¯$ git remote -v //æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¿¡æ¯$ git checkout -b dev origin/dev //åˆ›å»ºè¿œç¨‹originçš„devåˆ†æ”¯åˆ°æœ¬åœ° 1/*å¤šäººåä½œçš„å·¥ä½œæ¨¡å¼é€šå¸¸æ˜¯è¿™æ ·ï¼šé¦–å…ˆï¼Œå¯ä»¥è¯•å›¾ç”¨git push origin branch-nameæ¨é€è‡ªå·±çš„ä¿®æ”¹ï¼›å¦‚æœæ¨é€å¤±è´¥ï¼Œåˆ™å› ä¸ºè¿œç¨‹åˆ†æ”¯æ¯”ä½ çš„æœ¬åœ°æ›´æ–°ï¼Œéœ€è¦å…ˆç”¨git pullè¯•å›¾åˆå¹¶ï¼›å¦‚æœåˆå¹¶æœ‰å†²çªï¼Œåˆ™è§£å†³å†²çªï¼Œå¹¶åœ¨æœ¬åœ°æäº¤ï¼›æ²¡æœ‰å†²çªæˆ–è€…è§£å†³æ‰å†²çªåï¼Œå†ç”¨git push origin branch-nameæ¨é€å°±èƒ½æˆåŠŸï¼å¦‚æœgit pullæç¤ºâ€œno tracking informationâ€ï¼Œåˆ™è¯´æ˜æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„é“¾æ¥å…³ç³»æ²¡æœ‰åˆ›å»ºï¼Œç”¨å‘½ä»¤git branch --set-upstream branch-name origin/branch-nameã€‚*/ æ ‡ç­¾1å‘å¸ƒä¸€ä¸ªç‰ˆæœ¬æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸å…ˆåœ¨ç‰ˆæœ¬åº“ä¸­æ‰“ä¸€ä¸ªæ ‡ç­¾ï¼ˆtagï¼‰ï¼Œè¿™æ ·ï¼Œå°±å”¯ä¸€ç¡®å®šäº†æ‰“æ ‡ç­¾æ—¶åˆ»çš„ç‰ˆæœ¬ã€‚å°†æ¥æ— è®ºä»€ä¹ˆæ—¶å€™ï¼Œå–æŸä¸ªæ ‡ç­¾çš„ç‰ˆæœ¬ï¼Œå°±æ˜¯æŠŠé‚£ä¸ªæ‰“æ ‡ç­¾çš„æ—¶åˆ»çš„å†å²ç‰ˆæœ¬å–å‡ºæ¥ åˆ›å»ºæ ‡ç­¾1/*åˆ‡æ¢åˆ°éœ€è¦å‘å¸ƒç‰ˆæœ¬çš„åˆ†æ”¯*/$ git tag v1.0 //åˆ›å»ºæ ‡ç­¾$ git tag //æ˜¾ç¤ºæ ‡ç­¾$ git log --pretty=oneline --abbrev-commit //å®šä½åˆ°å†å²commit ç„¶åæ‰“æ ‡ç­¾$ git tag v0.9 60f96c3 $ git tag -a v0.1 -m &quot;version 0.1 released&quot; 3628164 //-aæŒ‡å®šæ ‡ç­¾åï¼Œ-mæŒ‡å®šè¯´æ˜æ–‡å­—$ git tag -d v0.1 //åˆ é™¤æ ‡ç­¾$ git push origin v1.0 //æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹$ git push origin --tags //ä¸€æ¬¡æ€§æ¨é€æ‰€æœ‰æ ‡ç­¾ /*å¦‚æœæ ‡ç­¾å·²ç»æ¨é€åˆ°è¿œç¨‹é‚£ä¹ˆ*/$ git tag -d v0.9 //å…ˆåˆ é™¤æœ¬åœ°$ git push origin :refs/tags/v0.9 //åœ¨åˆ é™¤è¿œç¨‹]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>åŸºç¡€</tag>
        <tag>å»–é›ªå³°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Gitå¸¸è§é—®é¢˜]]></title>
    <url>%2F2017%2F08%2F10%2Fcl4s3gtdx0014wn9e7g6r88ny%2F</url>
    <content type="text"><![CDATA[å¼•å­ï¼šgitå’Œsvnçš„åŒºåˆ«ï¼ˆé›†ä¸­å¼vsåˆ†å¸ƒå¼ï¼‰ï¼Œè°ˆè°ˆä¼˜åŠ£ï¼Ÿå»–é›ªå³° gité›†ä¸­å¼vsåˆ†å¸ƒå¼é˜®ä¸€å³° gitåˆ†æ”¯ç®¡ç†ç­–ç•¥ å…¶ä¸­å¾ˆæ˜¾è‘—çš„ä¸€ç‚¹ï¼Œå°±æ˜¯ç‰ˆæœ¬çš„åˆ†æ”¯ï¼ˆbranchï¼‰å’Œåˆå¹¶ï¼ˆmergeï¼‰ååˆ†æ–¹ä¾¿ã€‚æœ‰äº›ä¼ ç»Ÿçš„ç‰ˆæœ¬ç®¡ç†è½¯ä»¶ï¼Œåˆ†æ”¯æ“ä½œå®é™…ä¸Šä¼šç”Ÿæˆä¸€ä»½ç°æœ‰ä»£ç çš„ç‰©ç†æ‹·è´ï¼Œè€ŒGitåªç”Ÿæˆä¸€ä¸ªæŒ‡å‘å½“å‰ç‰ˆæœ¬ï¼ˆåˆç§°â€å¿«ç…§â€ï¼‰çš„æŒ‡é’ˆï¼Œå› æ­¤éå¸¸å¿«æ·æ˜“ç”¨ã€‚ å·¥ä½œåŒºã€æš‚å­˜åŒºã€ç‰ˆæœ¬åº“çš„æ¦‚å¿µï¼Ÿå‚è€ƒ åˆ†æ”¯çš„æ¦‚å¿µï¼Ÿé˜®ä¸€å³° gitåˆ†æ”¯ç®¡ç†ç­–ç•¥ git status ã€git add ã€git commit ä¸‰ä¸ªå‘½ä»¤çš„ä½œç”¨åŠåŒºåˆ«ï¼Œè¯¦ç»†è°ˆè°ˆï¼Ÿ git statuså‘½ä»¤èƒ½å±•ç¤ºå·¥ä½œç›®å½•å’ŒstageåŒºçš„çŠ¶æ€. ä½¿ç”¨ä»–ä½ èƒ½çœ‹åˆ°é‚£äº›ä¿®æ”¹è¢«stagedåˆ°ï¼Œ git statusä¸æ˜¾ç¤ºå·²ç»commitåˆ°é¡¹ç›®å†å²ä¸­å»çš„ä¿¡æ¯. çœ‹é¡¹ç›®å†å²çš„ä¿¡æ¯è¦ä½¿ç”¨git log.å‚è€ƒ git add æ–‡ä»¶welcome.txtä»å·¥ä½œåŒºè¢«æäº¤åˆ°æš‚å­˜åŒºï¼Œä½†æ­¤æ—¶æ–‡ä»¶å¹¶æ²¡æœ‰çœŸæ­£è¿›å…¥åˆ°ç‰ˆæœ¬åº“å½“ä¸­ï¼Œæ–‡ä»¶ç›®å‰åªå¤„äºä¸€ä¸ªä¸­é—´çŠ¶æ€ã€‚ git commit(å°†æš‚å­˜åŒºæ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬åº“ä¸­) è¿™ä¸ªå‘½ä»¤å°†å¤„äºä¸­é—´çŠ¶æ€çš„æ–‡ä»¶ï¼ˆæš‚å­˜åŒºçš„æ–‡ä»¶)æäº¤åˆ°ç‰ˆæœ¬åº“ä¸­,è¿™æ—¶æ‰ç®—çœŸæ­£å®Œæˆäº†ä¸€æ¬¡æäº¤è¿‡ç¨‹ã€‚ HEADçš„æ¦‚å¿µå‚è€ƒ HEADä¸¥æ ¼æ¥è¯´ä¸æ˜¯æŒ‡å‘æäº¤ï¼Œè€Œæ˜¯æŒ‡å‘masterï¼Œmasteræ‰æ˜¯æŒ‡å‘æäº¤çš„ï¼Œæ‰€ä»¥ï¼ŒHEADæŒ‡å‘çš„å°±æ˜¯å½“å‰åˆ†æ”¯ã€‚ä¸€å¼€å§‹çš„æ—¶å€™ï¼Œmasteråˆ†æ”¯æ˜¯ä¸€æ¡çº¿ï¼ŒGitç”¨masteræŒ‡å‘æœ€æ–°çš„æäº¤ï¼Œå†ç”¨HEADæŒ‡å‘masterï¼Œå°±èƒ½ç¡®å®šå½“å‰åˆ†æ”¯ï¼Œä»¥åŠå½“å‰åˆ†æ”¯çš„æäº¤ç‚¹ï¼š æ¯æ¬¡æäº¤ï¼Œmasteråˆ†æ”¯éƒ½ä¼šå‘å‰ç§»åŠ¨ä¸€æ­¥ï¼Œè¿™æ ·ï¼Œéšç€ä½ ä¸æ–­æäº¤ï¼Œmasteråˆ†æ”¯çš„çº¿ä¹Ÿè¶Šæ¥è¶Šé•¿ï¼š gitä¸­æœ€å¸¸ç”¨çš„å‘½ä»¤(12ä¸ª)å¸¸ç”¨Gitå‘½ä»¤æ¸…å•byé˜®ä¸€å³°12345678910111213git statusgit addgit commitgit checkout //åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå¹¶æ›´æ–°å·¥ä½œåŒºgit reset //é‡åˆ¶æ–‡ä»¶ é‡ç½®æš‚ç¼“åŒº å·¥ä½œåŒºgit rm //åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶git push //æ¨é€åˆ°è¿œç¨‹ä»“åº“git pull //æ‹‰å–è¿œç¨‹ä»“åº“git clone //ä¸‹è½½ä¸€ä¸ªé¡¹ç›®å’Œå®ƒçš„æ•´ä¸ªä»£ç å†å²git branch //åˆ†æ”¯ç®¡ç†git merge //åˆå¹¶å†²çªgit tag //æ ‡ç­¾ç®¡ç† å¦‚ä½•åˆå§‹åŒ–é¡¹ç›®ï¼Œå¦‚ä½•è¿æ¥è¿œç¨‹ä»“åº“ï¼Ÿ åˆå§‹åŒ–ä¸€ä¸ªç©ºé¡¹ç›®ï¼Œæ‰€æœ‰çš„å¼€å‘è€…cloneåˆ°æœ¬åœ°ï¼Œè¿™ç§æ–¹å¼è‡ªåŠ¨è¿æ¥åˆ°è¿œç¨‹ä»“åº“ æœ¬åœ°ç›®å½•ä¸‹git initä¸€ä¸ªç©ºé¡¹ç›®ï¼Œé…ç½®å¼€å‘ç¯å¢ƒå addâ€“&gt;commitï¼› æ–°å»ºä¸€ä¸ªè¿œç¨‹ä»“åº“ï¼Œä½¿ç”¨git remote add ,è¿æ¥åˆ°è¿œç¨‹ä»“åº“ï¼Œç¬¬ä¸€æ¬¡æ¨é€ git push -u origin master .gitignoreæ–‡ä»¶çš„ä½œç”¨å†™æ³•ï¼Ÿ åœ¨å·²å¿½ç•¥æ–‡ä»¶å¤¹ä¸­ä¸å¿½ç•¥æŒ‡å®šæ–‡ä»¶å¤¹ 12/node_modules/*!/node_modules/layer/ åœ¨å·²å¿½ç•¥æ–‡ä»¶å¤¹ä¸­ä¸å¿½ç•¥æŒ‡å®šæ–‡ä»¶ 12/node_modules/*!/node_modules/layer/layer.js ã€æ³¨æ„é¡¹ã€‘æ³¨æ„å†™æ³• è¦å¿½ç•¥çš„æ–‡ä»¶å¤¹ä¸€å®šè¦ç»“å°¾ /* ï¼Œå¦åˆ™ä¸å¿½ç•¥è§„åˆ™å°†æ— æ³•ç”Ÿæ•ˆ å…¶ä»–è§„åˆ™å†™æ³• (é™„) 123456789101112 ä»¥æ–œæ â€œ/â€å¼€å¤´è¡¨ç¤ºç›®å½•ï¼› ä»¥æ˜Ÿå·â€œ*â€é€šé…å¤šä¸ªå­—ç¬¦ï¼› ä»¥é—®å·â€œ?â€é€šé…å•ä¸ªå­—ç¬¦ ä»¥æ–¹æ‹¬å·â€œ[]â€åŒ…å«å•ä¸ªå­—ç¬¦çš„åŒ¹é…åˆ—è¡¨ï¼› ä»¥å¹å·â€œ!â€è¡¨ç¤ºä¸å¿½ç•¥(è·Ÿè¸ª)åŒ¹é…åˆ°çš„æ–‡ä»¶æˆ–ç›®å½•ï¼› Gitå†²çªåŠå¦‚ä½•è§£å†³å†²çªGtiä¸‹æ¸¸çš„æ¦‚å¿µå½“devåˆ†æ”¯æ˜¯åŸºäºmasteråˆ†æ”¯ï¼Œdevåˆ†æ”¯ä¸æ–­çš„commitï¼Œä½†æ˜¯masteråˆ†æ”¯æ²¡æœ‰ä¿®æ”¹ï¼Œè¿™æ—¶å€™å¯ä»¥ç›´æ¥åˆå¹¶åˆ†æ”¯ï¼Œä¸ä¼šäº§ç”Ÿå†²çªã€‚ å³devä¸Šçš„èŠ‚ç‚¹æ˜¯masterçš„ä¸‹æ¸¸æ—¶å¯ä»¥ç›´æ¥åˆå¹¶ å½“masterä¹Ÿè¿›è¡Œäº†commitï¼Œ è¿™æ—¶å€™å¯èƒ½ä¼šäº§ç”Ÿå†²çª mergeçš„å‡ ç§æ–¹å¼ fast-forword å¿«é€Ÿåˆå¹¶ï¼Œ æ”¹å˜HEADæŒ‡é’ˆæŒ‡å‘ no-ff æ–°åˆ›å»ºä¸€ä¸ªcommitï¼Œå†æ”¹å˜HEADæŒ‡é’ˆæŒ‡å‘ git pullæ‹†åˆ†æˆä¸¤ä¸ªæ“ä½œï¼š git fetchï¼ˆæ‹‰å–æ›´æ–°ï¼Œæ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼‰ git mergeï¼ˆåˆå¹¶â€œè¿œç¨‹åˆ†æ”¯â€åˆ°æœ¬åœ°masteråˆ†æ”¯ï¼‰ å†²çªå‘ç”Ÿçš„åœºæ™¯ å½“éœ€è¦åˆå¹¶åˆ†æ”¯çš„æ—¶å€™ï¼Œå¦ä¸€ä¸ªåˆ†æ”¯ä¸Šçš„åŒä¸€ä»½ä»£ç å·²ç»è¢«ä¿®æ”¹è¿‡ æ‰§è¡Œgit pushï¼Œ æäº¤ä»£ç æ—¶ï¼Œæœ€æ–°ä»“åº“ä¸­çš„ä»£ç ä¸æœ¬åœ°å·¥ä½œåŒºä»£ç å­˜åœ¨å†²çª å¦‚ä½•è§£å†³å†²çªä¸å€ŸåŠ©ç¬¬ä¸‰æ–¹å·¥å…·å»–é›ªå³°gitæ•™ç¨‹ï¼Œåˆ†æ”¯åˆå¹¶è§£å†³å†²çªï¼ˆåœºæ™¯ä¸€ï¼‰ 1234567891011121314151617181920212223242526272829//æ–°å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯git checkout -v dev//ä¿®æ”¹data.js å¹¶ä¸”add commitgit add data.jsgit commit -m 'edit data'//devåˆ†æ”¯å®Œæˆå¼€å‘ï¼Œæ­¤æ—¶æ£€å‡ºåˆ°masteråˆ†æ”¯git checkout master//ä¿®æ”¹masteråˆ†æ”¯åŒä¸€ä¸ªæ–‡ä»¶ï¼Œä¹Ÿadd commitgit add data.jsgit commit -m 'add something'//å°è¯•åˆå¹¶devåˆ†æ”¯åˆ°masteråˆ†æ”¯git merge dev//æç¤ºéœ€è¦æ‰‹åŠ¨è§£å†³å†²çªï¼Œè§£å†³å®Œæˆåï¼Œå°†ä¿®æ”¹åˆ°å†²çªæ–‡ä»¶add commitgit add data.jsgit commit -m 'fixed merge'//å†²çªè§£å†³ä¹‹åï¼Œæ¨é€åˆ°è¿œç¨‹ä»“åº“git push //å½“ä¸åœ¨éœ€è¦devåˆ†æ”¯ï¼Œåˆ™å¯ä»¥åˆ é™¤ä¹‹git branch -d dev//å¦‚æœä»ç„¶éœ€è¦devåˆ†æ”¯ç»§ç»­å¼€å‘ï¼Œåˆ™éœ€è¦åŒæ­¥è¿œç¨‹ä»“åº“åˆ°devåˆ†æ”¯ä¸Šgit pull orign master å€ŸåŠ©ç¬¬ä¸‰æ–¹å·¥å…·ï¼ˆåœºæ™¯äºŒï¼‰æ‹‰å–è¿œç¨‹ä»“åº“ä¸­æœ€æ–°çš„ä»£ç ï¼Œæç¤ºå†²çªï¼ŒæŸ¥çœ‹å†²çª123git pull --rebase origin mastergit status //æŸ¥çœ‹å½“å‰å†²çªæ–‡ä»¶git mergetool //æ‰“å¼€diffmergeå·¥å…·åˆå¹¶è§£å†³å†²çª å›¾å½¢åŒ–å·¥å…·diffmergeä¸‹è½½åœ°å€DMGç‰ˆå…¨å±€é…ç½® 123456git config --global merge.tool diffmergegit config --global mergetool.diffmerge.cmd "/Applications/DiffMerge.app/Contents/MacOS/diffmerge --merge --result=\$MERGED \$LOCAL \$BASE \$REMOTE"git config --global mergetool.keepBackup false git config --global diff.tool diffmergegit config --global difftool.diffmerge.cmd "/Applications/DiffMerge.app/Contents/MacOS/diffmerge \$LOCAL \$REMOTE" å½“å‡ºç°å†²çªæ—¶ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œå¼¹å‡ºçª—å£æ‰‹åŠ¨è§£å†³å†²çª 1$git mergetool å®Œæˆåˆå¹¶ï¼Œä¿å­˜é€€å‡ºå›¾å½¢åŒ–å·¥å…·å·²ç»æ‰‹åŠ¨è§£å†³äº†å†²çªï¼Œè¿™æ˜¯è®©rebaseç»§ç»­å·¥ä½œï¼Œæ‰§è¡Œå‘½ä»¤ 123git add &lt;å†²çªæ–‡ä»¶/. è¡¨ç¤ºæ‰€æœ‰ä¿®æ”¹æ–‡ä»¶&gt;git rebase --continue //rebaseç»§ç»­å·¥ä½œgit push //ä»£ç æˆåŠŸæäº¤ è§£å†³å†²çªä¸­çš„å¼‚å¸¸å¤„ç† å¦‚æœä½ ç¢°åˆ°äº†å†²çªï¼Œä½†å‘ç°æä¸å®šï¼Œä¸è¦æƒŠæ…Œã€‚åªè¦æ‰§è¡Œä¸‹é¢è¿™æ¡å‘½ä»¤ï¼Œå°±å¯ä»¥å›åˆ°ä½ æ‰§è¡Œgit pull â€“rebaseå‘½ä»¤å‰çš„æ ·å­ï¼š 1234//è§£å†³å†²çªå¤±è´¥ï¼Œæˆ–è€…å‘é‡æ–°è§£å†³å†²çª$git rebase --abort//Skipæ˜¯è·³è¿‡è¿™ä¸ªé”™è¯¯ï¼Œç»§ç»­æœ¬æ¬¡æ“ä½œ$git rebase --skip ==git rebase â€“abort æ˜¯æ— é£é™©çš„æ“ä½œï¼Œä¼šå›åˆ°rebaseæ“ä½œä¹‹å‰çš„çŠ¶æ€ï¼Œ2ä¸ªåˆ†æ”¯çš„commitsæ¯«å‘æ— æŸã€‚git rebase â€“skip æ˜¯é«˜é£é™©çš„æ“ä½œï¼Œå¼•èµ·å†²çªçš„commitsä¼šè¢«ä¸¢å¼ƒï¼ˆè¿™éƒ¨åˆ†ä»£ç ä¿®æ”¹ä¼šä¸¢å¤±ï¼‰ã€‚==]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>åŸºç¡€</tag>
        <tag>å‘½ä»¤</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»£ç æ•´æ´ä¹‹é“ä¸‰:å‡½æ•°]]></title>
    <url>%2F2017%2F08%2F09%2Fcl4s3gthi007rwn9ey3t7ocpu%2F</url>
    <content type="text"><![CDATA[å¦‚ä½•å†™å¥½å‡½æ•°ï¼Ÿ çŸ­å°å‡½æ•°åˆ°åº•è¦å¤šé•¿æ¯ä¸ªç¨‹åºæ¯ä¸ªå‡½æ•°åªæœ‰ä¸¤è¡Œã€ä¸‰è¡Œæˆ–è€…å››è¡Œã€‚æ¯ä¸ªå‡½æ•°éƒ½ä¸€ç›®äº†ç„¶ã€‚æ¯ä¸ªå‡½æ•°éƒ½åªè¯´æ˜ä¸€ä»¶äº‹ã€‚è€Œä¸”ï¼Œæ¯éš”å‡½æ•°éƒ½ä¾åºæŠŠä½ å¸¦åˆ°ä¸‹ä¸€ä¸ªå‡½æ•°ã€‚è¿™å°±æ˜¯å‡½æ•°åº”è¯¥è¾¾åˆ°çš„çŸ­å°ç¨‹åº¦ã€‚ ä»£ç å—å’Œç¼©è¿› ifè¯­å¥ã€elseè¯­å¥ã€whileè¯­å¥ç­‰ï¼Œå…¶ä¸­çš„ä»£ç å—åº”è¯¥åªæœ‰ä¸€è¡Œã€‚è¯¥è¡Œåº”è¯¥æ˜¯ä¸€ä¸ªå‡½æ•°è°ƒç”¨ã€‚è¿™æ ·ä¸èƒ½ä¿æŒå‡½æ•°çŸ­å°ï¼Œè€Œä¸”ï¼Œå› ä¸ºå—å†…è°ƒç”¨çš„å‡½æ•°æ‹¥æœ‰è¾ƒå…·æœ‰è¯´æ˜æ€§çš„åç§°ï¼Œä»è€Œå¢åŠ äº†æ–‡æ¡£ä¸Šçš„ä»·å€¼ã€‚ è¿™ä¹Ÿæ„å‘³ç€å‡½æ•°ä¸åº”è¯¥å¤§åˆ°è¶³ä»¥å®¹çº³åµŒå¥—ç»“æ„ã€‚æ‰€ä»¥ï¼Œå‡½æ•°çš„ç¼©è¿›å±‚çº§ä¸åº”è¯¥å¤šäºä¸€å±‚æˆ–ä¸¤å±‚ã€‚å½“ç„¶è¿™ä¹Ÿçš„å‡½æ•°æ˜“äºé˜…è¯»å’Œç†è§£ã€‚ åªåšä¸€ä»¶äº‹ å‡½æ•°åº”è¯¥åšä¸€ä»¶äº‹ã€‚åšå¥½è¿™ä»¶äº‹ã€‚åªåšè¿™ä»¶äº‹ã€‚ å¦‚æœå‡½æ•°åªæ˜¯åšäº†è¯¥å‡½æ•°åä¸‹ç»Ÿä¸€æŠ½è±¡å±‚ä¸Šçš„æ­¥éª¤ï¼Œåˆ™å‡½æ•°è¿˜æ˜¯åªåšäº†ä¸€ä»¶äº‹ã€‚æ‰€ä»¥åˆ¤æ–­å‡½æ•°æ˜¯å¦ä¸æ­¢åšäº†ä¸€ä»¶äº‹ï¼Œè¿˜æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œ==å°±æ˜¯çœ‹æ˜¯å¦èƒ½å†æ‹†é™¤ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ä¸ä»…åªæ˜¯å•çº¯åœ°é‡æ–°è¯ é‡Šå…¶å®ç°==ã€‚ åªåšä¸€ä»¶äº‹çš„å‡½æ•°æ— æ³•åˆç†çš„åˆ‡åˆ†ä¸ºå¤šä¸ªåŒºæ®µã€‚ æ¯ä¸ªå‡½æ•°ä¸€ä¸ªæŠ½è±¡å±‚çº§ ==è¦ç¡®ä¿å‡½æ•°åªåšä¸€ä»¶äº‹ï¼Œå‡½æ•°ä¸­çš„è¯­å¥éƒ½è¦åœ¨åŒä¸€æŠ½è±¡å±‚çº§ä¸Šã€‚== å‡½æ•°ä¸­æ··æ‚ä¸åŒçš„æŠ½è±¡å±‚çº§ï¼Œå¾€å¾€è®©äººè¿·æƒ‘ã€‚è¯»è€…å¯èƒ½æ— æ³•åˆ¤æ–­æŸä¸ªè¡¨è¾¾å¼æ˜¯åŸºç¡€æ¦‚å¿µè¿˜æ˜¯ç»†èŠ‚ã€‚ è‡ªé¡¶å‘ä¸‹è¯»ä»£ç ï¼š å‘ä¸‹åŸåˆ™ æ¯ä¸ªå‡½æ•°åé¢éƒ½è·Ÿç€ä½äºä¸‹ä¸€æŠ½è±¡å±‚çº§çš„å‡½æ•°ï¼Œè¿™æ ·ä¸€æ¥ï¼Œåœ¨æŸ¥çœ‹å‡½æ•°åˆ—è¡¨æ—¶ï¼Œå°±èƒ½æ ¹æ®æŠ½è±¡å±‚çº§å‘ä¸‹é˜…è¯»ï¼Œè¿™å°±å«å‘ä¸‹è§„åˆ™ã€‚ switch è¯­å¥ switchçš„å‡ ä¸ªé—®é¢˜ã€‚å¤ªé•¿ï¼Œå½“ç±»å‹å¤æ‚èµ·æ¥æ—¶ï¼Œä¼šæ›´é•¿ã€‚å…¶æ¬¡ï¼Œä¸æ­¢åšäº†ä¸€ä»¶äº‹ã€‚ç¬¬ä¸‰ï¼Œè¿åäº†å•ä¸€æƒè´£åŸåˆ™ï¼Œå› ä¸ºæœ‰å¥½å‡ ä¸ªä¿®æ”¹å®ƒçš„ç†ç”±ã€‚ç¬¬å››ï¼Œè¿åäº†å¼€æ”¾é—­åˆåŸåˆ™ï¼Œå› ä¸ºæ¯æ¬¡æ·»åŠ æ–°ç±»å‹æ—¶ï¼Œå°±å¿…é¡»ä¿®æ”¹ä¹‹ã€‚ è§£å†³æ–¹æ³•ï¼Œå¯¹äºswitchè¯­å¥ï¼Œå¦‚æœåªå‡ºç°ä¸€æ¬¡ï¼Œç”¨äºåˆ›å»ºå¤šæ€å¯¹è±¡ï¼Œè€Œä¸”éšè—åœ¨æŸä¸ªç»§æ‰¿å…³ç³»ä¸­ï¼Œåœ¨ç³»ç»Ÿå…¶å®ƒéƒ¨åˆ†çœ‹ä¸åˆ°ã€‚ ä½¿ç”¨æè¿°æ€§çš„åç§° testableHtmlæ”¹ä¸ºSetupTeardownIncluderender; isTestableæˆ–includeSetupAndTeardownPagesï¼Œ é•¿çš„å‡½æ•°åå…·æœ‰æè¿°æ€§ï¼Œè¦æ¯”æè¿°æ€§çš„é•¿æ³¨é‡Šå¥½ã€‚å¯ä»¥ä½¿ç”¨çœ¸ä¸­çº¦å®šï¼Œè®©å‡½æ•°åç§°ä¸­çš„å¤šä¸ªå•è¯æ›´å®¹æ˜“é˜…è¯»ï¼Œç„¶åä½¿ç”¨è¿™äº›å•è¯ç»™å‡½æ•°å–ä¸ªèƒ½è¯´æ¸…å…¶åŠŸèƒ½çš„åç§°ã€‚ æ¨¡å—åç”¨åè¯ï¼Œè€Œå‡½æ•°åç”¨åŠ¨è¯æè¿°ã€‚ å‡½æ•°å‚æ•° æœ€ç†æƒ³çš„å‚æ•°æ•°é‡æ˜¯é›¶ï¼Œå…¶æ¬¡æ˜¯ä¸€ä¸ªï¼Œå†æ¬¡æ˜¯ä¸¤ä¸ªã€‚é™¤éæœ‰è¶³å¤Ÿçš„ç†ç”±æ‰èƒ½ç”¨ä¸‰ä¸ªä»¥ä¸Šå‚æ•°ã€‚ ä¸€å…ƒå‡½æ•°çš„æ™®éå½¢å¼ ä¸€å…ƒå‡½æ•°å³å•ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œå¤§ä½“ä¸Šåˆ†ä¸ºä¸¤ç§ï¼š æ“ä½œè¯¥å‚æ•°ï¼Œå°†å…¶è¾“å‡º äº‹ä»¶ï¼Œæœ‰è¾“å…¥å‚æ•°è€Œæ— è¾“å‡ºå‚æ•°ï¼Œç¨‹åºå°†å‡½æ•°çœ‹ä½œæ˜¯ä¸€ä¸ªäº‹ä»¶ï¼Œä½¿ç”¨å‚æ•°ä¿®æ”¹ç³»ç»ŸçŠ¶æ€ æ ‡è¯†å‚æ•°å°†å¸ƒå°”å€¼ä½œä¸ºå‚æ•°ç”¨äºæ ‡è¯†æ˜¯ä¸å€¼å¾—æ¨èçš„åšæ³•ï¼Œå¦‚æœçœŸè¦è¿™ä¹ˆåšï¼Œ åº”å½“æŠŠå‡½æ•°æ‹†åˆ†æˆä¸¤ä¸ªä¸å¸¦æ ‡è¯†å‚æ•°çš„å‡½æ•°ã€‚ äºŒå…ƒå‡½æ•°æ‹¥æœ‰ä¸¤ä¸ªå‚æ•°æ¯”æ‹¥æœ‰ä¸€ä¸ªå‚æ•°çš„å‡½æ•°æ›´å¤æ‚éš¾æ‡‚ï¼Œå¯ä»¥åˆ©ç”¨ä¸€äº›æœºåˆ¶è½¬æ¢æˆä¸€å…ƒå‡½æ•°ã€‚ ä¸‰å…ƒå‡½æ•°ä¸‰ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œæ’åºã€ç¢ç£¨ã€å¿½ç•¥çš„é—®é¢˜éƒ½ä¼šæˆå€ä½“ç°ã€‚ æ— å‰¯ä½œç”¨å‡½æ•°æ‰¿è¯ºåªåšä¸€ä»¶äº‹ï¼Œä½†æœ‰æ—¶ï¼Œä¼šå¯¹è‡ªå·±ç±»ä¸­çš„å˜é‡åšå‡ºæœªèƒ½é¢„æœŸçš„æ”¹åŠ¨ï¼Œæˆ–æ˜¯å¯¹å…¨å±€å˜é‡é€ æˆäº†å½±å“ã€‚ è¿™ç§å‡½æ•°ä¸èƒ½ä»¥ç®€å•çš„å‘½åè®©äººè¯¯è§£ï¼Œå¹¶ä¸”ä¹Ÿè¿æ³•äº†ä¸€ä¸ªå‡½æ•°åªåšä¸€ä»¶äº‹çš„è§„åˆ™ã€‚ è¾“å‡ºå‚æ•°åº”è¯¥é¿å…ä½¿ç”¨è¾“å‡ºå‚æ•°ï¼Œå¦‚æœå‡½æ•°å¿…é¡»ä¿®æ”¹æŸç§çŠ¶æ€ï¼Œå°±ä¿®æ”¹æ‰€å±å¯¹è±¡çš„çŠ¶æ€å§ åˆ†éš”æŒ‡ä»¤ä¸è¯¢é—®å‡½æ•°è¦ä¹ˆåšä»€ä¹ˆäº‹ï¼Œè¦ä¹ˆå›ç­”ä»€ä¹ˆäº‹ï¼Œä½†ä¸¤è€…ä¸å¯å…¼å¾—ã€‚å‡½æ•°åº”è¯¥ä¿®æ”¹æŸå¯¹è±¡çŠ¶æ€æˆ–æ˜¯è¿”å›è¯¥å¯¹è±¡çš„æœ‰å…³ä¿¡æ¯ã€‚ä¸¤æ ·éƒ½å¹²ä¼šå¯¼è‡´æ··ä¹±ã€‚ æŠŠæŒ‡ä»¤å’Œè¯¢é—®æ‹†åˆ†æˆä¸¤ä¸ªå‡½æ•° å¦‚ä½•åœ¨å®è·µä¸­å†™å¥½å‡½æ•° ä¸€å¼€å§‹éƒ½å†—é•¿è€Œå¤æ‚ï¼Œæœ‰å¤ªå¤šçš„ç¼©è¿›å’ŒåµŒå¥—å¾ªç¯ã€‚æœ‰è¿‡é•¿çš„å‚æ•°åˆ—è¡¨ï¼Œåç§°éšæ„å–çš„ï¼Œä¹Ÿä¼šæœ‰é‡å¤ä»£ç ã€‚ ç„¶åæ‰“ç£¨è¿™äº›ä»£ç ï¼Œåˆ†è§£å‡½æ•°ã€ä¿®æ”¹åç§°ã€æ¶ˆé™¤é‡å¤ã€‚ç¼©çŸ­å’Œå®‰ç½®æ–¹æ³•ï¼Œæœ‰æ—¶å€™è¿˜æ‹†æ•£ç±»ã€‚åŒæ—¶ä¿æŒæµ‹è¯•é€šè¿‡ã€‚ æœ€åï¼Œéµå¾ªæœ¬ç« çš„è§„åˆ™ï¼Œç»„è£…å¥½è¿™äº›å‡½æ•°ã€‚ å°ç»“ ==å¤§å¸ˆçº§ç¨‹åºå‘˜æŠŠç³»ç»Ÿå½“åšæ•…äº‹æ¥è®²ï¼Œè€Œä¸æ˜¯å½“åšç¨‹åºæ¥å†™==ã€‚ SetupTeardownIncluderç¨‹åº]]></content>
      <categories>
        <category>ä»£ç æ•´æ´ä¹‹é“</category>
      </categories>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
        <tag>ä»£ç æ•´æ´</tag>
        <tag>æé«˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Express Getting Startedå®è·µ]]></title>
    <url>%2F2017%2F08%2F09%2Fcl4s3gtdw0013wn9exv9upu8s%2F</url>
    <content type="text"><![CDATA[Getting startedå®‰è£…æ–°å»ºä¸€ä¸ªç›®å½•, åˆå§‹åŒ–é¡¹ç›® 123mkdir myappcd myappnpm init //å¯ä»¥æ‰‹åŠ¨è¾“å…¥å…¥å£æ–‡ä»¶,å¦‚entry point: (index.js) å®‰è£…expressä¾èµ– 12npm install express --savenpm install express --no-save //ä¹Ÿå¯ä»¥ä¸å°†expressæ·»åŠ åˆ°ä¾èµ–ä¸­ æ–°å»ºä¸€ä¸ªHello World ç¤ºä¾‹ä¿®æ”¹ç›®å½•ä¸‹index.jsæ–‡ä»¶å¦‚ä¸‹: 12345678910const express = require('express')const app = express()app.get('/', function (req, res) &#123; res.send('Hello World!')&#125;)app.listen(3000, function () &#123; console.log('Example app listening on port 3000!')&#125;) è¿è¡Œè¿™ä¸ªåº”ç”¨ç”¨ä¸€ä¸‹å‘½ä»¤: 1node index.js æ‰“å¼€æµè§ˆå™¨ http://localhost:3000/ , å°±èƒ½çœ‹åˆ°è¾“å…¥ â€˜Hello World!â€™ ä½¿ç”¨Express çš„è„šæ‰‹æ¶æ„å»ºé¡¹ç›®ä½¿ç”¨è„šæ‰‹æ¶å·¥å…·, å¯ä»¥å¿«é€Ÿçš„åˆ›å»ºé¡¹ç›®éª¨æ¶,å…¨å±€å®‰è£…express-generator 1npm install express-generator -g -hå‘½ä»¤å‚æ•° å¯ä»¥çœ‹åˆ°æ‰“å°çš„ä¿¡æ¯ 123456789101112131415$express -hUsage: express [options] [dir] Options: -h, --help output usage information --version output the version number -e, --ejs add ejs engine support --pug add pug engine support --hbs add handlebars engine support -H, --hogan add hogan.js engine support -v, --view &lt;engine&gt; add view &lt;engine&gt; support (dust|ejs|hbs|hjs|jade|pug|twig|vash) (defaults to jade) -c, --css &lt;engine&gt; add stylesheet &lt;engine&gt; support (less|stylus|compass|sass) (defaults to plain css) --git add .gitignore -f, --force force on non-empty directory ä½¿ç”¨ä¸€ä¸‹å‘½ä»¤å¯ä»¥å¿«é€Ÿæ„å»ºæŒ‡å®šé¡¹ç›®åçš„åº”ç”¨, å¹¶ä¸”å¯ä»¥åŒæ—¶æŒ‡å®šæ¨¡æ¿å¼•æ“ 12345678910111213141516171819express --view=pug myapp create : myapp create : myapp/package.json create : myapp/app.js create : myapp/public create : myapp/public/javascripts create : myapp/public/images create : myapp/routes create : myapp/routes/index.js create : myapp/routes/users.js create : myapp/public/stylesheets create : myapp/public/stylesheets/style.css create : myapp/views create : myapp/views/index.pug create : myapp/views/layout.pug create : myapp/views/error.pug create : myapp/bin create : myapp/bin/www è¿›åˆ°å·¥ä½œç›®å½•ä¸­,å®‰è£…ä¾èµ–, å¹¶è¿è¡Œé¡¹ç›® 12cd myappnpm install On MacOS or Linuxç³»ç»Ÿ,æ‰§è¡Œä»¥ä¸‹å‘½ä»¤: 1$ DEBUG=myapp:* npm start On Windowsç³»ç»Ÿ, æ‰§è¡Œä»¥ä¸‹å‘½ä»¤: 1&gt; set DEBUG=myapp:* &amp; npm start åŒæ ·æ‰“å¼€æµè§ˆå™¨ http://localhost:3000/ é€šè¿‡è„šæ‰‹æ¶åˆ›å»ºçš„é¡¹ç›®, ç›®å½•ç»“æ„å¦‚ä¸‹ 12345678910111213141516171819.â”œâ”€â”€ app.jsâ”œâ”€â”€ binâ”‚ â””â”€â”€ wwwâ”œâ”€â”€ package.jsonâ”œâ”€â”€ publicâ”‚ â”œâ”€â”€ imagesâ”‚ â”œâ”€â”€ javascriptsâ”‚ â””â”€â”€ stylesheetsâ”‚ â””â”€â”€ style.cssâ”œâ”€â”€ routesâ”‚ â”œâ”€â”€ index.jsâ”‚ â””â”€â”€ users.jsâ””â”€â”€ views â”œâ”€â”€ error.pug â”œâ”€â”€ index.pug â””â”€â”€ layout.pug7 directories, 9 files åŸºç¡€è·¯ç”±åº”ç”¨çš„è·¯ç”±å¤„ç†å®¢æˆ·ç«¯é€šè¿‡URLæˆ–è·¯å¾„ç­‰ç‰¹å®šçš„httpè¯·æ±‚æ–¹æ³•(GET POST â€¦)çš„è¯·æ±‚æ¯ä¸€ä¸ªè·¯ç”±å½“è¢«åŒ¹é…çš„æ—¶å€™, éƒ½ç”±ä¸€ä¸ªæˆ–è€…å¤šä¸ªçš„å¤„ç†å‡½æ•°å®šä¹‰è·¯ç”±çš„æ–¹æ³• 1app.METHOD(PATH, HANDLER) è¿™é‡Œéœ€è¦æ³¨æ„çš„å‡ ä¸ªç‚¹ appæ˜¯expressçš„å®ä¾‹ METHODæ˜¯HTTPè¯·æ±‚æ–¹æ–¹æ³•, å°å†™ PATHæ˜¯æœåŠ¡å™¨è·¯å¾„ HANDLERæ˜¯å½“è·¯ç”±åŒ¹é…çš„æ—¶å€™æ‰§è¡Œçš„æ–¹æ³• è·¯ç”±ç®€å•å®ä¾‹ç›¸åº”â€™Hello World!â€™å­—ç¬¦ä¸²åœ¨ä¸»é¡µä¸Š 123app.get('/', function(req,res)&#123; res.send('Hello World!')&#125;) ç›¸åº”ä¸€ä¸ªpostæ–¹æ³•çš„è¯·æ±‚ 123app.post('/', function (req, res) &#123; res.send('Got a POST request')&#125; ç›¸åº”PUTæ–¹æ³•çš„è¯·æ±‚, åŒ¹é…/user è·¯ç”± 123app.put('/user', function(req, res)&#123; res.send('Got a PUT request a /user')&#125;) ç›¸åº”DELETEæ–¹æ³•çš„è¯·æ±‚, åŒ¹é…/user è·¯ç”± 123app.delete('/user', function (req, res) &#123; res.send('Got a DELETE request at /user')&#125;) åœ¨expressä¸­çš„é™æ€æ–‡ä»¶é™æ€æ–‡ä»¶, å›¾ç‰‡ css javascriptç­‰, ä½¿ç”¨expresså†…ç½®çš„ä¸­é—´ä»¶express.staticå¤„ç†. é€šè¿‡å‘½åçš„ç›®å½•åŒ…å«è¿™äº›é™æ€èµ„æºæ–‡ä»¶, express.staticä¸­é—´ä»¶å‡½æ•°å¼€å§‹ç›´æ¥ä¸ºè¿™äº›æ–‡ä»¶æä¾›æ”¯æŒ.ä¾‹å¦‚: 1app.user(express.static('public')) ç°åœ¨å¯ä»¥åŠ è½½è¿™äº›æ–‡ä»¶äº† ps:ä½¿ç”¨çš„æ˜¯ç›¸å¯¹è·¯å¾„ 12345http://localhost:3000/images/kitten.jpghttp://localhost:3000/css/style.csshttp://localhost:3000/js/app.jshttp://localhost:3000/images/bg.pnghttp://localhost:3000/hello.html å¦‚æœæœ‰å¤šä¸ªé™æ€èµ„æºç›®å½•, è°ƒç”¨express.staticä¸­é—´ä»¶å¤šæ¬¡å³å¯ 12app.use(express.static('public'))app.use(express.static('files')) expressä¼šæŒ‰é¡ºåºè®¾ç½®è¿™äº›é™æ€æ–‡ä»¶ è™šæ‹Ÿå‰ç¼€åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿçš„å‰ç¼€(è¿™ä¸ªå‰ç¼€å¹¶ä¸å­˜åœ¨ä¸æœåŠ¡å™¨çš„æ–‡ä»¶ç³»ç»Ÿä¸­) 1app.use('/static', express.static('public')) ç°åœ¨å¯ä»¥é€šè¿‡è¿™ä¸ªè™šæ‹Ÿçš„å‰ç¼€è®¿é—®åˆ°é™æ€èµ„æºæ–‡ä»¶ 12345http://localhost:3000/static/images/kitten.jpghttp://localhost:3000/static/css/style.csshttp://localhost:3000/static/js/app.jshttp://localhost:3000/static/images/bg.pnghttp://localhost:3000/static/hello.html å°ç»“express.staticä½¿ç”¨ç›¸å¯¹è·¯å¾„åŠ è½½é™æ€æ–‡ä»¶å½“ä½ åŠ è½½ä½ çš„nodeç¨‹åº, å¦‚æœä½ ä»å…¶ä»–è·¯å¾„è¿è¡Œçš„express åº”ç”¨,ä¸€ä¸ªæ›´å®‰å…¨çš„ç­–ç•¥æ˜¯ä½¿ç”¨ç»å¯¹è·¯å¾„ 1app.use('/static', express.static(path.join(__dirname, 'public')))]]></content>
      <categories>
        <category>Nodejs</category>
      </categories>
      <tags>
        <tag>Nodejs</tag>
        <tag>Express</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[socket.ioå…¥é—¨å®è·µ]]></title>
    <url>%2F2017%2F08%2F09%2Fcl4s3gtgx006own9e7hzfg6kg%2F</url>
    <content type="text"><![CDATA[ç›¸å…³é“¾æ¥ï¼šsocket.ioå®˜ç½‘é›¶åŸºç¡€æ­å»ºç½‘é¡µèŠå¤©å®¤ï¼ˆsocket.ioä½¿ç”¨æ•™ç¨‹ï¼‰ å¼€å§‹ åˆ›å»ºä¸€ä¸ªåŸºç¡€çš„èŠå¤©åº”ç”¨, è¿™ä¸éœ€è¦Node.jså’ŒScocket.ioåŸºç¡€ webæ¡†æ¶ é¦–å…ˆæ˜¯package.jsonæ–‡ä»¶, ç”¨äºé…ç½®ä¾èµ–å¹¶ä¸”å®‰è£…expressæ¡†æ¶ 1cnpm install --save express@4.15.2 12345678&#123; "name": "socket-chat-example", "version": "0.0.1", "description": "my first socket.io app", "dependencies": &#123; "express": "^4.15.2" &#125;&#125; æ–°å»ºä¸€ä¸ªindex.jsæ–‡ä»¶ä½œä¸ºnodeæœåŠ¡å™¨å…¥å£æ–‡ä»¶ 12345678910let app = require('express')()let http = require('http').Server(app)app.get('/', (req, res) =&gt; &#123; res.send(`&lt;h1&gt;Hello World!&lt;/h1&gt;`)&#125;)http.listen(3000, ()=&gt;&#123; console.log('listening on *.3000')&#125;) æ‰§è¡Œå‘½ä»¤, å¼€å¯httpæœåŠ¡, åœ¨æµè§ˆå™¨æ‰“å¼€3000ç«¯å£ 1node index.js æä¾›HTMLç›´æ¥è¿”å›æ ‡ç­¾å®¹æ˜“è®©äººæ··ä¹±, è¿™é‡Œé‡æ„ä»£ç , æ–°å»ºä¸€ä¸ªindex.htmlæ–‡ä»¶ 12345678910111213141516171819202122&lt;!doctype html&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;Socket.IO chat&lt;/title&gt; &lt;style&gt; * &#123; margin: 0; padding: 0; box-sizing: border-box; &#125; body &#123; font: 13px Helvetica, Arial; &#125; form &#123; background: #000; padding: 3px; position: fixed; bottom: 0; width: 100%; &#125; form input &#123; border: 0; padding: 10px; width: 90%; margin-right: .5%; &#125; form button &#123; width: 9%; background: rgb(130, 224, 255); border: none; padding: 10px; &#125; #messages &#123; list-style-type: none; margin: 0; padding: 0; &#125; #messages li &#123; padding: 5px 10px; &#125; #messages li:nth-child(odd) &#123; background: #eee; &#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;ul id="messages"&gt;&lt;/ul&gt; &lt;form action=""&gt; &lt;input id="m" autocomplete="off" /&gt;&lt;button&gt;Send&lt;/button&gt; &lt;/form&gt; &lt;/body&gt;&lt;/html&gt; å¹¶ä¿®æ”¹æœåŠ¡å™¨è·¯ç”±, å‘é€ä¸€ä¸ªhtmlæ–‡ä»¶è€Œä¸æ˜¯æ ‡ç­¾ 123app.get(&apos;/&apos;, (req, res) =&gt; &#123; res.sendFile(__dirname + &apos;/index.html&apos;)&#125;) é‡æ–°è¿è¡Œ æ•´åˆSocket .io æ•´åˆSocket .io åˆ†ä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä¸¤éƒ¨åˆ†,å…¶ä¸­å®¢æˆ·ç«¯ä¸éœ€è¦è€Œå¤–åŠ è½½, åªéœ€è¦ä½œä¸ºå…¨å±€å˜é‡ä½¿ç”¨å³å¯ å®¢æˆ·ç«¯é…ç½®,ä¿®æ”¹index.htmlæ–‡ä»¶, åœ¨å‰åŠ å…¥jsä»£ç  123456 &lt;script src="/socket.io/socket.io.js"&gt;&lt;/script&gt; &lt;script&gt; let socket = io() &lt;/script&gt;&lt;/body&gt; ä¿®æ”¹index.jsæ–‡ä»¶, ç›‘å¬lè¿æ¥ä¸è¿æ¥æ–­å¼€äº‹ä»¶ 123456io.on('connection', (socket)=&gt;&#123; console.log('a user connected') socket.on('disconnect', ()=&gt;&#123; console.log('user disconnect') &#125;)&#125;) åœ¨æ§åˆ¶å°ä¸­å¯ä»¥æŸ¥çœ‹ç”¨æˆ·è¿æ¥äº‹ä»¶ è§¦å‘äº‹ä»¶ socket .ioæœ€ä¸»è¦çš„ä½œç”¨å°±æ˜¯ä½ å¯ä»¥è§¦å‘å’Œç›‘å¬ä»»ä½•ä½ æƒ³è¦çš„äº‹ä»¶ï¼Œä»»ä½•å¯¹è±¡éƒ½å¯ä»¥ç¼–ç æˆjsonï¼Œå¹¶ä¸”äºŒè¿›åˆ¶æ•°æ®ä¹Ÿæ˜¯æ”¯æŒçš„ ä¿®æ”¹index.html å°†è¾“å…¥æ¡†å†…å®¹ï¼Œé€šè¿‡â€˜chat messageâ€™äº‹ä»¶å‘é€ç»™æœåŠ¡å™¨ 123456789101112&lt;script src="/socket.io/socket.io.js"&gt;&lt;/script&gt; &lt;script src="https://code.jquery.com/jquery-1.11.1.js"&gt;&lt;/script&gt; &lt;script&gt; $(function ()&#123; var socket = io() $('form').submit(function()&#123; socket.emit('chat message', $('#m').val()) $('#m'.val('')) return false &#125;) &#125;) &lt;/script&gt; ä¿®æ”¹æœåŠ¡å™¨index.jsæ–‡ä»¶, ç›‘å¬å®¢æˆ·ç«¯çš„å‘é€æ¶ˆæ¯äº‹ä»¶, å¹¶å°†æ¶ˆæ¯æ‰“å°åœ¨æ§åˆ¶å° 123456789io.on('connection', (socket)=&gt;&#123; console.log('a user connected') socket.on('disconnect', ()=&gt;&#123; console.log('user disconnect') &#125;) socket.on('chat message', (msg)=&gt;&#123; console.log('message: ' + msg) &#125;)&#125;) åœ¨å®¢æˆ·ç«¯è¾“å…¥ä¿¡æ¯, æœåŠ¡å™¨å°±èƒ½ç›‘å¬åˆ°äº† å¹¿æ’­ å¦‚æœå‘æ¯ä¸ªè¿æ¥çš„å®¢æˆ·ç«¯éƒ½å‘é€äº‹ä»¶, å¯ä»¥ä½¿ç”¨io.emit()æ–¹æ³• 1io.emit('some event', &#123; for: 'everyone' &#125;); å¦‚æœæ˜¯æƒ³æŸä¸ªç‰¹å®šçš„sokectè¿æ¥å‘é€äº‹ä»¶,å¯ä»¥ä½¿ç”¨broadcastæ ‡å¿— 123io.on('connection', function(socket)&#123; socket.broadcast.emit('hi');&#125;); è¿™é‡Œå°†äº‹ä»¶å‘é€ç»™æ¯ä¸€ä¸ªè¿æ¥çš„å®¢æˆ·ç«¯, ä¿®æ”¹index.jsæ–‡ä»¶ 12345678910111213io.on('connection', (socket)=&gt;&#123; console.log('a user connected') //ç›‘å¬è¿æ¥æ–­å¼€äº‹ä»¶ socket.on('disconnect', ()=&gt;&#123; console.log('user disconnect') &#125;) //ç›‘å¬å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯äº‹ä»¶ socket.on('chat message', (msg)=&gt;&#123; console.log('message: ' + msg) //å‘æ‰€æœ‰å®¢æˆ·ç«¯å¹¿æ’­äº‹ä»¶ io.emit('chat message', msg) &#125;) &#125;) ä¿®æ”¹index.htmlæ–‡ä»¶, ç›‘å¬äº‹ä»¶, å°†æ¶ˆæ¯åŠ¨æ€æ’å…¥åˆ°uiåˆ—è¡¨ä¸­ 12345678910111213&lt;script&gt; $(function () &#123; var socket = io() $('form').submit(function () &#123; socket.emit('chat message', $('#m').val()) $('#m').val('') return false &#125;) socket.on('chat message', function (msg) &#123; $('#messages').append($('&lt;li&gt;').text(msg)) &#125;) &#125;)&lt;/script&gt; æ‰“å¼€ä¸¤ä¸ªå®¢æˆ·ç«¯, å®ç°äº†ç®€å•çš„èŠå¤©å®¤åŠŸèƒ½ åŠŸèƒ½æ›´å®Œå–„çš„èŠå¤©å®¤åº”ç”¨1$ git clone https://github.com/socketio/chat-example.git]]></content>
      <categories>
        <category>Nodejs</category>
      </categories>
      <tags>
        <tag>node</tag>
        <tag>socket</tag>
        <tag>èŠå¤©å®¤</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»£ç æ•´æ´ä¹‹é“äºŒï¼šæœ‰æ„ä¹‰çš„å‘½å]]></title>
    <url>%2F2017%2F08%2F08%2Fcl4s3gthg007pwn9e32xrar69%2F</url>
    <content type="text"><![CDATA[å‘½åçš„å‡ æ¡ç®€å•è§„åˆ™åå‰¯å…¶å®å˜é‡ã€å‡½æ•°å’Œç±»çš„åç§°åº”è¯¥å·²ç»ç­”å¤äº†æ‰€æœ‰çš„å¤§é—®é¢˜ã€‚å®ƒåº”è¯¥å‘Šè¯‰ä½ ï¼Œå®ƒä¸ºä»€ä¹ˆä¼šå­˜åœ¨ï¼Œå®ƒåšä»€ä¹ˆäº‹ï¼Œåº”è¯¥æ€ä¹ˆç”¨ã€‚å¦‚æœåç§°éœ€è¦æ³¨é‡Šæ¥è¡¥å……ï¼Œé‚£å°±ä¸ç®—æ˜¯åå‰¯å…¶å®ã€‚ è™½ç„¶ä¸€äº›ä»£ç æ²¡æœ‰å¤æ‚çš„è¡¨è¾¾å¼ï¼Œé—®é¢˜ä¸åœ¨äºä»£ç çš„ç®€æ´åº¦ï¼Œè€Œåœ¨äºä»£ç çš„æ¨¡ç³Šåº¦ï¼šå³ä¸Šä¸‹æ–‡åœ¨ä»£ç ä¸­æœªè¢«æ˜ç¡®çš„ä½“ç°çš„ç¨‹åº¦ã€‚æ‰€ä»¥ç®€ä»‹çš„ä»£ç éœ€è¦äº†è§£ä¾‹å¦‚æ•°ç»„ä¸‹æ ‡çš„æ„ä¹‰ï¼Œä¸€äº›å€¼å’Œå˜é‡çš„æ„ä¹‰ï¼Œè¿™æ˜¯ä»€ä¹ˆç±»å‹ï¼Œè¿”å›ä¼šè¿”å›è¿™æ•°æ®ç±»å‹çš„å€¼ç­‰ ä¼˜åŒ–æ–¹æ¡ˆï¼š æ¯”å¦‚ï¼Œæˆ‘ä»¬åœ¨å¼€å‘ä¸€ç§æ‰«é›·æ¸¸æˆï¼Œæˆ‘ä»¬å‘ç°ç›˜é¢æ˜¯åä¸ºtheListçš„å•å…ƒæ ¼åˆ—è¡¨ï¼Œé‚£å°±å°†å…¶åç§°æ”¹ä¸ºgameBoardï¼Œ æˆ‘ä»¬è¿˜å‘ç°ï¼Œä¸‹è¡¨å…¶å®æ˜¯ä¸€ç§çŠ¶æ€å€¼ï¼Œè€ŒçŠ¶æ€å€¼ä¸º4æ ‡è¯†â€œå·²æ ‡è®°â€ã€‚åªè¦æ”¹ä¸ºç”±æ„ä¹‰çš„åç§°ï¼Œä»£ç å°±ä¼šå¾—åˆ°ç›¸å½“ç¨‹åº¦çš„æ”¹è¿› æ›´è¿›ä¸€æ­¥ï¼Œä¸ç”¨ä¸ªintæ•°ç»„æ ‡è¯†å•å…ƒæ ¼ï¼Œè€Œæ˜¯å¦å¤–å†™ä¸€ä¸ªç±»ã€‚è¯¥ç±»åŒ…æ‹¬ä¸€ä¸ªåå‰¯å…¶å®çš„å‡½æ•°ï¼ˆæˆä¸ºisFlaggedï¼‰ï¼Œä»è€Œæ©ç›–é‚£ä¸ªé­”æœ¯æ•° é¿å…è¯¯å¯¼ ä¸€äº›ä¸“æœ‰åè¯ä¸åº”è¯¥ç”¨ä½œå˜é‡åï¼Œå¦‚ â€œhpâ€ï¼Œâ€œaixâ€ï¼Œâ€œscoâ€ç­‰ï¼›é¿å…ä½¿ç”¨åœ¨ä¸åŒçš„åœ°æ–¹ä½†æ˜¯åŒºåˆ«è¾ƒå°çš„åç§°ï¼Œæƒ³åŒºåˆ†æ¨¡å—æŸå¤„çš„XYZControllerForEffcientHandilingOfStringså’Œå¦ä¸€å¤„çš„XYZControllerForEfficienStoorageOfStringsï¼Œä¼šè¯å¾ˆé•¿æ—¶é—´ã€‚ ä»¥åŒæ ·çš„æ–¹å¼æ‹¼å†™å‡ºç›¸åŒæ¦‚å¿µæ‰æ˜¯ä¿¡æ¯ï¼Œæ‹¼å†™å‰åä¸ä¸€è‡´å°±æ˜¯è¯¯å¯¼ã€‚æç«¯çš„ä¾‹å­ï¼Œ ä½¿ç”¨æ¶ˆæ¯å­—ç¬¦lå’Œå¤§å†™å­—æ¯Oä½œä¸ºå˜é‡åã€‚ åšæœ‰æ„ä¹‰çš„åŒºåˆ† ä¸è¦ä¸ºäº†æ»¡è¶³ç¼–è¯‘å™¨è€Œå†™ä»£ç ï¼Œå…‰æ˜¯æ·»åŠ æ•°å­—æˆ–æ˜¯åºŸè¯æ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œå³ä¾¿è¿™è¶³ä»¥è®©ç¼–è¯‘å™¨æ»¡æ„ã€‚å¦‚æœåç§°å¿…é¡»ç›¸å¼‚ï¼Œé‚£å…¶æ„æ€ä¹Ÿåº”è¯¥ä¸åŒæ‰å¯¹ã€‚ ä»¥æ•°å­—ç³»åˆ—å‘½åï¼ˆa1ã€a2ï¼‰æ˜¯ä¾ä¹‰å‘½åçš„åé¢ï¼Œå®¹æ˜“è¯¯å¯¼ï¼Œå®Œå…¨æ²¡æœ‰æä¾›æ­£ç¡®ä¿¡æ¯ã€‚ å˜é‡åæ— æ„ä¹‰çš„åºŸè¯æ˜¯ä¸å¿…è¦çš„ï¼Œä¹Ÿæ— åŠ©äºåŒºåˆ†ã€‚å‡å¦‚ä½ æœ‰ä¸€ä¸ªProductç±»ï¼Œè¿˜æœ‰ä¸€ä¸ªProductInfoæˆ–è€…æ˜¯ProductDataç±»ï¼Œè™½ç„¶åç§°ä¸åŒï¼Œä½†å´æ— åŒºåˆ«ã€‚ ä½¿ç”¨è¯»å¾—å‡ºæ¥çš„åç§° å‘½åçš„å˜é‡åº”è¯¥å…·æœ‰è‰¯å¥½çš„å¯è¯»æ€§ ä½¿ç”¨å¯æœç´¢çš„åç§° æŸ¥æ‰¾MAX_CLASSES_FER_STUDENTå¾ˆå®¹æ˜“ï¼Œè€ŒæŸ¥æ‰¾eå¾ˆå›°éš¾ã€‚å•å­—æ¯åç§°ä»…ç”¨äºçŸ­æ–¹æ³•ä¸­çš„æœ¬åœ°å˜é‡ã€‚åç§°çš„é•¿çŸ­åº”ä¸å…¶ä½œç”¨åŸŸå¤§å°ç›¸å¯¹åº”ã€‚è‹¥å¸¸é‡æˆ–è€…å˜é‡å¯èƒ½åœ¨å¤šå¤„ä½¿ç”¨ï¼Œåˆ™åº”èµ‹äºˆå…¶ä¾¿äºæœç´¢çš„åç§°ã€‚ é¿å…ä½¿ç”¨ç¼–ç  æŠŠç±»å‹æˆ–è€…ä½œç”¨åŸŸç¼–è¿›åç§°é‡Œï¼Œçªç„¶å¢åŠ äº†äº†è§£ç çš„è´Ÿæ‹…ã€‚æ²¡æœ‰ç†ç”±è¦æ±‚æ¯ä½æ–°äººéƒ½åœ¨å¼„æ¸…åº”ä»˜çš„ä»£ç ä¹‹å¤–ï¼Œè¿˜è¦å†ææ‡‚å¦ä¸€ç§ç¼–ç â€œè¯­è¨€â€ æˆå‘˜å‰ç¼€ ä¹Ÿä¸å¿…ä½¿m_ å‰ç¼€æ¥è¡¨æ˜æˆå‘˜å˜é‡ã€‚åº”å½“æŠŠç±»å’Œå‡½æ•°åšå¾—è¶³å¤Ÿå°ï¼Œæ¶ˆé™¤å¯¹æˆå‘˜å‰ç¼€çš„éœ€æ±‚ã€‚ ç±»ååŠæ–¹æ³•å ç±»åå¯¹è±¡åº”è¯¥æ˜¯åå­—æˆ–åè¯çŸ­è¯­ï¼Œå¦‚Customerã€WikiPageã€Accountç­‰ï¼Œå¹¶ä¸”ç±»åä¸åº”è¯¥æ˜¯åŠ¨è¯ã€‚ æ–¹æ³•ååº”å½“æ˜¯åŠ¨è¯æˆ–åŠ¨è¯çŸ­è¯­ï¼Œå¦‚postPaymentã€deletePageæˆ–saveç­‰ã€‚å±æ€§è®¿é—®å™¨ã€ä¿®æ”¹å™¨å’Œåˆ¤æ–­åº”è¯¥æ ¹æ®å…¶å€¼å‘½åï¼Œå¹¶ä¾æ®==Javabeanæ ‡å‡†åŠ ä¸Šgetã€setæˆ–iså‰ç¼€==ã€‚ åˆ«æ‰®å¯çˆ± å¦‚æœåç§°å¤ªè€å®ï¼Œé‚£å°±åªæœ‰åŒä½œè€…ä¸€èˆ¬æœ‰å¹½é»˜æ„Ÿçš„äººæ‰èƒ½è®°ä½ã€‚ æ¯ä¸ªæ¦‚å¿µå¯¹åº”ä¸€ä¸ªè¯ ç»™æ¯ä¸ªæŠ½è±¡æ¦‚å¿µé€‰ä¸€ä¸ªè¯ï¼Œé¿å…åœ¨å¤šä¸ªç±»ä¸­ä½¿ç”¨ç›¸åŒåç§°çš„æ–¹æ³•åï¼Œè¿™ä¸ä¾¿äºåŒºåˆ†æ–¹æ³•æ‰€å±çš„ç±»ã€‚ åˆ«ç”¨åŒå…³è¯­ é¿å…å°†åŒä¸€ä¸ªå•è¯ç”¨äºä¸åŒç›®çš„ã€‚åŒä¸€æœ¯è¯­ç”¨äºä¸åŒæ¦‚å¿µï¼ŒåŸºæœ¬å°±æ˜¯åŒå…³äº†ã€‚ ä½¿ç”¨è§£å†³æ–¹æ¡ˆé¢†åŸŸåç§° åªæœ‰ç¨‹åºå‘˜æ‰ä¼šè¯»ä½ çš„ä»£ç ï¼Œæ‰€ä»¥ï¼Œå°½é‡ä½¿ç”¨è®¡ç®—æœºç§‘å­¦æœ¯è¯­ã€ç®—æ³•åã€æ¨¡å¼åã€æ•°å­¦åã€‚ æ·»åŠ æœ‰æ„ä¹‰çš„è¯­å¢ƒä¸æ·»åŠ æ— æ„ä¹‰çš„è¯­å¢ƒå°ç»“ å¤šæ•°æ—¶å€™æˆ‘ä»¬å¹¶ä¸è®°å¿†ç±»åå’Œæ–¹æ³•åï¼Œæˆ‘ä»¬ä½¿ç”¨ç°ä»£å·¥å…·å¯¹ä»˜è¿™äº›ç»†èŠ‚ï¼Œå¥½è®©è‡ªå·±é›†ä¸­ç²¾åŠ›æŠŠä»£ç å†™å¾—æ›´å¥½ã€‚ å¯ä»¥è¯•è¯•ä»¥ä¸Šçš„è§„åˆ™ï¼Œçœ‹çœ‹ä»£ç å¯è¯»æ€§æ˜¯å¦è¿˜å¯ä»¥æé«˜]]></content>
      <categories>
        <category>ä»£ç æ•´æ´ä¹‹é“</category>
      </categories>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
        <tag>ä»£ç æ•´æ´</tag>
        <tag>æé«˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»£ç æ•´æ´ä¹‹é“ä¸€:ä»£ç æ•´æ´]]></title>
    <url>%2F2017%2F08%2F08%2Fcl4s3gthf007nwn9eqskjoqq3%2F</url>
    <content type="text"><![CDATA[ä»£ç æ•´æ´è¿™æ˜¯æœ¬æœ‰å…³ç¼–å†™å¥½ç¨‹åºçš„ä¹¦ï¼Œå®ƒå……æ–¥ç€ä»£ç ã€‚æˆ‘ä»¬éœ€è¦ä»å„ä¸ªæ–¹é¢æ¥è€ƒå¯Ÿè¿™äº›ä»£ç ã€‚ä»é¡¶å‘ä¸‹ï¼Œä»é‡Œè€Œå¤–ã€‚è¯»å®Œä¹‹åå°±çŸ¥é“è®¸å¤šå…³äºä»£ç çš„äº‹äº†ã€‚ è€Œä¸”ï¼Œæˆ‘ä»¬è¿˜èƒ½è¯´å‡ºå¥½ä»£ç å’Œç³Ÿç³•ä»£ç ä¹‹é—´çš„å·®å¼‚ã€‚æˆ‘ä»¬å°†çŸ¥é“å¦‚ä½•å†™å‡ºå¥½ä»£ç ï¼Œæˆ‘ä»¬ä¹Ÿä¼šçŸ¥é“ï¼Œå¦‚ä½•å°†ç³Ÿç³•ä»£ç æ”¹æˆå¥½ä»£ç ã€‚ è¦æœ‰ä»£ç æœ‰ä¸€ç§è§‚ç‚¹ï¼Œ éšç€è‡ªåŠ¨åŒ–å‘å±•ï¼Œäººå·¥æ™ºèƒ½æŠ€æœ¯çš„è¿›æ­¥ï¼Œ ä»£ç æ˜¯å¯ä»¥è‡ªåŠ¨ç”Ÿæˆï¼Œè€Œä¸å†éœ€è¦äººå·¥ç¼–å†™ã€‚ è€Œé—®é¢˜åœ¨äºï¼Œä»£ç å‘ˆç°äº†éœ€æ±‚çš„ç»†èŠ‚ï¼Œåœ¨æŸäº›å±‚é¢ä¸Šï¼Œè¿™äº›ç»†èŠ‚æ— æ³•è¢«å¿½ç•¥å’ŒæŠ½è±¡ï¼Œå¹¶ä¸”å°†éœ€æ±‚æ˜ç¡®åˆ°æœºå™¨å¯ä»¥æ‰§è¡Œçš„ç»†èŠ‚ç¨‹åº¦ï¼Œè¿™å°±æ˜¯ç¼–ç¨‹æ‰€åšçš„å·¥ä½œã€‚ å³ä½¿æ˜¯äººç±»ï¼Œä¹Ÿé€ ä¸å‡ºæ»¡è¶³å®¢æˆ·æ¨¡ç³Šæ„Ÿè§‰çš„æˆåŠŸç³»ç»Ÿã€‚æˆ‘ä»¬æ°¸è¿œæ— æ³•æŠ›å¼ƒå¿…è¦çš„ç²¾ç¡®æ€§â€“æ‰€ä»¥ä»£ç æ°¸å­˜ã€‚ ç³Ÿç³•çš„ä»£ç åŠæ··ä¹±çš„ä»£ä»·éšç€æ··ä¹±çš„å¢åŠ ï¼Œå›¢é˜Ÿç”Ÿäº§åŠ›ä¹ŸæŒç»­ä¸‹é™ï¼Œè¶‹å‘äºé›¶ã€‚å½“ç”Ÿäº§åŠ›ä¸‹é™çš„æ—¶ï¼Œç®¡ç†å±‚åªèƒ½å¢åŠ æ›´å¤šçš„äººæ‰‹åˆ°é¡¹ç›®ä¸­ï¼ŒæœŸæœ›æé«˜ç”Ÿäº§åŠ›ï¼Œå¯æ˜¯æ–°äººå¹¶ä¸ç†Ÿæ‚‰ç³»ç»Ÿçš„è®¾è®¡ï¼Œä¹Ÿæä¸æ¸…æ¥šä»€ä¹ˆæ ·çš„ä¿®æ”¹æ›´ç¬¦åˆè®¾è®¡çš„æ„å›¾ï¼Œä»€ä¹ˆæ ·çš„ä¿®æ”¹è¿èƒŒè®¾è®¡æ„å›¾ã€‚äºæ˜¯åˆ¶é€ äº†æ›´å¤šçš„æ··ä¹±ã€‚ ä½œä¸ºç¨‹åºå‘˜åº”æœ‰æ€åº¦å¾ˆå¤šæ—¶å€™è®²é—®é¢˜å½’å’äºç»ç†ï¼Œ å®¢æˆ·ï¼Œå…¶å®ä»–ä»¬æœŸæœ›ä»æˆ‘ä»¬è¿™é‡Œå¾—åˆ°å¿…è¦çš„ä¿¡æ¯ï¼Œç„¶åæ‰èƒ½åšå‡ºç¨‹åº¦å’Œä¿è¯ï¼Œå³ä¾¿ä»–ä»¬æ²¡æœ‰å¼€å£é—®ï¼Œæˆ‘ä»¬ä¹Ÿä¸åº”è¯¥ç¾äºå‘ŠçŸ¥è‡ªå·±çš„æƒ³æ³•ã€‚å¯¹äºé¡¹ç›®çš„è§„åˆ’æˆ‘ä»¬è„±ä¸äº†å¹²ç³»ï¼Œå¹¶å¯¹å¤±è´¥è´Ÿæœ‰è´£ä»»ï¼Œç‰¹åˆ«æ˜¯å½“å¤±è´¥ä¸ç³Ÿç³•çš„ä»£ç æœ‰å…³æ—¶ï¼ å¦ä¸€æ–¹é¢ï¼Œç¨‹åºå‘˜éµä»ä¸äº†è§£æ··ä¹±é£é™©çš„ç»ç†çš„æ„æ„¿ï¼Œä¹Ÿæ˜¯ä¸ä¸“ä¸šçš„åšæ³•ã€‚ è¿˜éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œåˆ¶é€ æ··ä¹±æ— åŠ©äºèµ¶ä¸Šå·¥æœŸï¼Œæ··ä¹±åªä¼šæ‹–æ…¢ä½ ï¼Œå«ä½ é”™è¿‡æœŸé™ã€‚èµ¶ä¸ŠæœŸé™çš„å”¯ä¸€æ–¹æ³•â€“åšå¾—æ›´å¿«çš„æ–¹æ³•â€“å°±æ˜¯å§‹ç»ˆæå¯èƒ½çš„ä¿æŒä»£ç çš„æ•´æ´ã€‚ ä»£ç æ•´æ´çš„è‰ºæœ¯å†™æ•´æ´ä»£ç ï¼Œéœ€è¦éµå¾ªå¤§é‡çš„å°æŠ€å·§ï¼Œè´¯å½»åˆ»è‹¦ä¹ å¾—çš„â€œæ•´æ´æ„Ÿâ€ã€‚è¿™ç§â€œä»£ç æ„Ÿâ€å°±æ˜¯å…³é”®æ‰€åœ¨ã€‚ç®€è€Œè¨€ä¹‹ï¼Œ==ç¼–å†™æ•´æ´ä»£ç çš„ç¨‹åºå‘˜å°±åƒæ˜¯è‰ºæœ¯å®¶ï¼Œä»–èƒ½ç”¨ä¸€ç³»åˆ—å˜æ¢æŠŠä¸€å—ç™½æ¿å˜ä½œç”±ä¼˜é›…ä»£ç æ„æˆçš„ç³»ç»Ÿ==ã€‚ ä»€ä¹ˆæ˜¯æ•´æ´ä»£ç  æˆ‘å–œæ¬¢ä¼˜é›…å’Œæç¬‘çš„ä»£ç ï¼Œä»£ç é€»è¾‘åº”å½“ç›´æˆªäº†å½“ï¼Œå«ç¼ºé™·éš¾ä»¥éšè”½ï¼Œå°½é‡å‡å°‘ä¾èµ–å…³ç³»ï¼Œä½¿ä¹‹ä¾¿äºç»´æŠ¤ï¼›ä¾æ®æŸç§åˆ†å±‚æˆ˜ç•¥å®Œå–„é”™è¯¯å¤„ç†ä»£ç ï¼›æ€§èƒ½è°ƒè‡³æœ€ä¼˜ï¼Œçœçš„å¼•è¯±åˆ«äººåšæ²¡è§„çŸ©çš„ä¼˜åŒ–ï¼Œæå‡ºä¸€å †æ··ä¹±æ¥ï¼Œæ•´æ´ä»£ç åªåšå¥½ä¸€ä»¶äº‹æƒ…ã€‚Bjarne Stroustrup C++è¯­è¨€å‘æ˜è€… ä¼˜é›…çš„å®šä¹‰ï¼šå¤–è¡¨æˆ–ä¸¾æ­¢ä»¤äººæ„‰æ‚¦çš„ä¼˜ç¾å’Œé›…è§‚ï¼›ä»¤äººæ„‰æ‚¦çš„ç²¾è‡´å’Œç®€å•ã€‚ ç ´çª—ç†è®ºï¼šçª—æˆ·ç ´æŸçš„å»ºç­‘è®©äººè§‰å¾—ä¼¼ä¹æ— äººç…§ç®¡ï¼Œäºæ˜¯åˆ«äººä¹Ÿä¸å†å…³å¿ƒï¼Œæ”¾ä»»çª—æˆ·ç»§ç»­ç ´æŸã€‚æœ€ç»ˆè‡ªå·±ä¹Ÿå‚ä¸ç ´åæ´»åŠ¨ï¼Œåœ¨å¤–å¢™ä¸Šæ¶‚é¸¦ï¼Œä»»åƒåœ¾å †ç§¯ï¼Œä¸€æ‰‡ç ´æŸçš„çª—æˆ·å¼€è¾Ÿäº†å¤§å¦èµ°å‘å€¾é¢“çš„é“è·¯ã€‚ æ•´æ´çš„ä»£ç åŠ›æ±‚é›†ä¸­ï¼Œæ¯ä¸ªå‡½æ•°ã€æ¯éš”ç±»å’Œæ¯ä¸ªæ¨¡å—éƒ½å…¨ç¥è´¯æ³¨äºä¸€äº‹ï¼Œå®Œå…¨ä¸å—å››å‘¨ç»†èŠ‚çš„å¹²æ‰°å’Œæ±¡æŸ“ã€‚ æ•´æ´çš„ä»£ç ç®€å•ç›´æ¥ï¼Œæ•´æ´ä»£ç å¦‚åŒä¼˜é›…çš„æ•£æ–‡ï¼Œæ•´æ´çš„ä»£ç ä»ä¸éšè—è®¾è®¡è€… çš„æ„å›¾ï¼Œå……æ»¡å¹²å‡€åˆ©è½çš„æŠ½è±¡å’Œç›´æˆªäº†å½“çš„æ§åˆ¶è¯­å¥ã€‚Grady Booch ã€Šé¢å‘å¯¹è±¡åˆ†æä¸è®¾è®¡ã€‹ä½œè€… ç®€å•ä»£ç ï¼Œä»¥å…¶é‡è¦é¡ºåºï¼š èƒ½é€šè¿‡æ‰€æœ‰æµ‹è¯• æ²¡æœ‰é‡å¤ä»£ç  ä½“ç°ç³»ç»Ÿä¸­å…¨éƒ¨çš„è®¾è®¡ç†å¿µ åŒ…æ‹¬å°½é‡å°‘çš„å®ä½“ï¼Œæ¯”å¦‚ç±»ï¼Œæ–¹æ³•ï¼Œå‡½æ•°ç­‰åœ¨ä»¥ä¸Šè¯¸é¡¹ä¸­ï¼Œæˆ‘æœ€åœ¨æ„ä»£ç é‡å¤ï¼Œå¦‚æœåŒä¸€æ®µä»£ç åå¤å‡ºç°ï¼Œå°±è¡¨ç¤ºæŸç§æƒ³æ³•æœªåœ¨ä»£ç ä¸­å¾—åˆ°è‰¯å¥½è¡¨ç°ï¼Œæˆ‘å°½åŠ›å»æ‰¾å‡ºåˆ°åº•é‚£æ˜¯ä»€ä¹ˆï¼Œç„¶åå†å°½åŠ›æ¸…æ™°åœ°è¡¨è¾¾å‡ºæ¥ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œæœ‰æ„ä¹‰çš„å‘½åæ˜¯ä½“ç°è¡¨è¾¾åŠ›çš„ä¸€ç§æ–¹å¼ï¼›å¦‚æœå¯¹è±¡åŠŸèƒ½å¤ªå¤šï¼Œæœ€å¥½æ˜¯åˆ‡åˆ†ä¸ºä¸¤ä¸ªæˆ–å¤šä¸ªå¯¹è±¡ï¼›å¦‚æœæ–¹æ³•åŠŸèƒ½å¤ªå¤šï¼Œæˆ‘æ€»æ˜¯ä½¿ç”¨æŠ½è±¡æ‰‹æ®µé‡æ„ä¹‹ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªè¾ƒä¸ºæ¸…æ™°åœ°è¯´æ˜è‡ªèº«åŠŸèƒ½çš„æ–¹æ³•ã€‚ä»¥åŠå¦å¤–æ•°ä¸ªè¯´æ˜å¦‚ä½•å®ç°è¿™äº›åŠŸèƒ½çš„æ–¹æ³•ã€‚è¿™ä¹ˆå¤šå¹´ä¸‹æ¥ï¼Œæˆ‘å‘ç°æ‰€æœ‰çš„ç¨‹åºéƒ½ç”±æä¸ºç›¸ä¼¼çš„å…ƒç´ æ„æˆï¼Œä¾‹å¦‚â€œåœ¨é›†ä¸­ä¸­æŸ¥æ‰¾æŸå…ƒç´ â€ï¼Œä¸ç®¡æ˜¯å‘˜å·¥è®°å½•æ•°æ®åº“ï¼Œè¿˜æ˜¯å“ˆå¸Œè¡¨ï¼Œæˆ–è€…æ˜¯æ•°ç»„ã€‚æˆ‘ä»¬éƒ½ä¼šå‘ç°è‡ªå·±æƒ³è¦ä»é›†åˆä¸­æŸ¥æ‰¾æŸä¸€ç‰¹å®šæ¡ç›®ï¼Œä¸€æ—¦å‡ºç°è¿™ç§æƒ…å†µï¼Œæˆ‘é€šå¸¸ä¼šæŠŠå®ç°æ‰‹æ®µå°è£…åˆ°æ›´æŠ½è±¡çš„æ–¹æ³•æˆ–è€…ç±»ä¸­Ron Jeffries ã€ŠC#æé™ç¼–ç¨‹æ¢é™©ã€‹ä½œè€… å°ç»“è‰ºæœ¯ä¹¦å¹¶ä¸ä¿è¯ä½ è¯»è¿‡ä¹‹åèƒ½æˆä¸ºè‰ºæœ¯å®¶ï¼Œåªèƒ½å‘Šè¯‰ä½ å…¶ä»–è‰ºæœ¯å®¶ç”¨è¿‡çš„å·¥å…·ã€æŠ€æœ¯å’Œæ€ç»´è¿‡ç¨‹ã€‚æœ¬ä¹¦åŒæ ·ä¹Ÿä¸æ‹…ä¿ä½ æˆä¸ºå¥½ç¨‹åºå‘˜ã€‚å®ƒä¸æ‹…ä¿èƒ½ç»™ä½ â€œä»£ç æ„Ÿè§‰â€ã€‚å®ƒèƒ½åšçš„ï¼Œåªæ˜¯å±•ç¤ºå¥½ç¨‹åºå‘˜çš„æ€ç»´è¿‡ç¨‹ï¼Œè¿˜æœ‰ä»–ä»¬ä½¿ç”¨çš„æŠ€å·§ã€æŠ€æœ¯ã€å·¥å…·ã€‚ å’Œè‰ºæœ¯ä¹¦ä¸€æ ·ï¼Œæœ¬ä¹¦ä¹Ÿå……æ»¡ç»†èŠ‚ã€‚ä»£ç ä¼šå¾ˆå¤šï¼Œä½ ä¼šçœ‹åˆ°å¥½ä»£ç ï¼Œä¹Ÿä¼šçœ‹åˆ°ç³Ÿç³•çš„ä»£ç ã€‚ä½ ä¼šçœ‹åˆ°ç³Ÿç³•çš„ä»£ç å¦‚ä½•è£…æ¢æˆå¥½ä»£ç ã€‚ä½ ä¼šçœ‹åˆ°å¯å‘ã€è§„åˆ™å’ŒæŠ€å·§çš„åˆ—è¡¨ã€‚ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªåˆä¸€ä¸ªä¾‹å­ã€‚ä½†è¿™å§‹ç»ˆå–å†³äºä½ ã€‚]]></content>
      <categories>
        <category>ä»£ç æ•´æ´ä¹‹é“</category>
      </categories>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
        <tag>ä»£ç æ•´æ´</tag>
        <tag>æé«˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MongoDBåŠRoboå·¥å…·å®‰è£…]]></title>
    <url>%2F2017%2F08%2F05%2Fcl4s3gtfa003qwn9ekxmzq151%2F</url>
    <content type="text"><![CDATA[å‚è€ƒèµ„æº: Install MongoDB Community Edition with Homebrew mongodbå®‰è£…ï¼šå®‰è£… mongodb 1$ brew install mongodb å®‰è£… TLS/SSL Support 1$ brew install mongodb --with-openssl å®‰è£… Release of MongoDB æœ€æ–°å¼€å‘ç‰ˆï¼Œä¸æ˜¯å¿…é¡» 1$ brew install mongodb â€”devel æ–°å»ºç›®å½•æ•°æ®åº“ 1$ mkdir -p /data/db ç›®å½•æƒé™ä¸è¶³æ—¶ xxxæ˜¯ç”¨æˆ·åluoyec 1$ sudo chown xxx /data/db å¯åŠ¨mongoldb æœåŠ¡ 1$ mongod å¯åŠ¨query database æ–°å»ºç»ˆç«¯. å¯ä»¥å¼€å§‹å„ç§æ•°æ®åº“æŒ‡ä»¤ 1$ mongo å‘½ä»¤ï¼š 123$ show dab //æ˜¾ç¤ºå·²ç»å­˜åœ¨çš„æ•°æ®åº“ $ use somedbname //åˆ›å»ºï¼ˆä½¿ç”¨ï¼‰æŸä¸ªæ•°æ®åº“ $ exit //é€€å‡º æŠŠmongodb/binåŠ å…¥$PATH 12$ export MONGO_PATH=/usr/local/mongodb $ export PATH=$PATH:$MONGO_PATH/bin å®‰è£…Roboå¯è§†åŒ–å·¥å…·ç›´æ¥å®˜ç½‘ä¸‹è½½å®‰è£…å³å¯ ä½¿ç”¨æ–¹æ³•æ–°å»º /data/db ç›®å½• ï¼Œ ç”¨äºå­˜æ”¾å„ä¸ªæ•°æ®åº“1$ mkdir -p /data/db å¯åŠ¨æœåŠ¡1$ mongod å¯åŠ¨å‘½ä»¤è¡Œå·¥å…·ï¼Œå¦èµ·ä¸€ä¸ªç»ˆç«¯1$ mongo ç”¨å¯è§†åŒ–å·¥å…·è¿æ¥æ•°æ®åº“]]></content>
      <categories>
        <category>Nodejs</category>
      </categories>
      <tags>
        <tag>mongodb</tag>
        <tag>robo</tag>
        <tag>å·¥å…·ä½¿ç”¨</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F404.html</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title><![CDATA[Search]]></title>
    <url>%2FSearch%2Findex.html</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[about]]></title>
    <url>%2Fabout%2Findex.html</url>
    <content type="text"><![CDATA[çƒ­çˆ±å‰ç«¯å¼€å‘, æ¬¢è¿çŸ¥è¯†åˆ†äº«!From: ä¸­å›½-å¹¿å· â€œæœ‰æ—¶ä¸‹å¤œç­ï¼Œä»°æœ›æ˜Ÿç©ºï¼Œè§‰å¾—ç¾¤æ˜Ÿå°±åƒå‘å…‰çš„æ²™æ¼ ï¼Œæˆ‘è‡ªå·±å°±æ˜¯ä¸€ä¸ªè¢«ä¸¢å¼ƒåœ¨æ²™æ¼ ä¸Šçš„å¯æ€œçš„å­©å­â€¦â€¦æˆ‘æœ‰é‚£ç§æ„Ÿè§‰ï¼šåœ°çƒç”Ÿå‘½çœŸçš„æ˜¯å®‡å®™ä¸­çš„å¶ç„¶é‡Œçš„å¶ç„¶ï¼Œå®‡å®™æ˜¯ä¸ªç©ºè¡è¡çš„å¤§å®«æ®¿ï¼Œäººç±»æ˜¯è¿™å®«æ®¿ä¸­å”¯ä¸€çš„åªèš‚èšã€‚è¿™æƒ³æ³•è®©æˆ‘çš„ååŠè¾ˆå­æœ‰ä¸€ç§å¾ˆçŸ›ç›¾çš„å¿ƒæ€ï¼šæœ‰æ—¶ è§‰å¾—ç”Ÿå‘½çœŸçè´µï¼Œä¸€åˆ‡éƒ½é‡äºæ³°å±±ï¼›æœ‰æ—¶è§‰å¾—äººæ˜¯é‚£ä¹ˆæ¸ºå°ï¼Œä»€ä¹ˆéƒ½ä¸å€¼å¾—ä¸€æã€‚åæ­£æ—¥å­å°±åœ¨è¿™ç§å¥‡æ€ªçš„æ„Ÿè§‰ä¸­ä¸€å¤©å¤©è¿‡å»ï¼Œä¸çŸ¥ä¸è§‰äººå°±è€äº†â€¦â€¦â€â€”â€”åˆ˜æ…ˆæ¬£ã€Šä¸‰ä½“ã€‹]]></content>
  </entry>
  <entry>
    <title><![CDATA[åˆ†ç±»]]></title>
    <url>%2Fcategories%2Findex.html</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[æ ‡ç­¾]]></title>
    <url>%2Ftags%2Findex.html</url>
    <content type="text"></content>
  </entry>
</search>
